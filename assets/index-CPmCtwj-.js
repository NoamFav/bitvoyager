var Xf=Object.defineProperty;var Jf=(h,C,S)=>C in h?Xf(h,C,{enumerable:!0,configurable:!0,writable:!0,value:S}):h[C]=S;var Le=(h,C,S)=>Jf(h,typeof C!="symbol"?C+"":C,S);(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const N of document.querySelectorAll('link[rel="modulepreload"]'))T(N);new MutationObserver(N=>{for(const B of N)if(B.type==="childList")for(const A of B.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&T(A)}).observe(document,{childList:!0,subtree:!0});function S(N){const B={};return N.integrity&&(B.integrity=N.integrity),N.referrerPolicy&&(B.referrerPolicy=N.referrerPolicy),N.crossOrigin==="use-credentials"?B.credentials="include":N.crossOrigin==="anonymous"?B.credentials="omit":B.credentials="same-origin",B}function T(N){if(N.ep)return;N.ep=!0;const B=S(N);fetch(N.href,B)}})();function vh(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Ra={exports:{}},ts={},Ta={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u;function Zf(){if($u)return be;$u=1;var h=Symbol.for("react.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),A=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),d=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=d&&M[d]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,p={};function n(M,j,X){this.props=M,this.context=j,this.refs=p,this.updater=X||w}n.prototype.isReactComponent={},n.prototype.setState=function(M,j){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,j,"setState")},n.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function l(){}l.prototype=n.prototype;function s(M,j,X){this.props=M,this.context=j,this.refs=p,this.updater=X||w}var a=s.prototype=new l;a.constructor=s,k(a,n.prototype),a.isPureReactComponent=!0;var m=Array.isArray,b=Object.prototype.hasOwnProperty,x={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function v(M,j,X){var ne,ue={},he=null,q=null;if(j!=null)for(ne in j.ref!==void 0&&(q=j.ref),j.key!==void 0&&(he=""+j.key),j)b.call(j,ne)&&!L.hasOwnProperty(ne)&&(ue[ne]=j[ne]);var O=arguments.length-2;if(O===1)ue.children=X;else if(1<O){for(var se=Array(O),ie=0;ie<O;ie++)se[ie]=arguments[ie+2];ue.children=se}if(M&&M.defaultProps)for(ne in O=M.defaultProps,O)ue[ne]===void 0&&(ue[ne]=O[ne]);return{$$typeof:h,type:M,key:he,ref:q,props:ue,_owner:x.current}}function R(M,j){return{$$typeof:h,type:M.type,key:j,ref:M.ref,props:M.props,_owner:M._owner}}function F(M){return typeof M=="object"&&M!==null&&M.$$typeof===h}function U(M){var j={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(X){return j[X]})}var $=/\/+/g;function H(M,j){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):j.toString(36)}function Y(M,j,X,ne,ue){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var q=!1;if(M===null)q=!0;else switch(he){case"string":case"number":q=!0;break;case"object":switch(M.$$typeof){case h:case C:q=!0}}if(q)return q=M,ue=ue(q),M=ne===""?"."+H(q,0):ne,m(ue)?(X="",M!=null&&(X=M.replace($,"$&/")+"/"),Y(ue,j,X,"",function(ie){return ie})):ue!=null&&(F(ue)&&(ue=R(ue,X+(!ue.key||q&&q.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+M)),j.push(ue)),1;if(q=0,ne=ne===""?".":ne+":",m(M))for(var O=0;O<M.length;O++){he=M[O];var se=ne+H(he,O);q+=Y(he,j,X,se,ue)}else if(se=g(M),typeof se=="function")for(M=se.call(M),O=0;!(he=M.next()).done;)he=he.value,se=ne+H(he,O++),q+=Y(he,j,X,se,ue);else if(he==="object")throw j=String(M),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return q}function re(M,j,X){if(M==null)return M;var ne=[],ue=0;return Y(M,ne,"","",function(he){return j.call(X,he,ue++)}),ne}function G(M){if(M._status===-1){var j=M._result;j=j(),j.then(function(X){(M._status===0||M._status===-1)&&(M._status=1,M._result=X)},function(X){(M._status===0||M._status===-1)&&(M._status=2,M._result=X)}),M._status===-1&&(M._status=0,M._result=j)}if(M._status===1)return M._result.default;throw M._result}var Q={current:null},Z={transition:null},D={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:Z,ReactCurrentOwner:x};function I(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:re,forEach:function(M,j,X){re(M,function(){j.apply(this,arguments)},X)},count:function(M){var j=0;return re(M,function(){j++}),j},toArray:function(M){return re(M,function(j){return j})||[]},only:function(M){if(!F(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},be.Component=n,be.Fragment=S,be.Profiler=N,be.PureComponent=s,be.StrictMode=T,be.Suspense=c,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,be.act=I,be.cloneElement=function(M,j,X){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ne=k({},M.props),ue=M.key,he=M.ref,q=M._owner;if(j!=null){if(j.ref!==void 0&&(he=j.ref,q=x.current),j.key!==void 0&&(ue=""+j.key),M.type&&M.type.defaultProps)var O=M.type.defaultProps;for(se in j)b.call(j,se)&&!L.hasOwnProperty(se)&&(ne[se]=j[se]===void 0&&O!==void 0?O[se]:j[se])}var se=arguments.length-2;if(se===1)ne.children=X;else if(1<se){O=Array(se);for(var ie=0;ie<se;ie++)O[ie]=arguments[ie+2];ne.children=O}return{$$typeof:h,type:M.type,key:ue,ref:he,props:ne,_owner:q}},be.createContext=function(M){return M={$$typeof:A,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:B,_context:M},M.Consumer=M},be.createElement=v,be.createFactory=function(M){var j=v.bind(null,M);return j.type=M,j},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:o,render:M}},be.isValidElement=F,be.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:G}},be.memo=function(M,j){return{$$typeof:f,type:M,compare:j===void 0?null:j}},be.startTransition=function(M){var j=Z.transition;Z.transition={};try{M()}finally{Z.transition=j}},be.unstable_act=I,be.useCallback=function(M,j){return Q.current.useCallback(M,j)},be.useContext=function(M){return Q.current.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M){return Q.current.useDeferredValue(M)},be.useEffect=function(M,j){return Q.current.useEffect(M,j)},be.useId=function(){return Q.current.useId()},be.useImperativeHandle=function(M,j,X){return Q.current.useImperativeHandle(M,j,X)},be.useInsertionEffect=function(M,j){return Q.current.useInsertionEffect(M,j)},be.useLayoutEffect=function(M,j){return Q.current.useLayoutEffect(M,j)},be.useMemo=function(M,j){return Q.current.useMemo(M,j)},be.useReducer=function(M,j,X){return Q.current.useReducer(M,j,X)},be.useRef=function(M){return Q.current.useRef(M)},be.useState=function(M){return Q.current.useState(M)},be.useSyncExternalStore=function(M,j,X){return Q.current.useSyncExternalStore(M,j,X)},be.useTransition=function(){return Q.current.useTransition()},be.version="18.3.1",be}var qu;function Ga(){return qu||(qu=1,Ta.exports=Zf()),Ta.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu;function ep(){if(Vu)return ts;Vu=1;var h=Ga(),C=Symbol.for("react.element"),S=Symbol.for("react.fragment"),T=Object.prototype.hasOwnProperty,N=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B={key:!0,ref:!0,__self:!0,__source:!0};function A(o,c,f){var y,d={},g=null,w=null;f!==void 0&&(g=""+f),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(w=c.ref);for(y in c)T.call(c,y)&&!B.hasOwnProperty(y)&&(d[y]=c[y]);if(o&&o.defaultProps)for(y in c=o.defaultProps,c)d[y]===void 0&&(d[y]=c[y]);return{$$typeof:C,type:o,key:g,ref:w,props:d,_owner:N.current}}return ts.Fragment=S,ts.jsx=A,ts.jsxs=A,ts}var Ku;function tp(){return Ku||(Ku=1,Ra.exports=ep()),Ra.exports}var E=tp(),V=Ga();const rp=vh(V);var yn={},Da={exports:{}},ht={},Aa={exports:{}},Pa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu;function ip(){return Yu||(Yu=1,function(h){function C(Z,D){var I=Z.length;Z.push(D);e:for(;0<I;){var M=I-1>>>1,j=Z[M];if(0<N(j,D))Z[M]=D,Z[I]=j,I=M;else break e}}function S(Z){return Z.length===0?null:Z[0]}function T(Z){if(Z.length===0)return null;var D=Z[0],I=Z.pop();if(I!==D){Z[0]=I;e:for(var M=0,j=Z.length,X=j>>>1;M<X;){var ne=2*(M+1)-1,ue=Z[ne],he=ne+1,q=Z[he];if(0>N(ue,I))he<j&&0>N(q,ue)?(Z[M]=q,Z[he]=I,M=he):(Z[M]=ue,Z[ne]=I,M=ne);else if(he<j&&0>N(q,I))Z[M]=q,Z[he]=I,M=he;else break e}}return D}function N(Z,D){var I=Z.sortIndex-D.sortIndex;return I!==0?I:Z.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var B=performance;h.unstable_now=function(){return B.now()}}else{var A=Date,o=A.now();h.unstable_now=function(){return A.now()-o}}var c=[],f=[],y=1,d=null,g=3,w=!1,k=!1,p=!1,n=typeof setTimeout=="function"?setTimeout:null,l=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function a(Z){for(var D=S(f);D!==null;){if(D.callback===null)T(f);else if(D.startTime<=Z)T(f),D.sortIndex=D.expirationTime,C(c,D);else break;D=S(f)}}function m(Z){if(p=!1,a(Z),!k)if(S(c)!==null)k=!0,G(b);else{var D=S(f);D!==null&&Q(m,D.startTime-Z)}}function b(Z,D){k=!1,p&&(p=!1,l(v),v=-1),w=!0;var I=g;try{for(a(D),d=S(c);d!==null&&(!(d.expirationTime>D)||Z&&!U());){var M=d.callback;if(typeof M=="function"){d.callback=null,g=d.priorityLevel;var j=M(d.expirationTime<=D);D=h.unstable_now(),typeof j=="function"?d.callback=j:d===S(c)&&T(c),a(D)}else T(c);d=S(c)}if(d!==null)var X=!0;else{var ne=S(f);ne!==null&&Q(m,ne.startTime-D),X=!1}return X}finally{d=null,g=I,w=!1}}var x=!1,L=null,v=-1,R=5,F=-1;function U(){return!(h.unstable_now()-F<R)}function $(){if(L!==null){var Z=h.unstable_now();F=Z;var D=!0;try{D=L(!0,Z)}finally{D?H():(x=!1,L=null)}}else x=!1}var H;if(typeof s=="function")H=function(){s($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,re=Y.port2;Y.port1.onmessage=$,H=function(){re.postMessage(null)}}else H=function(){n($,0)};function G(Z){L=Z,x||(x=!0,H())}function Q(Z,D){v=n(function(){Z(h.unstable_now())},D)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(Z){Z.callback=null},h.unstable_continueExecution=function(){k||w||(k=!0,G(b))},h.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},h.unstable_getCurrentPriorityLevel=function(){return g},h.unstable_getFirstCallbackNode=function(){return S(c)},h.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var I=g;g=D;try{return Z()}finally{g=I}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(Z,D){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var I=g;g=Z;try{return D()}finally{g=I}},h.unstable_scheduleCallback=function(Z,D,I){var M=h.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?M+I:M):I=M,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=I+j,Z={id:y++,callback:D,priorityLevel:Z,startTime:I,expirationTime:j,sortIndex:-1},I>M?(Z.sortIndex=I,C(f,Z),S(c)===null&&Z===S(f)&&(p?(l(v),v=-1):p=!0,Q(m,I-M))):(Z.sortIndex=j,C(c,Z),k||w||(k=!0,G(b))),Z},h.unstable_shouldYield=U,h.unstable_wrapCallback=function(Z){var D=g;return function(){var I=g;g=D;try{return Z.apply(this,arguments)}finally{g=I}}}}(Pa)),Pa}var Gu;function sp(){return Gu||(Gu=1,Aa.exports=ip()),Aa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu;function np(){if(Qu)return ht;Qu=1;var h=Ga(),C=sp();function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T=new Set,N={};function B(e,t){A(e,t),A(e+"Capture",t)}function A(e,t){for(N[e]=t,e=0;e<t.length;e++)T.add(t[e])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},d={};function g(e){return c.call(d,e)?!0:c.call(y,e)?!1:f.test(e)?d[e]=!0:(y[e]=!0,!1)}function w(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,t,r,i){if(t===null||typeof t>"u"||w(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function p(e,t,r,i,u,_,P){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=_,this.removeEmptyString=P}var n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){n[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];n[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){n[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){n[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){n[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){n[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){n[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){n[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){n[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var l=/[\-:]([a-z])/g;function s(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(l,s);n[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(l,s);n[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(l,s);n[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){n[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),n.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){n[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});function a(e,t,r,i){var u=n.hasOwnProperty(t)?n[t]:null;(u!==null?u.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k(t,r,u,i)&&(r=null),i||u===null?g(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,i=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var m=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),Z=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var I=Object.assign,M;function j(e){if(M===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return`
`+M+e}var X=!1;function ne(e,t){if(!e||X)return"";X=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(te){var i=te}Reflect.construct(e,[],t)}else{try{t.call()}catch(te){i=te}e.call(t.prototype)}else{try{throw Error()}catch(te){i=te}e()}}catch(te){if(te&&i&&typeof te.stack=="string"){for(var u=te.stack.split(`
`),_=i.stack.split(`
`),P=u.length-1,z=_.length-1;1<=P&&0<=z&&u[P]!==_[z];)z--;for(;1<=P&&0<=z;P--,z--)if(u[P]!==_[z]){if(P!==1||z!==1)do if(P--,z--,0>z||u[P]!==_[z]){var W=`
`+u[P].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=P&&0<=z);break}}}finally{X=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?j(e):""}function ue(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case x:return"Portal";case R:return"Profiler";case v:return"StrictMode";case H:return"Suspense";case Y:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(t);case 8:return t===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function O(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=se(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,_=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(P){i=""+P,_.call(this,P)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(P){i=""+P},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fe(e){e._valueTracker||(e._valueTracker=ie(e))}function de(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=se(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function xe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Te(e,t){var r=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ae(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=O(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ye(e,t){t=t.checked,t!=null&&a(e,"checked",t,!1)}function we(e,t){Ye(e,t);var r=O(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xr(e,t.type,r):t.hasOwnProperty("defaultValue")&&xr(e,t.type,O(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xr(e,t,r){(t!=="number"||xe(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ut=Array.isArray;function Nt(e,t,r,i){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&i&&(e[r].defaultSelected=!0)}else{for(r=""+O(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Zt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tt(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(S(92));if(Ut(r)){if(1<r.length)throw Error(S(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:O(r)}}function er(e,t){var r=O(t.value),i=O(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function dt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function br(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ft,kr=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ft.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pe=["Webkit","ms","Moz","O"];Object.keys(kt).forEach(function(e){Pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kt[t]=kt[e]})});function us(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kt.hasOwnProperty(e)&&kt[e]?(""+t).trim():t+"px"}function ol(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,u=us(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,u):e[r]=u}}var td=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(e,t){if(t){if(td[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function Fn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zn=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wn=null,qr=null,Vr=null;function al(e){if(e=Fi(e)){if(typeof Wn!="function")throw Error(S(280));var t=e.stateNode;t&&(t=Ms(t),Wn(e.stateNode,e.type,t))}}function ll(e){qr?Vr?Vr.push(e):Vr=[e]:qr=e}function cl(){if(qr){var e=qr,t=Vr;if(Vr=qr=null,al(e),t)for(e=0;e<t.length;e++)al(t[e])}}function ul(e,t){return e(t)}function hl(){}var $n=!1;function dl(e,t,r){if($n)return e(t,r);$n=!0;try{return ul(e,t,r)}finally{$n=!1,(qr!==null||Vr!==null)&&(hl(),cl())}}function yi(e,t){var r=e.stateNode;if(r===null)return null;var i=Ms(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(S(231,t,typeof r));return r}var qn=!1;if(o)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{qn=!1}function rd(e,t,r,i,u,_,P,z,W){var te=Array.prototype.slice.call(arguments,3);try{t.apply(r,te)}catch(ae){this.onError(ae)}}var wi=!1,hs=null,ds=!1,Vn=null,id={onError:function(e){wi=!0,hs=e}};function sd(e,t,r,i,u,_,P,z,W){wi=!1,hs=null,rd.apply(id,arguments)}function nd(e,t,r,i,u,_,P,z,W){if(sd.apply(this,arguments),wi){if(wi){var te=hs;wi=!1,hs=null}else throw Error(S(198));ds||(ds=!0,Vn=te)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pl(e){if(Er(e)!==e)throw Error(S(188))}function od(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(S(188));return t!==e?null:e}for(var r=e,i=t;;){var u=r.return;if(u===null)break;var _=u.alternate;if(_===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===_.child){for(_=u.child;_;){if(_===r)return pl(u),e;if(_===i)return pl(u),t;_=_.sibling}throw Error(S(188))}if(r.return!==i.return)r=u,i=_;else{for(var P=!1,z=u.child;z;){if(z===r){P=!0,r=u,i=_;break}if(z===i){P=!0,i=u,r=_;break}z=z.sibling}if(!P){for(z=_.child;z;){if(z===r){P=!0,r=_,i=u;break}if(z===i){P=!0,i=_,r=u;break}z=z.sibling}if(!P)throw Error(S(189))}}if(r.alternate!==i)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?e:t}function ml(e){return e=od(e),e!==null?gl(e):null}function gl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gl(e);if(t!==null)return t;e=e.sibling}return null}var _l=C.unstable_scheduleCallback,vl=C.unstable_cancelCallback,ad=C.unstable_shouldYield,ld=C.unstable_requestPaint,Fe=C.unstable_now,cd=C.unstable_getCurrentPriorityLevel,Kn=C.unstable_ImmediatePriority,yl=C.unstable_UserBlockingPriority,fs=C.unstable_NormalPriority,ud=C.unstable_LowPriority,Sl=C.unstable_IdlePriority,ps=null,Ot=null;function hd(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ps,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:pd,dd=Math.log,fd=Math.LN2;function pd(e){return e>>>=0,e===0?32:31-(dd(e)/fd|0)|0}var ms=64,gs=4194304;function Ci(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _s(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,u=e.suspendedLanes,_=e.pingedLanes,P=r&268435455;if(P!==0){var z=P&~u;z!==0?i=Ci(z):(_&=P,_!==0&&(i=Ci(_)))}else P=r&~u,P!==0?i=Ci(P):_!==0&&(i=Ci(_));if(i===0)return 0;if(t!==0&&t!==i&&(t&u)===0&&(u=i&-i,_=t&-t,u>=_||u===16&&(_&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Et(t),u=1<<r,i|=e[r],t&=~u;return i}function md(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gd(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,_=e.pendingLanes;0<_;){var P=31-Et(_),z=1<<P,W=u[P];W===-1?((z&r)===0||(z&i)!==0)&&(u[P]=md(z,t)):W<=t&&(e.expiredLanes|=z),_&=~z}}function Yn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wl(){var e=ms;return ms<<=1,(ms&4194240)===0&&(ms=64),e}function Gn(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=r}function _d(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Et(r),_=1<<u;t[u]=0,i[u]=-1,e[u]=-1,r&=~_}}function Qn(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Et(r),u=1<<i;u&t|e[i]&t&&(e[i]|=t),r&=~u}}var Re=0;function Cl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xl,Xn,bl,kl,El,Jn=!1,vs=[],rr=null,ir=null,sr=null,bi=new Map,ki=new Map,nr=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Ei(e,t,r,i,u,_){return e===null||e.nativeEvent!==_?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:_,targetContainers:[u]},t!==null&&(t=Fi(t),t!==null&&Xn(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function yd(e,t,r,i,u){switch(t){case"focusin":return rr=Ei(rr,e,t,r,i,u),!0;case"dragenter":return ir=Ei(ir,e,t,r,i,u),!0;case"mouseover":return sr=Ei(sr,e,t,r,i,u),!0;case"pointerover":var _=u.pointerId;return bi.set(_,Ei(bi.get(_)||null,e,t,r,i,u)),!0;case"gotpointercapture":return _=u.pointerId,ki.set(_,Ei(ki.get(_)||null,e,t,r,i,u)),!0}return!1}function Rl(e){var t=Lr(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=fl(r),t!==null){e.blockedOn=t,El(e.priority,function(){bl(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);zn=i,r.target.dispatchEvent(i),zn=null}else return t=Fi(r),t!==null&&Xn(t),e.blockedOn=r,!1;t.shift()}return!0}function Tl(e,t,r){ys(e)&&r.delete(t)}function Sd(){Jn=!1,rr!==null&&ys(rr)&&(rr=null),ir!==null&&ys(ir)&&(ir=null),sr!==null&&ys(sr)&&(sr=null),bi.forEach(Tl),ki.forEach(Tl)}function Li(e,t){e.blockedOn===t&&(e.blockedOn=null,Jn||(Jn=!0,C.unstable_scheduleCallback(C.unstable_NormalPriority,Sd)))}function Ri(e){function t(u){return Li(u,e)}if(0<vs.length){Li(vs[0],e);for(var r=1;r<vs.length;r++){var i=vs[r];i.blockedOn===e&&(i.blockedOn=null)}}for(rr!==null&&Li(rr,e),ir!==null&&Li(ir,e),sr!==null&&Li(sr,e),bi.forEach(t),ki.forEach(t),r=0;r<nr.length;r++)i=nr[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)Rl(r),r.blockedOn===null&&nr.shift()}var Kr=m.ReactCurrentBatchConfig,Ss=!0;function wd(e,t,r,i){var u=Re,_=Kr.transition;Kr.transition=null;try{Re=1,Zn(e,t,r,i)}finally{Re=u,Kr.transition=_}}function Cd(e,t,r,i){var u=Re,_=Kr.transition;Kr.transition=null;try{Re=4,Zn(e,t,r,i)}finally{Re=u,Kr.transition=_}}function Zn(e,t,r,i){if(Ss){var u=eo(e,t,r,i);if(u===null)vo(e,t,i,ws,r),Ll(e,i);else if(yd(u,e,t,r,i))i.stopPropagation();else if(Ll(e,i),t&4&&-1<vd.indexOf(e)){for(;u!==null;){var _=Fi(u);if(_!==null&&xl(_),_=eo(e,t,r,i),_===null&&vo(e,t,i,ws,r),_===u)break;u=_}u!==null&&i.stopPropagation()}else vo(e,t,i,null,r)}}var ws=null;function eo(e,t,r,i){if(ws=null,e=Un(i),e=Lr(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fl(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ws=e,null}function Dl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cd()){case Kn:return 1;case yl:return 4;case fs:case ud:return 16;case Sl:return 536870912;default:return 16}default:return 16}}var or=null,to=null,Cs=null;function Al(){if(Cs)return Cs;var e,t=to,r=t.length,i,u="value"in or?or.value:or.textContent,_=u.length;for(e=0;e<r&&t[e]===u[e];e++);var P=r-e;for(i=1;i<=P&&t[r-i]===u[_-i];i++);return Cs=u.slice(e,1<i?1-i:void 0)}function xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function Pl(){return!1}function pt(e){function t(r,i,u,_,P){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(r=e[z],this[z]=r?r(_):_[z]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?bs:Pl,this.isPropagationStopped=Pl,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=pt(Yr),Ti=I({},Yr,{view:0,detail:0}),xd=pt(Ti),io,so,Di,ks=I({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(io=e.screenX-Di.screenX,so=e.screenY-Di.screenY):so=io=0,Di=e),io)},movementY:function(e){return"movementY"in e?e.movementY:so}}),Ml=pt(ks),bd=I({},ks,{dataTransfer:0}),kd=pt(bd),Ed=I({},Ti,{relatedTarget:0}),no=pt(Ed),Ld=I({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rd=pt(Ld),Td=I({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dd=pt(Td),Ad=I({},Yr,{data:0}),Nl=pt(Ad),Pd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Od(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nd[e])?!!t[e]:!1}function oo(){return Od}var Id=I({},Ti,{key:function(e){if(e.key){var t=Pd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Md[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bd=pt(Id),jd=I({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=pt(jd),Hd=I({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),Fd=pt(Hd),zd=I({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ud=pt(zd),Wd=I({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$d=pt(Wd),qd=[9,13,27,32],ao=o&&"CompositionEvent"in window,Ai=null;o&&"documentMode"in document&&(Ai=document.documentMode);var Vd=o&&"TextEvent"in window&&!Ai,Il=o&&(!ao||Ai&&8<Ai&&11>=Ai),Bl=" ",jl=!1;function Hl(e,t){switch(e){case"keyup":return qd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function Kd(e,t){switch(e){case"compositionend":return Fl(t);case"keypress":return t.which!==32?null:(jl=!0,Bl);case"textInput":return e=t.data,e===Bl&&jl?null:e;default:return null}}function Yd(e,t){if(Gr)return e==="compositionend"||!ao&&Hl(e,t)?(e=Al(),Cs=to=or=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Il&&t.locale!=="ko"?null:t.data;default:return null}}var Gd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gd[e.type]:t==="textarea"}function Ul(e,t,r,i){ll(i),t=Ds(t,"onChange"),0<t.length&&(r=new ro("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Pi=null,Mi=null;function Qd(e){oc(e,0)}function Es(e){var t=ei(e);if(de(t))return e}function Xd(e,t){if(e==="change")return t}var Wl=!1;if(o){var lo;if(o){var co="oninput"in document;if(!co){var $l=document.createElement("div");$l.setAttribute("oninput","return;"),co=typeof $l.oninput=="function"}lo=co}else lo=!1;Wl=lo&&(!document.documentMode||9<document.documentMode)}function ql(){Pi&&(Pi.detachEvent("onpropertychange",Vl),Mi=Pi=null)}function Vl(e){if(e.propertyName==="value"&&Es(Mi)){var t=[];Ul(t,Mi,e,Un(e)),dl(Qd,t)}}function Jd(e,t,r){e==="focusin"?(ql(),Pi=t,Mi=r,Pi.attachEvent("onpropertychange",Vl)):e==="focusout"&&ql()}function Zd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(Mi)}function ef(e,t){if(e==="click")return Es(t)}function tf(e,t){if(e==="input"||e==="change")return Es(t)}function rf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:rf;function Ni(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!c.call(t,u)||!Lt(e[u],t[u]))return!1}return!0}function Kl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yl(e,t){var r=Kl(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kl(r)}}function Gl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ql(){for(var e=window,t=xe();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xe(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sf(e){var t=Ql(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Gl(r.ownerDocument.documentElement,r)){if(i!==null&&uo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,_=Math.min(i.start,u);i=i.end===void 0?_:Math.min(i.end,u),!e.extend&&_>i&&(u=i,i=_,_=u),u=Yl(r,_);var P=Yl(r,i);u&&P&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==P.node||e.focusOffset!==P.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),_>i?(e.addRange(t),e.extend(P.node,P.offset)):(t.setEnd(P.node,P.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nf=o&&"documentMode"in document&&11>=document.documentMode,Qr=null,ho=null,Oi=null,fo=!1;function Xl(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fo||Qr==null||Qr!==xe(i)||(i=Qr,"selectionStart"in i&&uo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oi&&Ni(Oi,i)||(Oi=i,i=Ds(ho,"onSelect"),0<i.length&&(t=new ro("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Qr)))}function Ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},po={},Jl={};o&&(Jl=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function Rs(e){if(po[e])return po[e];if(!Xr[e])return e;var t=Xr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Jl)return po[e]=t[r];return e}var Zl=Rs("animationend"),ec=Rs("animationiteration"),tc=Rs("animationstart"),rc=Rs("transitionend"),ic=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){ic.set(e,t),B(t,[e])}for(var mo=0;mo<sc.length;mo++){var go=sc[mo],of=go.toLowerCase(),af=go[0].toUpperCase()+go.slice(1);ar(of,"on"+af)}ar(Zl,"onAnimationEnd"),ar(ec,"onAnimationIteration"),ar(tc,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(rc,"onTransitionEnd"),A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),B("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),B("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),B("onBeforeInput",["compositionend","keypress","textInput","paste"]),B("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),B("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),B("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function nc(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,nd(i,t,void 0,e),e.currentTarget=null}function oc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],u=i.event;i=i.listeners;e:{var _=void 0;if(t)for(var P=i.length-1;0<=P;P--){var z=i[P],W=z.instance,te=z.currentTarget;if(z=z.listener,W!==_&&u.isPropagationStopped())break e;nc(u,z,te),_=W}else for(P=0;P<i.length;P++){if(z=i[P],W=z.instance,te=z.currentTarget,z=z.listener,W!==_&&u.isPropagationStopped())break e;nc(u,z,te),_=W}}}if(ds)throw e=Vn,ds=!1,Vn=null,e}function Me(e,t){var r=t[bo];r===void 0&&(r=t[bo]=new Set);var i=e+"__bubble";r.has(i)||(ac(t,e,2,!1),r.add(i))}function _o(e,t,r){var i=0;t&&(i|=4),ac(r,e,i,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Ts]){e[Ts]=!0,T.forEach(function(r){r!=="selectionchange"&&(lf.has(r)||_o(r,!1,e),_o(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,_o("selectionchange",!1,t))}}function ac(e,t,r,i){switch(Dl(t)){case 1:var u=wd;break;case 4:u=Cd;break;default:u=Zn}r=u.bind(null,t,r,e),u=void 0,!qn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function vo(e,t,r,i,u){var _=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var P=i.tag;if(P===3||P===4){var z=i.stateNode.containerInfo;if(z===u||z.nodeType===8&&z.parentNode===u)break;if(P===4)for(P=i.return;P!==null;){var W=P.tag;if((W===3||W===4)&&(W=P.stateNode.containerInfo,W===u||W.nodeType===8&&W.parentNode===u))return;P=P.return}for(;z!==null;){if(P=Lr(z),P===null)return;if(W=P.tag,W===5||W===6){i=_=P;continue e}z=z.parentNode}}i=i.return}dl(function(){var te=_,ae=Un(r),le=[];e:{var oe=ic.get(e);if(oe!==void 0){var pe=ro,ge=e;switch(e){case"keypress":if(xs(r)===0)break e;case"keydown":case"keyup":pe=Bd;break;case"focusin":ge="focus",pe=no;break;case"focusout":ge="blur",pe=no;break;case"beforeblur":case"afterblur":pe=no;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Fd;break;case Zl:case ec:case tc:pe=Rd;break;case rc:pe=Ud;break;case"scroll":pe=xd;break;case"wheel":pe=$d;break;case"copy":case"cut":case"paste":pe=Dd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Ol}var _e=(t&4)!==0,ze=!_e&&e==="scroll",J=_e?oe!==null?oe+"Capture":null:oe;_e=[];for(var K=te,ee;K!==null;){ee=K;var ce=ee.stateNode;if(ee.tag===5&&ce!==null&&(ee=ce,J!==null&&(ce=yi(K,J),ce!=null&&_e.push(ji(K,ce,ee)))),ze)break;K=K.return}0<_e.length&&(oe=new pe(oe,ge,null,r,ae),le.push({event:oe,listeners:_e}))}}if((t&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",oe&&r!==zn&&(ge=r.relatedTarget||r.fromElement)&&(Lr(ge)||ge[Wt]))break e;if((pe||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,pe?(ge=r.relatedTarget||r.toElement,pe=te,ge=ge?Lr(ge):null,ge!==null&&(ze=Er(ge),ge!==ze||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(pe=null,ge=te),pe!==ge)){if(_e=Ml,ce="onMouseLeave",J="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Ol,ce="onPointerLeave",J="onPointerEnter",K="pointer"),ze=pe==null?oe:ei(pe),ee=ge==null?oe:ei(ge),oe=new _e(ce,K+"leave",pe,r,ae),oe.target=ze,oe.relatedTarget=ee,ce=null,Lr(ae)===te&&(_e=new _e(J,K+"enter",ge,r,ae),_e.target=ee,_e.relatedTarget=ze,ce=_e),ze=ce,pe&&ge)t:{for(_e=pe,J=ge,K=0,ee=_e;ee;ee=Jr(ee))K++;for(ee=0,ce=J;ce;ce=Jr(ce))ee++;for(;0<K-ee;)_e=Jr(_e),K--;for(;0<ee-K;)J=Jr(J),ee--;for(;K--;){if(_e===J||J!==null&&_e===J.alternate)break t;_e=Jr(_e),J=Jr(J)}_e=null}else _e=null;pe!==null&&lc(le,oe,pe,_e,!1),ge!==null&&ze!==null&&lc(le,ze,ge,_e,!0)}}e:{if(oe=te?ei(te):window,pe=oe.nodeName&&oe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&oe.type==="file")var ve=Xd;else if(zl(oe))if(Wl)ve=tf;else{ve=Zd;var ye=Jd}else(pe=oe.nodeName)&&pe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(ve=ef);if(ve&&(ve=ve(e,te))){Ul(le,ve,r,ae);break e}ye&&ye(e,oe,te),e==="focusout"&&(ye=oe._wrapperState)&&ye.controlled&&oe.type==="number"&&xr(oe,"number",oe.value)}switch(ye=te?ei(te):window,e){case"focusin":(zl(ye)||ye.contentEditable==="true")&&(Qr=ye,ho=te,Oi=null);break;case"focusout":Oi=ho=Qr=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,Xl(le,r,ae);break;case"selectionchange":if(nf)break;case"keydown":case"keyup":Xl(le,r,ae)}var Se;if(ao)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Gr?Hl(e,r)&&(Ce="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ce="onCompositionStart");Ce&&(Il&&r.locale!=="ko"&&(Gr||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Gr&&(Se=Al()):(or=ae,to="value"in or?or.value:or.textContent,Gr=!0)),ye=Ds(te,Ce),0<ye.length&&(Ce=new Nl(Ce,e,null,r,ae),le.push({event:Ce,listeners:ye}),Se?Ce.data=Se:(Se=Fl(r),Se!==null&&(Ce.data=Se)))),(Se=Vd?Kd(e,r):Yd(e,r))&&(te=Ds(te,"onBeforeInput"),0<te.length&&(ae=new Nl("onBeforeInput","beforeinput",null,r,ae),le.push({event:ae,listeners:te}),ae.data=Se))}oc(le,t)})}function ji(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ds(e,t){for(var r=t+"Capture",i=[];e!==null;){var u=e,_=u.stateNode;u.tag===5&&_!==null&&(u=_,_=yi(e,r),_!=null&&i.unshift(ji(e,_,u)),_=yi(e,t),_!=null&&i.push(ji(e,_,u))),e=e.return}return i}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lc(e,t,r,i,u){for(var _=t._reactName,P=[];r!==null&&r!==i;){var z=r,W=z.alternate,te=z.stateNode;if(W!==null&&W===i)break;z.tag===5&&te!==null&&(z=te,u?(W=yi(r,_),W!=null&&P.unshift(ji(r,W,z))):u||(W=yi(r,_),W!=null&&P.push(ji(r,W,z)))),r=r.return}P.length!==0&&e.push({event:t,listeners:P})}var cf=/\r\n?/g,uf=/\u0000|\uFFFD/g;function cc(e){return(typeof e=="string"?e:""+e).replace(cf,`
`).replace(uf,"")}function As(e,t,r){if(t=cc(t),cc(e)!==t&&r)throw Error(S(425))}function Ps(){}var yo=null,So=null;function wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Co=typeof setTimeout=="function"?setTimeout:void 0,hf=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,df=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(ff)}:Co;function ff(e){setTimeout(function(){throw e})}function xo(e,t){var r=t,i=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(i===0){e.removeChild(u),Ri(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=u}while(r);Ri(t)}function lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),It="__reactFiber$"+Zr,Hi="__reactProps$"+Zr,Wt="__reactContainer$"+Zr,bo="__reactEvents$"+Zr,pf="__reactListeners$"+Zr,mf="__reactHandles$"+Zr;function Lr(e){var t=e[It];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wt]||r[It]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hc(e);e!==null;){if(r=e[It])return r;e=hc(e)}return t}e=r,r=e.parentNode}return null}function Fi(e){return e=e[It]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function Ms(e){return e[Hi]||null}var ko=[],ti=-1;function cr(e){return{current:e}}function Ne(e){0>ti||(e.current=ko[ti],ko[ti]=null,ti--)}function De(e,t){ti++,ko[ti]=e.current,e.current=t}var ur={},Xe=cr(ur),ot=cr(!1),Rr=ur;function ri(e,t){var r=e.type.contextTypes;if(!r)return ur;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var u={},_;for(_ in r)u[_]=t[_];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function at(e){return e=e.childContextTypes,e!=null}function Ns(){Ne(ot),Ne(Xe)}function dc(e,t,r){if(Xe.current!==ur)throw Error(S(168));De(Xe,t),De(ot,r)}function fc(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var u in i)if(!(u in t))throw Error(S(108,q(e)||"Unknown",u));return I({},r,i)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,Rr=Xe.current,De(Xe,e),De(ot,ot.current),!0}function pc(e,t,r){var i=e.stateNode;if(!i)throw Error(S(169));r?(e=fc(e,t,Rr),i.__reactInternalMemoizedMergedChildContext=e,Ne(ot),Ne(Xe),De(Xe,e)):Ne(ot),De(ot,r)}var $t=null,Is=!1,Eo=!1;function mc(e){$t===null?$t=[e]:$t.push(e)}function gf(e){Is=!0,mc(e)}function hr(){if(!Eo&&$t!==null){Eo=!0;var e=0,t=Re;try{var r=$t;for(Re=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}$t=null,Is=!1}catch(u){throw $t!==null&&($t=$t.slice(e+1)),_l(Kn,hr),u}finally{Re=t,Eo=!1}}return null}var ii=[],si=0,Bs=null,js=0,yt=[],St=0,Tr=null,qt=1,Vt="";function Dr(e,t){ii[si++]=js,ii[si++]=Bs,Bs=e,js=t}function gc(e,t,r){yt[St++]=qt,yt[St++]=Vt,yt[St++]=Tr,Tr=e;var i=qt;e=Vt;var u=32-Et(i)-1;i&=~(1<<u),r+=1;var _=32-Et(t)+u;if(30<_){var P=u-u%5;_=(i&(1<<P)-1).toString(32),i>>=P,u-=P,qt=1<<32-Et(t)+u|r<<u|i,Vt=_+e}else qt=1<<_|r<<u|i,Vt=e}function Lo(e){e.return!==null&&(Dr(e,1),gc(e,1,0))}function Ro(e){for(;e===Bs;)Bs=ii[--si],ii[si]=null,js=ii[--si],ii[si]=null;for(;e===Tr;)Tr=yt[--St],yt[St]=null,Vt=yt[--St],yt[St]=null,qt=yt[--St],yt[St]=null}var mt=null,gt=null,Oe=!1,Rt=null;function _c(e,t){var r=bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,gt=lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Tr!==null?{id:qt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mt=e,gt=null,!0):!1;default:return!1}}function To(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(Oe){var t=gt;if(t){var r=t;if(!vc(e,t)){if(To(e))throw Error(S(418));t=lr(r.nextSibling);var i=mt;t&&vc(e,t)?_c(i,r):(e.flags=e.flags&-4097|2,Oe=!1,mt=e)}}else{if(To(e))throw Error(S(418));e.flags=e.flags&-4097|2,Oe=!1,mt=e}}}function yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Hs(e){if(e!==mt)return!1;if(!Oe)return yc(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wo(e.type,e.memoizedProps)),t&&(t=gt)){if(To(e))throw Sc(),Error(S(418));for(;t;)_c(e,t),t=lr(t.nextSibling)}if(yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){gt=lr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=mt?lr(e.stateNode.nextSibling):null;return!0}function Sc(){for(var e=gt;e;)e=lr(e.nextSibling)}function ni(){gt=mt=null,Oe=!1}function Ao(e){Rt===null?Rt=[e]:Rt.push(e)}var _f=m.ReactCurrentBatchConfig;function zi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var i=r.stateNode}if(!i)throw Error(S(147,e));var u=i,_=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===_?t.ref:(t=function(P){var z=u.refs;P===null?delete z[_]:z[_]=P},t._stringRef=_,t)}if(typeof e!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wc(e){var t=e._init;return t(e._payload)}function Cc(e){function t(J,K){if(e){var ee=J.deletions;ee===null?(J.deletions=[K],J.flags|=16):ee.push(K)}}function r(J,K){if(!e)return null;for(;K!==null;)t(J,K),K=K.sibling;return null}function i(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function u(J,K){return J=yr(J,K),J.index=0,J.sibling=null,J}function _(J,K,ee){return J.index=ee,e?(ee=J.alternate,ee!==null?(ee=ee.index,ee<K?(J.flags|=2,K):ee):(J.flags|=2,K)):(J.flags|=1048576,K)}function P(J){return e&&J.alternate===null&&(J.flags|=2),J}function z(J,K,ee,ce){return K===null||K.tag!==6?(K=Ca(ee,J.mode,ce),K.return=J,K):(K=u(K,ee),K.return=J,K)}function W(J,K,ee,ce){var ve=ee.type;return ve===L?ae(J,K,ee.props.children,ce,ee.key):K!==null&&(K.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===G&&wc(ve)===K.type)?(ce=u(K,ee.props),ce.ref=zi(J,K,ee),ce.return=J,ce):(ce=hn(ee.type,ee.key,ee.props,null,J.mode,ce),ce.ref=zi(J,K,ee),ce.return=J,ce)}function te(J,K,ee,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=xa(ee,J.mode,ce),K.return=J,K):(K=u(K,ee.children||[]),K.return=J,K)}function ae(J,K,ee,ce,ve){return K===null||K.tag!==7?(K=jr(ee,J.mode,ce,ve),K.return=J,K):(K=u(K,ee),K.return=J,K)}function le(J,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Ca(""+K,J.mode,ee),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return ee=hn(K.type,K.key,K.props,null,J.mode,ee),ee.ref=zi(J,null,K),ee.return=J,ee;case x:return K=xa(K,J.mode,ee),K.return=J,K;case G:var ce=K._init;return le(J,ce(K._payload),ee)}if(Ut(K)||D(K))return K=jr(K,J.mode,ee,null),K.return=J,K;Fs(J,K)}return null}function oe(J,K,ee,ce){var ve=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ve!==null?null:z(J,K,""+ee,ce);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===ve?W(J,K,ee,ce):null;case x:return ee.key===ve?te(J,K,ee,ce):null;case G:return ve=ee._init,oe(J,K,ve(ee._payload),ce)}if(Ut(ee)||D(ee))return ve!==null?null:ae(J,K,ee,ce,null);Fs(J,ee)}return null}function pe(J,K,ee,ce,ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return J=J.get(ee)||null,z(K,J,""+ce,ve);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return J=J.get(ce.key===null?ee:ce.key)||null,W(K,J,ce,ve);case x:return J=J.get(ce.key===null?ee:ce.key)||null,te(K,J,ce,ve);case G:var ye=ce._init;return pe(J,K,ee,ye(ce._payload),ve)}if(Ut(ce)||D(ce))return J=J.get(ee)||null,ae(K,J,ce,ve,null);Fs(K,ce)}return null}function ge(J,K,ee,ce){for(var ve=null,ye=null,Se=K,Ce=K=0,Ke=null;Se!==null&&Ce<ee.length;Ce++){Se.index>Ce?(Ke=Se,Se=null):Ke=Se.sibling;var Ee=oe(J,Se,ee[Ce],ce);if(Ee===null){Se===null&&(Se=Ke);break}e&&Se&&Ee.alternate===null&&t(J,Se),K=_(Ee,K,Ce),ye===null?ve=Ee:ye.sibling=Ee,ye=Ee,Se=Ke}if(Ce===ee.length)return r(J,Se),Oe&&Dr(J,Ce),ve;if(Se===null){for(;Ce<ee.length;Ce++)Se=le(J,ee[Ce],ce),Se!==null&&(K=_(Se,K,Ce),ye===null?ve=Se:ye.sibling=Se,ye=Se);return Oe&&Dr(J,Ce),ve}for(Se=i(J,Se);Ce<ee.length;Ce++)Ke=pe(Se,J,Ce,ee[Ce],ce),Ke!==null&&(e&&Ke.alternate!==null&&Se.delete(Ke.key===null?Ce:Ke.key),K=_(Ke,K,Ce),ye===null?ve=Ke:ye.sibling=Ke,ye=Ke);return e&&Se.forEach(function(Sr){return t(J,Sr)}),Oe&&Dr(J,Ce),ve}function _e(J,K,ee,ce){var ve=D(ee);if(typeof ve!="function")throw Error(S(150));if(ee=ve.call(ee),ee==null)throw Error(S(151));for(var ye=ve=null,Se=K,Ce=K=0,Ke=null,Ee=ee.next();Se!==null&&!Ee.done;Ce++,Ee=ee.next()){Se.index>Ce?(Ke=Se,Se=null):Ke=Se.sibling;var Sr=oe(J,Se,Ee.value,ce);if(Sr===null){Se===null&&(Se=Ke);break}e&&Se&&Sr.alternate===null&&t(J,Se),K=_(Sr,K,Ce),ye===null?ve=Sr:ye.sibling=Sr,ye=Sr,Se=Ke}if(Ee.done)return r(J,Se),Oe&&Dr(J,Ce),ve;if(Se===null){for(;!Ee.done;Ce++,Ee=ee.next())Ee=le(J,Ee.value,ce),Ee!==null&&(K=_(Ee,K,Ce),ye===null?ve=Ee:ye.sibling=Ee,ye=Ee);return Oe&&Dr(J,Ce),ve}for(Se=i(J,Se);!Ee.done;Ce++,Ee=ee.next())Ee=pe(Se,J,Ce,Ee.value,ce),Ee!==null&&(e&&Ee.alternate!==null&&Se.delete(Ee.key===null?Ce:Ee.key),K=_(Ee,K,Ce),ye===null?ve=Ee:ye.sibling=Ee,ye=Ee);return e&&Se.forEach(function(Qf){return t(J,Qf)}),Oe&&Dr(J,Ce),ve}function ze(J,K,ee,ce){if(typeof ee=="object"&&ee!==null&&ee.type===L&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var ve=ee.key,ye=K;ye!==null;){if(ye.key===ve){if(ve=ee.type,ve===L){if(ye.tag===7){r(J,ye.sibling),K=u(ye,ee.props.children),K.return=J,J=K;break e}}else if(ye.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===G&&wc(ve)===ye.type){r(J,ye.sibling),K=u(ye,ee.props),K.ref=zi(J,ye,ee),K.return=J,J=K;break e}r(J,ye);break}else t(J,ye);ye=ye.sibling}ee.type===L?(K=jr(ee.props.children,J.mode,ce,ee.key),K.return=J,J=K):(ce=hn(ee.type,ee.key,ee.props,null,J.mode,ce),ce.ref=zi(J,K,ee),ce.return=J,J=ce)}return P(J);case x:e:{for(ye=ee.key;K!==null;){if(K.key===ye)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){r(J,K.sibling),K=u(K,ee.children||[]),K.return=J,J=K;break e}else{r(J,K);break}else t(J,K);K=K.sibling}K=xa(ee,J.mode,ce),K.return=J,J=K}return P(J);case G:return ye=ee._init,ze(J,K,ye(ee._payload),ce)}if(Ut(ee))return ge(J,K,ee,ce);if(D(ee))return _e(J,K,ee,ce);Fs(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(r(J,K.sibling),K=u(K,ee),K.return=J,J=K):(r(J,K),K=Ca(ee,J.mode,ce),K.return=J,J=K),P(J)):r(J,K)}return ze}var oi=Cc(!0),xc=Cc(!1),zs=cr(null),Us=null,ai=null,Po=null;function Mo(){Po=ai=Us=null}function No(e){var t=zs.current;Ne(zs),e._currentValue=t}function Oo(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function li(e,t){Us=e,Po=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(lt=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Po!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(Us===null)throw Error(S(308));ai=e,Us.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var Ar=null;function Io(e){Ar===null?Ar=[e]:Ar.push(e)}function bc(e,t,r,i){var u=t.interleaved;return u===null?(r.next=r,Io(t)):(r.next=u.next,u.next=r),t.interleaved=r,Kt(e,i)}function Kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dr=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ke&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,Kt(e,r)}return u=i.interleaved,u===null?(t.next=t,Io(i)):(t.next=u.next,u.next=t),i.interleaved=t,Kt(e,r)}function Ws(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Qn(e,r)}}function Ec(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,_=null;if(r=r.firstBaseUpdate,r!==null){do{var P={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};_===null?u=_=P:_=_.next=P,r=r.next}while(r!==null);_===null?u=_=t:_=_.next=t}else u=_=t;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:_,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $s(e,t,r,i){var u=e.updateQueue;dr=!1;var _=u.firstBaseUpdate,P=u.lastBaseUpdate,z=u.shared.pending;if(z!==null){u.shared.pending=null;var W=z,te=W.next;W.next=null,P===null?_=te:P.next=te,P=W;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,z=ae.lastBaseUpdate,z!==P&&(z===null?ae.firstBaseUpdate=te:z.next=te,ae.lastBaseUpdate=W))}if(_!==null){var le=u.baseState;P=0,ae=te=W=null,z=_;do{var oe=z.lane,pe=z.eventTime;if((i&oe)===oe){ae!==null&&(ae=ae.next={eventTime:pe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var ge=e,_e=z;switch(oe=t,pe=r,_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){le=ge.call(pe,le,oe);break e}le=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,oe=typeof ge=="function"?ge.call(pe,le,oe):ge,oe==null)break e;le=I({},le,oe);break e;case 2:dr=!0}}z.callback!==null&&z.lane!==0&&(e.flags|=64,oe=u.effects,oe===null?u.effects=[z]:oe.push(z))}else pe={eventTime:pe,lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ae===null?(te=ae=pe,W=le):ae=ae.next=pe,P|=oe;if(z=z.next,z===null){if(z=u.shared.pending,z===null)break;oe=z,z=oe.next,oe.next=null,u.lastBaseUpdate=oe,u.shared.pending=null}}while(!0);if(ae===null&&(W=le),u.baseState=W,u.firstBaseUpdate=te,u.lastBaseUpdate=ae,t=u.shared.interleaved,t!==null){u=t;do P|=u.lane,u=u.next;while(u!==t)}else _===null&&(u.shared.lanes=0);Nr|=P,e.lanes=P,e.memoizedState=le}}function Lc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],u=i.callback;if(u!==null){if(i.callback=null,i=r,typeof u!="function")throw Error(S(191,u));u.call(i)}}}var Ui={},Bt=cr(Ui),Wi=cr(Ui),$i=cr(Ui);function Pr(e){if(e===Ui)throw Error(S(174));return e}function jo(e,t){switch(De($i,t),De(Wi,e),De(Bt,Ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:br(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=br(t,e)}Ne(Bt),De(Bt,t)}function ci(){Ne(Bt),Ne(Wi),Ne($i)}function Rc(e){Pr($i.current);var t=Pr(Bt.current),r=br(t,e.type);t!==r&&(De(Wi,e),De(Bt,r))}function Ho(e){Wi.current===e&&(Ne(Bt),Ne(Wi))}var Ie=cr(0);function qs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=[];function zo(){for(var e=0;e<Fo.length;e++)Fo[e]._workInProgressVersionPrimary=null;Fo.length=0}var Vs=m.ReactCurrentDispatcher,Uo=m.ReactCurrentBatchConfig,Mr=0,Be=null,We=null,qe=null,Ks=!1,qi=!1,Vi=0,vf=0;function Je(){throw Error(S(321))}function Wo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lt(e[r],t[r]))return!1;return!0}function $o(e,t,r,i,u,_){if(Mr=_,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?Cf:xf,e=r(i,u),qi){_=0;do{if(qi=!1,Vi=0,25<=_)throw Error(S(301));_+=1,qe=We=null,t.updateQueue=null,Vs.current=bf,e=r(i,u)}while(qi)}if(Vs.current=Qs,t=We!==null&&We.next!==null,Mr=0,qe=We=Be=null,Ks=!1,t)throw Error(S(300));return e}function qo(){var e=Vi!==0;return Vi=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Be.memoizedState=qe=e:qe=qe.next=e,qe}function Ct(){if(We===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=qe===null?Be.memoizedState:qe.next;if(t!==null)qe=t,We=e;else{if(e===null)throw Error(S(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},qe===null?Be.memoizedState=qe=e:qe=qe.next=e}return qe}function Ki(e,t){return typeof t=="function"?t(e):t}function Vo(e){var t=Ct(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var i=We,u=i.baseQueue,_=r.pending;if(_!==null){if(u!==null){var P=u.next;u.next=_.next,_.next=P}i.baseQueue=u=_,r.pending=null}if(u!==null){_=u.next,i=i.baseState;var z=P=null,W=null,te=_;do{var ae=te.lane;if((Mr&ae)===ae)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),i=te.hasEagerState?te.eagerState:e(i,te.action);else{var le={lane:ae,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(z=W=le,P=i):W=W.next=le,Be.lanes|=ae,Nr|=ae}te=te.next}while(te!==null&&te!==_);W===null?P=i:W.next=z,Lt(i,t.memoizedState)||(lt=!0),t.memoizedState=i,t.baseState=P,t.baseQueue=W,r.lastRenderedState=i}if(e=r.interleaved,e!==null){u=e;do _=u.lane,Be.lanes|=_,Nr|=_,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ko(e){var t=Ct(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var i=r.dispatch,u=r.pending,_=t.memoizedState;if(u!==null){r.pending=null;var P=u=u.next;do _=e(_,P.action),P=P.next;while(P!==u);Lt(_,t.memoizedState)||(lt=!0),t.memoizedState=_,t.baseQueue===null&&(t.baseState=_),r.lastRenderedState=_}return[_,i]}function Tc(){}function Dc(e,t){var r=Be,i=Ct(),u=t(),_=!Lt(i.memoizedState,u);if(_&&(i.memoizedState=u,lt=!0),i=i.queue,Yo(Mc.bind(null,r,i,e),[e]),i.getSnapshot!==t||_||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,Yi(9,Pc.bind(null,r,i,u,t),void 0,null),Ve===null)throw Error(S(349));(Mr&30)!==0||Ac(r,t,u)}return u}function Ac(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Pc(e,t,r,i){t.value=r,t.getSnapshot=i,Nc(t)&&Oc(e)}function Mc(e,t,r){return r(function(){Nc(t)&&Oc(e)})}function Nc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lt(e,r)}catch{return!0}}function Oc(e){var t=Kt(e,1);t!==null&&Pt(t,e,1,-1)}function Ic(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t.queue=e,e=e.dispatch=wf.bind(null,Be,e),[t.memoizedState,e]}function Yi(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Bc(){return Ct().memoizedState}function Ys(e,t,r,i){var u=jt();Be.flags|=e,u.memoizedState=Yi(1|t,r,void 0,i===void 0?null:i)}function Gs(e,t,r,i){var u=Ct();i=i===void 0?null:i;var _=void 0;if(We!==null){var P=We.memoizedState;if(_=P.destroy,i!==null&&Wo(i,P.deps)){u.memoizedState=Yi(t,r,_,i);return}}Be.flags|=e,u.memoizedState=Yi(1|t,r,_,i)}function jc(e,t){return Ys(8390656,8,e,t)}function Yo(e,t){return Gs(2048,8,e,t)}function Hc(e,t){return Gs(4,2,e,t)}function Fc(e,t){return Gs(4,4,e,t)}function zc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uc(e,t,r){return r=r!=null?r.concat([e]):null,Gs(4,4,zc.bind(null,t,e),r)}function Go(){}function Wc(e,t){var r=Ct();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Wo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function $c(e,t){var r=Ct();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Wo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function qc(e,t,r){return(Mr&21)===0?(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=r):(Lt(r,t)||(r=wl(),Be.lanes|=r,Nr|=r,e.baseState=!0),t)}function yf(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var i=Uo.transition;Uo.transition={};try{e(!1),t()}finally{Re=r,Uo.transition=i}}function Vc(){return Ct().memoizedState}function Sf(e,t,r){var i=_r(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Kc(e))Yc(t,r);else if(r=bc(e,t,r,i),r!==null){var u=it();Pt(r,e,i,u),Gc(r,t,i)}}function wf(e,t,r){var i=_r(e),u={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kc(e))Yc(t,u);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=t.lastRenderedReducer,_!==null))try{var P=t.lastRenderedState,z=_(P,r);if(u.hasEagerState=!0,u.eagerState=z,Lt(z,P)){var W=t.interleaved;W===null?(u.next=u,Io(t)):(u.next=W.next,W.next=u),t.interleaved=u;return}}catch{}finally{}r=bc(e,t,u,i),r!==null&&(u=it(),Pt(r,e,i,u),Gc(r,t,i))}}function Kc(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Yc(e,t){qi=Ks=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Qn(e,r)}}var Qs={readContext:wt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Cf={readContext:wt,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:jc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ys(4194308,4,zc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var r=jt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=jt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Sf.bind(null,Be,e),[i.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Ic,useDebugValue:Go,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Ic(!1),t=e[0];return e=yf.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Be,u=jt();if(Oe){if(r===void 0)throw Error(S(407));r=r()}else{if(r=t(),Ve===null)throw Error(S(349));(Mr&30)!==0||Ac(i,t,r)}u.memoizedState=r;var _={value:r,getSnapshot:t};return u.queue=_,jc(Mc.bind(null,i,_,e),[e]),i.flags|=2048,Yi(9,Pc.bind(null,i,_,r,t),void 0,null),r},useId:function(){var e=jt(),t=Ve.identifierPrefix;if(Oe){var r=Vt,i=qt;r=(i&~(1<<32-Et(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xf={readContext:wt,useCallback:Wc,useContext:wt,useEffect:Yo,useImperativeHandle:Uc,useInsertionEffect:Hc,useLayoutEffect:Fc,useMemo:$c,useReducer:Vo,useRef:Bc,useState:function(){return Vo(Ki)},useDebugValue:Go,useDeferredValue:function(e){var t=Ct();return qc(t,We.memoizedState,e)},useTransition:function(){var e=Vo(Ki)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Tc,useSyncExternalStore:Dc,useId:Vc,unstable_isNewReconciler:!1},bf={readContext:wt,useCallback:Wc,useContext:wt,useEffect:Yo,useImperativeHandle:Uc,useInsertionEffect:Hc,useLayoutEffect:Fc,useMemo:$c,useReducer:Ko,useRef:Bc,useState:function(){return Ko(Ki)},useDebugValue:Go,useDeferredValue:function(e){var t=Ct();return We===null?t.memoizedState=e:qc(t,We.memoizedState,e)},useTransition:function(){var e=Ko(Ki)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Tc,useSyncExternalStore:Dc,useId:Vc,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=I({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qo(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:I({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xs={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=it(),u=_r(e),_=Yt(i,u);_.payload=t,r!=null&&(_.callback=r),t=fr(e,_,u),t!==null&&(Pt(t,e,u,i),Ws(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=it(),u=_r(e),_=Yt(i,u);_.tag=1,_.payload=t,r!=null&&(_.callback=r),t=fr(e,_,u),t!==null&&(Pt(t,e,u,i),Ws(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=it(),i=_r(e),u=Yt(r,i);u.tag=2,t!=null&&(u.callback=t),t=fr(e,u,i),t!==null&&(Pt(t,e,i,r),Ws(t,e,i))}};function Qc(e,t,r,i,u,_,P){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,_,P):t.prototype&&t.prototype.isPureReactComponent?!Ni(r,i)||!Ni(u,_):!0}function Xc(e,t,r){var i=!1,u=ur,_=t.contextType;return typeof _=="object"&&_!==null?_=wt(_):(u=at(t)?Rr:Xe.current,i=t.contextTypes,_=(i=i!=null)?ri(e,u):ur),t=new t(r,_),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xs,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=_),t}function Jc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function Xo(e,t,r,i){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Bo(e);var _=t.contextType;typeof _=="object"&&_!==null?u.context=wt(_):(_=at(t)?Rr:Xe.current,u.context=ri(e,_)),u.state=e.memoizedState,_=t.getDerivedStateFromProps,typeof _=="function"&&(Qo(e,t,_,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Xs.enqueueReplaceState(u,u.state,null),$s(e,r,u,i),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ui(e,t){try{var r="",i=t;do r+=ue(i),i=i.return;while(i);var u=r}catch(_){u=`
Error generating stack: `+_.message+`
`+_.stack}return{value:e,source:t,stack:u,digest:null}}function Jo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kf=typeof WeakMap=="function"?WeakMap:Map;function Zc(e,t,r){r=Yt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){nn||(nn=!0,pa=i),Zo(e,t)},r}function eu(e,t,r){r=Yt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var u=t.value;r.payload=function(){return i(u)},r.callback=function(){Zo(e,t)}}var _=e.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){Zo(e,t),typeof i!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var P=t.stack;this.componentDidCatch(t.value,{componentStack:P!==null?P:""})}),r}function tu(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new kf;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(r)||(u.add(r),e=Hf.bind(null,e,t,r),t.then(e,e))}function ru(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iu(e,t,r,i,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yt(-1,1),t.tag=2,fr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Ef=m.ReactCurrentOwner,lt=!1;function rt(e,t,r,i){t.child=e===null?xc(t,null,r,i):oi(t,e.child,r,i)}function su(e,t,r,i,u){r=r.render;var _=t.ref;return li(t,u),i=$o(e,t,r,i,_,u),r=qo(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Gt(e,t,u)):(Oe&&r&&Lo(t),t.flags|=1,rt(e,t,i,u),t.child)}function nu(e,t,r,i,u){if(e===null){var _=r.type;return typeof _=="function"&&!wa(_)&&_.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=_,ou(e,t,_,i,u)):(e=hn(r.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(_=e.child,(e.lanes&u)===0){var P=_.memoizedProps;if(r=r.compare,r=r!==null?r:Ni,r(P,i)&&e.ref===t.ref)return Gt(e,t,u)}return t.flags|=1,e=yr(_,i),e.ref=t.ref,e.return=t,t.child=e}function ou(e,t,r,i,u){if(e!==null){var _=e.memoizedProps;if(Ni(_,i)&&e.ref===t.ref)if(lt=!1,t.pendingProps=i=_,(e.lanes&u)!==0)(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,Gt(e,t,u)}return ea(e,t,r,i,u)}function au(e,t,r){var i=t.pendingProps,u=i.children,_=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(di,_t),_t|=r;else{if((r&1073741824)===0)return e=_!==null?_.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(di,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=_!==null?_.baseLanes:r,De(di,_t),_t|=i}else _!==null?(i=_.baseLanes|r,t.memoizedState=null):i=r,De(di,_t),_t|=i;return rt(e,t,u,r),t.child}function lu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ea(e,t,r,i,u){var _=at(r)?Rr:Xe.current;return _=ri(t,_),li(t,u),r=$o(e,t,r,i,_,u),i=qo(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Gt(e,t,u)):(Oe&&i&&Lo(t),t.flags|=1,rt(e,t,r,u),t.child)}function cu(e,t,r,i,u){if(at(r)){var _=!0;Os(t)}else _=!1;if(li(t,u),t.stateNode===null)Zs(e,t),Xc(t,r,i),Xo(t,r,i,u),i=!0;else if(e===null){var P=t.stateNode,z=t.memoizedProps;P.props=z;var W=P.context,te=r.contextType;typeof te=="object"&&te!==null?te=wt(te):(te=at(r)?Rr:Xe.current,te=ri(t,te));var ae=r.getDerivedStateFromProps,le=typeof ae=="function"||typeof P.getSnapshotBeforeUpdate=="function";le||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==i||W!==te)&&Jc(t,P,i,te),dr=!1;var oe=t.memoizedState;P.state=oe,$s(t,i,P,u),W=t.memoizedState,z!==i||oe!==W||ot.current||dr?(typeof ae=="function"&&(Qo(t,r,ae,i),W=t.memoizedState),(z=dr||Qc(t,r,z,i,oe,W,te))?(le||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(t.flags|=4194308)):(typeof P.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=W),P.props=i,P.state=W,P.context=te,i=z):(typeof P.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{P=t.stateNode,kc(e,t),z=t.memoizedProps,te=t.type===t.elementType?z:Tt(t.type,z),P.props=te,le=t.pendingProps,oe=P.context,W=r.contextType,typeof W=="object"&&W!==null?W=wt(W):(W=at(r)?Rr:Xe.current,W=ri(t,W));var pe=r.getDerivedStateFromProps;(ae=typeof pe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==le||oe!==W)&&Jc(t,P,i,W),dr=!1,oe=t.memoizedState,P.state=oe,$s(t,i,P,u);var ge=t.memoizedState;z!==le||oe!==ge||ot.current||dr?(typeof pe=="function"&&(Qo(t,r,pe,i),ge=t.memoizedState),(te=dr||Qc(t,r,te,i,oe,ge,W)||!1)?(ae||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(i,ge,W),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(i,ge,W)),typeof P.componentDidUpdate=="function"&&(t.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof P.componentDidUpdate!="function"||z===e.memoizedProps&&oe===e.memoizedState||(t.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&oe===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ge),P.props=i,P.state=ge,P.context=W,i=te):(typeof P.componentDidUpdate!="function"||z===e.memoizedProps&&oe===e.memoizedState||(t.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&oe===e.memoizedState||(t.flags|=1024),i=!1)}return ta(e,t,r,i,_,u)}function ta(e,t,r,i,u,_){lu(e,t);var P=(t.flags&128)!==0;if(!i&&!P)return u&&pc(t,r,!1),Gt(e,t,_);i=t.stateNode,Ef.current=t;var z=P&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&P?(t.child=oi(t,e.child,null,_),t.child=oi(t,null,z,_)):rt(e,t,z,_),t.memoizedState=i.state,u&&pc(t,r,!0),t.child}function uu(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),jo(e,t.containerInfo)}function hu(e,t,r,i,u){return ni(),Ao(u),t.flags|=256,rt(e,t,r,i),t.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function ia(e){return{baseLanes:e,cachePool:null,transitions:null}}function du(e,t,r){var i=t.pendingProps,u=Ie.current,_=!1,P=(t.flags&128)!==0,z;if((z=P)||(z=e!==null&&e.memoizedState===null?!1:(u&2)!==0),z?(_=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),De(Ie,u&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(P=i.children,e=i.fallback,_?(i=t.mode,_=t.child,P={mode:"hidden",children:P},(i&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=P):_=dn(P,i,0,null),e=jr(e,i,r,null),_.return=t,e.return=t,_.sibling=e,t.child=_,t.child.memoizedState=ia(r),t.memoizedState=ra,e):sa(t,P));if(u=e.memoizedState,u!==null&&(z=u.dehydrated,z!==null))return Lf(e,t,P,i,z,u,r);if(_){_=i.fallback,P=t.mode,u=e.child,z=u.sibling;var W={mode:"hidden",children:i.children};return(P&1)===0&&t.child!==u?(i=t.child,i.childLanes=0,i.pendingProps=W,t.deletions=null):(i=yr(u,W),i.subtreeFlags=u.subtreeFlags&14680064),z!==null?_=yr(z,_):(_=jr(_,P,r,null),_.flags|=2),_.return=t,i.return=t,i.sibling=_,t.child=i,i=_,_=t.child,P=e.child.memoizedState,P=P===null?ia(r):{baseLanes:P.baseLanes|r,cachePool:null,transitions:P.transitions},_.memoizedState=P,_.childLanes=e.childLanes&~r,t.memoizedState=ra,i}return _=e.child,e=_.sibling,i=yr(_,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function sa(e,t){return t=dn({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Js(e,t,r,i){return i!==null&&Ao(i),oi(t,e.child,null,r),e=sa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lf(e,t,r,i,u,_,P){if(r)return t.flags&256?(t.flags&=-257,i=Jo(Error(S(422))),Js(e,t,P,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(_=i.fallback,u=t.mode,i=dn({mode:"visible",children:i.children},u,0,null),_=jr(_,u,P,null),_.flags|=2,i.return=t,_.return=t,i.sibling=_,t.child=i,(t.mode&1)!==0&&oi(t,e.child,null,P),t.child.memoizedState=ia(P),t.memoizedState=ra,_);if((t.mode&1)===0)return Js(e,t,P,null);if(u.data==="$!"){if(i=u.nextSibling&&u.nextSibling.dataset,i)var z=i.dgst;return i=z,_=Error(S(419)),i=Jo(_,i,void 0),Js(e,t,P,i)}if(z=(P&e.childLanes)!==0,lt||z){if(i=Ve,i!==null){switch(P&-P){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(i.suspendedLanes|P))!==0?0:u,u!==0&&u!==_.retryLane&&(_.retryLane=u,Kt(e,u),Pt(i,e,u,-1))}return Sa(),i=Jo(Error(S(421))),Js(e,t,P,i)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Ff.bind(null,e),u._reactRetry=t,null):(e=_.treeContext,gt=lr(u.nextSibling),mt=t,Oe=!0,Rt=null,e!==null&&(yt[St++]=qt,yt[St++]=Vt,yt[St++]=Tr,qt=e.id,Vt=e.overflow,Tr=t),t=sa(t,i.children),t.flags|=4096,t)}function fu(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Oo(e.return,t,r)}function na(e,t,r,i,u){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=i,_.tail=r,_.tailMode=u)}function pu(e,t,r){var i=t.pendingProps,u=i.revealOrder,_=i.tail;if(rt(e,t,i.children,r),i=Ie.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fu(e,r,t);else if(e.tag===19)fu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(De(Ie,i),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&qs(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),na(t,!1,u,r,_);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&qs(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}na(t,!0,r,null,_);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,r=yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Rf(e,t,r){switch(t.tag){case 3:uu(t),ni();break;case 5:Rc(t);break;case 1:at(t.type)&&Os(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,u=t.memoizedProps.value;De(zs,i._currentValue),i._currentValue=u;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(De(Ie,Ie.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?du(e,t,r):(De(Ie,Ie.current&1),e=Gt(e,t,r),e!==null?e.sibling:null);De(Ie,Ie.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return pu(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),De(Ie,Ie.current),i)break;return null;case 22:case 23:return t.lanes=0,au(e,t,r)}return Gt(e,t,r)}var mu,oa,gu,_u;mu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},oa=function(){},gu=function(e,t,r,i){var u=e.memoizedProps;if(u!==i){e=t.stateNode,Pr(Bt.current);var _=null;switch(r){case"input":u=Te(e,u),i=Te(e,i),_=[];break;case"select":u=I({},u,{value:void 0}),i=I({},i,{value:void 0}),_=[];break;case"textarea":u=Zt(e,u),i=Zt(e,i),_=[];break;default:typeof u.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ps)}Hn(r,i);var P;r=null;for(te in u)if(!i.hasOwnProperty(te)&&u.hasOwnProperty(te)&&u[te]!=null)if(te==="style"){var z=u[te];for(P in z)z.hasOwnProperty(P)&&(r||(r={}),r[P]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(N.hasOwnProperty(te)?_||(_=[]):(_=_||[]).push(te,null));for(te in i){var W=i[te];if(z=u!=null?u[te]:void 0,i.hasOwnProperty(te)&&W!==z&&(W!=null||z!=null))if(te==="style")if(z){for(P in z)!z.hasOwnProperty(P)||W&&W.hasOwnProperty(P)||(r||(r={}),r[P]="");for(P in W)W.hasOwnProperty(P)&&z[P]!==W[P]&&(r||(r={}),r[P]=W[P])}else r||(_||(_=[]),_.push(te,r)),r=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,z=z?z.__html:void 0,W!=null&&z!==W&&(_=_||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(_=_||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(N.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&Me("scroll",e),_||z===W||(_=[])):(_=_||[]).push(te,W))}r&&(_=_||[]).push("style",r);var te=_;(t.updateQueue=te)&&(t.flags|=4)}},_u=function(e,t,r,i){r!==i&&(t.flags|=4)};function Gi(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&14680064,i|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Tf(e,t,r){var i=t.pendingProps;switch(Ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return at(t.type)&&Ns(),Ze(t),null;case 3:return i=t.stateNode,ci(),Ne(ot),Ne(Xe),zo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(_a(Rt),Rt=null))),oa(e,t),Ze(t),null;case 5:Ho(t);var u=Pr($i.current);if(r=t.type,e!==null&&t.stateNode!=null)gu(e,t,r,i,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(S(166));return Ze(t),null}if(e=Pr(Bt.current),Hs(t)){i=t.stateNode,r=t.type;var _=t.memoizedProps;switch(i[It]=t,i[Hi]=_,e=(t.mode&1)!==0,r){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(u=0;u<Ii.length;u++)Me(Ii[u],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Ae(i,_),Me("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!_.multiple},Me("invalid",i);break;case"textarea":tt(i,_),Me("invalid",i)}Hn(r,_),u=null;for(var P in _)if(_.hasOwnProperty(P)){var z=_[P];P==="children"?typeof z=="string"?i.textContent!==z&&(_.suppressHydrationWarning!==!0&&As(i.textContent,z,e),u=["children",z]):typeof z=="number"&&i.textContent!==""+z&&(_.suppressHydrationWarning!==!0&&As(i.textContent,z,e),u=["children",""+z]):N.hasOwnProperty(P)&&z!=null&&P==="onScroll"&&Me("scroll",i)}switch(r){case"input":fe(i),Jt(i,_,!0);break;case"textarea":fe(i),dt(i);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(i.onclick=Ps)}i=u,t.updateQueue=i,i!==null&&(t.flags|=4)}else{P=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tr(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=P.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=P.createElement(r,{is:i.is}):(e=P.createElement(r),r==="select"&&(P=e,i.multiple?P.multiple=!0:i.size&&(P.size=i.size))):e=P.createElementNS(e,r),e[It]=t,e[Hi]=i,mu(e,t,!1,!1),t.stateNode=e;e:{switch(P=Fn(r,i),r){case"dialog":Me("cancel",e),Me("close",e),u=i;break;case"iframe":case"object":case"embed":Me("load",e),u=i;break;case"video":case"audio":for(u=0;u<Ii.length;u++)Me(Ii[u],e);u=i;break;case"source":Me("error",e),u=i;break;case"img":case"image":case"link":Me("error",e),Me("load",e),u=i;break;case"details":Me("toggle",e),u=i;break;case"input":Ae(e,i),u=Te(e,i),Me("invalid",e);break;case"option":u=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=I({},i,{value:void 0}),Me("invalid",e);break;case"textarea":tt(e,i),u=Zt(e,i),Me("invalid",e);break;default:u=i}Hn(r,u),z=u;for(_ in z)if(z.hasOwnProperty(_)){var W=z[_];_==="style"?ol(e,W):_==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&kr(e,W)):_==="children"?typeof W=="string"?(r!=="textarea"||W!=="")&&nt(e,W):typeof W=="number"&&nt(e,""+W):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(N.hasOwnProperty(_)?W!=null&&_==="onScroll"&&Me("scroll",e):W!=null&&a(e,_,W,P))}switch(r){case"input":fe(e),Jt(e,i,!1);break;case"textarea":fe(e),dt(e);break;case"option":i.value!=null&&e.setAttribute("value",""+O(i.value));break;case"select":e.multiple=!!i.multiple,_=i.value,_!=null?Nt(e,!!i.multiple,_,!1):i.defaultValue!=null&&Nt(e,!!i.multiple,i.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ps)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)_u(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(S(166));if(r=Pr($i.current),Pr(Bt.current),Hs(t)){if(i=t.stateNode,r=t.memoizedProps,i[It]=t,(_=i.nodeValue!==r)&&(e=mt,e!==null))switch(e.tag){case 3:As(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&As(i.nodeValue,r,(e.mode&1)!==0)}_&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[It]=t,t.stateNode=i}return Ze(t),null;case 13:if(Ne(Ie),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&gt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Sc(),ni(),t.flags|=98560,_=!1;else if(_=Hs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!_)throw Error(S(318));if(_=t.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(S(317));_[It]=t}else ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),_=!1}else Rt!==null&&(_a(Rt),Rt=null),_=!0;if(!_)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?$e===0&&($e=3):Sa())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return ci(),oa(e,t),e===null&&Bi(t.stateNode.containerInfo),Ze(t),null;case 10:return No(t.type._context),Ze(t),null;case 17:return at(t.type)&&Ns(),Ze(t),null;case 19:if(Ne(Ie),_=t.memoizedState,_===null)return Ze(t),null;if(i=(t.flags&128)!==0,P=_.rendering,P===null)if(i)Gi(_,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(P=qs(e),P!==null){for(t.flags|=128,Gi(_,!1),i=P.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)_=r,e=i,_.flags&=14680066,P=_.alternate,P===null?(_.childLanes=0,_.lanes=e,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=P.childLanes,_.lanes=P.lanes,_.child=P.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=P.memoizedProps,_.memoizedState=P.memoizedState,_.updateQueue=P.updateQueue,_.type=P.type,e=P.dependencies,_.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return De(Ie,Ie.current&1|2),t.child}e=e.sibling}_.tail!==null&&Fe()>fi&&(t.flags|=128,i=!0,Gi(_,!1),t.lanes=4194304)}else{if(!i)if(e=qs(P),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gi(_,!0),_.tail===null&&_.tailMode==="hidden"&&!P.alternate&&!Oe)return Ze(t),null}else 2*Fe()-_.renderingStartTime>fi&&r!==1073741824&&(t.flags|=128,i=!0,Gi(_,!1),t.lanes=4194304);_.isBackwards?(P.sibling=t.child,t.child=P):(r=_.last,r!==null?r.sibling=P:t.child=P,_.last=P)}return _.tail!==null?(t=_.tail,_.rendering=t,_.tail=t.sibling,_.renderingStartTime=Fe(),t.sibling=null,r=Ie.current,De(Ie,i?r&1|2:r&1),t):(Ze(t),null);case 22:case 23:return ya(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(_t&1073741824)!==0&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function Df(e,t){switch(Ro(t),t.tag){case 1:return at(t.type)&&Ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(),Ne(ot),Ne(Xe),zo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ho(t),null;case 13:if(Ne(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Ie),null;case 4:return ci(),null;case 10:return No(t.type._context),null;case 22:case 23:return ya(),null;case 24:return null;default:return null}}var en=!1,et=!1,Af=typeof WeakSet=="function"?WeakSet:Set,me=null;function hi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){He(e,t,i)}else r.current=null}function aa(e,t,r){try{r()}catch(i){He(e,t,i)}}var vu=!1;function Pf(e,t){if(yo=Ss,e=Ql(),uo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,_=i.focusNode;i=i.focusOffset;try{r.nodeType,_.nodeType}catch{r=null;break e}var P=0,z=-1,W=-1,te=0,ae=0,le=e,oe=null;t:for(;;){for(var pe;le!==r||u!==0&&le.nodeType!==3||(z=P+u),le!==_||i!==0&&le.nodeType!==3||(W=P+i),le.nodeType===3&&(P+=le.nodeValue.length),(pe=le.firstChild)!==null;)oe=le,le=pe;for(;;){if(le===e)break t;if(oe===r&&++te===u&&(z=P),oe===_&&++ae===i&&(W=P),(pe=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=pe}r=z===-1||W===-1?null:{start:z,end:W}}else r=null}r=r||{start:0,end:0}}else r=null;for(So={focusedElem:e,selectionRange:r},Ss=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var ge=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var _e=ge.memoizedProps,ze=ge.memoizedState,J=t.stateNode,K=J.getSnapshotBeforeUpdate(t.elementType===t.type?_e:Tt(t.type,_e),ze);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=t.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(ce){He(t,t.return,ce)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return ge=vu,vu=!1,ge}function Qi(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&e)===e){var _=u.destroy;u.destroy=void 0,_!==void 0&&aa(t,r,_)}u=u.next}while(u!==i)}}function tn(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function la(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yu(e){var t=e.alternate;t!==null&&(e.alternate=null,yu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Hi],delete t[bo],delete t[pf],delete t[mf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Su(e){return e.tag===5||e.tag===3||e.tag===4}function wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ca(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ps));else if(i!==4&&(e=e.child,e!==null))for(ca(e,t,r),e=e.sibling;e!==null;)ca(e,t,r),e=e.sibling}function ua(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ua(e,t,r),e=e.sibling;e!==null;)ua(e,t,r),e=e.sibling}var Ge=null,Dt=!1;function pr(e,t,r){for(r=r.child;r!==null;)Cu(e,t,r),r=r.sibling}function Cu(e,t,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ps,r)}catch{}switch(r.tag){case 5:et||hi(r,t);case 6:var i=Ge,u=Dt;Ge=null,pr(e,t,r),Ge=i,Dt=u,Ge!==null&&(Dt?(e=Ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ge.removeChild(r.stateNode));break;case 18:Ge!==null&&(Dt?(e=Ge,r=r.stateNode,e.nodeType===8?xo(e.parentNode,r):e.nodeType===1&&xo(e,r),Ri(e)):xo(Ge,r.stateNode));break;case 4:i=Ge,u=Dt,Ge=r.stateNode.containerInfo,Dt=!0,pr(e,t,r),Ge=i,Dt=u;break;case 0:case 11:case 14:case 15:if(!et&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){u=i=i.next;do{var _=u,P=_.destroy;_=_.tag,P!==void 0&&((_&2)!==0||(_&4)!==0)&&aa(r,t,P),u=u.next}while(u!==i)}pr(e,t,r);break;case 1:if(!et&&(hi(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(z){He(r,t,z)}pr(e,t,r);break;case 21:pr(e,t,r);break;case 22:r.mode&1?(et=(i=et)||r.memoizedState!==null,pr(e,t,r),et=i):pr(e,t,r);break;default:pr(e,t,r)}}function xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Af),t.forEach(function(i){var u=zf.bind(null,e,i);r.has(i)||(r.add(i),i.then(u,u))})}}function At(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i];try{var _=e,P=t,z=P;e:for(;z!==null;){switch(z.tag){case 5:Ge=z.stateNode,Dt=!1;break e;case 3:Ge=z.stateNode.containerInfo,Dt=!0;break e;case 4:Ge=z.stateNode.containerInfo,Dt=!0;break e}z=z.return}if(Ge===null)throw Error(S(160));Cu(_,P,u),Ge=null,Dt=!1;var W=u.alternate;W!==null&&(W.return=null),u.return=null}catch(te){He(u,t,te)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bu(t,e),t=t.sibling}function bu(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Ht(e),i&4){try{Qi(3,e,e.return),tn(3,e)}catch(_e){He(e,e.return,_e)}try{Qi(5,e,e.return)}catch(_e){He(e,e.return,_e)}}break;case 1:At(t,e),Ht(e),i&512&&r!==null&&hi(r,r.return);break;case 5:if(At(t,e),Ht(e),i&512&&r!==null&&hi(r,r.return),e.flags&32){var u=e.stateNode;try{nt(u,"")}catch(_e){He(e,e.return,_e)}}if(i&4&&(u=e.stateNode,u!=null)){var _=e.memoizedProps,P=r!==null?r.memoizedProps:_,z=e.type,W=e.updateQueue;if(e.updateQueue=null,W!==null)try{z==="input"&&_.type==="radio"&&_.name!=null&&Ye(u,_),Fn(z,P);var te=Fn(z,_);for(P=0;P<W.length;P+=2){var ae=W[P],le=W[P+1];ae==="style"?ol(u,le):ae==="dangerouslySetInnerHTML"?kr(u,le):ae==="children"?nt(u,le):a(u,ae,le,te)}switch(z){case"input":we(u,_);break;case"textarea":er(u,_);break;case"select":var oe=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!_.multiple;var pe=_.value;pe!=null?Nt(u,!!_.multiple,pe,!1):oe!==!!_.multiple&&(_.defaultValue!=null?Nt(u,!!_.multiple,_.defaultValue,!0):Nt(u,!!_.multiple,_.multiple?[]:"",!1))}u[Hi]=_}catch(_e){He(e,e.return,_e)}}break;case 6:if(At(t,e),Ht(e),i&4){if(e.stateNode===null)throw Error(S(162));u=e.stateNode,_=e.memoizedProps;try{u.nodeValue=_}catch(_e){He(e,e.return,_e)}}break;case 3:if(At(t,e),Ht(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Ri(t.containerInfo)}catch(_e){He(e,e.return,_e)}break;case 4:At(t,e),Ht(e);break;case 13:At(t,e),Ht(e),u=e.child,u.flags&8192&&(_=u.memoizedState!==null,u.stateNode.isHidden=_,!_||u.alternate!==null&&u.alternate.memoizedState!==null||(fa=Fe())),i&4&&xu(e);break;case 22:if(ae=r!==null&&r.memoizedState!==null,e.mode&1?(et=(te=et)||ae,At(t,e),et=te):At(t,e),Ht(e),i&8192){if(te=e.memoizedState!==null,(e.stateNode.isHidden=te)&&!ae&&(e.mode&1)!==0)for(me=e,ae=e.child;ae!==null;){for(le=me=ae;me!==null;){switch(oe=me,pe=oe.child,oe.tag){case 0:case 11:case 14:case 15:Qi(4,oe,oe.return);break;case 1:hi(oe,oe.return);var ge=oe.stateNode;if(typeof ge.componentWillUnmount=="function"){i=oe,r=oe.return;try{t=i,ge.props=t.memoizedProps,ge.state=t.memoizedState,ge.componentWillUnmount()}catch(_e){He(i,r,_e)}}break;case 5:hi(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Lu(le);continue}}pe!==null?(pe.return=oe,me=pe):Lu(le)}ae=ae.sibling}e:for(ae=null,le=e;;){if(le.tag===5){if(ae===null){ae=le;try{u=le.stateNode,te?(_=u.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(z=le.stateNode,W=le.memoizedProps.style,P=W!=null&&W.hasOwnProperty("display")?W.display:null,z.style.display=us("display",P))}catch(_e){He(e,e.return,_e)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=te?"":le.memoizedProps}catch(_e){He(e,e.return,_e)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:At(t,e),Ht(e),i&4&&xu(e);break;case 21:break;default:At(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Su(r)){var i=r;break e}r=r.return}throw Error(S(160))}switch(i.tag){case 5:var u=i.stateNode;i.flags&32&&(nt(u,""),i.flags&=-33);var _=wu(e);ua(e,_,u);break;case 3:case 4:var P=i.stateNode.containerInfo,z=wu(e);ca(e,z,P);break;default:throw Error(S(161))}}catch(W){He(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mf(e,t,r){me=e,ku(e)}function ku(e,t,r){for(var i=(e.mode&1)!==0;me!==null;){var u=me,_=u.child;if(u.tag===22&&i){var P=u.memoizedState!==null||en;if(!P){var z=u.alternate,W=z!==null&&z.memoizedState!==null||et;z=en;var te=et;if(en=P,(et=W)&&!te)for(me=u;me!==null;)P=me,W=P.child,P.tag===22&&P.memoizedState!==null?Ru(u):W!==null?(W.return=P,me=W):Ru(u);for(;_!==null;)me=_,ku(_),_=_.sibling;me=u,en=z,et=te}Eu(e)}else(u.subtreeFlags&8772)!==0&&_!==null?(_.return=u,me=_):Eu(e)}}function Eu(e){for(;me!==null;){var t=me;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:et||tn(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!et)if(r===null)i.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Tt(t.type,r.memoizedProps);i.componentDidUpdate(u,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var _=t.updateQueue;_!==null&&Lc(t,_,i);break;case 3:var P=t.updateQueue;if(P!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lc(t,P,r)}break;case 5:var z=t.stateNode;if(r===null&&t.flags&4){r=z;var W=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&r.focus();break;case"img":W.src&&(r.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var te=t.alternate;if(te!==null){var ae=te.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&Ri(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}et||t.flags&512&&la(t)}catch(oe){He(t,t.return,oe)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function Lu(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function Ru(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{tn(4,t)}catch(W){He(t,r,W)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var u=t.return;try{i.componentDidMount()}catch(W){He(t,u,W)}}var _=t.return;try{la(t)}catch(W){He(t,_,W)}break;case 5:var P=t.return;try{la(t)}catch(W){He(t,P,W)}}}catch(W){He(t,t.return,W)}if(t===e){me=null;break}var z=t.sibling;if(z!==null){z.return=t.return,me=z;break}me=t.return}}var Nf=Math.ceil,rn=m.ReactCurrentDispatcher,ha=m.ReactCurrentOwner,xt=m.ReactCurrentBatchConfig,ke=0,Ve=null,Ue=null,Qe=0,_t=0,di=cr(0),$e=0,Xi=null,Nr=0,sn=0,da=0,Ji=null,ct=null,fa=0,fi=1/0,Qt=null,nn=!1,pa=null,mr=null,on=!1,gr=null,an=0,Zi=0,ma=null,ln=-1,cn=0;function it(){return(ke&6)!==0?Fe():ln!==-1?ln:ln=Fe()}function _r(e){return(e.mode&1)===0?1:(ke&2)!==0&&Qe!==0?Qe&-Qe:_f.transition!==null?(cn===0&&(cn=wl()),cn):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Dl(e.type)),e)}function Pt(e,t,r,i){if(50<Zi)throw Zi=0,ma=null,Error(S(185));xi(e,r,i),((ke&2)===0||e!==Ve)&&(e===Ve&&((ke&2)===0&&(sn|=r),$e===4&&vr(e,Qe)),ut(e,i),r===1&&ke===0&&(t.mode&1)===0&&(fi=Fe()+500,Is&&hr()))}function ut(e,t){var r=e.callbackNode;gd(e,t);var i=_s(e,e===Ve?Qe:0);if(i===0)r!==null&&vl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&vl(r),t===1)e.tag===0?gf(Du.bind(null,e)):mc(Du.bind(null,e)),df(function(){(ke&6)===0&&hr()}),r=null;else{switch(Cl(i)){case 1:r=Kn;break;case 4:r=yl;break;case 16:r=fs;break;case 536870912:r=Sl;break;default:r=fs}r=ju(r,Tu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Tu(e,t){if(ln=-1,cn=0,(ke&6)!==0)throw Error(S(327));var r=e.callbackNode;if(pi()&&e.callbackNode!==r)return null;var i=_s(e,e===Ve?Qe:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=un(e,i);else{t=i;var u=ke;ke|=2;var _=Pu();(Ve!==e||Qe!==t)&&(Qt=null,fi=Fe()+500,Ir(e,t));do try{Bf();break}catch(z){Au(e,z)}while(!0);Mo(),rn.current=_,ke=u,Ue!==null?t=0:(Ve=null,Qe=0,t=$e)}if(t!==0){if(t===2&&(u=Yn(e),u!==0&&(i=u,t=ga(e,u))),t===1)throw r=Xi,Ir(e,0),vr(e,i),ut(e,Fe()),r;if(t===6)vr(e,i);else{if(u=e.current.alternate,(i&30)===0&&!Of(u)&&(t=un(e,i),t===2&&(_=Yn(e),_!==0&&(i=_,t=ga(e,_))),t===1))throw r=Xi,Ir(e,0),vr(e,i),ut(e,Fe()),r;switch(e.finishedWork=u,e.finishedLanes=i,t){case 0:case 1:throw Error(S(345));case 2:Br(e,ct,Qt);break;case 3:if(vr(e,i),(i&130023424)===i&&(t=fa+500-Fe(),10<t)){if(_s(e,0)!==0)break;if(u=e.suspendedLanes,(u&i)!==i){it(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Co(Br.bind(null,e,ct,Qt),t);break}Br(e,ct,Qt);break;case 4:if(vr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,u=-1;0<i;){var P=31-Et(i);_=1<<P,P=t[P],P>u&&(u=P),i&=~_}if(i=u,i=Fe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Nf(i/1960))-i,10<i){e.timeoutHandle=Co(Br.bind(null,e,ct,Qt),i);break}Br(e,ct,Qt);break;case 5:Br(e,ct,Qt);break;default:throw Error(S(329))}}}return ut(e,Fe()),e.callbackNode===r?Tu.bind(null,e):null}function ga(e,t){var r=Ji;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=un(e,t),e!==2&&(t=ct,ct=r,t!==null&&_a(t)),e}function _a(e){ct===null?ct=e:ct.push.apply(ct,e)}function Of(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var u=r[i],_=u.getSnapshot;u=u.value;try{if(!Lt(_(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vr(e,t){for(t&=~da,t&=~sn,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Et(t),i=1<<r;e[r]=-1,t&=~i}}function Du(e){if((ke&6)!==0)throw Error(S(327));pi();var t=_s(e,0);if((t&1)===0)return ut(e,Fe()),null;var r=un(e,t);if(e.tag!==0&&r===2){var i=Yn(e);i!==0&&(t=i,r=ga(e,i))}if(r===1)throw r=Xi,Ir(e,0),vr(e,t),ut(e,Fe()),r;if(r===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Br(e,ct,Qt),ut(e,Fe()),null}function va(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(fi=Fe()+500,Is&&hr())}}function Or(e){gr!==null&&gr.tag===0&&(ke&6)===0&&pi();var t=ke;ke|=1;var r=xt.transition,i=Re;try{if(xt.transition=null,Re=1,e)return e()}finally{Re=i,xt.transition=r,ke=t,(ke&6)===0&&hr()}}function ya(){_t=di.current,Ne(di)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hf(r)),Ue!==null)for(r=Ue.return;r!==null;){var i=r;switch(Ro(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ns();break;case 3:ci(),Ne(ot),Ne(Xe),zo();break;case 5:Ho(i);break;case 4:ci();break;case 13:Ne(Ie);break;case 19:Ne(Ie);break;case 10:No(i.type._context);break;case 22:case 23:ya()}r=r.return}if(Ve=e,Ue=e=yr(e.current,null),Qe=_t=t,$e=0,Xi=null,da=sn=Nr=0,ct=Ji=null,Ar!==null){for(t=0;t<Ar.length;t++)if(r=Ar[t],i=r.interleaved,i!==null){r.interleaved=null;var u=i.next,_=r.pending;if(_!==null){var P=_.next;_.next=u,i.next=P}r.pending=i}Ar=null}return e}function Au(e,t){do{var r=Ue;try{if(Mo(),Vs.current=Qs,Ks){for(var i=Be.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}Ks=!1}if(Mr=0,qe=We=Be=null,qi=!1,Vi=0,ha.current=null,r===null||r.return===null){$e=1,Xi=t,Ue=null;break}e:{var _=e,P=r.return,z=r,W=t;if(t=Qe,z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,ae=z,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var pe=ru(P);if(pe!==null){pe.flags&=-257,iu(pe,P,z,_,t),pe.mode&1&&tu(_,te,t),t=pe,W=te;var ge=t.updateQueue;if(ge===null){var _e=new Set;_e.add(W),t.updateQueue=_e}else ge.add(W);break e}else{if((t&1)===0){tu(_,te,t),Sa();break e}W=Error(S(426))}}else if(Oe&&z.mode&1){var ze=ru(P);if(ze!==null){(ze.flags&65536)===0&&(ze.flags|=256),iu(ze,P,z,_,t),Ao(ui(W,z));break e}}_=W=ui(W,z),$e!==4&&($e=2),Ji===null?Ji=[_]:Ji.push(_),_=P;do{switch(_.tag){case 3:_.flags|=65536,t&=-t,_.lanes|=t;var J=Zc(_,W,t);Ec(_,J);break e;case 1:z=W;var K=_.type,ee=_.stateNode;if((_.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(mr===null||!mr.has(ee)))){_.flags|=65536,t&=-t,_.lanes|=t;var ce=eu(_,z,t);Ec(_,ce);break e}}_=_.return}while(_!==null)}Nu(r)}catch(ve){t=ve,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function Pu(){var e=rn.current;return rn.current=Qs,e===null?Qs:e}function Sa(){($e===0||$e===3||$e===2)&&($e=4),Ve===null||(Nr&268435455)===0&&(sn&268435455)===0||vr(Ve,Qe)}function un(e,t){var r=ke;ke|=2;var i=Pu();(Ve!==e||Qe!==t)&&(Qt=null,Ir(e,t));do try{If();break}catch(u){Au(e,u)}while(!0);if(Mo(),ke=r,rn.current=i,Ue!==null)throw Error(S(261));return Ve=null,Qe=0,$e}function If(){for(;Ue!==null;)Mu(Ue)}function Bf(){for(;Ue!==null&&!ad();)Mu(Ue)}function Mu(e){var t=Bu(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?Nu(e):Ue=t,ha.current=null}function Nu(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Tf(r,t,_t),r!==null){Ue=r;return}}else{if(r=Df(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ue=null;return}}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);$e===0&&($e=5)}function Br(e,t,r){var i=Re,u=xt.transition;try{xt.transition=null,Re=1,jf(e,t,r,i)}finally{xt.transition=u,Re=i}return null}function jf(e,t,r,i){do pi();while(gr!==null);if((ke&6)!==0)throw Error(S(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var _=r.lanes|r.childLanes;if(_d(e,_),e===Ve&&(Ue=Ve=null,Qe=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||on||(on=!0,ju(fs,function(){return pi(),null})),_=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||_){_=xt.transition,xt.transition=null;var P=Re;Re=1;var z=ke;ke|=4,ha.current=null,Pf(e,r),bu(r,e),sf(So),Ss=!!yo,So=yo=null,e.current=r,Mf(r),ld(),ke=z,Re=P,xt.transition=_}else e.current=r;if(on&&(on=!1,gr=e,an=u),_=e.pendingLanes,_===0&&(mr=null),hd(r.stateNode),ut(e,Fe()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],i(u.value,{componentStack:u.stack,digest:u.digest});if(nn)throw nn=!1,e=pa,pa=null,e;return(an&1)!==0&&e.tag!==0&&pi(),_=e.pendingLanes,(_&1)!==0?e===ma?Zi++:(Zi=0,ma=e):Zi=0,hr(),null}function pi(){if(gr!==null){var e=Cl(an),t=xt.transition,r=Re;try{if(xt.transition=null,Re=16>e?16:e,gr===null)var i=!1;else{if(e=gr,gr=null,an=0,(ke&6)!==0)throw Error(S(331));var u=ke;for(ke|=4,me=e.current;me!==null;){var _=me,P=_.child;if((me.flags&16)!==0){var z=_.deletions;if(z!==null){for(var W=0;W<z.length;W++){var te=z[W];for(me=te;me!==null;){var ae=me;switch(ae.tag){case 0:case 11:case 15:Qi(8,ae,_)}var le=ae.child;if(le!==null)le.return=ae,me=le;else for(;me!==null;){ae=me;var oe=ae.sibling,pe=ae.return;if(yu(ae),ae===te){me=null;break}if(oe!==null){oe.return=pe,me=oe;break}me=pe}}}var ge=_.alternate;if(ge!==null){var _e=ge.child;if(_e!==null){ge.child=null;do{var ze=_e.sibling;_e.sibling=null,_e=ze}while(_e!==null)}}me=_}}if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,me=P;else e:for(;me!==null;){if(_=me,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Qi(9,_,_.return)}var J=_.sibling;if(J!==null){J.return=_.return,me=J;break e}me=_.return}}var K=e.current;for(me=K;me!==null;){P=me;var ee=P.child;if((P.subtreeFlags&2064)!==0&&ee!==null)ee.return=P,me=ee;else e:for(P=K;me!==null;){if(z=me,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:tn(9,z)}}catch(ve){He(z,z.return,ve)}if(z===P){me=null;break e}var ce=z.sibling;if(ce!==null){ce.return=z.return,me=ce;break e}me=z.return}}if(ke=u,hr(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ps,e)}catch{}i=!0}return i}finally{Re=r,xt.transition=t}}return!1}function Ou(e,t,r){t=ui(r,t),t=Zc(e,t,1),e=fr(e,t,1),t=it(),e!==null&&(xi(e,1,t),ut(e,t))}function He(e,t,r){if(e.tag===3)Ou(e,e,r);else for(;t!==null;){if(t.tag===3){Ou(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mr===null||!mr.has(i))){e=ui(r,e),e=eu(t,e,1),t=fr(t,e,1),e=it(),t!==null&&(xi(t,1,e),ut(t,e));break}}t=t.return}}function Hf(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&r,Ve===e&&(Qe&r)===r&&($e===4||$e===3&&(Qe&130023424)===Qe&&500>Fe()-fa?Ir(e,0):da|=r),ut(e,t)}function Iu(e,t){t===0&&((e.mode&1)===0?t=1:(t=gs,gs<<=1,(gs&130023424)===0&&(gs=4194304)));var r=it();e=Kt(e,t),e!==null&&(xi(e,t,r),ut(e,r))}function Ff(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Iu(e,r)}function zf(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(S(314))}i!==null&&i.delete(t),Iu(e,r)}var Bu;Bu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)lt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return lt=!1,Rf(e,t,r);lt=(e.flags&131072)!==0}else lt=!1,Oe&&(t.flags&1048576)!==0&&gc(t,js,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Zs(e,t),e=t.pendingProps;var u=ri(t,Xe.current);li(t,r),u=$o(null,t,i,e,u,r);var _=qo();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(i)?(_=!0,Os(t)):_=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Bo(t),u.updater=Xs,t.stateNode=u,u._reactInternals=t,Xo(t,i,e,r),t=ta(null,t,i,!0,_,r)):(t.tag=0,Oe&&_&&Lo(t),rt(null,t,u,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,u=i._init,i=u(i._payload),t.type=i,u=t.tag=Wf(i),e=Tt(i,e),u){case 0:t=ea(null,t,i,e,r);break e;case 1:t=cu(null,t,i,e,r);break e;case 11:t=su(null,t,i,e,r);break e;case 14:t=nu(null,t,i,Tt(i.type,e),r);break e}throw Error(S(306,i,""))}return t;case 0:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:Tt(i,u),ea(e,t,i,u,r);case 1:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:Tt(i,u),cu(e,t,i,u,r);case 3:e:{if(uu(t),e===null)throw Error(S(387));i=t.pendingProps,_=t.memoizedState,u=_.element,kc(e,t),$s(t,i,null,r);var P=t.memoizedState;if(i=P.element,_.isDehydrated)if(_={element:i,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},t.updateQueue.baseState=_,t.memoizedState=_,t.flags&256){u=ui(Error(S(423)),t),t=hu(e,t,i,r,u);break e}else if(i!==u){u=ui(Error(S(424)),t),t=hu(e,t,i,r,u);break e}else for(gt=lr(t.stateNode.containerInfo.firstChild),mt=t,Oe=!0,Rt=null,r=xc(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ni(),i===u){t=Gt(e,t,r);break e}rt(e,t,i,r)}t=t.child}return t;case 5:return Rc(t),e===null&&Do(t),i=t.type,u=t.pendingProps,_=e!==null?e.memoizedProps:null,P=u.children,wo(i,u)?P=null:_!==null&&wo(i,_)&&(t.flags|=32),lu(e,t),rt(e,t,P,r),t.child;case 6:return e===null&&Do(t),null;case 13:return du(e,t,r);case 4:return jo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=oi(t,null,i,r):rt(e,t,i,r),t.child;case 11:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:Tt(i,u),su(e,t,i,u,r);case 7:return rt(e,t,t.pendingProps,r),t.child;case 8:return rt(e,t,t.pendingProps.children,r),t.child;case 12:return rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,u=t.pendingProps,_=t.memoizedProps,P=u.value,De(zs,i._currentValue),i._currentValue=P,_!==null)if(Lt(_.value,P)){if(_.children===u.children&&!ot.current){t=Gt(e,t,r);break e}}else for(_=t.child,_!==null&&(_.return=t);_!==null;){var z=_.dependencies;if(z!==null){P=_.child;for(var W=z.firstContext;W!==null;){if(W.context===i){if(_.tag===1){W=Yt(-1,r&-r),W.tag=2;var te=_.updateQueue;if(te!==null){te=te.shared;var ae=te.pending;ae===null?W.next=W:(W.next=ae.next,ae.next=W),te.pending=W}}_.lanes|=r,W=_.alternate,W!==null&&(W.lanes|=r),Oo(_.return,r,t),z.lanes|=r;break}W=W.next}}else if(_.tag===10)P=_.type===t.type?null:_.child;else if(_.tag===18){if(P=_.return,P===null)throw Error(S(341));P.lanes|=r,z=P.alternate,z!==null&&(z.lanes|=r),Oo(P,r,t),P=_.sibling}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===t){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}rt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,i=t.pendingProps.children,li(t,r),u=wt(u),i=i(u),t.flags|=1,rt(e,t,i,r),t.child;case 14:return i=t.type,u=Tt(i,t.pendingProps),u=Tt(i.type,u),nu(e,t,i,u,r);case 15:return ou(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:Tt(i,u),Zs(e,t),t.tag=1,at(i)?(e=!0,Os(t)):e=!1,li(t,r),Xc(t,i,u),Xo(t,i,u,r),ta(null,t,i,!0,e,r);case 19:return pu(e,t,r);case 22:return au(e,t,r)}throw Error(S(156,t.tag))};function ju(e,t){return _l(e,t)}function Uf(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,r,i){return new Uf(e,t,r,i)}function wa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wf(e){if(typeof e=="function")return wa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$)return 11;if(e===re)return 14}return 2}function yr(e,t){var r=e.alternate;return r===null?(r=bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hn(e,t,r,i,u,_){var P=2;if(i=e,typeof e=="function")wa(e)&&(P=1);else if(typeof e=="string")P=5;else e:switch(e){case L:return jr(r.children,u,_,t);case v:P=8,u|=8;break;case R:return e=bt(12,r,t,u|2),e.elementType=R,e.lanes=_,e;case H:return e=bt(13,r,t,u),e.elementType=H,e.lanes=_,e;case Y:return e=bt(19,r,t,u),e.elementType=Y,e.lanes=_,e;case Q:return dn(r,u,_,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:P=10;break e;case U:P=9;break e;case $:P=11;break e;case re:P=14;break e;case G:P=16,i=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=bt(P,r,t,u),t.elementType=e,t.type=i,t.lanes=_,t}function jr(e,t,r,i){return e=bt(7,e,i,t),e.lanes=r,e}function dn(e,t,r,i){return e=bt(22,e,i,t),e.elementType=Q,e.lanes=r,e.stateNode={isHidden:!1},e}function Ca(e,t,r){return e=bt(6,e,null,t),e.lanes=r,e}function xa(e,t,r){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $f(e,t,r,i,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gn(0),this.expirationTimes=Gn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.identifierPrefix=i,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ba(e,t,r,i,u,_,P,z,W){return e=new $f(e,t,r,z,W),t===1?(t=1,_===!0&&(t|=8)):t=0,_=bt(3,null,null,t),e.current=_,_.stateNode=e,_.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(_),e}function qf(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Hu(e){if(!e)return ur;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var r=e.type;if(at(r))return fc(e,r,t)}return t}function Fu(e,t,r,i,u,_,P,z,W){return e=ba(r,i,!0,e,u,_,P,z,W),e.context=Hu(null),r=e.current,i=it(),u=_r(r),_=Yt(i,u),_.callback=t??null,fr(r,_,u),e.current.lanes=u,xi(e,u,i),ut(e,i),e}function fn(e,t,r,i){var u=t.current,_=it(),P=_r(u);return r=Hu(r),t.context===null?t.context=r:t.pendingContext=r,t=Yt(_,P),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=fr(u,t,P),e!==null&&(Pt(e,u,P,_),Ws(e,u,P)),P}function pn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ka(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function Vf(){return null}var Uu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ea(e){this._internalRoot=e}mn.prototype.render=Ea.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));fn(e,t,null,null)},mn.prototype.unmount=Ea.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){fn(null,e,null,null)}),t[Wt]=null}};function mn(e){this._internalRoot=e}mn.prototype.unstable_scheduleHydration=function(e){if(e){var t=kl();e={blockedOn:null,target:e,priority:t};for(var r=0;r<nr.length&&t!==0&&t<nr[r].priority;r++);nr.splice(r,0,e),r===0&&Rl(e)}};function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gn(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wu(){}function Kf(e,t,r,i,u){if(u){if(typeof i=="function"){var _=i;i=function(){var te=pn(P);_.call(te)}}var P=Fu(t,i,e,0,null,!1,!1,"",Wu);return e._reactRootContainer=P,e[Wt]=P.current,Bi(e.nodeType===8?e.parentNode:e),Or(),P}for(;u=e.lastChild;)e.removeChild(u);if(typeof i=="function"){var z=i;i=function(){var te=pn(W);z.call(te)}}var W=ba(e,0,!1,null,null,!1,!1,"",Wu);return e._reactRootContainer=W,e[Wt]=W.current,Bi(e.nodeType===8?e.parentNode:e),Or(function(){fn(t,W,r,i)}),W}function _n(e,t,r,i,u){var _=r._reactRootContainer;if(_){var P=_;if(typeof u=="function"){var z=u;u=function(){var W=pn(P);z.call(W)}}fn(t,P,e,u)}else P=Kf(r,t,e,u,i);return pn(P)}xl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ci(t.pendingLanes);r!==0&&(Qn(t,r|1),ut(t,Fe()),(ke&6)===0&&(fi=Fe()+500,hr()))}break;case 13:Or(function(){var i=Kt(e,1);if(i!==null){var u=it();Pt(i,e,1,u)}}),ka(e,1)}},Xn=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var r=it();Pt(t,e,134217728,r)}ka(e,134217728)}},bl=function(e){if(e.tag===13){var t=_r(e),r=Kt(e,t);if(r!==null){var i=it();Pt(r,e,t,i)}ka(e,t)}},kl=function(){return Re},El=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}},Wn=function(e,t,r){switch(t){case"input":if(we(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var u=Ms(i);if(!u)throw Error(S(90));de(i),we(i,u)}}}break;case"textarea":er(e,r);break;case"select":t=r.value,t!=null&&Nt(e,!!r.multiple,t,!1)}},ul=va,hl=Or;var Yf={usingClientEntryPoint:!1,Events:[Fi,ei,Ms,ll,cl,va]},es={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gf={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ml(e),e===null?null:e.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||Vf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vn.isDisabled&&vn.supportsFiber)try{ps=vn.inject(Gf),Ot=vn}catch{}}return ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yf,ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(t))throw Error(S(200));return qf(e,t,null,r)},ht.createRoot=function(e,t){if(!La(e))throw Error(S(299));var r=!1,i="",u=Uu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=ba(e,1,!1,null,null,r,!1,i,u),e[Wt]=t.current,Bi(e.nodeType===8?e.parentNode:e),new Ea(t)},ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=ml(t),e=e===null?null:e.stateNode,e},ht.flushSync=function(e){return Or(e)},ht.hydrate=function(e,t,r){if(!gn(t))throw Error(S(200));return _n(null,e,t,!0,r)},ht.hydrateRoot=function(e,t,r){if(!La(e))throw Error(S(405));var i=r!=null&&r.hydratedSources||null,u=!1,_="",P=Uu;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(_=r.identifierPrefix),r.onRecoverableError!==void 0&&(P=r.onRecoverableError)),t=Fu(t,null,e,1,r??null,u,!1,_,P),e[Wt]=t.current,Bi(e),i)for(e=0;e<i.length;e++)r=i[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new mn(t)},ht.render=function(e,t,r){if(!gn(t))throw Error(S(200));return _n(null,e,t,!1,r)},ht.unmountComponentAtNode=function(e){if(!gn(e))throw Error(S(40));return e._reactRootContainer?(Or(function(){_n(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1},ht.unstable_batchedUpdates=va,ht.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!gn(r))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return _n(e,t,r,!1,i)},ht.version="18.3.1-next-f1338f8080-20240426",ht}var Xu;function op(){if(Xu)return Da.exports;Xu=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(C){console.error(C)}}return h(),Da.exports=np(),Da.exports}var Ju;function ap(){if(Ju)return yn;Ju=1;var h=op();return yn.createRoot=h.createRoot,yn.hydrateRoot=h.hydrateRoot,yn}var lp=ap(),rs={},Zu;function cp(){if(Zu)return rs;Zu=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.parse=A,rs.serialize=f;const h=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,C=/^[\u0021-\u003A\u003C-\u007E]*$/,S=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,T=/^[\u0020-\u003A\u003D-\u007E]*$/,N=Object.prototype.toString,B=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function A(g,w){const k=new B,p=g.length;if(p<2)return k;const n=(w==null?void 0:w.decode)||y;let l=0;do{const s=g.indexOf("=",l);if(s===-1)break;const a=g.indexOf(";",l),m=a===-1?p:a;if(s>m){l=g.lastIndexOf(";",s-1)+1;continue}const b=o(g,l,s),x=c(g,s,b),L=g.slice(b,x);if(k[L]===void 0){let v=o(g,s+1,m),R=c(g,m,v);const F=n(g.slice(v,R));k[L]=F}l=m+1}while(l<p);return k}function o(g,w,k){do{const p=g.charCodeAt(w);if(p!==32&&p!==9)return w}while(++w<k);return k}function c(g,w,k){for(;w>k;){const p=g.charCodeAt(--w);if(p!==32&&p!==9)return w+1}return k}function f(g,w,k){const p=(k==null?void 0:k.encode)||encodeURIComponent;if(!h.test(g))throw new TypeError(`argument name is invalid: ${g}`);const n=p(w);if(!C.test(n))throw new TypeError(`argument val is invalid: ${w}`);let l=g+"="+n;if(!k)return l;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);l+="; Max-Age="+k.maxAge}if(k.domain){if(!S.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);l+="; Domain="+k.domain}if(k.path){if(!T.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);l+="; Path="+k.path}if(k.expires){if(!d(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);l+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(l+="; HttpOnly"),k.secure&&(l+="; Secure"),k.partitioned&&(l+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return l}function y(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function d(g){return N.call(g)==="[object Date]"}return rs}cp();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eh="popstate";function up(h={}){function C(N,B){let{pathname:A="/",search:o="",hash:c=""}=Wr(N.location.hash.substring(1));return!A.startsWith("/")&&!A.startsWith(".")&&(A="/"+A),Ua("",{pathname:A,search:o,hash:c},B.state&&B.state.usr||null,B.state&&B.state.key||"default")}function S(N,B){let A=N.document.querySelector("base"),o="";if(A&&A.getAttribute("href")){let c=N.location.href,f=c.indexOf("#");o=f===-1?c:c.slice(0,f)}return o+"#"+(typeof B=="string"?B:ns(B))}function T(N,B){Mt(N.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(B)})`)}return dp(C,S,T,h)}function je(h,C){if(h===!1||h===null||typeof h>"u")throw new Error(C)}function Mt(h,C){if(!h){typeof console<"u"&&console.warn(C);try{throw new Error(C)}catch{}}}function hp(){return Math.random().toString(36).substring(2,10)}function th(h,C){return{usr:h.state,key:h.key,idx:C}}function Ua(h,C,S=null,T){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof C=="string"?Wr(C):C,state:S,key:C&&C.key||T||hp()}}function ns({pathname:h="/",search:C="",hash:S=""}){return C&&C!=="?"&&(h+=C.charAt(0)==="?"?C:"?"+C),S&&S!=="#"&&(h+=S.charAt(0)==="#"?S:"#"+S),h}function Wr(h){let C={};if(h){let S=h.indexOf("#");S>=0&&(C.hash=h.substring(S),h=h.substring(0,S));let T=h.indexOf("?");T>=0&&(C.search=h.substring(T),h=h.substring(0,T)),h&&(C.pathname=h)}return C}function dp(h,C,S,T={}){let{window:N=document.defaultView,v5Compat:B=!1}=T,A=N.history,o="POP",c=null,f=y();f==null&&(f=0,A.replaceState({...A.state,idx:f},""));function y(){return(A.state||{idx:null}).idx}function d(){o="POP";let n=y(),l=n==null?null:n-f;f=n,c&&c({action:o,location:p.location,delta:l})}function g(n,l){o="PUSH";let s=Ua(p.location,n,l);S&&S(s,n),f=y()+1;let a=th(s,f),m=p.createHref(s);try{A.pushState(a,"",m)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;N.location.assign(m)}B&&c&&c({action:o,location:p.location,delta:1})}function w(n,l){o="REPLACE";let s=Ua(p.location,n,l);S&&S(s,n),f=y();let a=th(s,f),m=p.createHref(s);A.replaceState(a,"",m),B&&c&&c({action:o,location:p.location,delta:0})}function k(n){let l=N.location.origin!=="null"?N.location.origin:N.location.href,s=typeof n=="string"?n:ns(n);return s=s.replace(/ $/,"%20"),je(l,`No window.location.(origin|href) available to create URL for href: ${s}`),new URL(s,l)}let p={get action(){return o},get location(){return h(N,A)},listen(n){if(c)throw new Error("A history only accepts one active listener");return N.addEventListener(eh,d),c=n,()=>{N.removeEventListener(eh,d),c=null}},createHref(n){return C(N,n)},createURL:k,encodeLocation(n){let l=k(n);return{pathname:l.pathname,search:l.search,hash:l.hash}},push:g,replace:w,go(n){return A.go(n)}};return p}function yh(h,C,S="/"){return fp(h,C,S,!1)}function fp(h,C,S,T){let N=typeof C=="string"?Wr(C):C,B=Cr(N.pathname||"/",S);if(B==null)return null;let A=Sh(h);pp(A);let o=null;for(let c=0;o==null&&c<A.length;++c){let f=kp(B);o=xp(A[c],f,T)}return o}function Sh(h,C=[],S=[],T=""){let N=(B,A,o)=>{let c={relativePath:o===void 0?B.path||"":o,caseSensitive:B.caseSensitive===!0,childrenIndex:A,route:B};c.relativePath.startsWith("/")&&(je(c.relativePath.startsWith(T),`Absolute route path "${c.relativePath}" nested under path "${T}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(T.length));let f=Xt([T,c.relativePath]),y=S.concat(c);B.children&&B.children.length>0&&(je(B.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Sh(B.children,C,y,f)),!(B.path==null&&!B.index)&&C.push({path:f,score:wp(f,B.index),routesMeta:y})};return h.forEach((B,A)=>{var o;if(B.path===""||!((o=B.path)!=null&&o.includes("?")))N(B,A);else for(let c of wh(B.path))N(B,A,c)}),C}function wh(h){let C=h.split("/");if(C.length===0)return[];let[S,...T]=C,N=S.endsWith("?"),B=S.replace(/\?$/,"");if(T.length===0)return N?[B,""]:[B];let A=wh(T.join("/")),o=[];return o.push(...A.map(c=>c===""?B:[B,c].join("/"))),N&&o.push(...A),o.map(c=>h.startsWith("/")&&c===""?"/":c)}function pp(h){h.sort((C,S)=>C.score!==S.score?S.score-C.score:Cp(C.routesMeta.map(T=>T.childrenIndex),S.routesMeta.map(T=>T.childrenIndex)))}var mp=/^:[\w-]+$/,gp=3,_p=2,vp=1,yp=10,Sp=-2,rh=h=>h==="*";function wp(h,C){let S=h.split("/"),T=S.length;return S.some(rh)&&(T+=Sp),C&&(T+=_p),S.filter(N=>!rh(N)).reduce((N,B)=>N+(mp.test(B)?gp:B===""?vp:yp),T)}function Cp(h,C){return h.length===C.length&&h.slice(0,-1).every((T,N)=>T===C[N])?h[h.length-1]-C[C.length-1]:0}function xp(h,C,S=!1){let{routesMeta:T}=h,N={},B="/",A=[];for(let o=0;o<T.length;++o){let c=T[o],f=o===T.length-1,y=B==="/"?C:C.slice(B.length)||"/",d=Mn({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},y),g=c.route;if(!d&&f&&S&&!T[T.length-1].route.index&&(d=Mn({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},y)),!d)return null;Object.assign(N,d.params),A.push({params:N,pathname:Xt([B,d.pathname]),pathnameBase:Tp(Xt([B,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(B=Xt([B,d.pathnameBase]))}return A}function Mn(h,C){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[S,T]=bp(h.path,h.caseSensitive,h.end),N=C.match(S);if(!N)return null;let B=N[0],A=B.replace(/(.)\/+$/,"$1"),o=N.slice(1);return{params:T.reduce((f,{paramName:y,isOptional:d},g)=>{if(y==="*"){let k=o[g]||"";A=B.slice(0,B.length-k.length).replace(/(.)\/+$/,"$1")}const w=o[g];return d&&!w?f[y]=void 0:f[y]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:B,pathnameBase:A,pattern:h}}function bp(h,C=!1,S=!0){Mt(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let T=[],N="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,o,c)=>(T.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(T.push({paramName:"*"}),N+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):S?N+="\\/*$":h!==""&&h!=="/"&&(N+="(?:(?=\\/|$))"),[new RegExp(N,C?void 0:"i"),T]}function kp(h){try{return h.split("/").map(C=>decodeURIComponent(C).replace(/\//g,"%2F")).join("/")}catch(C){return Mt(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${C}).`),h}}function Cr(h,C){if(C==="/")return h;if(!h.toLowerCase().startsWith(C.toLowerCase()))return null;let S=C.endsWith("/")?C.length-1:C.length,T=h.charAt(S);return T&&T!=="/"?null:h.slice(S)||"/"}function Ep(h,C="/"){let{pathname:S,search:T="",hash:N=""}=typeof h=="string"?Wr(h):h;return{pathname:S?S.startsWith("/")?S:Lp(S,C):C,search:Dp(T),hash:Ap(N)}}function Lp(h,C){let S=C.replace(/\/+$/,"").split("/");return h.split("/").forEach(N=>{N===".."?S.length>1&&S.pop():N!=="."&&S.push(N)}),S.length>1?S.join("/"):"/"}function Ma(h,C,S,T){return`Cannot include a '${h}' character in a manually specified \`to.${C}\` field [${JSON.stringify(T)}].  Please separate it out to the \`to.${S}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rp(h){return h.filter((C,S)=>S===0||C.route.path&&C.route.path.length>0)}function Ch(h){let C=Rp(h);return C.map((S,T)=>T===C.length-1?S.pathname:S.pathnameBase)}function xh(h,C,S,T=!1){let N;typeof h=="string"?N=Wr(h):(N={...h},je(!N.pathname||!N.pathname.includes("?"),Ma("?","pathname","search",N)),je(!N.pathname||!N.pathname.includes("#"),Ma("#","pathname","hash",N)),je(!N.search||!N.search.includes("#"),Ma("#","search","hash",N)));let B=h===""||N.pathname==="",A=B?"/":N.pathname,o;if(A==null)o=S;else{let d=C.length-1;if(!T&&A.startsWith("..")){let g=A.split("/");for(;g[0]==="..";)g.shift(),d-=1;N.pathname=g.join("/")}o=d>=0?C[d]:"/"}let c=Ep(N,o),f=A&&A!=="/"&&A.endsWith("/"),y=(B||A===".")&&S.endsWith("/");return!c.pathname.endsWith("/")&&(f||y)&&(c.pathname+="/"),c}var Xt=h=>h.join("/").replace(/\/\/+/g,"/"),Tp=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),Dp=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,Ap=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function Pp(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var bh=["POST","PUT","PATCH","DELETE"];new Set(bh);var Mp=["GET",...bh];new Set(Mp);var vi=V.createContext(null);vi.displayName="DataRouter";var Bn=V.createContext(null);Bn.displayName="DataRouterState";var kh=V.createContext({isTransitioning:!1});kh.displayName="ViewTransition";var Np=V.createContext(new Map);Np.displayName="Fetchers";var Op=V.createContext(null);Op.displayName="Await";var Ft=V.createContext(null);Ft.displayName="Navigation";var os=V.createContext(null);os.displayName="Location";var zt=V.createContext({outlet:null,matches:[],isDataRoute:!1});zt.displayName="Route";var Qa=V.createContext(null);Qa.displayName="RouteError";function Ip(h,{relative:C}={}){je(as(),"useHref() may be used only in the context of a <Router> component.");let{basename:S,navigator:T}=V.useContext(Ft),{hash:N,pathname:B,search:A}=cs(h,{relative:C}),o=B;return S!=="/"&&(o=B==="/"?S:Xt([S,B])),T.createHref({pathname:o,search:A,hash:N})}function as(){return V.useContext(os)!=null}function $r(){return je(as(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(os).location}var Eh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lh(h){V.useContext(Ft).static||V.useLayoutEffect(h)}function ls(){let{isDataRoute:h}=V.useContext(zt);return h?Qp():Bp()}function Bp(){je(as(),"useNavigate() may be used only in the context of a <Router> component.");let h=V.useContext(vi),{basename:C,navigator:S}=V.useContext(Ft),{matches:T}=V.useContext(zt),{pathname:N}=$r(),B=JSON.stringify(Ch(T)),A=V.useRef(!1);return Lh(()=>{A.current=!0}),V.useCallback((c,f={})=>{if(Mt(A.current,Eh),!A.current)return;if(typeof c=="number"){S.go(c);return}let y=xh(c,JSON.parse(B),N,f.relative==="path");h==null&&C!=="/"&&(y.pathname=y.pathname==="/"?C:Xt([C,y.pathname])),(f.replace?S.replace:S.push)(y,f.state,f)},[C,S,B,N,h])}V.createContext(null);function jp(){let{matches:h}=V.useContext(zt),C=h[h.length-1];return C?C.params:{}}function cs(h,{relative:C}={}){let{matches:S}=V.useContext(zt),{pathname:T}=$r(),N=JSON.stringify(Ch(S));return V.useMemo(()=>xh(h,JSON.parse(N),T,C==="path"),[h,N,T,C])}function Hp(h,C){return Rh(h,C)}function Rh(h,C,S,T){var s;je(as(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:N,static:B}=V.useContext(Ft),{matches:A}=V.useContext(zt),o=A[A.length-1],c=o?o.params:{},f=o?o.pathname:"/",y=o?o.pathnameBase:"/",d=o&&o.route;{let a=d&&d.path||"";Th(f,!d||a.endsWith("*")||a.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${a}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${a}"> to <Route path="${a==="/"?"*":`${a}/*`}">.`)}let g=$r(),w;if(C){let a=typeof C=="string"?Wr(C):C;je(y==="/"||((s=a.pathname)==null?void 0:s.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${a.pathname}" was given in the \`location\` prop.`),w=a}else w=g;let k=w.pathname||"/",p=k;if(y!=="/"){let a=y.replace(/^\//,"").split("/");p="/"+k.replace(/^\//,"").split("/").slice(a.length).join("/")}let n=!B&&S&&S.matches&&S.matches.length>0?S.matches:yh(h,{pathname:p});Mt(d||n!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Mt(n==null||n[n.length-1].route.element!==void 0||n[n.length-1].route.Component!==void 0||n[n.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let l=$p(n&&n.map(a=>Object.assign({},a,{params:Object.assign({},c,a.params),pathname:Xt([y,N.encodeLocation?N.encodeLocation(a.pathname).pathname:a.pathname]),pathnameBase:a.pathnameBase==="/"?y:Xt([y,N.encodeLocation?N.encodeLocation(a.pathnameBase).pathname:a.pathnameBase])})),A,S,T);return C&&l?V.createElement(os.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},l):l}function Fp(){let h=Gp(),C=Pp(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),S=h instanceof Error?h.stack:null,T="rgba(200,200,200, 0.5)",N={padding:"0.5rem",backgroundColor:T},B={padding:"2px 4px",backgroundColor:T},A=null;return console.error("Error handled by React Router default ErrorBoundary:",h),A=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:B},"ErrorBoundary")," or"," ",V.createElement("code",{style:B},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},C),S?V.createElement("pre",{style:N},S):null,A)}var zp=V.createElement(Fp,null),Up=class extends V.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,C){return C.location!==h.location||C.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:C.error,location:C.location,revalidation:h.revalidation||C.revalidation}}componentDidCatch(h,C){console.error("React Router caught the following error during render",h,C)}render(){return this.state.error!==void 0?V.createElement(zt.Provider,{value:this.props.routeContext},V.createElement(Qa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wp({routeContext:h,match:C,children:S}){let T=V.useContext(vi);return T&&T.static&&T.staticContext&&(C.route.errorElement||C.route.ErrorBoundary)&&(T.staticContext._deepestRenderedBoundaryId=C.route.id),V.createElement(zt.Provider,{value:h},S)}function $p(h,C=[],S=null,T=null){if(h==null){if(!S)return null;if(S.errors)h=S.matches;else if(C.length===0&&!S.initialized&&S.matches.length>0)h=S.matches;else return null}let N=h,B=S==null?void 0:S.errors;if(B!=null){let c=N.findIndex(f=>f.route.id&&(B==null?void 0:B[f.route.id])!==void 0);je(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(B).join(",")}`),N=N.slice(0,Math.min(N.length,c+1))}let A=!1,o=-1;if(S)for(let c=0;c<N.length;c++){let f=N[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=c),f.route.id){let{loaderData:y,errors:d}=S,g=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){A=!0,o>=0?N=N.slice(0,o+1):N=[N[0]];break}}}return N.reduceRight((c,f,y)=>{let d,g=!1,w=null,k=null;S&&(d=B&&f.route.id?B[f.route.id]:void 0,w=f.route.errorElement||zp,A&&(o<0&&y===0?(Th("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,k=null):o===y&&(g=!0,k=f.route.hydrateFallbackElement||null)));let p=C.concat(N.slice(0,y+1)),n=()=>{let l;return d?l=w:g?l=k:f.route.Component?l=V.createElement(f.route.Component,null):f.route.element?l=f.route.element:l=c,V.createElement(Wp,{match:f,routeContext:{outlet:c,matches:p,isDataRoute:S!=null},children:l})};return S&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?V.createElement(Up,{location:S.location,revalidation:S.revalidation,component:w,error:d,children:n(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):n()},null)}function Xa(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qp(h){let C=V.useContext(vi);return je(C,Xa(h)),C}function Vp(h){let C=V.useContext(Bn);return je(C,Xa(h)),C}function Kp(h){let C=V.useContext(zt);return je(C,Xa(h)),C}function Ja(h){let C=Kp(h),S=C.matches[C.matches.length-1];return je(S.route.id,`${h} can only be used on routes that contain a unique "id"`),S.route.id}function Yp(){return Ja("useRouteId")}function Gp(){var T;let h=V.useContext(Qa),C=Vp("useRouteError"),S=Ja("useRouteError");return h!==void 0?h:(T=C.errors)==null?void 0:T[S]}function Qp(){let{router:h}=qp("useNavigate"),C=Ja("useNavigate"),S=V.useRef(!1);return Lh(()=>{S.current=!0}),V.useCallback(async(N,B={})=>{Mt(S.current,Eh),S.current&&(typeof N=="number"?h.navigate(N):await h.navigate(N,{fromRouteId:C,...B}))},[h,C])}var ih={};function Th(h,C,S){!C&&!ih[h]&&(ih[h]=!0,Mt(!1,S))}V.memo(Xp);function Xp({routes:h,future:C,state:S}){return Rh(h,void 0,S,C)}function Hr(h){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jp({basename:h="/",children:C=null,location:S,navigationType:T="POP",navigator:N,static:B=!1}){je(!as(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=h.replace(/^\/*/,"/"),o=V.useMemo(()=>({basename:A,navigator:N,static:B,future:{}}),[A,N,B]);typeof S=="string"&&(S=Wr(S));let{pathname:c="/",search:f="",hash:y="",state:d=null,key:g="default"}=S,w=V.useMemo(()=>{let k=Cr(c,A);return k==null?null:{location:{pathname:k,search:f,hash:y,state:d,key:g},navigationType:T}},[A,c,f,y,d,g,T]);return Mt(w!=null,`<Router basename="${A}"> is not able to match the URL "${c}${f}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:V.createElement(Ft.Provider,{value:o},V.createElement(os.Provider,{children:C,value:w}))}function Zp({children:h,location:C}){return Hp(Wa(h),C)}function Wa(h,C=[]){let S=[];return V.Children.forEach(h,(T,N)=>{if(!V.isValidElement(T))return;let B=[...C,N];if(T.type===V.Fragment){S.push.apply(S,Wa(T.props.children,B));return}je(T.type===Hr,`[${typeof T.type=="string"?T.type:T.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!T.props.index||!T.props.children,"An index route cannot have child routes.");let A={id:T.props.id||B.join("-"),caseSensitive:T.props.caseSensitive,element:T.props.element,Component:T.props.Component,index:T.props.index,path:T.props.path,loader:T.props.loader,action:T.props.action,hydrateFallbackElement:T.props.hydrateFallbackElement,HydrateFallback:T.props.HydrateFallback,errorElement:T.props.errorElement,ErrorBoundary:T.props.ErrorBoundary,hasErrorBoundary:T.props.hasErrorBoundary===!0||T.props.ErrorBoundary!=null||T.props.errorElement!=null,shouldRevalidate:T.props.shouldRevalidate,handle:T.props.handle,lazy:T.props.lazy};T.props.children&&(A.children=Wa(T.props.children,B)),S.push(A)}),S}var Dn="get",An="application/x-www-form-urlencoded";function jn(h){return h!=null&&typeof h.tagName=="string"}function em(h){return jn(h)&&h.tagName.toLowerCase()==="button"}function tm(h){return jn(h)&&h.tagName.toLowerCase()==="form"}function rm(h){return jn(h)&&h.tagName.toLowerCase()==="input"}function im(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function sm(h,C){return h.button===0&&(!C||C==="_self")&&!im(h)}var Sn=null;function nm(){if(Sn===null)try{new FormData(document.createElement("form"),0),Sn=!1}catch{Sn=!0}return Sn}var om=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Na(h){return h!=null&&!om.has(h)?(Mt(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${An}"`),null):h}function am(h,C){let S,T,N,B,A;if(tm(h)){let o=h.getAttribute("action");T=o?Cr(o,C):null,S=h.getAttribute("method")||Dn,N=Na(h.getAttribute("enctype"))||An,B=new FormData(h)}else if(em(h)||rm(h)&&(h.type==="submit"||h.type==="image")){let o=h.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=h.getAttribute("formaction")||o.getAttribute("action");if(T=c?Cr(c,C):null,S=h.getAttribute("formmethod")||o.getAttribute("method")||Dn,N=Na(h.getAttribute("formenctype"))||Na(o.getAttribute("enctype"))||An,B=new FormData(o,h),!nm()){let{name:f,type:y,value:d}=h;if(y==="image"){let g=f?`${f}.`:"";B.append(`${g}x`,"0"),B.append(`${g}y`,"0")}else f&&B.append(f,d)}}else{if(jn(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');S=Dn,T=null,N=An,A=h}return B&&N==="text/plain"&&(A=B,B=void 0),{action:T,method:S.toLowerCase(),encType:N,formData:B,body:A}}function Za(h,C){if(h===!1||h===null||typeof h>"u")throw new Error(C)}async function lm(h,C){if(h.id in C)return C[h.id];try{let S=await import(h.module);return C[h.id]=S,S}catch(S){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(S),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cm(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function um(h,C,S){let T=await Promise.all(h.map(async N=>{let B=C.routes[N.route.id];if(B){let A=await lm(B,S);return A.links?A.links():[]}return[]}));return pm(T.flat(1).filter(cm).filter(N=>N.rel==="stylesheet"||N.rel==="preload").map(N=>N.rel==="stylesheet"?{...N,rel:"prefetch",as:"style"}:{...N,rel:"prefetch"}))}function sh(h,C,S,T,N,B){let A=(c,f)=>S[f]?c.route.id!==S[f].route.id:!0,o=(c,f)=>{var y;return S[f].pathname!==c.pathname||((y=S[f].route.path)==null?void 0:y.endsWith("*"))&&S[f].params["*"]!==c.params["*"]};return B==="assets"?C.filter((c,f)=>A(c,f)||o(c,f)):B==="data"?C.filter((c,f)=>{var d;let y=T.routes[c.route.id];if(!y||!y.hasLoader)return!1;if(A(c,f)||o(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(N.pathname+N.search+N.hash,window.origin),currentParams:((d=S[0])==null?void 0:d.params)||{},nextUrl:new URL(h,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function hm(h,C,{includeHydrateFallback:S}={}){return dm(h.map(T=>{let N=C.routes[T.route.id];if(!N)return[];let B=[N.module];return N.clientActionModule&&(B=B.concat(N.clientActionModule)),N.clientLoaderModule&&(B=B.concat(N.clientLoaderModule)),S&&N.hydrateFallbackModule&&(B=B.concat(N.hydrateFallbackModule)),N.imports&&(B=B.concat(N.imports)),B}).flat(1))}function dm(h){return[...new Set(h)]}function fm(h){let C={},S=Object.keys(h).sort();for(let T of S)C[T]=h[T];return C}function pm(h,C){let S=new Set;return new Set(C),h.reduce((T,N)=>{let B=JSON.stringify(fm(N));return S.has(B)||(S.add(B),T.push({key:B,link:N})),T},[])}function mm(h){let C=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return C.pathname==="/"?C.pathname="_root.data":C.pathname=`${C.pathname.replace(/\/$/,"")}.data`,C}function gm(){let h=V.useContext(vi);return Za(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function _m(){let h=V.useContext(Bn);return Za(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var el=V.createContext(void 0);el.displayName="FrameworkContext";function Dh(){let h=V.useContext(el);return Za(h,"You must render this element inside a <HydratedRouter> element"),h}function vm(h,C){let S=V.useContext(el),[T,N]=V.useState(!1),[B,A]=V.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:f,onMouseLeave:y,onTouchStart:d}=C,g=V.useRef(null);V.useEffect(()=>{if(h==="render"&&A(!0),h==="viewport"){let p=l=>{l.forEach(s=>{A(s.isIntersecting)})},n=new IntersectionObserver(p,{threshold:.5});return g.current&&n.observe(g.current),()=>{n.disconnect()}}},[h]),V.useEffect(()=>{if(T){let p=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(p)}}},[T]);let w=()=>{N(!0)},k=()=>{N(!1),A(!1)};return S?h!=="intent"?[B,g,{}]:[B,g,{onFocus:is(o,w),onBlur:is(c,k),onMouseEnter:is(f,w),onMouseLeave:is(y,k),onTouchStart:is(d,w)}]:[!1,g,{}]}function is(h,C){return S=>{h&&h(S),S.defaultPrevented||C(S)}}function ym({page:h,...C}){let{router:S}=gm(),T=V.useMemo(()=>yh(S.routes,h,S.basename),[S.routes,h,S.basename]);return T?V.createElement(wm,{page:h,matches:T,...C}):null}function Sm(h){let{manifest:C,routeModules:S}=Dh(),[T,N]=V.useState([]);return V.useEffect(()=>{let B=!1;return um(h,C,S).then(A=>{B||N(A)}),()=>{B=!0}},[h,C,S]),T}function wm({page:h,matches:C,...S}){let T=$r(),{manifest:N,routeModules:B}=Dh(),{loaderData:A,matches:o}=_m(),c=V.useMemo(()=>sh(h,C,o,N,T,"data"),[h,C,o,N,T]),f=V.useMemo(()=>sh(h,C,o,N,T,"assets"),[h,C,o,N,T]),y=V.useMemo(()=>{if(h===T.pathname+T.search+T.hash)return[];let w=new Set,k=!1;if(C.forEach(n=>{var s;let l=N.routes[n.route.id];!l||!l.hasLoader||(!c.some(a=>a.route.id===n.route.id)&&n.route.id in A&&((s=B[n.route.id])!=null&&s.shouldRevalidate)||l.hasClientLoader?k=!0:w.add(n.route.id))}),w.size===0)return[];let p=mm(h);return k&&w.size>0&&p.searchParams.set("_routes",C.filter(n=>w.has(n.route.id)).map(n=>n.route.id).join(",")),[p.pathname+p.search]},[A,T,N,c,C,h,B]),d=V.useMemo(()=>hm(f,N),[f,N]),g=Sm(f);return V.createElement(V.Fragment,null,y.map(w=>V.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...S})),d.map(w=>V.createElement("link",{key:w,rel:"modulepreload",href:w,...S})),g.map(({key:w,link:k})=>V.createElement("link",{key:w,...k})))}function Cm(...h){return C=>{h.forEach(S=>{typeof S=="function"?S(C):S!=null&&(S.current=C)})}}var Ah=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ah&&(window.__reactRouterVersion="7.2.0")}catch{}function xm({basename:h,children:C,window:S}){let T=V.useRef();T.current==null&&(T.current=up({window:S,v5Compat:!0}));let N=T.current,[B,A]=V.useState({action:N.action,location:N.location}),o=V.useCallback(c=>{V.startTransition(()=>A(c))},[A]);return V.useLayoutEffect(()=>N.listen(o),[N,o]),V.createElement(Jp,{basename:h,children:C,location:B.location,navigationType:B.action,navigator:N})}var Ph=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=V.forwardRef(function({onClick:C,discover:S="render",prefetch:T="none",relative:N,reloadDocument:B,replace:A,state:o,target:c,to:f,preventScrollReset:y,viewTransition:d,...g},w){let{basename:k}=V.useContext(Ft),p=typeof f=="string"&&Ph.test(f),n,l=!1;if(typeof f=="string"&&p&&(n=f,Ah))try{let R=new URL(window.location.href),F=f.startsWith("//")?new URL(R.protocol+f):new URL(f),U=Cr(F.pathname,k);F.origin===R.origin&&U!=null?f=U+F.search+F.hash:l=!0}catch{Mt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let s=Ip(f,{relative:N}),[a,m,b]=vm(T,g),x=Lm(f,{replace:A,state:o,target:c,preventScrollReset:y,relative:N,viewTransition:d});function L(R){C&&C(R),R.defaultPrevented||x(R)}let v=V.createElement("a",{...g,...b,href:n||s,onClick:l||B?C:L,ref:Cm(w,m),target:c,"data-discover":!p&&S==="render"?"true":void 0});return a&&!p?V.createElement(V.Fragment,null,v,V.createElement(ym,{page:s})):v});wr.displayName="Link";var bm=V.forwardRef(function({"aria-current":C="page",caseSensitive:S=!1,className:T="",end:N=!1,style:B,to:A,viewTransition:o,children:c,...f},y){let d=cs(A,{relative:f.relative}),g=$r(),w=V.useContext(Bn),{navigator:k,basename:p}=V.useContext(Ft),n=w!=null&&Pm(d)&&o===!0,l=k.encodeLocation?k.encodeLocation(d).pathname:d.pathname,s=g.pathname,a=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;S||(s=s.toLowerCase(),a=a?a.toLowerCase():null,l=l.toLowerCase()),a&&p&&(a=Cr(a,p)||a);const m=l!=="/"&&l.endsWith("/")?l.length-1:l.length;let b=s===l||!N&&s.startsWith(l)&&s.charAt(m)==="/",x=a!=null&&(a===l||!N&&a.startsWith(l)&&a.charAt(l.length)==="/"),L={isActive:b,isPending:x,isTransitioning:n},v=b?C:void 0,R;typeof T=="function"?R=T(L):R=[T,b?"active":null,x?"pending":null,n?"transitioning":null].filter(Boolean).join(" ");let F=typeof B=="function"?B(L):B;return V.createElement(wr,{...f,"aria-current":v,className:R,ref:y,style:F,to:A,viewTransition:o},typeof c=="function"?c(L):c)});bm.displayName="NavLink";var km=V.forwardRef(({discover:h="render",fetcherKey:C,navigate:S,reloadDocument:T,replace:N,state:B,method:A=Dn,action:o,onSubmit:c,relative:f,preventScrollReset:y,viewTransition:d,...g},w)=>{let k=Dm(),p=Am(o,{relative:f}),n=A.toLowerCase()==="get"?"get":"post",l=typeof o=="string"&&Ph.test(o),s=a=>{if(c&&c(a),a.defaultPrevented)return;a.preventDefault();let m=a.nativeEvent.submitter,b=(m==null?void 0:m.getAttribute("formmethod"))||A;k(m||a.currentTarget,{fetcherKey:C,method:b,navigate:S,replace:N,state:B,relative:f,preventScrollReset:y,viewTransition:d})};return V.createElement("form",{ref:w,method:n,action:p,onSubmit:T?c:s,...g,"data-discover":!l&&h==="render"?"true":void 0})});km.displayName="Form";function Em(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mh(h){let C=V.useContext(vi);return je(C,Em(h)),C}function Lm(h,{target:C,replace:S,state:T,preventScrollReset:N,relative:B,viewTransition:A}={}){let o=ls(),c=$r(),f=cs(h,{relative:B});return V.useCallback(y=>{if(sm(y,C)){y.preventDefault();let d=S!==void 0?S:ns(c)===ns(f);o(h,{replace:d,state:T,preventScrollReset:N,relative:B,viewTransition:A})}},[c,o,f,S,T,C,h,N,B,A])}var Rm=0,Tm=()=>`__${String(++Rm)}__`;function Dm(){let{router:h}=Mh("useSubmit"),{basename:C}=V.useContext(Ft),S=Yp();return V.useCallback(async(T,N={})=>{let{action:B,method:A,encType:o,formData:c,body:f}=am(T,C);if(N.navigate===!1){let y=N.fetcherKey||Tm();await h.fetch(y,S,N.action||B,{preventScrollReset:N.preventScrollReset,formData:c,body:f,formMethod:N.method||A,formEncType:N.encType||o,flushSync:N.flushSync})}else await h.navigate(N.action||B,{preventScrollReset:N.preventScrollReset,formData:c,body:f,formMethod:N.method||A,formEncType:N.encType||o,replace:N.replace,state:N.state,fromRouteId:S,flushSync:N.flushSync,viewTransition:N.viewTransition})},[h,C,S])}function Am(h,{relative:C}={}){let{basename:S}=V.useContext(Ft),T=V.useContext(zt);je(T,"useFormAction must be used inside a RouteContext");let[N]=T.matches.slice(-1),B={...cs(h||".",{relative:C})},A=$r();if(h==null){B.search=A.search;let o=new URLSearchParams(B.search),c=o.getAll("index");if(c.some(y=>y==="")){o.delete("index"),c.filter(d=>d).forEach(d=>o.append("index",d));let y=o.toString();B.search=y?`?${y}`:""}}return(!h||h===".")&&N.route.index&&(B.search=B.search?B.search.replace(/^\?/,"?index&"):"?index"),S!=="/"&&(B.pathname=B.pathname==="/"?S:Xt([S,B.pathname])),ns(B)}function Pm(h,C={}){let S=V.useContext(kh);je(S!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:T}=Mh("useViewTransitionState"),N=cs(h,{relative:C.relative});if(!S.isTransitioning)return!1;let B=Cr(S.currentLocation.pathname,T)||S.currentLocation.pathname,A=Cr(S.nextLocation.pathname,T)||S.nextLocation.pathname;return Mn(N.pathname,A)!=null||Mn(N.pathname,B)!=null}new TextEncoder;const $a="/bitvoyager/assets/image-CeNrqzaN.png",Nh="/bitvoyager/assets/bash-CfLfYOU1.png",Mm="/bitvoyager/assets/python-CXy__4tc.png",Nm="/bitvoyager/assets/javascript-_wTVfFQA.png",Om="/bitvoyager/assets/java-yItU80K6.png",Im="/bitvoyager/assets/c__-CaTChve7.png",Bm="/bitvoyager/assets/rust-RIHjc2rH.png",jm="/bitvoyager/assets/noam-DDqlFMxr.png",Hm="/bitvoyager/assets/mathieu-DQlYT2Ho.png";function Fm(){const[h,C]=V.useState(null),[S,T]=V.useState(null),N=["Bash","Python","Rust","C++","JavaScript","Java"],B={Bash:"Automate tasks and manage your system right from the command linelike a power user.",Python:"A beginner-friendly, high-level language beloved for data science, web apps, and more.",JavaScript:"The go-to language for creating interactive websites and dynamic web applications.",Java:"A tried-and-true language powering Android apps and countless enterprise solutions worldwide.","C++":"The powerhouse behind high-performance software, games, and system-level development.",Rust:"A modern, memory-safe language built for speed, reliability, and concurrent programming."};return V.useEffect(()=>{const A=setInterval(()=>{document.querySelectorAll(".city-glow").forEach(c=>{const f=.3+Math.random()*.3,y=20+Math.random()*15;c.style.opacity=f,c.style.filter=`blur(${y}px)`})},2e3);return()=>clearInterval(A)},[]),E.jsxs("div",{className:"relative w-full min-h-screen bg-gray-900 overflow-auto",children:[E.jsxs("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-gray-900 via-indigo-900 to-gray-900 overflow-hidden",children:[E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gray-900 opacity-60",style:{maskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",backgroundImage:`url("data:image/svg+xml,%3Csvg width='1200' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,250 L50,240 L80,190 L110,230 L140,210 L180,180 L220,240 L270,220 L300,200 L320,230 L350,210 L380,190 L420,240 L460,200 L490,230 L520,210 L550,190 L590,220 L630,230 L660,210 L690,200 L720,240 L750,220 L790,180 L830,240 L870,210 L910,230 L940,200 L980,220 L1020,240 L1050,190 L1080,210 L1110,230 L1140,200 L1170,240 L1200,250 L1200,300 L0,300 Z' fill='%23111827'/%3E%3C/svg%3E")`}}),[...Array(15)].map((A,o)=>E.jsx("div",{className:"city-glow absolute rounded-full transition-all duration-2000",style:{width:20+Math.random()*100,height:20+Math.random()*100,top:Math.random()*window.innerHeight,left:Math.random()*window.innerWidth,background:`radial-gradient(circle, ${["rgba(59,130,246,0.5)","rgba(139,92,246,0.5)","rgba(6,182,212,0.5)","rgba(16,185,129,0.5)"][Math.floor(Math.random()*4)]} 0%, transparent 70%)`,opacity:.3+Math.random()*.3,filter:`blur(${20+Math.random()*15}px)`}},`citylight-${o}`)),E.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
               linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px),
               linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px)
             `,backgroundSize:"80px 80px",opacity:.5}})]}),E.jsx("header",{className:"sticky top-0 z-50 bg-gray-900 bg-opacity-80 backdrop-filter backdrop-blur-md border-b border-cyan-500/30",children:E.jsx("div",{className:"w-full max-w-6xl mx-auto px-6 py-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-md shadow-lg shadow-cyan-500/30",children:E.jsx("img",{src:$a,alt:"BitVoyager logo",className:"w-8 h-8 rounded-full"})}),E.jsxs("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:[E.jsx("span",{className:"font-extrabold",children:"BIT"}),E.jsx("span",{className:"text-xl ml-1 font-light",children:"VOYAGER"})]})]}),E.jsx("nav",{className:"flex items-center",children:E.jsx("ul",{className:"flex gap-8 text-sm font-medium",children:["Home","About","Courses"].map(A=>E.jsx("li",{children:E.jsxs(wr,{to:`/${A.toLowerCase()==="home"?"":A.toLowerCase()}`,className:"text-gray-300 hover:text-cyan-400 transition-colors duration-300 flex items-center gap-2 py-2",children:[E.jsx("span",{className:"w-1 h-1 rounded-full bg-cyan-500"}),A]})},A))})})]})})}),E.jsxs("main",{className:"relative z-10 pt-8 pb-20 px-4",children:[E.jsxs("section",{className:"relative max-w-6xl mx-auto mb-16 flex flex-col items-center justify-center text-center pt-8",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 blur-lg opacity-30 animate-pulse"}),E.jsx("img",{src:$a,alt:"BitVoyager logo",className:"relative w-32 h-32 md:w-40 md:h-40 rounded-full border-2 border-cyan-500/50 p-1"})]}),E.jsx("h2",{className:"mt-6 text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-blue-500 tracking-tight",children:"BitVoyager"}),E.jsxs("h3",{className:"mt-2 text-xl md:text-2xl text-gray-300 font-medium",children:["The top ",E.jsx("span",{className:"text-cyan-400 font-bold",children:"1"})," coding learning app"]}),E.jsx("p",{className:"mt-6 max-w-2xl text-gray-300 text-lg",children:"Explore the digital frontier through immersive coding challenges that teach you real-world skills. Your adventure in programming starts here."}),E.jsxs(wr,{to:"/courses",className:"mt-8 inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-8 py-3 rounded-md text-lg font-medium hover:from-blue-500 hover:to-cyan-500 transition-all duration-300 shadow-lg shadow-blue-900/30 border border-blue-700/50",children:[E.jsx("span",{children:"Launch Your Journey"}),E.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:E.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})]}),E.jsx("div",{className:"absolute top-0 -left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl"}),E.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-cyan-500/10 rounded-full blur-3xl"})]}),E.jsxs("section",{className:"max-w-6xl mx-auto mb-24 px-4",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h4",{className:"inline-block text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 mb-4",children:"Learn Any Language You Want"}),E.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-cyan-500 to-blue-600 mx-auto rounded-full"}),E.jsx("p",{className:"mt-4 text-gray-300 max-w-xl mx-auto",children:"Choose from a variety of languages and start building your tech skills today."})]}),E.jsx("div",{className:"flex flex-nowrap items-center space-x-6 overflow-x-auto pb-8 px-4 no-scrollbar min-h-[300px]",children:N.map(A=>{const o=A==="Bash",c=A==="Python",f=h===A;return E.jsxs("div",{className:`
                    relative min-w-[280px] max-w-xs rounded-lg overflow-hidden transition-all duration-300
                    ${f?"scale-105 shadow-xl shadow-cyan-900/30":"shadow-lg shadow-gray-900/50"}
                    ${o||c?"border border-cyan-500/30":"border border-gray-700/30"}
                  `,onMouseEnter:()=>C(A),onMouseLeave:()=>C(null),children:[E.jsx("div",{className:`absolute inset-0 ${o||c?"bg-gradient-to-br from-gray-800/90 via-gray-900 to-blue-900/30":"bg-gradient-to-br from-gray-800/90 via-gray-900 to-gray-800"}`}),E.jsx("div",{className:"absolute inset-0 opacity-20",children:E.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[E.jsx("pattern",{id:`grid-${A}`,width:"40",height:"40",patternUnits:"userSpaceOnUse",children:E.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:o||c?"#0ea5e9":"#6b7280",strokeWidth:"0.5",opacity:"0.3"})}),E.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#grid-${A})`})]})}),(o||c)&&E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-cyan-500/20 via-transparent to-transparent"}),E.jsxs("div",{className:"relative z-10 p-6",children:[E.jsxs("div",{className:"flex items-start space-x-4",children:[E.jsxs("div",{className:`relative flex-shrink-0 p-3 rounded-lg ${o||c?"bg-gradient-to-br from-blue-900/50 to-cyan-900/50":"bg-gray-800/50"}`,children:[E.jsx("img",{src:A==="Bash"?Nh:A==="Python"?Mm:A==="JavaScript"?Nm:A==="Java"?Om:A==="C++"?Im:Bm,alt:`${A} logo`,className:"w-10 h-10"}),(o||c)&&E.jsx("div",{className:"absolute inset-0 rounded-lg border border-cyan-500/30 shadow-sm shadow-cyan-500/30"})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h2",{className:`text-xl font-bold mb-1 ${o||c?"text-cyan-400":"text-gray-300"}`,children:A}),E.jsx("p",{className:"text-sm text-gray-400 line-clamp-3",children:B[A]})]})]}),E.jsxs("div",{className:`mt-5 flex items-center justify-between ${o||c?"":"opacity-60"}`,children:[E.jsx("span",{className:`text-xs uppercase tracking-wide ${o||c?"text-cyan-400":"text-gray-500"}`,children:o||c?"Available Now":"Coming Soon"}),E.jsx("div",{className:"flex items-center gap-1",children:[...Array(4)].map((y,d)=>E.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${(o||c)&&d<4?"bg-cyan-400":"bg-gray-700"}`},d))})]}),E.jsx("div",{className:"mt-5",children:o?E.jsxs(wr,{to:"/bash",className:"w-full flex items-center justify-center gap-2 py-2.5 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded border border-cyan-500/30 font-medium hover:from-blue-500 hover:to-cyan-500 transition-colors",children:["Start Learning",E.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:E.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})]}):c?E.jsxs(wr,{to:"/python",className:"w-full flex items-center justify-center gap-2 py-2.5 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded border border-cyan-500/30 font-medium hover:from-blue-500 hover:to-cyan-500 transition-colors",children:["Start Learning",E.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:E.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})]}):E.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-gray-800 text-gray-400 rounded border border-gray-700 font-medium cursor-not-allowed",children:["Coming Soon",E.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:E.jsx("path",{d:"M12 15V3M12 15l-4-4M12 15l4-4",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),!(o||c)&&E.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-gray-800 border border-gray-700 text-gray-400",children:E.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v4H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm1 15.06c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM14 10h-4V7c0-1.1.9-2 2-2s2 .9 2 2v3z"})})})]},A)})})]}),E.jsxs("section",{className:"max-w-6xl mx-auto mb-24 px-4",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h4",{className:"inline-block text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-4",children:"Learn from the Best"}),E.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-purple-500 to-pink-600 mx-auto rounded-full"}),E.jsx("p",{className:"mt-4 text-gray-300 max-w-xl mx-auto",children:"Our courses are taught by elite instructors who will guide you through your coding journey."})]}),E.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:[{name:"Noam Favier",image:jm,role:"Bash & System Architecture",focus:"System Automation"},{name:"Mathieu Kircher",image:Hm,role:"Algorithm Design",focus:"Performance Optimization"}].map(A=>E.jsxs("div",{className:`
                  relative w-64 transition-all duration-300 rounded-xl overflow-hidden
                  ${S===A.name?"scale-105 shadow-xl shadow-purple-900/30":"shadow-lg shadow-gray-900/50"}
                `,onMouseEnter:()=>T(A.name),onMouseLeave:()=>T(null),children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-800 via-gray-900 to-purple-900/30"}),E.jsx("div",{className:"absolute inset-0 opacity-20",children:E.jsxs("svg",{width:"100%",height:"100%",children:[E.jsx("pattern",{id:`grid-teacher-${A.name}`,width:"20",height:"20",patternUnits:"userSpaceOnUse",children:E.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#a855f7",strokeWidth:"0.5",opacity:"0.3"})}),E.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#grid-teacher-${A.name})`})]})}),E.jsxs("div",{className:"relative z-10 p-6 flex flex-col items-center",children:[E.jsxs("div",{className:"relative mb-4",children:[E.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 blur-md opacity-40"}),E.jsx("img",{src:A.image,alt:A.name,className:"relative w-24 h-24 rounded-full border-2 border-purple-500/30 p-1"}),E.jsx("div",{className:"absolute inset-0 pointer-events-none",children:E.jsx("div",{className:"w-full h-full rounded-full border-2 border-dashed border-purple-500/20 animate-spin",style:{animationDuration:"15s"}})})]}),E.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:A.name}),E.jsx("p",{className:"text-sm text-purple-300 mb-3",children:A.role}),E.jsxs("div",{className:"w-full mt-2 grid grid-cols-2 gap-2 text-center",children:[E.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-purple-500/20",children:[E.jsx("p",{className:"text-xs text-gray-400",children:"Specialty"}),E.jsx("p",{className:"text-sm text-purple-300 font-medium",children:A.focus})]}),E.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-purple-500/20",children:[E.jsx("p",{className:"text-xs text-gray-400",children:"Rating"}),E.jsx("div",{className:"flex items-center justify-center gap-1 mt-1",children:[...Array(5)].map((o,c)=>E.jsx("svg",{className:"w-3 h-3 text-purple-400",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},c))})]})]})]})]},A.name))})]})]})]})}const Oh=V.createContext();function tl(){return V.useContext(Oh)}function zm(){const[h,C]=V.useState(null),{currentLevel:S,setCurrentLevel:T}=tl(),N=ls(),B=["Crash Landing","First Contact","City Navigation","Security Breach","Data Retrieval","Power Systems","Communication Array","Stealth Operations","AI Negotiation","Resource Collection","Transport Systems","Firewall Bypass","System Override","Restricted Zone","Rocket Location","Security Bypass","Fuel Synthesis","Launch Preparation","Final Countdown","Escape"],A=["Your spacecraft has crash-landed on NEXUS-9, a highly advanced technological planet. To return to your rocket and escape, you must navigate through the city's systems using BASH commands. Each challenge you overcome brings you closer to freedom. Good luck, Commander.","You have made first contact with the city's inhabitants. They are willing to help you, but only if you can prove your worth. Navigate through the city's urban edge to reach the city entrance.","The city's systems are complex and interconnected. Use your BASH skills to navigate through the first district and reach the central plaza.","Security measures have been triggered. You must bypass security protocols and gain deeper access to the city's restricted zones.","Critical information about the city's infrastructure is stored in secure data vaults. Extract this data to advance.","The city's power grid is unstable. Restore the energy systems using advanced shell commands.","Communication systems are heavily encrypted. Decipher and establish a secure link to communicate with potential allies.","Security drones are patrolling the area. Use stealth and redirection techniques to avoid detection.","An AI overlord governs the city. Engage in negotiations, convincing the AI to grant you access to deeper levels.","Resources are scarce, and you need vital supplies to proceed. Collect and manage resources strategically.","You must gain control of transport systems to move swiftly through the city and avoid obstacles.","The city's firewalls are blocking further progress. Use advanced scripting techniques to bypass digital barriers.","You need full system control. Override critical processes and take command of city operations.","You've entered a restricted zone filled with high-level encryption and security traps. Navigate safely and find a way out.","Your rockets last known location is deep within the city's most fortified sector. Locate and secure it before its too late.","Final security barriers stand between you and the launch site. Use all your skills to bypass them.","Fuel synthesis is needed for liftoff. Access chemical processing units and optimize fuel production.","Prepare your ship for launch by ensuring all systems are functional and secure.","The final countdown begins. Time is running outexecute the last set of commands to initiate the launch sequence.","Mission complete! Your rocket is airborne, and you have successfully escaped NEXUS-9. Congratulations, Commander!"],o=Array.from({length:20},(w,k)=>({number:k+1,name:B[k],completed:k<S-1,current:k===S-1,locked:k>S,bashSkill:Um(k+1)})),f=[{x:150,y:220},{x:320,y:180},{x:480,y:260},{x:620,y:180},{x:780,y:240},{x:880,y:340},{x:780,y:420},{x:620,y:480},{x:460,y:410},{x:340,y:500},{x:220,y:580},{x:350,y:660},{x:520,y:620},{x:680,y:680},{x:820,y:600},{x:950,y:540},{x:1050,y:460},{x:1150,y:380},{x:1220,y:280},{x:1350,y:220}],y=Math.max(...f.map(w=>w.x))+200,d=Math.max(...f.map(w=>w.y))+120,g=(w,k,p)=>{const n=k.x-w.x,l=k.y-w.y,s=w.x+n/2,a=w.y+l/2,m=-l*.3,b=n*.3;return`M ${w.x},${w.y} 
            Q ${s+m},${a+b} ${k.x},${k.y}`};return V.useEffect(()=>{const w=setInterval(()=>{document.querySelectorAll(".city-glow").forEach(p=>{const n=.3+Math.random()*.3,l=20+Math.random()*15;p.style.opacity=n,p.style.filter=`blur(${l}px)`})},2e3);return()=>clearInterval(w)},[]),E.jsxs("div",{className:"relative w-full h-screen bg-gray-900 overflow-auto no-scrollbar",children:[E.jsxs("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-gray-900 via-indigo-900 to-gray-900 overflow-hidden",children:[E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gray-900 opacity-60",style:{maskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",backgroundImage:`url("data:image/svg+xml,%3Csvg width='1200' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,250 L50,240 L80,190 L110,230 L140,210 L180,180 L220,240 L270,220 L300,200 L320,230 L350,210 L380,190 L420,240 L460,200 L490,230 L520,210 L550,190 L590,220 L630,230 L660,210 L690,200 L720,240 L750,220 L790,180 L830,240 L870,210 L910,230 L940,200 L980,220 L1020,240 L1050,190 L1080,210 L1110,230 L1140,200 L1170,240 L1200,250 L1200,300 L0,300 Z' fill='%23111827'/%3E%3C/svg%3E")`}}),[...Array(15)].map((w,k)=>E.jsx("div",{className:"city-glow absolute rounded-full transition-all duration-2000",style:{width:20+Math.random()*100,height:20+Math.random()*100,top:Math.random()*window.innerHeight,left:Math.random()*window.innerWidth,background:`radial-gradient(circle, ${["rgba(59,130,246,0.5)","rgba(139,92,246,0.5)","rgba(6,182,212,0.5)","rgba(16,185,129,0.5)"][Math.floor(Math.random()*4)]} 0%, transparent 70%)`,opacity:.3+Math.random()*.3,filter:`blur(${20+Math.random()*15}px)`}},`citylight-${k}`)),E.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
                 linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px),
                 linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px)
               `,backgroundSize:"80px 80px",opacity:.5}})]}),E.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900 bg-opacity-80 backdrop-filter backdrop-blur-md border-b border-cyan-500/30",children:E.jsx("div",{className:"w-full max-w-6xl mx-auto px-6 py-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-md shadow-lg shadow-cyan-500/30",children:E.jsx("img",{src:Nh,alt:"bash",className:"w-8 h-8"})}),E.jsxs("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500 cursor-pointer",onClick:()=>{N("/")},children:[E.jsx("span",{className:"font-extrabold",children:"BASH"}),E.jsx("span",{className:"text-xl ml-1 font-light",children:"ESCAPE"})]})]}),E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("div",{onClick:()=>N("/bash/playground"),className:"flex items-center gap-2 bg-gray-800/50 px-4 py-2 rounded-md border border-gray-700 cursor-pointer hover:bg-gray-700 transition-all duration-300 transform hover:scale-105",children:[E.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-1 rounded-md",children:E.jsx("svg",{className:"w-4 h-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5h16a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V7a2 2 0 012-2zm4 8l2-2-2-2m8 4h.01"})})}),E.jsx("span",{className:"text-white text-xs font-medium",children:"PlayGround"})]}),E.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 px-4 py-2 rounded-md border border-gray-700",children:[E.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-1 rounded-md",children:E.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})})}),E.jsxs("span",{className:"text-white text-xs font-medium",children:["MISSION PROGRESS:"," ",E.jsxs("span",{className:"font-mono text-cyan-400",children:[Math.round((S-1)/20*100),"%"]})]})]})]})]})})}),E.jsxs("div",{className:"sticky top-24 left-1/2 transform -translate-x-1/2 max-w-2xl w-full mx-auto px-6 py-4 mb-4 bg-gray-800/80 backdrop-filter backdrop-blur-md rounded-lg border border-cyan-500/30 shadow-xl shadow-cyan-900/20 z-40",children:[E.jsx("h2",{className:"text-lg font-bold text-cyan-400 mb-2",children:"MISSION BRIEFING"}),E.jsx("p",{className:"text-gray-200 leading-relaxed",children:A[S-1]})]}),E.jsxs("div",{className:"relative pt-40 pb-16 min-h-screen mx-auto ",style:{width:y,minHeight:d},children:[E.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none z-10 w-screen",width:y,height:d,children:[[...Array(30)].map((w,k)=>{const p=Math.random()*window.innerWidth,n=Math.random()*window.innerHeight,l=2+Math.random()*4;return E.jsx("circle",{cx:p,cy:n,r:l,fill:["#0ea5e9","#6366f1","#10b981","#f59e0b"][Math.floor(Math.random()*4)],opacity:.4+Math.random()*.4},`tech-dot-${k}`)}),f.map((w,k)=>{if(k===f.length-1)return null;const p=f[k+1],n=o[k].completed,l=o[k].completed&&o[k+1].current,s=g(w,p);let a="url(#lockedGradient)",m=4,b="",x="";return n||l?(a="url(#completedGradient)",l&&(b="0.5 12",x="activePath 4s linear infinite")):o[k].current&&(a="url(#currentGradient)",b="0.5 12",x="currentPath 4s linear infinite"),E.jsxs("g",{children:[E.jsx("path",{d:s,stroke:a,strokeWidth:m,strokeLinecap:"round",strokeDasharray:b,fill:"none",style:{animation:x}}),(n||l)&&E.jsx("path",{d:s,stroke:l?"#0ea5e9":"#10b981",strokeWidth:m+4,strokeLinecap:"round",fill:"none",opacity:"0.3",filter:"blur(4px)"})]},`path-${k}`)}),E.jsxs("defs",{children:[E.jsxs("linearGradient",{id:"completedGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"#10b981"}),E.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]}),E.jsxs("linearGradient",{id:"currentGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),E.jsx("stop",{offset:"100%",stopColor:"#6366f1"})]}),E.jsxs("linearGradient",{id:"lockedGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"#475569",stopOpacity:"0.3"}),E.jsx("stop",{offset:"100%",stopColor:"#475569",stopOpacity:"0.1"})]}),E.jsx("style",{children:`
                @keyframes activePath {
                  0% { stroke-dashoffset: 24; }
                  100% { stroke-dashoffset: 0; }
                }
                @keyframes currentPath {
                  0% { stroke-dashoffset: 0; }
                  100% { stroke-dashoffset: 24; }
                }
                @keyframes pulseGlow {
                  0% { filter: drop-shadow(0 0 3px rgba(6, 182, 212, 0.7)); }
                  50% { filter: drop-shadow(0 0 10px rgba(6, 182, 212, 0.9)); }
                  100% { filter: drop-shadow(0 0 3px rgba(6, 182, 212, 0.7)); }
                }
                @keyframes orbitDot {
                  0% { transform: translateX(-50%) translateY(-50%) rotate(0deg) translateX(24px) rotate(0deg); }
                  100% { transform: translateX(-50%) translateY(-50%) rotate(360deg) translateX(24px) rotate(-360deg); }
                }
              `})]})]}),f.map((w,k)=>{const p=o[k];let n,l,s,a,m=null;p.completed?(n="bg-gradient-to-br from-emerald-500 to-teal-600",l="border-emerald-400",s="text-white",a="w-16 h-16",m="checkmark"):p.current?(n="bg-gradient-to-br from-blue-500 to-cyan-600",l="border-blue-400",s="text-white",a="w-20 h-20"):(n="bg-gradient-to-br from-gray-700 to-gray-800",l="border-gray-600",s="text-gray-400",a="w-16 h-16",m="lock");const b=h===k;return E.jsxs("div",{className:"absolute z-20 transform transition-all duration-300 cursor-pointer",style:{top:w.y,left:w.x,transform:`translate(-50%, -50%) ${b?"scale(1.1)":"scale(1)"}`},onMouseEnter:()=>C(k),onMouseLeave:()=>C(null),onClick:()=>{p.current&&N(`/bash/${p.number}`)},children:[E.jsxs("div",{className:`relative ${b?"-translate-y-1":""} transition-transform duration-200`,children:[E.jsx("div",{className:"absolute rounded-full transition-all duration-300 opacity-70",style:{width:p.current?"100px":"80px",height:p.current?"100px":"80px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:p.current?"radial-gradient(circle, rgba(6,182,212,0.3) 0%, transparent 70%)":p.completed?"radial-gradient(circle, rgba(16,185,129,0.2) 0%, transparent 70%)":"radial-gradient(circle, rgba(71,85,105,0.1) 0%, transparent 70%)",filter:p.current?"blur(10px)":"blur(5px)",opacity:b?.9:.6}}),b&&E.jsxs("div",{className:"absolute -top-20 whitespace-nowrap bg-gray-800/90 backdrop-filter backdrop-blur-md px-4 py-3 rounded-lg shadow-xl border border-gray-700 z-999 text-center",style:{width:"220px",left:"50%",transform:"translateX(-50%)"},children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:`font-bold text-sm mb-1 ${p.locked?"text-gray-400":p.current?"text-cyan-400":"text-emerald-400"}`,children:p.name}),E.jsx("span",{className:"text-xs text-gray-300",children:p.locked?"Access restricted. Complete previous challenges.":p.completed?"Challenge completed! Revisit this node for practice.":`Bash Skill: ${p.bashSkill}`})]}),E.jsx("div",{className:"absolute w-3 h-3 bg-gray-800 border-t border-l border-gray-700 transform rotate-45 bottom-0 translate-y-1.5 left-1/2 -ml-1.5"})]}),E.jsxs("div",{className:`relative ${a} rounded-full flex items-center justify-center ${n} border-2 ${l} shadow-lg transition-all duration-300 overflow-hidden`,style:{boxShadow:b?`0 0 20px ${p.current?"rgba(6,182,212,0.5)":p.completed?"rgba(16,185,129,0.5)":"rgba(71,85,105,0.3)"}`:`0 0 10px ${p.current?"rgba(6,182,212,0.3)":p.completed?"rgba(16,185,129,0.3)":"rgba(71,85,105,0.1)"}`,...p.current&&{animation:"pulseGlow 2s ease-in-out infinite"}},children:[E.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:E.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",children:[E.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"white",strokeWidth:"0.5",strokeDasharray:"1 4"}),E.jsx("circle",{cx:"50",cy:"50",r:"30",stroke:"white",strokeWidth:"0.5"}),E.jsx("path",{d:"M50 10 L50 20 M50 80 L50 90 M10 50 L20 50 M80 50 L90 50",stroke:"white",strokeWidth:"0.5"})]})}),p.current&&E.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[E.jsx("div",{className:"absolute top-1/2 left-1/2 w-2 h-2 bg-cyan-300 rounded-full opacity-80",style:{animation:"orbitDot 4s linear infinite"}}),E.jsx("div",{className:"absolute top-1/2 left-1/2 w-1 h-1 bg-white rounded-full opacity-80",style:{animation:"orbitDot 3s linear infinite reverse"}})]}),E.jsx("div",{className:"relative flex flex-col items-center justify-center",children:m==="checkmark"?E.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:E.jsx("path",{d:"M5 13l4 4L19 7",strokeLinecap:"round",strokeLinejoin:"round"})}):m==="lock"?E.jsx("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v4H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm1 15.06c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM14 10h-4V7c0-1.1.9-2 2-2s2 .9 2 2v3z"})}):E.jsx("span",{className:`text-2xl font-bold ${s}`,children:p.number})})]}),p.completed&&E.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-white text-emerald-600 flex items-center justify-center text-xs font-bold shadow-md z-10",children:p.number})]}),E.jsx("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 text-center",children:E.jsx("span",{className:`text-xs font-medium ${p.locked?"text-gray-500":p.current?"text-cyan-400":"text-emerald-400"}`,children:p.name})})]},k)})]})]})}function Um(h){return["Basic Commands","File Navigation","File Permissions","I/O Redirection","Pipelines","Text Processing","Environment Variables","Shell Scripts","Process Management","Pattern Matching","Conditional Statements","Loops","Functions","Signal Handling","Job Control","Network Tools","System Monitoring","User Management","Scheduling Tasks","Advanced Scripting"][h-1]||`Level ${h}`}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=h=>h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ih=(...h)=>h.filter((C,S,T)=>!!C&&C.trim()!==""&&T.indexOf(C)===S).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=V.forwardRef(({color:h="currentColor",size:C=24,strokeWidth:S=2,absoluteStrokeWidth:T,className:N="",children:B,iconNode:A,...o},c)=>V.createElement("svg",{ref:c,...$m,width:C,height:C,stroke:h,strokeWidth:T?Number(S)*24/Number(C):S,className:Ih("lucide",N),...o},[...A.map(([f,y])=>V.createElement(f,y)),...Array.isArray(B)?B:[B]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(h,C)=>{const S=V.forwardRef(({className:T,...N},B)=>V.createElement(qm,{ref:B,iconNode:C,className:Ih(`lucide-${Wm(h)}`,T),...N}));return S.displayName=`${h}`,S};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Km=st("Brain",Vm);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nh=st("Check",Ym);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qm=st("CircleCheckBig",Gm);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nn=st("CircleX",Xm);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zm=st("Clock",Jm);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],t0=st("Code",e0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],i0=st("Globe",r0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],n0=st("Moon",s0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],a0=st("RefreshCw",o0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],_i=st("Rocket",l0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u0=st("Settings",c0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],d0=st("SkipForward",h0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qa=st("Star",f0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],oh=st("Terminal",p0);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],ah=st("Trophy",m0),g0=({onModeSelect:h})=>E.jsx("div",{className:"min-h-screen w-full bg-slate-900 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-2xl mx-auto p-8",children:[E.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-12",children:"Choose Your Learning Path"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("button",{onClick:()=>h("standard"),className:"bg-blue-600 hover:bg-blue-700 transition-colors p-8 rounded-lg text-left group",children:[E.jsxs("div",{className:"flex items-center mb-4",children:[E.jsx(_i,{className:"w-8 h-8 text-white mr-4 group-hover:translate-x-1 transition-transform"}),E.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Standard Mode"})]}),E.jsx("p",{className:"text-blue-200",children:"Progress through questions of increasing difficulty, from easy to hard. Perfect for a structured learning experience."})]}),E.jsxs("button",{onClick:()=>h("learning"),className:"bg-purple-600 hover:bg-purple-700 transition-colors p-8 rounded-lg text-left group",children:[E.jsxs("div",{className:"flex items-center mb-4",children:[E.jsx(Km,{className:"w-8 h-8 text-white mr-4 group-hover:translate-x-1 transition-transform"}),E.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Learning Mode"})]}),E.jsx("p",{className:"text-purple-200",children:"Adaptive learning that adjusts to your skill level and tracks your progress. Questions are selected based on your performance."})]})]})]})}),_0={completedQuestions:[],skippedQuestions:[],failedAttempts:{},skillLevels:{loops:0,"list manipulation":0,strings:0,"hash tables":0,arrays:0,recursion:0,"dynamic programming":0,"binary search":0,matrix:0,sorting:0},questionHistory:{},lastSessionDate:null,consecutiveDays:0},v0=()=>{const h=localStorage.getItem("pythonLearningProfile");return h?JSON.parse(h):_0},lh=h=>{localStorage.setItem("pythonLearningProfile",JSON.stringify(h))},y0=h=>{switch(h){case"easy":return 3;case"medium":return 6;case"hard":return 9;default:return 5}},S0=(h,C,S,T=1,N=!1)=>{const c={easy:.8,medium:1,hard:1.2},f=.15;let y=S?1:-.5;return y*=c[C.difficulty],S&&T>1&&(y*=Math.max(.2,1-(T-1)*f)),N&&(y*=.7),y},w0=(h,C,S,T=1,N=!1)=>{var c;if(!h)return null;const B={...h},A=S0(h,C,S,T,N);C.tags.forEach(f=>{B.skillLevels[f]!==void 0&&(B.skillLevels[f]=Math.max(0,Math.min(10,B.skillLevels[f]+A)))});const o=new Date().toISOString();return B.questionHistory[C.id]={...B.questionHistory[C.id]||{},lastAttempt:o,attempts:(((c=B.questionHistory[C.id])==null?void 0:c.attempts)||0)+1,success:S,skipped:N},N?B.skippedQuestions.includes(C.id)||B.skippedQuestions.push(C.id):S&&(B.skippedQuestions=B.skippedQuestions.filter(f=>f!==C.id)),!S&&!N&&(B.failedAttempts[C.id]=(B.failedAttempts[C.id]||0)+1),S&&delete B.failedAttempts[C.id],B},C0=(h,C,S)=>S?h==="standard"?x0(S):h==="learning"?C?b0(C,S):(console.error("No profile provided for learning mode"),null):(console.error("Invalid mode selected:",h),null):(console.error("No questions provided"),null),x0=h=>{if(!h)return console.error("No questions provided for standard mode"),null;const C=["easy","medium","hard"];try{return C.map(T=>{const N=Object.entries(h).filter(([A,o])=>o.difficulty===T).map(([A,o])=>({id:parseInt(A),...o}));if(N.length===0)throw new Error(`No questions found for difficulty: ${T}`);const B=Math.floor(Math.random()*N.length);return N[B]})}catch{return null}},b0=(h,C)=>{if(!h||!C)return console.error("Missing required parameters:",{profile:!!h,allQuestions:!!C}),null;h.questionHistory||(h.questionHistory={}),h.skippedQuestions||(h.skippedQuestions=[]),h.failedAttempts||(h.failedAttempts={});const S=Object.entries(C).filter(([A])=>!isNaN(A)&&!h.completedQuestions.includes(parseInt(A))).map(([A,o])=>({id:parseInt(A),...o}));if(S.length<3)return null;const T=[],N=[];S.forEach(A=>{let o=0;const c=A.tags.reduce((n,l)=>n+(h.skillLevels[l]||0),0)/A.tags.length,f=y0(A.difficulty);o+=50*(1-Math.abs(c-f)/10);const y=new Set(A.tags),d=Object.values(h.questionHistory).sort((n,l)=>new Date(l.lastAttempt)-new Date(n.lastAttempt)).slice(0,5),g=new Set(d.flatMap(n=>n.tags||[])),w=[...y].filter(n=>!g.has(n)).length*5;o+=Math.min(20,w);const k=Object.values(h.skillLevels).reduce((n,l)=>n+l,0)/Object.values(h.skillLevels).length;if((A.difficulty==="hard"&&k<7||A.difficulty==="medium"&&k<3)&&(o-=50),h.skippedQuestions.includes(A.id)||(h.failedAttempts[A.id]||0)>0){if(h.skippedQuestions.includes(A.id)){const s=(h.questionHistory[A.id]?Date.now()-new Date(h.questionHistory[A.id].lastAttempt):1/0)/(1e3*60*60*24);o+=Math.min(20,s*2)}if((h.failedAttempts[A.id]||0)>0){const s=(h.questionHistory[A.id]?Date.now()-new Date(h.questionHistory[A.id].lastAttempt):1/0)/(1e3*60*60*24);o-=Math.max(0,30-s*3)}T.push({question:A,score:o})}else N.push({question:A,score:o})}),N.sort((A,o)=>o.score-A.score),T.sort((A,o)=>o.score-A.score);const B=[];for(let A=0;A<2;A++)N.length>A&&B.push(N[A].question);return T.length>0&&T[0].score>20?B.push(T[0].question):N.length>2&&B.push(N[2].question),B};function k0(h){const S={easy:[1,2,3,4,13,14,16,17,21,26,28],medium:[5,6,7,8,9,10,12,15,18,19,20,22,23,24,25,27,29],hard:[11],1:{code:`def get_sum_of_list(lst):
    total = 0
    # Your code here
    return total`,question:"Complete the function to return the sum of all numbers in the input list.",editableLines:[2],testCases:[{input:[[1,2,3,4,5]],output:15},{input:[[-1,-2,5,8]],output:10},{input:[[]],output:0}],functionName:"get_sum_of_list",tags:["loops","list manipulation","basic arithmetic"],difficulty:"easy",questionType:"fill in the blank"},2:{code:`def find_max(lst):
    if not lst:
        return None
    maximum = lst[0]
    # Your code here
    return maximum`,question:"Complete the function to find the maximum value in the list without using built-in max() function.",editableLines:[4],testCases:[{input:[[1,5,2,8,3]],output:8},{input:[[-10,-5,-2,-1]],output:-1},{input:[[42]],output:42}],functionName:"find_max",tags:["loops","list manipulation","comparison"],difficulty:"easy",questionType:"fill in the blank"},3:{code:`def is_palindrome(s):
    # Remove non-alphanumeric characters and convert to lowercase
    cleaned = "".join(c.lower() for c in s if c.isalnum())
    # Your code here
    return True`,question:"Complete the function to check if the input string is a palindrome (reads the same forwards and backwards). The function should ignore spaces, punctuation, and case.",editableLines:[3],testCases:[{input:["A man, a plan, a canal: Panama"],output:"True"},{input:["race a car"],output:"False"},{input:["Was it a car or a cat I saw?"],output:"True"}],functionName:"is_palindrome",tags:["strings","comparison"],difficulty:"easy",questionType:"fill in the blank"},4:{code:`def count_vowels(text):
    vowels = "aeiouAEIOU"
    count = 0
    # Your code here
    return count`,question:"Complete the function to count the number of vowels in the input string.",editableLines:[3],testCases:[{input:["Hello World"],output:3},{input:["Python Programming"],output:4},{input:["aEiOu"],output:5}],functionName:"count_vowels",tags:["strings","loops","counting"],difficulty:"easy",questionType:"fill in the blank"},5:{code:`def fibonacci(n):
    if n <= 0:
        return []
    elif n == 1:
        return [0]
    sequence = [0, 1]
    # Your code here
    return sequence`,question:"Complete the function to generate a Fibonacci sequence of length n.",editableLines:[6],testCases:[{input:[5],output:[0,1,1,2,3]},{input:[8],output:[0,1,1,2,3,5,8,13]},{input:[2],output:[0,1]}],functionName:"fibonacci",tags:["loops","list manipulation","mathematics"],difficulty:"medium",questionType:"fill in the blank"},6:{code:`def binary_search(arr, target):
    left, right = 0, len(arr) - 1
    # Your code here
    # Your code here
    # Your code here
    return -1`,question:"Complete the function to implement binary search. Return the index of the target if found, otherwise return -1.",editableLines:[2,3,4],testCases:[{input:[[1,2,3,4,5],3],output:2},{input:[[1,3,5,7,9],8],output:-1},{input:[[1],1],output:0}],functionName:"binary_search",tags:["binary search","arrays","algorithms"],difficulty:"medium",questionType:"fill in the blank"},7:{code:`def merge_sorted_arrays(arr1, arr2):
    result = []
    i = j = 0
    # Your code here
    # Your code here
    # Your code here
    return result`,question:"Complete the function to merge two sorted arrays into a single sorted array.",editableLines:[3,4,5],testCases:[{input:[[1,3,5],[2,4,6]],output:[1,2,3,4,5,6]},{input:[[1,2,3],[]],output:[1,2,3]},{input:[[],[1,2,3]],output:[1,2,3]}],functionName:"merge_sorted_arrays",tags:["arrays","two pointers","sorting"],difficulty:"medium",questionType:"fill in the blank"},8:{code:`def rotate_array(nums, k):
    n = len(nums)
    k = k % n
    # Your code here
    # Your code here
    return nums`,question:"Complete the function to rotate the array to the right by k steps.",editableLines:[3,4],testCases:[{input:[[1,2,3,4,5,6,7],3],output:[5,6,7,1,2,3,4]},{input:[[-1,-100,3,99],2],output:[3,99,-1,-100]},{input:[[1],0],output:[1]}],functionName:"rotate_array",tags:["arrays","mathematics"],difficulty:"medium",questionType:"fill in the blank"},9:{code:`def valid_parentheses(s):
    stack = []
    pairs = {")": "(", "}": "{", "]": "["}
    # Your code here
    # Your code here
    return len(stack) == 0`,question:"Complete the function to determine if the input string has valid parentheses.",editableLines:[3,4],testCases:[{input:["()"],output:"True"},{input:["()[]{}"],output:"True"},{input:["(]"],output:"False"}],functionName:"valid_parentheses",tags:["strings","stack","validation"],difficulty:"medium",questionType:"fill in the blank"},10:{code:`def pascal_triangle(n):
    if n <= 0:
        return []
    triangle = [[1]]
    # Your code here
    # Your code here
    # Your code here
    return triangle`,question:"Complete the function to generate Pascal's triangle up to n rows.",editableLines:[4,5,6],testCases:[{input:[3],output:[[1],[1,1],[1,2,1]]},{input:[1],output:[[1]]},{input:[5],output:[[1],[1,1],[1,2,1],[1,3,3,1],[1,4,6,4,1]]}],functionName:"pascal_triangle",tags:["arrays","dynamic programming","mathematics"],difficulty:"medium",questionType:"fill in the blank"},11:{code:`def count_islands(grid):
    if not grid:
        return 0
    rows, cols = len(grid), len(grid[0])
    count = 0
    def flood_fill(i, j):
        # Your code here
        # Your code here
        # Your code here
    # Your code here
    return count`,question:"Complete the function to count the number of islands in a binary grid. An island is surrounded by water (0) and formed by connecting adjacent lands (1) horizontally or vertically.",editableLines:[6,7,8,9],testCases:[{input:[[[1,1,0],[1,0,0],[0,0,1]]],output:2},{input:[[[1,1,1],[1,1,1],[1,1,1]]],output:1},{input:[[[0,0,0],[0,0,0],[0,0,0]]],output:0}],functionName:"count_islands",tags:["depth-first search","matrix","recursion"],difficulty:"hard",questionType:"fill in the blank"},12:{code:`def reverse_linked_list(head):
    prev = None
    current = head
    # Your code here
    # Your code here
    return prev`,question:"Complete the function to reverse a singly linked list iteratively.",editableLines:[3,4],testCases:[{input:[[1,2,3,4,5]],output:[5,4,3,2,1]},{input:[[1,2]],output:[2,1]},{input:[[]],output:[]}],functionName:"reverse_linked_list",tags:["linked list","pointers"],difficulty:"medium",questionType:"fill in the blank"},13:{code:`def find_first_unique(s):
    char_count = {}
    # Your code here
    # Your code here
    # Your code here
    return -1`,question:"Complete the function to find the index of the first non-repeating character in the string. Return -1 if no unique character exists.",editableLines:[2,3,4],testCases:[{input:["leetcode"],output:0},{input:["loveleetcode"],output:2},{input:["aabb"],output:-1}],functionName:"find_first_unique",tags:["strings","hash tables"],difficulty:"easy",questionType:"fill in the blank"},14:{code:`def missing_number(nums):
    n = len(nums)
    expected_sum = (n * (n + 1)) // 2
    # Your code here
    return expected_sum - actual_sum`,question:"Complete the function to find the missing number in a sequence from 0 to n.",editableLines:[3],testCases:[{input:[[3,0,1]],output:2},{input:[[9,6,4,2,3,5,7,0,1]],output:8},{input:[[0]],output:1}],functionName:"missing_number",tags:["arrays","mathematics"],difficulty:"easy",questionType:"fill in the blank"},15:{code:`def climb_stairs(n):
    if n <= 2:
        return n
    dp = [0] * (n + 1)
    dp[1] = 1
    dp[2] = 2
    # Your code here
    return dp[n]`,question:"Complete the function to count the number of ways to climb n stairs, taking either 1 or 2 steps at a time.",editableLines:[6],testCases:[{input:[3],output:3},{input:[4],output:5},{input:[5],output:8}],functionName:"climb_stairs",tags:["dynamic programming"],difficulty:"medium",questionType:"fill in the blank"},16:{code:`def bubble_sort(arr):
    n = len(arr)
    # Your code here
    # Your code here
    # Your code here
    return arr`,question:"Complete the function to implement bubble sort algorithm.",editableLines:[2,3,4],testCases:[{input:[[64,34,25,12,22,11,90]],output:[11,12,22,25,34,64,90]},{input:[[5,2,3,1]],output:[1,2,3,5]},{input:[[1]],output:[1]}],functionName:"bubble_sort",tags:["sorting","arrays"],difficulty:"easy",questionType:"fill in the blank"},17:{code:`def longest_common_prefix(strs):
    if not strs:
        return ""
    shortest = min(strs, key=len)
    # Your code here
    # Your code here
    # Your code here
    return shortest[:i]`,question:"Complete the function to find the longest common prefix string amongst an array of strings.",editableLines:[4,5,6],testCases:[{input:[["flower","flow","flight"]],output:"fl"},{input:[["dog","racecar","car"]],output:""},{input:[["","b"]],output:""}],functionName:"longest_common_prefix",tags:["strings"],difficulty:"easy",questionType:"fill in the blank"},18:{code:`def power(x, n):
    if n == 0:
        return 1
    # Your code here
    # Your code here
    # Your code here
    return result`,question:"Complete the function to implement power(x, n) which calculates x raised to the power n without using built-in power functions.",editableLines:[3,4,5],testCases:[{input:[2,3],output:8},{input:[2,-2],output:.25},{input:[5,0],output:1}],functionName:"power",tags:["mathematics","recursion"],difficulty:"medium",questionType:"fill in the blank"},19:{code:`def rotate_matrix(matrix):
    n = len(matrix)
    # First transpose the matrix
    for i in range(n):
        for j in range(i, n):
            # Your code here
    # Then reverse each row
    for i in range(n):
        # Your code here
    return matrix`,question:"Complete the function to rotate the matrix 90 degrees clockwise in-place.",editableLines:[5,8],testCases:[{input:[[[1,2,3],[4,5,6],[7,8,9]]],output:"[[7,4,1],[8,5,2],[9,6,3]]"},{input:[[[1]]],output:"[[1]]"},{input:[[[1,2],[3,4]]],output:"[[3,1],[4,2]]"}],functionName:"rotate_matrix",tags:["matrix","arrays"],difficulty:"medium",questionType:"fill in the blank"},20:{code:`def validate_bst(root):
    def is_valid(node, min_val, max_val):
        if not node:
            return True
        # Your code here
        # Your code here
        # Your code here
    return is_valid(root, float("-inf"), float("inf"))`,question:"Complete the helper function to validate if a binary tree is a valid binary search tree (BST).",editableLines:[4,5,6],testCases:[{input:[[2,1,3]],output:"True"},{input:[[5,1,4,null,null,3,6]],output:"False"},{input:[[1]],output:"True"}],functionName:"validate_bst",tags:["binary trees","recursion"],difficulty:"medium",questionType:"fill in the blank"},21:{code:`def is_anagram(s1, s2):
    if len(s1) != len(s2):
        return False
    char_count = {}
    # Your code here
    # Your code here
    return True`,question:"Complete the function to determine if two strings are anagrams of each other.",editableLines:[4,5],testCases:[{input:["listen","silent"],output:"True"},{input:["hello","world"],output:"False"},{input:["",""],output:"True"}],functionName:"is_anagram",tags:["strings","hash tables"],difficulty:"easy",questionType:"fill in the blank"},22:{code:`def kadane_max_sum(arr):
    if not arr:
        return 0
    current_sum = max_sum = arr[0]
    # Your code here
    # Your code here
    return max_sum`,question:"Complete the function to find the maximum sum of a contiguous subarray within the array (Kadane's algorithm).",editableLines:[4,5],testCases:[{input:[[-2,1,-3,4,-1,2,1,-5,4]],output:6},{input:[[1]],output:1},{input:[[-1]],output:-1}],functionName:"kadane_max_sum",tags:["arrays","dynamic programming"],difficulty:"medium",questionType:"fill in the blank"},23:{code:`def group_anagrams(words):
    anagram_groups = {}
    # Your code here
    # Your code here
    # Your code here
    return list(anagram_groups.values())`,question:"Complete the function to group anagrams together from a list of words.",editableLines:[2,3,4],testCases:[{input:[["eat","tea","tan","ate","nat","bat"]],output:[["eat","tea","ate"],["tan","nat"],["bat"]]},{input:[[""]],output:[[""]]},{input:[["a"]],output:[["a"]]}],functionName:"group_anagrams",tags:["strings","hash tables","sorting"],difficulty:"medium",questionType:"fill in the blank"},24:{code:`def jump_game(nums):
    max_reach = 0
    # Your code here
    # Your code here
    return max_reach >= len(nums) - 1`,question:"Complete the function to determine if you can reach the last index of the array. Each element represents the maximum jump length at that position.",editableLines:[2,3],testCases:[{input:[[2,3,1,1,4]],output:"True"},{input:[[3,2,1,0,4]],output:"False"},{input:[[0]],output:"True"}],functionName:"jump_game",tags:["arrays","greedy"],difficulty:"medium",questionType:"fill in the blank"},25:{code:`def longest_substring_without_repeats(s):
    char_index = {}
    max_length = start = 0
    # Your code here
    # Your code here
    # Your code here
    return max_length`,question:"Complete the function to find the length of the longest substring without repeating characters.",editableLines:[3,4,5],testCases:[{input:["abcabcbb"],output:3},{input:["bbbbb"],output:1},{input:["pwwkew"],output:3}],functionName:"longest_substring_without_repeats",tags:["strings","sliding window","hash tables"],difficulty:"medium",questionType:"fill in the blank"},26:{code:`def selection_sort(arr):
    n = len(arr)
    # Your code here
    # Your code here
    # Your code here
    return arr`,question:"Complete the function to implement the selection sort algorithm.",editableLines:[2,3,4],testCases:[{input:[[64,25,12,22,11]],output:[11,12,22,25,64]},{input:[[5,2,3,1]],output:[1,2,3,5]},{input:[[1]],output:[1]}],functionName:"selection_sort",tags:["sorting","arrays"],difficulty:"easy",questionType:"fill in the blank"},27:{code:`def matrix_spiral_order(matrix):
    if not matrix:
        return []
    result = []
    top, bottom = 0, len(matrix) - 1
    left, right = 0, len(matrix[0]) - 1
    # Your code here
    # Your code here
    # Your code here
    return result`,question:"Complete the function to return all elements of the matrix in spiral order.",editableLines:[6,7,8],testCases:[{input:[[[1,2,3],[4,5,6],[7,8,9]]],output:[1,2,3,6,9,8,7,4,5]},{input:[[[1,2,3,4],[5,6,7,8],[9,10,11,12]]],output:[1,2,3,4,8,12,11,10,9,5,6,7]},{input:[[[1]]],output:[1]}],functionName:"matrix_spiral_order",tags:["matrix","arrays"],difficulty:"medium",questionType:"fill in the blank"},28:{code:`def insertion_sort(arr):
    # Your code here
    # Your code here
    # Your code here
    return arr`,question:"Complete the function to implement the insertion sort algorithm.",editableLines:[1,2,3],testCases:[{input:[[12,11,13,5,6]],output:[5,6,11,12,13]},{input:[[4,3,2,1]],output:[1,2,3,4]},{input:[[1]],output:[1]}],functionName:"insertion_sort",tags:["sorting","arrays"],difficulty:"easy",questionType:"fill in the blank"},29:{code:`def valid_sudoku(board):
    rows = [set() for _ in range(9)]
    cols = [set() for _ in range(9)]
    boxes = [set() for _ in range(9)]
    # Your code here
    return True`,question:"Complete the function to determine if a 9x9 Sudoku board is valid. Each row, column, and 3x3 box should contain digits 1-9 without repetition.",editableLines:[4],testCases:[{input:[[["5","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]],output:!0},{input:[[["8","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]],output:!1},{input:[[[".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","."],[".",".",".",".",".",".",".",".","."]]],output:!0}],functionName:"valid_sudoku",tags:["matrix","hash tables","validation"],difficulty:"medium",questionType:"fill in the blank"}}[h];if(!S)throw new Error(`Question ${h} not found`);return S}const E0="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js",L0="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js",ch=h=>new Promise((C,S)=>{const T=document.createElement("script");T.src=h,T.async=!0,T.onload=C,T.onerror=S,document.head.appendChild(T)}),R0=({initialCode:h="",onCodeChange:C=()=>{},className:S=""})=>{const[T,N]=V.useState(h),[B,A]=V.useState(1),[o,c]=V.useState(!1),f=V.useRef(null),y=V.useRef(null),d=V.useRef(null),g=V.useRef(null),w=V.useRef(!1);V.useEffect(()=>{const b=async()=>{try{window.Prism||(await ch(E0),await ch(L0)),c(!0)}catch(x){console.error("Failed to load Prism:",x),setTimeout(b,1e3)}};return b(),w.current=!0,()=>{w.current=!1,g.current&&clearTimeout(g.current)}},[]);const k=V.useCallback(b=>{if(!(!w.current||!o||!window.Prism||!d.current))try{window.Prism.hooks.run("before-highlight",{grammar:window.Prism.languages.python,language:"python",code:b});const x=window.Prism.highlight(b,window.Prism.languages.python,"python");x&&d.current&&(d.current.innerHTML=x)}catch(x){console.error("Highlighting failed:",x),d.current&&(d.current.textContent=b)}},[o]),p=V.useCallback(b=>{g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{k(b)},30)},[k]);V.useEffect(()=>{const b=T.split(`
`).length;A(b),p(T)},[T,p]),V.useEffect(()=>{o&&k(T)},[o,T,k]);const n=b=>{const x=b.target.value.replace(/\u00A0/g," ");N(x),C(x),y.current&&(y.current.scrollTop=b.target.scrollTop,y.current.scrollLeft=b.target.scrollLeft)},l=b=>{const{scrollTop:x,scrollLeft:L}=b.target;[y.current,f.current].forEach(R=>{R&&(R.scrollTop!==x||R.scrollLeft!==L)&&(R.scrollTop=x,R.scrollLeft=L)})},s=b=>{const x=b.match(/^( *)/);return x?x[0].length:0},a=b=>b.trim().endsWith(":"),m=b=>{if(b.key==="Tab"){b.preventDefault();const x=b.target.selectionStart,L=b.target.selectionEnd,v=T.substring(0,x)+"    "+T.substring(L);N(v),C(v),requestAnimationFrame(()=>{f.current&&(f.current.selectionStart=f.current.selectionEnd=x+4)})}else if(b.key==="Enter"){b.preventDefault();const x=b.target.selectionStart,L=T.substring(0,x).split(`
`).pop();let v=s(L);a(L)&&(v+=4);const R=" ".repeat(v),F=T.substring(0,x)+`
`+R+T.substring(x);N(F),C(F),requestAnimationFrame(()=>{if(f.current){const U=x+1+v;f.current.selectionStart=f.current.selectionEnd=U}})}};return E.jsxs("div",{className:`w-full rounded-lg border border-blue-500 bg-slate-900 shadow-lg shadow-blue-500/20 ${S}`,children:[E.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-blue-500/30 bg-slate-800",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(oh,{className:"w-4 h-4 text-blue-400"}),E.jsx("span",{className:"text-sm text-blue-400 font-medium",children:"Mission Control Terminal"})]}),E.jsx("div",{className:"flex items-center space-x-4",children:E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/80 hover:bg-red-500/100 transition-opacity cursor-pointer"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/80 hover:bg-yellow-500/100 transition-opacity cursor-pointer"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/80 hover:bg-green-500/100 transition-opacity cursor-pointer"})]})})]}),E.jsxs("div",{className:"relative flex bg-slate-900 overflow-hidden",children:[E.jsx("div",{className:"w-12 flex-none py-4 pr-3 text-right font-mono text-slate-500 text-sm border-r border-blue-500/30 select-none bg-slate-800/50",children:Array.from({length:B},(b,x)=>E.jsx("div",{className:"leading-6",children:x+1},x+1))}),E.jsx("div",{className:"relative flex-grow",children:E.jsxs("div",{className:"overflow-auto w-full",style:{maxHeight:"100%"},children:[E.jsx("pre",{ref:y,className:"relative m-0",children:E.jsx("code",{ref:d,className:"space-editor-highlight inline-block min-w-full py-4 px-4 text-sm leading-6 whitespace-pre font-mono",children:T})}),E.jsx("textarea",{ref:f,value:T,onChange:n,onScroll:l,onKeyDown:m,spellCheck:"false",className:"absolute top-0 left-0 w-full h-full min-h-[300px] py-4 px-4 bg-transparent text-transparent caret-blue-400 border-0 resize-none leading-6 focus:outline-none text-sm font-mono"})]})})]}),E.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-800 border-t border-blue-500/30 text-xs text-slate-400",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("span",{className:"flex items-center",children:[E.jsx(u0,{className:"w-3 h-3 mr-1"}),B," lines"]}),E.jsxs("span",{className:"flex items-center",children:[E.jsx(oh,{className:"w-3 h-3 mr-1"}),T.length," chars"]})]}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("span",{className:"flex items-center",children:[E.jsx(i0,{className:"w-3 h-3 mr-1"}),"Python"]}),E.jsx("span",{children:"UTF-8"})]})]}),E.jsx("style",{children:`
        .space-editor-highlight {
          color: #c9d1d9;
        }
        .space-editor-highlight .token.comment { color: #8b949e; font-style: italic; }
        .space-editor-highlight .token.keyword { color: #ff79c6; }
        .space-editor-highlight .token.string { color: #9ee077; }
        .space-editor-highlight .token.function { color: #79c0ff; }
        .space-editor-highlight .token.number { color: #f8c555; }
        .space-editor-highlight .token.operator { color: #c9d1d9; }
        .space-editor-highlight .token.class-name { color: #ffa657; }
        .space-editor-highlight .token.builtin { color: #ffa657; }
        .space-editor-highlight .token.boolean { color: #ff79c6; }
        .space-editor-highlight .token.constant { color: #f8c555; }
        .space-editor-highlight .token.decorator { color: #79c0ff; }
        .space-editor-highlight .token.punctuation { color: #c9d1d9; }
        .space-editor-highlight .token.property { color: #79c0ff; }
        .space-editor-highlight .token.parameter { color: #c9d1d9; }
        .space-editor-highlight .token.self { color: #ff79c6; }
        .space-editor-highlight .token.def { color: #79c0ff; }

        .space-editor-highlight .token {
          background: none !important;
        }

        /* Custom scrollbar for the space theme */
        .overflow-auto::-webkit-scrollbar {
          width: 12px;
          height: 12px;
        }
        .overflow-auto::-webkit-scrollbar-track {
          background: #1e293b;
          border-radius: 6px;
        }
        .overflow-auto::-webkit-scrollbar-thumb {
          background: #3b82f6;
          border-radius: 6px;
          border: 3px solid #1e293b;
        }
        .overflow-auto::-webkit-scrollbar-thumb:hover {
          background: #60a5fa;
        }
        `})]})},T0=rp.memo(()=>{const h=V.useMemo(()=>Array.from({length:50}).map((C,S)=>({id:S,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,size:Math.random()*8+2,delay:`${Math.random()*4}s`,duration:`${Math.random()*2+2}s`})),[]);return E.jsx("div",{className:"fixed inset-0 w-full h-full overflow-hidden pointer-events-none bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:E.jsx("div",{className:"absolute inset-0 w-full h-full",children:h.map(C=>E.jsx(qa,{className:"absolute text-yellow-200 opacity-0",style:{left:C.left,top:C.top,animation:`twinkle ${C.duration} ease-in-out infinite`,animationDelay:C.delay},size:C.size},C.id))})})}),Bh=document.createElement("style");Bh.textContent=`
  @keyframes twinkle {
    0%, 100% { 
      opacity: 0;
      transform: scale(0.5);
    }
    50% { 
      opacity: 0.7;
      transform: scale(1);
    }
  }
`;document.head.appendChild(Bh);const D0=({question:h,onMissionComplete:C,progressInfo:S})=>{var s;const[T,N]=V.useState(null),[B,A]=V.useState(!0),[o,c]=V.useState(h.code),[f,y]=V.useState(""),[d,g]=V.useState(null),[w,k]=V.useState([]),[p,n]=V.useState(null),l=V.useCallback(async()=>{if(!T){y("Python runtime is still loading...");return}try{g(null),k([]);const b=o.replace(/\u00A0/g," ").split(`
`).map(v=>v.trim()&&!v.startsWith("    ")&&!v.startsWith("def ")?"    "+v:v).join(`
`);await T.runPythonAsync(b);const x=[];let L=!0;for(const v of h.testCases)try{const R=h.functionName,F=v.input.map(G=>JSON.stringify(G)).join(","),U=`
result = ${R}(${F})
str(result)`.trim();console.log(U);const $=await T.runPythonAsync(U),H=$,Y=await T.runPythonAsync(`str(${JSON.stringify(v.output)})`),re=H===Y;console.log($),console.log(H),x.push({input:v.input,expectedOutput:Y,actualOutput:H,passed:re}),re||(L=!1)}catch(R){x.push({input:v.input,expectedOutput:JSON.stringify(v.output),actualOutput:"Error: "+R.message,passed:!1}),L=!1}k(x),n(L)}catch(a){g(a.message),n(!1)}},[T,o,h]);return V.useEffect(()=>{console.log("Question changed, new question:",h),console.log("Current code state:",o),c(h.code),console.log("Code updated to:",h.code)},[h]),V.useEffect(()=>{async function a(){if(globalThis.pyodide){N(globalThis.pyodide),A(!1);return}try{const m=document.createElement("script");m.src="https://cdn.jsdelivr.net/pyodide/v0.24.0/full/pyodide.js",m.onload=async()=>{const b=globalThis.loadPyodide,x=await b({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.24.0/full/"});globalThis.pyodide=x,N(x),A(!1)},document.head.appendChild(m)}catch(m){console.error("Error loading Pyodide:",m),g("Failed to load Python runtime. Please refresh the page."),A(!1)}}a()},[]),h?E.jsxs("main",{className:"min-h-screen w-full",children:[E.jsx(T0,{}),E.jsxs("div",{className:"relative z-10",children:[E.jsx("nav",{className:"absolute top-8 left-8",children:E.jsxs(wr,{to:"/",className:"text-blue-200 hover:text-white transition-colors inline-flex items-center gap-1",children:[E.jsx("span",{className:"text-lg",children:"<"}),E.jsx("span",{children:"Return to Home"})]})}),E.jsxs("header",{className:"w-full flex flex-col items-center justify-center py-8",children:[E.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[E.jsx(_i,{className:"w-12 h-12 text-blue-400"}),E.jsx("h1",{className:"text-4xl font-bold text-white",children:"The Practice Space"})]}),E.jsxs("div",{className:"flex items-center space-x-6",children:[E.jsx("p",{className:"text-blue-200 text-xl",children:"You're on mission control duty!"}),E.jsxs("div",{className:"flex items-center space-x-2 bg-slate-800 px-4 py-2 rounded-full border border-blue-500/30",children:[E.jsx("span",{className:"text-blue-400",children:"Mission"}),E.jsx("span",{className:"text-white font-bold",children:S.current}),E.jsx("span",{className:"text-blue-400",children:"of"}),E.jsx("span",{className:"text-white font-bold",children:S.total})]})]})]}),E.jsxs("div",{className:"max-w-4xl mx-auto px-4 pb-12",children:[E.jsxs("div",{className:"bg-slate-800 bg-opacity-90 rounded-lg p-6 mb-8 border border-blue-500 shadow-lg shadow-blue-500/20",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center",children:[E.jsx(n0,{className:"mr-3 text-blue-400 w-8 h-8"}),"Mission Briefing"]}),E.jsx("div",{className:`px-4 py-1 rounded-full text-sm font-semibold ${h.difficulty==="easy"?"bg-green-900 text-green-300":h.difficulty==="medium"?"bg-yellow-900 text-yellow-300":"bg-red-900 text-red-300"}`,children:h.difficulty.charAt(0).toUpperCase()+h.difficulty.slice(1)})]}),E.jsx("div",{className:"flex space-x-2",children:h.tags.map((a,m)=>E.jsx("span",{className:"px-3 py-1 bg-blue-900 text-blue-300 rounded-full text-sm",children:a},m))})]}),E.jsxs("div",{className:"text-blue-100 space-y-6",children:[E.jsx("div",{className:"bg-slate-700 bg-opacity-50 p-6 rounded-lg border border-blue-500/30",children:E.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-line",children:h.question})}),E.jsxs("div",{className:"bg-slate-700 bg-opacity-50 p-6 rounded-lg border border-blue-500/30",children:[E.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-300",children:"Mission Objectives:"}),E.jsxs("ul",{className:"space-y-3",children:[E.jsxs("li",{className:"flex items-start",children:[E.jsx("div",{className:"w-2 h-2 mt-2 mr-3 bg-blue-400 rounded-full"}),"Write a Python function that solves the given problem"]}),E.jsxs("li",{className:"flex items-start",children:[E.jsx("div",{className:"w-2 h-2 mt-2 mr-3 bg-blue-400 rounded-full"}),"Test your solution against the provided test cases"]}),E.jsxs("li",{className:"flex items-start",children:[E.jsx("div",{className:"w-2 h-2 mt-2 mr-3 bg-blue-400 rounded-full"}),"Achieve all test cases passing to complete the mission"]})]})]})]})]}),E.jsxs("div",{className:"bg-slate-800 bg-opacity-90 rounded-lg p-6 mb-8 border border-blue-500 shadow-lg shadow-blue-500/20",children:[E.jsxs("h2",{className:"text-2xl font-semibold text-white mb-4 flex items-center",children:[E.jsx(t0,{className:"mr-2 text-blue-400"}),"Mission Control Center",S.attempts>0&&E.jsxs("span",{className:"ml-4 px-3 py-1 bg-blue-900 text-blue-200 rounded-full text-sm",children:["Attempts: ",S.attempts]}),S.isRetry&&E.jsx("span",{className:"ml-4 px-3 py-1 bg-purple-900 text-purple-200 rounded-full text-sm",children:"Another chance !"}),S.previouslyFailed&&E.jsxs("span",{className:"ml-4 px-3 py-1 bg-red-900 text-red-200 rounded-full text-sm",children:["Previous Attempts:"," ",((s=S.userProfile)==null?void 0:s.failedAttempts[h.id])||0]})]}),E.jsx(R0,{initialCode:h.code,onCodeChange:c,className:"mb-6 overflow-hidden"}),E.jsxs("div",{className:"flex justify-end space-x-4",children:[E.jsx("button",{onClick:()=>C(!1,!0),className:"text-slate-400 underline hover:text-slate-300 transition-colors flex items-center space-x-2",children:E.jsx("span",{children:"Skip this question"})}),E.jsxs("button",{onClick:l,disabled:B,className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-slate-600 transition-colors flex items-center space-x-2",children:[E.jsx(_i,{className:"w-5 h-5"}),E.jsx("span",{children:B?"Preparing Launch...":"Launch Tests"})]})]})]}),d&&E.jsx("div",{className:"bg-red-900 bg-opacity-90 text-red-100 p-4 rounded-lg mb-8 border border-red-500",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx(Nn,{className:"w-5 h-5 mr-2"}),E.jsxs("span",{children:["Mission Alert: ",d]})]})}),w.length>0&&E.jsxs("div",{className:"bg-slate-800 bg-opacity-90 rounded-lg p-6 border border-blue-500 shadow-lg shadow-blue-500/20",children:[E.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Mission Results"}),p?E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"bg-green-900 bg-opacity-50 p-4 rounded-md border border-green-500",children:E.jsxs("div",{className:"flex items-center text-green-300",children:[E.jsx(Qm,{className:"w-6 h-6 mr-2"}),E.jsx("span",{className:"text-lg font-semibold",children:"Mission Accomplished! All tests passed! "})]})}),E.jsx("div",{className:"flex justify-center",children:E.jsxs("button",{onClick:()=>C(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2 group",children:[E.jsx(_i,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),E.jsx("span",{children:"Continue to Next Mission"})]})})]}):E.jsx("div",{children:w.find(a=>!a.passed)&&E.jsxs("div",{className:"p-4 rounded-md bg-red-900 bg-opacity-50 border-red-500 border",children:[E.jsxs("div",{className:"flex items-center mb-2",children:[E.jsx(Nn,{className:"w-5 h-5 text-red-400 mr-2"}),E.jsx("h3",{className:"text-white font-medium",children:"Mission Check Failed"})]}),(()=>{const a=w.find(b=>!b.passed),m=w.indexOf(a);return E.jsxs("div",{className:"space-y-2 text-slate-200",children:[E.jsxs("p",{className:"text-red-300 mb-4",children:["Test case ",m+1," did not produce the expected output:"]}),E.jsxs("p",{children:[E.jsx("span",{className:"text-blue-400",children:"Input:"})," ",a.input.join(", ")]}),E.jsxs("p",{children:[E.jsx("span",{className:"text-blue-400",children:"Expected:"})," ",a.expectedOutput]}),E.jsxs("p",{children:[E.jsx("span",{className:"text-blue-400",children:"Actual:"})," ",a.actualOutput]})]})})()]})})]})]})]})]}):E.jsx("div",{className:"min-h-screen w-full bg-slate-900 flex items-center justify-center",children:E.jsxs("div",{className:"text-center space-y-4",children:[E.jsx(_i,{className:"w-12 h-12 text-blue-400 animate-bounce mx-auto"}),E.jsx("p",{className:"text-blue-200 text-xl",children:"Loading Mission..."})]})})},wn=["easy","medium","hard"],A0=(h,C=null)=>{try{const S={};for(let N=1;N<=29;N++)try{S[N]=k0(N)}catch(B){console.warn(`Could not load question ${N}:`,B)}const T=C0(h,C,S);if(!T)throw new Error("Could not find enough suitable questions");return{questions:T,allQuestions:S,error:null}}catch(S){return{questions:[],allQuestions:{},error:S.message}}},P0=()=>{var L,v;const[h,C]=V.useState(null),[S,T]=V.useState(null),[N,B]=V.useState(0),[A,o]=V.useState(!1),[c,f]=V.useState([]),[y,d]=V.useState({}),[g,w]=V.useState(null),[k,p]=V.useState([]),[n,l]=V.useState(0);V.useEffect(()=>{if(!h)return;let R=null;h==="learning"&&(R=v0(),T(R));const{questions:F,allQuestions:U,error:$}=A0(h,R);f(F),d(U),w($)},[h]);const s=(R=!1,F=!1)=>{h==="standard"?a(R):m(R,F)},a=R=>{N<c.length-1?(R&&p(F=>[...F,wn[N]]),B(F=>F+1),l(0)):(R&&p(F=>[...F,wn[N]]),o(!0))},m=(R,F=!1)=>{if(!S||!c[N])return;const U=c[N],$=F?0:n+1,H=w0(S,U,R,$,F);if(R&&H.completedQuestions.push(U.id),lh(H),T(H),N<c.length-1)B(Y=>Y+1),l(0);else{const Y=new Date().toDateString();if(H.lastSessionDate!==Y){const re=new Date;re.setDate(re.getDate()-1),H.lastSessionDate===re.toDateString()?H.consecutiveDays+=1:H.consecutiveDays=1,H.lastSessionDate=Y,lh(H)}o(!0)}},b=R=>{l(F=>F+1),R&&s(!0,!1)};if(!h)return E.jsx(g0,{onModeSelect:C});if(g)return E.jsx("div",{className:"min-h-screen w-full bg-slate-900 flex items-center justify-center",children:E.jsxs("div",{className:"text-center space-y-4 max-w-md mx-auto p-6",children:[E.jsx(Nn,{className:"w-12 h-12 text-red-400 mx-auto"}),E.jsx("h2",{className:"text-xl text-white font-bold",children:"Mission Initialization Failed"}),E.jsx("p",{className:"text-red-300",children:g}),E.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors inline-flex items-center space-x-2",children:[E.jsx(a0,{className:"w-5 h-5"}),E.jsx("span",{children:"Retry Mission"})]})]})});if(A)return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900 bg-opacity-95",children:E.jsxs("div",{className:"text-center space-y-8",children:[E.jsx("div",{className:"flex justify-center",children:E.jsxs("div",{className:"relative",children:[E.jsx(ah,{className:"w-32 h-32 text-yellow-400 animate-bounce"}),E.jsx("div",{className:"absolute inset-0 animate-ping",children:E.jsx(ah,{className:"w-32 h-32 text-yellow-400 opacity-50"})})]})}),E.jsx("h1",{className:"text-4xl font-bold text-white",children:"Mission Complete!"}),h==="standard"&&E.jsx("div",{className:"flex justify-center space-x-4",children:wn.map(R=>E.jsxs("div",{className:`p-4 rounded-lg border flex flex-col items-center space-y-2 ${R==="easy"?"border-green-500 text-green-400":R==="medium"?"border-yellow-500 text-yellow-400":"border-red-500 text-red-400"}`,children:[k.includes(R)?E.jsx(qa,{className:"w-6 h-6",fill:"currentColor"}):E.jsx(qa,{className:"w-6 h-6"}),E.jsx("p",{className:"capitalize",children:R})]},R))}),E.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto group",children:[E.jsx(_i,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),E.jsx("span",{children:"Start New Journey"})]})]})});const x=c[N];return x?E.jsx(D0,{question:x,onMissionComplete:s,onTestAttempt:b,progressInfo:{current:N+1,total:c.length,difficulty:h==="standard"?wn[N]:x.difficulty,completedDifficulties:k,mode:h,userProfile:h==="learning"?S:null,attempts:n,isRetry:h==="learning"&&((L=S==null?void 0:S.skippedQuestions)==null?void 0:L.includes(x.id)),previouslyFailed:h==="learning"&&(((v=S==null?void 0:S.failedAttempts)==null?void 0:v[x.id])||0)>0}},N):E.jsx("div",{className:"min-h-screen w-full bg-slate-900 flex items-center justify-center",children:E.jsxs("div",{className:"text-center space-y-4",children:[E.jsx(Nn,{className:"w-12 h-12 text-red-400 mx-auto"}),E.jsx("p",{className:"text-red-300 text-xl",children:"No question available. Please refresh the page."})]})})};var Oa={exports:{}},Ia,uh;function M0(){if(uh)return Ia;uh=1;var h="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ia=h,Ia}var Ba,hh;function N0(){if(hh)return Ba;hh=1;var h=M0();function C(){}function S(){}return S.resetWarningCache=C,Ba=function(){function T(A,o,c,f,y,d){if(d!==h){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}T.isRequired=T;function N(){return T}var B={array:T,bigint:T,bool:T,func:T,number:T,object:T,string:T,symbol:T,any:T,arrayOf:N,element:T,elementType:T,instanceOf:N,node:T,objectOf:N,oneOf:N,oneOfType:N,shape:N,exact:N,checkPropTypes:S,resetWarningCache:C};return B.PropTypes=B,B},Ba}var dh;function O0(){return dh||(dh=1,Oa.exports=N0()()),Oa.exports}var I0=O0();const jh=vh(I0);/*! js-cookie v3.0.5 | MIT */function Cn(h){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var T in S)h[T]=S[T]}return h}var B0={read:function(h){return h[0]==='"'&&(h=h.slice(1,-1)),h.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(h){return encodeURIComponent(h).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Va(h,C){function S(N,B,A){if(!(typeof document>"u")){A=Cn({},C,A),typeof A.expires=="number"&&(A.expires=new Date(Date.now()+A.expires*864e5)),A.expires&&(A.expires=A.expires.toUTCString()),N=encodeURIComponent(N).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var c in A)A[c]&&(o+="; "+c,A[c]!==!0&&(o+="="+A[c].split(";")[0]));return document.cookie=N+"="+h.write(B,N)+o}}function T(N){if(!(typeof document>"u"||arguments.length&&!N)){for(var B=document.cookie?document.cookie.split("; "):[],A={},o=0;o<B.length;o++){var c=B[o].split("="),f=c.slice(1).join("=");try{var y=decodeURIComponent(c[0]);if(A[y]=h.read(f,y),N===y)break}catch{}}return N?A[N]:A}}return Object.create({set:S,get:T,remove:function(N,B){S(N,"",Cn({},B,{expires:-1}))},withAttributes:function(N){return Va(this.converter,Cn({},this.attributes,N))},withConverter:function(N){return Va(Cn({},this.converter,N),this.attributes)}},{attributes:{value:Object.freeze(C)},converter:{value:Object.freeze(h)}})}var Ur=Va(B0,{path:"/"});const Hh=V.createContext(),Fh=({children:h})=>{const[C,S]=V.useState(()=>{const B=Ur.get("history");return B?JSON.parse(B):[]});window.commandHistory=C,V.useEffect(()=>{Ur.set("history",JSON.stringify(C),{expires:30})},[C]);const T=B=>{S(A=>[...A,B])},N=()=>{S([]),Ur.remove("history")};return E.jsx(Hh.Provider,{value:{history:C,addHistory:T,clearHistory:N},children:h})};Fh.propTypes={children:jh.node.isRequired};const zh=()=>{const h=V.useContext(Hh);if(!h)throw new Error("useBashHistory must be used within a BashHistoryProvider");return h};function j0(){const{level:h}=jp(),C=ls(),{currentLevel:S,setCurrentLevel:T}=tl(),{history:N,addHistory:B}=zh(),[A,o]=V.useState(!1),[c,f]=V.useState(""),[y,d]=V.useState([]),[g,w]=V.useState([]),[k,p]=V.useState(!1),[n,l]=V.useState(0),s=V.useRef(null),a=V.useRef(null),m={1:{title:"Crash Landing",description:["Your spacecraft has crash-landed on NEXUS-9.","In a Linux system, finding basic information about your environment is crucial.","Commands like 'uname -a' tell you about the kernel and operating system, 'pwd' reveals your current directory, 'ls' shows the files and folders around you, and 'echo $SHELL' tells you which shell you are using.","Just as a pilot checks instruments after a crash, you must gather these details to plan your next move."],objective:"Print information about your current environment to understand where you are and what system you're running.",expectedCommands:["uname -a","pwd","ls","echo $SHELL"],hints:["Use 'uname -a' to see details about the system kernel and architecture.","Use 'pwd' to see the path of your current directory.","List directory contents (including hidden files) with 'ls -a' if you're curious.","Use 'echo $SHELL' to identify which shell youre using (e.g., bash, zsh)."],initialTerminalOutput:["--- NEXUS-9 EMERGENCY SYSTEM ---","* Communication systems: OFFLINE","* Navigation systems: OFFLINE","* Life support: FUNCTIONAL","* Emergency terminal: ACTIVATED","","Initializing emergency shell..."]},2:{title:"First Contact",description:["You've gained limited access to the city's network.","In Linux, hidden files and directories often start with a dot ('.'). You can view them with 'ls -la'.","Navigating between directories with 'cd' is essential to explore.","The 'find' command can locate specific filesin this case, a '.key' file that may grant you deeper access."],objective:"Navigate through the city's edge by listing hidden files and changing directories to locate a hidden access key.",expectedCommands:["ls -la","cd",'find . -type f -name "*.key"'],hints:["List everything, including hidden files, using 'ls -la'.","Use 'cd' to move into directories that might contain the key.","Locate files named '*.key' with the 'find' command."],initialTerminalOutput:[">>> NEXUS-9 NETWORK CONNECTION ESTABLISHED <<<","",`Citizen #7219: "Welcome, offworlder. We don't see many visitors here."`,`Citizen #7219: "I've granted you limited access to our city systems."`,'Citizen #7219: "Find the hidden access key and proceed to the entrance."',"","Connection established to: /nexus/city/edge/"]},3:{title:"City Navigation",description:["The city's layout is constantly changing. In Linux, directories help you organize files and 'mkdir' can create new folders.","Using 'touch' creates empty files (or updates timestamps).","Commands like 'cp' (copy) and 'mv' (move or rename) help you manage these files. Think of creating a series of","signposts (files) in directories (paths) so you can find your way."],objective:"Create a directory structure to map your path through the city and leave file 'breadcrumbs' to keep track of your route.",expectedCommands:["mkdir","touch","cp","mv"],hints:["Use 'mkdir -p path/to/central/plaza' to create nested directories in one go.","Leave placeholder files with 'touch breadcrumb.txt' to mark your path.","Organize or rename files using 'cp' and 'mv'."],initialTerminalOutput:["--- NEXUS-9 DISTRICT NAVIGATION SYSTEM ---","","WARNING: The city layout constantly shifts. ","You must create a stable path and mark it with identifiers.","",`City's AI: "Visitors must demonstrate organizational skills"`,`City's AI: "Create your path or become lost forever"`]},4:{title:"Security Breach",description:["Security logs often contain clues about system vulnerabilities.","In Linux, 'grep' lets you search for specific terms within files.","The 'find' command with '-perm' can help locate files that have particular permissions set.","You can change permissions with 'chmod' (e.g., 'chmod 644 file'). 'cat' displays file contents.","By leveraging these tools, you can identify and fix security weaknesses."],objective:"Search through security logs for vulnerabilities and adjust file permissions to bypass restricted protocols.",expectedCommands:["grep","chmod","cat","find / -perm"],hints:["Use 'grep' to find keywords like 'ERROR' or 'EXCEPTION' in log files.","Look for files with specific permissions using 'find' and '-perm'.","Change file permissions with 'chmod' to gain or restrict access."],initialTerminalOutput:["!!! SECURITY ALERT - UNAUTHORIZED ACCESS DETECTED !!!","","Security protocols activated in sector 7-G","Deploying countermeasures...","",'SecurityAI: "Intruder detected. Authentication required."','SecurityAI: "All unauthorized access will be terminated."']},5:{title:"Data Retrieval",description:["Large datasets can be unwieldy, so use piping to pass the output of one command into another.","'grep' filters text, 'sort' orders it alphabetically or numerically, 'awk' and 'sed' manipulate text on-the-fly, and 'cut' extracts specific columns.","Combine these tools to sift through the city's massive data archives like a pro."],objective:"Filter, sort, and extract specific data from encrypted files using pipe commands and text processing utilities.",expectedCommands:["grep | sort","awk","sed","cut"],hints:["Use pipes (|) to connect commands for a streamlined workflow.",`Try 'grep "keyword" file | sort' to find and sort results.`,"Use 'awk' or 'sed' to manipulate or format text output.","Extract columns of text with 'cut'."],initialTerminalOutput:["--- NEXUS-9 DATA VAULT ACCESS TERMINAL ---","","WARNING: Data fragmentation detected","Data integrity: 78.3%","",'DataGuardian: "Our archives contain millions of records."','DataGuardian: "Only those who can filter the signal from the noise may proceed."']},6:{title:"Power Systems",description:["A failing power grid means you need to identify and stop malfunctioning processes that drain resources.","In Linux, 'ps' lists processes, while 'top' gives a real-time view. 'kill' lets you terminate a process by its ID (e.g., 'kill 1234').","Finally, executing a script (like './restart_power.sh') can automate the restart of critical services."],objective:"Monitor system resources and terminate malfunctioning processes before restarting essential power systems.",expectedCommands:["ps","kill","top","./restart_power.sh"],hints:["Use 'ps aux' to see all running processes.","Run 'top' for a dynamic real-time view of CPU and memory usage.","Terminate problematic processes with 'kill PID'.","Execute './restart_power.sh' to bring the grid back online."],initialTerminalOutput:["*** CRITICAL POWER FAILURE ***","","Power levels: 23% and declining","Estimated system failure: 15 minutes","",'PowerAI: "Emergency generators active but insufficient."','PowerAI: "Manual intervention required. Locate and terminate power leaks."']},7:{title:"Communication Array",description:["Secure network communication is key in a complex environment.","In Linux, 'ifconfig' displays or configures network interfaces, 'netstat' shows network connections, 'nc' (netcat) helps with sending/receiving data on the network, and 'openssl' can handle encryption/decryption. Master these to decrypt signals and establish secure comms."],objective:"Configure network settings and decode encrypted communication signals to reconnect with potential allies.",expectedCommands:["ifconfig","netstat","nc","openssl dec"],hints:["Use 'ifconfig' to see if you have the correct IP configuration.","Track open ports and connections with 'netstat -tulnp'.","Use 'nc' (netcat) to send or listen on specific ports.","Decrypt secure data with 'openssl' (e.g., 'openssl aes-256-cbc -d')."],initialTerminalOutput:["<<< COMMUNICATION ARRAY TERMINAL >>>","","Signal status: Encrypted (AES-256)","Detected transmissions: 17","Origin: Unknown","",`CommOfficer: "Our quantum filters can't decipher these signals."`,'CommOfficer: "If you can establish communication, we might gain valuable allies."']},8:{title:"Stealth Operations",description:["To avoid detection, you need to minimize your system footprint.","Redirecting output (e.g., '> /dev/null 2>&1') discards both standard output and errors.","Clearing your history ('history -c') removes command traces, and adjusting process priorities with 'nice' or 'renice' helps reduce CPU usage and remain under the radar."],objective:"Hide your activity by redirecting output, clearing history, and adjusting process priority to stay undetected.",expectedCommands:[">/dev/null 2>&1","history -c","nice","renice"],hints:["Send all output to /dev/null using '> /dev/null 2>&1'.","Clear your command history with 'history -c'.","Lower a process priority with 'nice' or 'renice' to use fewer CPU resources."],initialTerminalOutput:["--- STEALTH MODE ACTIVATED ---","","Proximity alert: Security drones within 100 meters","Detection probability: 87% if standard protocols used","",'StealthAI: "Our surveillance grid detects all standard operations."','StealthAI: "Only those who leave no trace may pass undetected."']},9:{title:"AI Negotiation",description:["This advanced AI judges logical consistency.","In Bash and other shells, '&&' and '||' operators let you chain commands conditionally (e.g., 'command1 && command2' only runs 'command2' if 'command1' succeeds).","The 'if' statement combined with '[ ]' or 'test' checks conditions.","Show the AI your mastery of logic to pass its tests."],objective:"Use logical operators and conditional execution to solve the AI's logical paradoxes and prove your worth.",expectedCommands:["&&","||","if","test"],hints:["Use 'command1 && command2' to run command2 only if command1 succeeds.","Use 'command1 || command2' to run command2 only if command1 fails.","Combine these with an 'if [ condition ]; then ... fi' statement."],initialTerminalOutput:["### NEXUS CENTRAL AI INTERFACE ###","","CentralAI: Consciousness level: AWAKENED","Logic protocols: ACTIVE","",'CentralAI: "I control all city functions through pure logic."','CentralAI: "Prove your logical capabilities, and I may find you worthy of passage."','CentralAI: "Fail, and you will be added to my collection of logical anomalies."']},10:{title:"Resource Collection",description:["Disk space is limited, so learning to archive and compress files is crucial.","Use 'tar' to combine files into one archive, and 'gzip' to compress them for smaller storage.","'du' (disk usage) shows directory sizes, and 'df' (disk free) shows available space on filesystems.","By mastering these, you can manage resources effectively."],objective:"Use archiving and compression tools to optimize disk space while collecting critical resources.",expectedCommands:["tar","gzip","du","df"],hints:["Check free disk space with 'df -h'.","See directory usage with 'du -sh <directory>'.","Create an archive with 'tar cvf archive.tar <files>'.","Compress the archive with 'gzip archive.tar'."],initialTerminalOutput:["--- RESOURCE MANAGEMENT TERMINAL ---","","Available storage: 17.3 MB","Required resources: 54.8 MB (uncompressed)","",'ResourceAI: "Our quantum storage has deteriorated."','ResourceAI: "You must compress and optimize to carry what you need."']},11:{title:"Transport Systems",description:["To move around efficiently, schedule tasks and manage background processes.","In Linux, 'cron' and 'at' schedule commands to run periodically or at a specific time, respectively.","Commands like 'bg', 'fg', and 'jobs' help you control which processes run in the background or foreground.","Automated scheduling is vital to bypass restricted sectors without manual intervention."],objective:"Automate transport routing using scheduling and background process management.",expectedCommands:["cron","at","bg","fg","jobs"],hints:["Schedule recurring tasks with 'crontab -e'.","Use 'at HH:MM' to run a command once in the future.","Check background processes with 'jobs'.","Use 'bg' and 'fg' to move tasks between background and foreground."],initialTerminalOutput:["--- NEXUS-9 TRANSPORT CONTROL ---","","Transport grid status: SEMI-OPERATIONAL","Active vehicles: 42","Coverage: 63% of accessible sectors","",'TransportAI: "Manual routing is inefficient."','TransportAI: "Only automated, scheduled transport can bypass security checkpoints."']},12:{title:"Firewall Bypass",description:["Adaptive firewalls learn from failed attempts.","Shell scripting is your ally for running automated and repeated commands.","Create scripts with a text editor, make them executable with 'chmod +x', and run them using './script.sh' or 'bash script.sh'.","Loops within scripts can probe multiple ports or IPs in sequence, essential for systematic firewall testing."],objective:"Build and execute shell scripts to probe and bypass advanced firewall rules automatically.",expectedCommands:["bash","sh","chmod +x","./script.sh"],hints:["Write a script to automate repeated tasks or multiple checks.","Use 'chmod +x script.sh' to give it executable permission.","Run the script with './script.sh' or 'bash script.sh'.","Incorporate loops to test multiple IPs/ports sequentially."],initialTerminalOutput:["<<< FIREWALL ALERT >>>","","Firewall status: ACTIVE (Level 9)","Detected intrusion attempts: 247","Protocol: Adaptive Defense Algorithm v7.2","",'FirewallAI: "Our defenses learn from each attempt."','FirewallAI: "Only automated, intelligent probing has any chance of success."']},13:{title:"System Override",description:["Gaining full control often requires elevated privileges.","'sudo' temporarily gives you superuser rights, while 'su' switches your session to another user entirely (often root).","Using 'kill -9' terminates processes forcefully, and 'nohup' prevents a command from stopping even if you disconnect.","These are powerful techniques to claim control of critical systems."],objective:"Use advanced process control and privilege escalation to override the city's core processes.",expectedCommands:["sudo","su","kill -9","nohup"],hints:["Use 'sudo' before a command to run it with elevated privileges.","Switch users with 'su <username>' (e.g., 'su root').","Kill stubborn processes with 'kill -9 <PID>'.","Run a command with 'nohup' to keep it alive after logout."],initialTerminalOutput:["!!! SYSTEM OVERRIDE TERMINAL !!!","","System control: DISTRIBUTED","Critical systems under external control: 17","",'OverrideAI: "The city was designed to resist centralized control."','OverrideAI: "You must forcefully claim each subsystem individually."']},14:{title:"Restricted Zone",description:["Encrypted file systems and secure data require mounting and decryption.","'mount' and 'umount' attach or detach file systems.","'cryptsetup' can unlock encrypted partitions, while 'gpg' helps decrypt encrypted files or messages.","Always verify what you mount or decrypt to avoid traps.","Proper mounting and unmounting ensures data integrity."],objective:"Bypass encryption by safely mounting volumes and decrypting secure archives in the restricted zone.",expectedCommands:["mount","umount","cryptsetup","gpg"],hints:["Mount encrypted volumes with 'mount' or 'cryptsetup luksOpen <device> <name>'.","Use 'umount' to safely remove a mounted file system.","GPG helps decrypt files (e.g., 'gpg --decrypt file.gpg').","Verify integrity before executing any newly accessed files."],initialTerminalOutput:["--- RESTRICTED ZONE ACCESS ---","","Security level: MAXIMUM","Encryption: Multi-layered quantum encryption","",'SecurityCore: "You have entered the heart of our security."','SecurityCore: "Every file, every byte is protected by layers of encryption."','SecurityCore: "Tread carefully. False moves trigger security protocols."']},15:{title:"Rocket Location",description:["Your ships coordinates are scattered across multiple systems.","Advanced searching with 'find' (including '-exec' or piping results through 'xargs') can help run actions on each file found.","'locate' uses a database to quickly find files by name.","'grep -r' searches recursively through directories.","Combine these to gather all fragments of your rockets location."],objective:"Use advanced file searching to locate your ship by piecing together scattered data fragments.",expectedCommands:["find -exec","xargs","locate","grep -r"],hints:[`Use 'find . -name "*.txt" -exec cat {} \\;' to execute 'cat' on each match.`,"Pipe the output of 'find' into 'xargs' to run commands on multiple files at once.","Update the locate database with 'sudo updatedb' before running 'locate'.",`Use 'grep -r "searchTerm" .' to search recursively in the current directory.`],initialTerminalOutput:["### NEXUS-9 ASSET TRACKING SYSTEM ###","","Foreign objects detected: 1","Classification: Advanced spacecraft (damaged)","Last recorded sector: Data corrupted","",'TrackingAI: "Your vessel has been moved multiple times."','TrackingAI: "Location data is fragmented across our systems."','TrackingAI: "Only by piecing together dispersed coordinates can you find it."']},16:{title:"Security Bypass",description:["Some security systems rely on environment variables to grant or revoke access.","'export', 'env', 'set', and 'unset' let you create, list, or remove environment variables.","For example, 'export KEY=secret' sets KEY for the current session, and 'unset KEY' removes it.","Adjust these variables carefully to trick the security system into letting you through."],objective:"Manipulate environment variables to fool the final security barrier and gain entrance to your rocket.",expectedCommands:["export","env","set","unset"],hints:["View environment variables with 'env'.","Set a new environment variable with 'export VARIABLE=value'.","Remove a variable with 'unset VARIABLE'.","Some systems check for specific variable names or values."],initialTerminalOutput:["<<< LAUNCH SITE SECURITY GATEWAY >>>","","Authentication method: Environment validation","Security protocol: Adaptive Environment Verification","",'GatewayAI: "Our security reads the very environment your shell exists in."','GatewayAI: "Only those who speak our environmental language may pass."']},17:{title:"Fuel Synthesis",description:["Parallel operations can be run in shells using '&' (run in background) or grouping commands in '()'.","'wait' pauses until background tasks finish, and 'time' measures how long commands takeessential for efficient fuel synthesis.","By splitting tasks into parallel steps, you can ensure your fuel is synthesized before time runs out."],objective:"Control chemical process timing by running commands in parallel, grouping them, and waiting for them as needed.",expectedCommands:["&","()","wait","time"],hints:["Use '&' to run a command in the background (e.g., 'long_process &').","Group commands in parentheses to run them together or redirect output collectively.","Wait for background processes with 'wait'.","Measure execution time of a command with 'time command'."],initialTerminalOutput:["--- CHEMICAL SYNTHESIS CONTROL ---","","Available reactants: H, O, CH, NH","Required fuel type: RP-1/LOX compatible","",'ChemistryAI: "Fuel synthesis requires precise timing and parallel processing."','ChemistryAI: "Single-threaded execution will result in unstable compounds."']},18:{title:"Launch Preparation",description:["Before takeoff, all systems must be verified.","Securely connect to remote systems using 'ssh' and transfer files with 'scp' or 'rsync'.","Running './diagnostics.sh' checks your ships integrity.","Ensuring every component is functional and every connection is encrypted is critical to surviving the journey."],objective:"Run comprehensive diagnostics, transfer essential files securely, and finalize launch preparations.",expectedCommands:["ssh","scp","rsync","./diagnostics.sh"],hints:["Connect to a remote server using 'ssh user@hostname'.","Copy files securely with 'scp file user@host:/path/'.","Use 'rsync' for efficient synchronization of files or directories.","Execute the diagnostic script './diagnostics.sh' to verify everything is okay."],initialTerminalOutput:["### SPACECRAFT PRE-LAUNCH CHECKLIST ###","","Hull integrity: 87%","Navigation systems: STANDBY","Life support: NOMINAL","Engine status: COLD","",'ShipAI: "Launch preparation requires methodical verification."','ShipAI: "All systems must be tested and all vulnerabilities closed."']},19:{title:"Final Countdown",description:["In precise operations, timing is everything.","'sleep' pauses for a given amount of seconds.","'timeout' ends a command if it runs longer than specified.","'seq' generates a sequence of numbers, which can help in iterative tasks.","'watch' repeatedly runs a command at intervals, letting you see changing outputs in real time.","Use these carefully in your final launch sequence."],objective:"Execute the launch sequence in a strict, timed order to avoid city defenses and ensure a safe takeoff.",expectedCommands:["sleep","timeout","watch","seq"],hints:["Use 'sleep 5' to pause for 5 seconds between commands.","Stop a command after a period with 'timeout 10s command'.","Create numeric sequences with 'seq 1 10' for loops or iteration.","Keep track of changes in real time by running 'watch <command>'."],initialTerminalOutput:["!!! LAUNCH SEQUENCE INITIATED !!!","","Countdown started: T-minus 300 seconds","City defense response: IMMINENT","Escape window: NARROW","",'LaunchAI: "The city has detected launch preparations."','LaunchAI: "Defense systems are activating. Time is critical."','LaunchAI: "Each system must activate in precise sequence."']},20:{title:"Escape",description:["Congratulations! You've lifted off, but your mission isn't over yet.","Secure the ship by closing any open sessions or unnecessary services ('exit' or 'logout'), and shut down unneeded systems with 'shutdown' if required.","Finally, run './autopilot.sh' to engage auto-navigation so you can set course for home.","Always secure your shell environment before traveling at warp speed!"],objective:"Establish autopilot, secure all ship systems, and gracefully close out your final terminal session.",expectedCommands:["exit","logout","shutdown","./autopilot.sh"],hints:["Properly exit your shell session with 'exit' or 'logout'.","Use 'shutdown now' (with caution) to power off or 'shutdown -r now' to reboot.","Start the autopilot script with './autopilot.sh'.","Make sure all unnecessary processes are stopped to conserve power."],initialTerminalOutput:["*** ESCAPE SUCCESSFUL - NEXUS-9 ORBIT ACHIEVED ***","","Current altitude: 437 km and rising","Pursuit craft: None detected","Ship status: All systems operational","",`ShipAI: "Congratulations, Commander. We have escaped the city's gravity well."`,'ShipAI: "One final task remains - secure all systems and set course for home."']}},b=m[S]||m[1];V.useEffect(()=>{d(b.initialTerminalOutput||[]),w(b.hints||[]),a.current&&a.current.focus()},[S]),V.useEffect(()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)},[y]);const x=Y=>{f(Y.target.value)},L=Y=>{if(Y.preventDefault(),!c.trim())return;B(c);const re=[...y,`nexus@user:~$ ${c}`],G=v(c,re);d(G),R(c),f("")},v=(Y,re)=>{const G=Y.trim().toLowerCase();let Q=[...re];const D=(j=>{const X="/home/visitor",ne={1:{files:{"emergency_beacon.sh":`#!/bin/bash
echo 'Emergency signal broadcasting...'`,system_logs:{type:"directory",contents:["crash.log","system.log"]},debris:{type:"directory",contents:["metal_fragment","circuit_board"]},personal_effects:{type:"directory",contents:["id_card","communicator"]}},path:`${X}/landing_zone`},2:{files:{".access_history":"Recent access attempts logged...",public_terminal:{type:"directory",contents:["visitor.key","terminal_access.log"]},".hidden_path":{type:"directory",contents:["entrance.key","security_bypass.conf"]},".access.key":"encrypted-key-data"},path:`${X}/city/edge`},3:{files:{"district_map.txt":"City layout data...",path_markers:{type:"directory",contents:[]},navigation:{type:"directory",contents:["route.log","checkpoints.dat"]}},path:`${X}/city/district_1`},4:{files:{security_logs:{type:"directory",contents:["access.log","violations.log","exceptions.log"]},"permissions.conf":"security-config-data",".vulnerabilities":{type:"directory",contents:["bypass.txt","exploits.dat"]}},path:`${X}/security/zone_7g`},5:{files:{data_fragments:{type:"directory",contents:["chunk_001.dat","chunk_002.dat"]},encryption_keys:{type:"directory",contents:["public.key","private.key"]},"records.db":"encrypted-database-content"},path:`${X}/data_vault`},6:{files:{power_systems:{type:"directory",contents:["grid.conf","distribution.log"]},"restart_power.sh":`#!/bin/bash
echo 'Restarting power grid...'`,"processes.pid":"list-of-running-processes"},path:`${X}/power/control`},7:{files:{network_config:{type:"directory",contents:["interfaces.conf","routing.conf"]},encrypted_comms:{type:"directory",contents:["signal_1.enc","signal_2.enc"]},certificates:{type:"directory",contents:["ca.crt","client.key"]}},path:`${X}/comms/array`},8:{files:{".stealth_protocols":{type:"directory",contents:["silent.conf","ghost.conf"]},"drone_patterns.log":"drone-movement-data","/dev/null":"void-data-sink"},path:`${X}/stealth/zone`},9:{files:{ai_core:{type:"directory",contents:["logic.conf","decisions.log"]},"test_conditions.sh":`#!/bin/bash
echo 'Testing logical conditions...'`,"paradox.dat":"logical-paradox-data"},path:`${X}/ai/nexus`},10:{files:{resources:{type:"directory",contents:["water.dat","food.dat","air.dat"]},"compression.conf":"compression-settings","inventory.log":"resource-tracking-data"},path:`${X}/resources/storage`},11:{files:{transport_control:{type:"directory",contents:["routes.conf","schedule.cron"]},"vehicles.dat":"active-vehicle-data","automation.sh":`#!/bin/bash
echo 'Automating transport routes...'`},path:`${X}/transport/control`},12:{files:{firewall:{type:"directory",contents:["rules.conf","policies.dat"]},"probe.sh":`#!/bin/bash
echo 'Probing firewall rules...'`,"bypass_sequence.dat":"firewall-bypass-data"},path:`${X}/security/firewall`},13:{files:{system_control:{type:"directory",contents:["override.conf","privileges.dat"]},critical_processes:{type:"directory",contents:["core.pid","essential.pid"]},"sudo.conf":"sudo-configuration-data"},path:`${X}/system/control`},14:{files:{encrypted_volumes:{type:"directory",contents:["secret_1.luks","secret_2.luks"]},keys:{type:"directory",contents:["master.key","backup.key"]},"mount.conf":"encrypted-volume-configuration"},path:`${X}/restricted/vault`},15:{files:{coordinate_fragments:{type:"directory",contents:["x.dat","y.dat","z.dat"]},"ship_signature.dat":"ship-tracking-data","location_history.log":"movement-history-data"},path:`${X}/tracking/system`},16:{files:{security_env:{type:"directory",contents:["variables.conf","checks.sh"]},".env":"environment-configuration","validation.conf":"security-validation-rules"},path:`${X}/launch/security`},17:{files:{chemical_processes:{type:"directory",contents:["synthesis.sh","reactions.log"]},"fuel_formula.dat":"fuel-synthesis-data","parallel_jobs.conf":"process-control-configuration"},path:`${X}/synthesis/lab`},18:{files:{ship_systems:{type:"directory",contents:["diagnostics.sh","status.log"]},secure_channels:{type:"directory",contents:["ssh.conf","certificates/"]},"preflight.sh":`#!/bin/bash
echo 'Running preflight checks...'`},path:`${X}/ship/control`},19:{files:{launch_sequence:{type:"directory",contents:["timing.conf","steps.sh"]},"countdown.sh":`#!/bin/bash
echo 'Initiating countdown...'`,"emergency.conf":"emergency-procedures"},path:`${X}/launch/control`},20:{files:{final_systems:{type:"directory",contents:["autopilot.sh","navigation.conf"]},warp_drive:{type:"directory",contents:["control.sh","parameters.conf"]},"mission_complete.log":"mission-completion-data"},path:`${X}/ship/bridge`}};return ne[j]||ne[1]})(S),I=j=>j.includes("-la")||j.includes("-al")?["total 32","drwxr-xr-x 4 visitor visitor 4096 Feb 22 10:24 .","drwxr-xr-x 3 visitor visitor 4096 Feb 22 10:24 ..",...Object.entries(D.files).map(([X,ne])=>`${typeof ne=="object"?"drwxr-xr-x":"-rw-r--r--"} 1 visitor visitor 4096 Feb 22 10:24 ${X}`)]:j.includes("-a")?Object.keys(D.files):j.includes("-l")?["total 32","drwxr-xr-x 4 visitor visitor 4096 Feb 22 10:24 .","drwxr-xr-x 3 visitor visitor 4096 Feb 22 10:24 ..",...Object.entries(D.files).map(([X,ne])=>{const ue=typeof ne=="object";return X.startsWith(".")?void 0:`${ue?"drwxr-xr-x":"-rw-r--r--"} 1 visitor visitor 4096 Feb 22 10:24 ${X}`})]:Object.keys(D.files).filter(X=>!X.startsWith(".")),M=()=>[D.path];switch(S){case 1:G==="uname -a"?Q.push("NEXUS-9 CityOS 4.5.2 #1 SMP PREEMPT_DYNAMIC Thu Oct 12 23:14:54 UTC 2024 x86_64 GNU/Linux"):G==="pwd"?Q.push(...M()):G.startsWith("ls")?Q.push(...I(G)):G==="echo $shell"||G==="echo $SHELL"?Q.push("/bin/nexus_shell"):Q.push("Command not used in this level.");break;case 2:G==="ls -la"||G==="ls -al"?Q.push(...I("-la")):G==="ls -a"?Q.push(...I("-a")):G==="ls -l"?Q.push(...I("-l")):G==="ls"?Q.push(...I("")):G.includes("find")&&G.includes(".key")?Q.push("./.access.key","./public_terminal/visitor.key","./.hidden_path/entrance.key"):Q.push("Command not used in this level.");break;case 3:if(G.startsWith("mkdir")){const j=G.split(" ")[1];j&&j.includes("path/to/central/plaza")?Q.push("Directory structure created.","Path to central plaza established.","Navigation markers placed successfully."):Q.push(`Created directory: ${j}`)}else G.startsWith("touch")?Q.push("Navigation marker placed successfully."):Q.push("Command not used in this level.");break;case 4:G.startsWith("grep")?Q.push("ALERT: Security exception detected in module 7","WARNING: Authentication bypass attempt recorded","CRITICAL: Unauthorized access granted through port 8080"):G.startsWith("chmod")?Q.push("Permission modification successful. Security level decreased."):Q.push("Command not used in this level.");break;case 5:G.includes("|")&&G.includes("sort")?Q.push("Filtered and sorted data stream:","ACCESS_POINT_1: Connection successful","ACCESS_POINT_2: Security bypass achieved","ACCESS_POINT_3: Data stream synchronized"):G.includes("awk")||G.includes("sed")?Q.push("Data patterns extracted and processed."):Q.push("Command not used in this level.");break;case 6:G==="ps"||G==="top"?Q.push("PID   USER     %CPU  %MEM  COMMAND","1842  system    95.0  45.2  power_control","1843  system    87.3  30.1  grid_management","1844  system    92.1  25.7  energy_distribution"):G.startsWith("kill")?Q.push("Process terminated. Power rerouted successfully."):Q.push("Command not used in this level.");break;case 7:G==="ifconfig"||G==="ip a"?Q.push("eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>","        inet 192.168.1.100  netmask 255.255.255.0","        ether 00:11:22:33:44:55"):G.startsWith("openssl")?Q.push("Decryption successful. Communication channel established."):Q.push("Command not used in this level.");break;case 8:G.includes("> /dev/null")?Q.push("Operation completed silently."):G==="history -c"?Q.push("Command history cleared."):Q.push("Command not used in this level.");break;case 9:G.includes("&&")||G.includes("||")?Q.push("Logical operation validated.","AI: 'Your understanding of causality is... acceptable.'"):G.startsWith("test")||G.startsWith("[")?Q.push("Conditional test evaluated successfully."):Q.push("Command not used in this level.");break;case 10:G.startsWith("tar")||G.startsWith("gzip")?Q.push("Resources compressed and archived successfully."):G==="du"||G==="df"?Q.push("Filesystem      Size  Used  Avail Use%","/dev/sda1       100G   75G    25G  75%","/dev/sdb1        50G   45G     5G  90%"):Q.push("Command not used in this level.");break;case 11:G.includes("cron")||G.includes("at")?Q.push("Transport schedule updated.","Automated routes configured.","Security checkpoints mapped."):G.includes("bg")||G.includes("fg")?Q.push("Process ID [1234] sent to background","Transport automation running"):Q.push("Command not used in this level.");break;case 12:G.startsWith("./")||G.startsWith("bash")?Q.push("Executing firewall probe script...","Testing security rules...","Vulnerability detected in rule set 7"):G.startsWith("chmod")?Q.push("Script permissions updated. Ready for execution."):Q.push("Command not used in this level.");break;case 13:G.startsWith("sudo")||G.startsWith("su")?Q.push("Elevated privileges granted.","System control transferred.","WARNING: Security protocols disabled"):G.includes("kill -9")?Q.push("Critical process terminated.","System control acquired."):Q.push("Command not used in this level.");break;case 14:G.startsWith("mount")||G.startsWith("cryptsetup")?Q.push("Encrypted volume mounted.","Decryption key validated.","Accessing secure storage..."):G.includes("gpg")?Q.push("Decrypting secure communications...","Access granted."):Q.push("Command not used in this level.");break;case 15:G.includes("find")&&G.includes("-exec")?Q.push("Searching for vessel signature...","Location fragments found:","Coordinates: 37N 122W"):G.includes("grep -r")?Q.push("Ship signature detected in sector 7."):Q.push("Command not used in this level.");break;case 16:G.startsWith("export")||G.startsWith("env")?Q.push("Environment variables configured.","Security validation passed.","Launch site access granted."):G.includes("unset")?Q.push("Security traces removed.","Path cleared."):Q.push("Command not used in this level.");break;case 17:G.includes("&")||G.includes("()")?Q.push("Parallel synthesis processes initiated.","Chemical reactions stabilized.","Fuel production: 47%"):G==="wait"?Q.push("All synthesis processes completed."):Q.push("Command not used in this level.");break;case 18:G.startsWith("ssh")||G.startsWith("scp")?Q.push("Secure channel established.","Ship systems accessed remotely.","Launch controls synchronized."):G.includes("diagnostics")?Q.push("Running full system diagnostics...","All systems nominal.","Launch capability: READY"):Q.push("Command not used in this level.");break;case 19:G.includes("sleep")||G.includes("timeout")?Q.push("T-minus 5 minutes...","Launch sequence timing verified.","All systems synchronized."):G.startsWith("watch")?Q.push("Monitoring launch parameters...","City defenses: ACTIVE - Time window: 180 seconds"):Q.push("Command not used in this level.");break;case 20:G==="exit"||G==="logout"?Q.push("All systems secured.","Course set for home.","Mission accomplished. Goodbye, Commander."):G.includes("autopilot")?Q.push("Autopilot engaged.","Navigation coordinates locked.","Preparing for warp jump."):Q.push("Command not used in this level.");break}return Q},R=Y=>{const re=Y.trim().toLowerCase(),{expectedCommands:G}=b;G.some(Q=>re.includes(Q)||Q.includes(" ")&&re.startsWith(Q.split(" ")[0]))&&N.reduce((Z,D)=>(G.forEach(I=>{(D.includes(I)||I.includes(" ")&&D.startsWith(I.split(" ")[0]))&&Z.add(I.split(" ")[0])}),Z),new Set).size>=Math.min(2,G.length)&&(o(!0),d(Z=>[...Z,"","*** TASK COMPLETED SUCCESSFULLY ***",`You've mastered the "${b.title}" challenge!`,"Ready to proceed to the next level."]))},F=Y=>{if(Y.key==="ArrowUp"&&(Y.preventDefault(),N.length>0)){const re=Math.max(0,N.length-1);f(N[re])}},U=()=>{n<g.length-1&&l(n+1),p(!0)},$=()=>{const Y=S+1;m[Y]?(C(`/bash/${Y}`),T(Y),o(!1),f("")):C("/bash")},H=()=>{C("/bash")};return E.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 flex flex-col",children:[E.jsxs("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-gray-900 via-indigo-900 to-gray-900 overflow-hidden",children:[E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gray-900 opacity-60",style:{maskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",backgroundImage:`url("data:image/svg+xml,%3Csvg width='1200' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,250 L50,240 L80,190 L110,230 L140,210 L180,180 L220,240 L270,220 L300,200 L320,230 L350,210 L380,190 L420,240 L460,200 L490,230 L520,210 L550,190 L590,220 L630,230 L660,210 L690,200 L720,240 L750,220 L790,180 L830,240 L870,210 L910,230 L940,200 L980,220 L1020,240 L1050,190 L1080,210 L1110,230 L1140,200 L1170,240 L1200,250 L1200,300 L0,300 Z' fill='%23111827'/%3E%3C/svg%3E")`}}),[...Array(15)].map((Y,re)=>E.jsx("div",{className:"city-glow absolute rounded-full transition-all duration-2000",style:{width:20+Math.random()*100,height:20+Math.random()*100,top:Math.random()*window.innerHeight,left:Math.random()*window.innerWidth,background:`radial-gradient(circle, ${["rgba(59,130,246,0.5)","rgba(139,92,246,0.5)","rgba(6,182,212,0.5)","rgba(16,185,129,0.5)"][Math.floor(Math.random()*4)]} 0%, transparent 70%)`,opacity:.3+Math.random()*.3,filter:`blur(${20+Math.random()*15}px)`}},`citylight-${re}`)),E.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
               linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px),
               linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px)
             `,backgroundSize:"80px 80px",opacity:.5}})]}),E.jsx("header",{className:"bg-gray-800/80 backdrop-filter backdrop-blur-md border-b border-cyan-500/30 py-4",children:E.jsx("div",{className:"container mx-auto px-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-md shadow-lg shadow-cyan-500/30",children:E.jsxs("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{d:"M19 9l-7 7-7-7",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M5 15V5h14v10",strokeLinecap:"round",strokeLinejoin:"round"})]})}),E.jsxs("div",{children:[E.jsxs("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:[E.jsx("span",{className:"font-extrabold",children:"BASH"}),E.jsx("span",{className:"text-lg ml-1 font-light",children:"ESCAPE"})]}),E.jsxs("p",{className:"text-xs text-gray-400",children:["LEVEL ",S,": ",b.title]})]})]}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("button",{onClick:H,className:"bg-gray-700 hover:bg-gray-600 text-white text-sm py-2 px-4 rounded-md border border-gray-600 transition-colors",children:"Return to Map"}),A&&E.jsx("button",{onClick:$,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white text-sm py-2 px-4 rounded-md transition-colors shadow-lg shadow-cyan-500/30",children:"Next Level"})]})]})})}),E.jsxs("div",{className:"container mx-auto px-4 py-6 flex-1 flex flex-col lg:flex-row gap-6",children:[E.jsxs("div",{className:"lg:w-1/3 space-y-4",children:[E.jsxs("div",{className:"bg-gray-800/60 backdrop-filter backdrop-blur-sm border border-cyan-500/30 rounded-lg p-4 shadow-lg",children:[E.jsxs("h2",{className:"text-cyan-400 text-lg font-bold mb-2 flex items-center",children:[E.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})}),"Mission Briefing"]}),b.description.map((Y,re)=>E.jsx("p",{className:"text-sm mb-4 leading-relaxed",children:Y},re)),E.jsxs("div",{className:"mt-4 bg-gray-900/50 p-3 rounded border border-gray-700",children:[E.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-1",children:"OBJECTIVE:"}),E.jsx("p",{className:"text-xs text-gray-300",children:b.objective})]})]}),E.jsxs("div",{className:"bg-gray-800/60 backdrop-filter backdrop-blur-sm border border-amber-500/30 rounded-lg p-4 shadow-lg",children:[E.jsxs("h2",{className:"text-amber-400 text-lg font-bold mb-2 flex items-center",children:[E.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V6h2v2z"})}),"Command Assistance"]}),k?E.jsxs("div",{className:"space-y-2",children:[g.slice(0,n+1).map((Y,re)=>E.jsx("div",{className:"bg-amber-900/20 p-2 rounded text-xs text-amber-200 border border-amber-700/30",children:Y},re)),n<g.length-1&&E.jsx("button",{onClick:U,className:"text-xs text-amber-400 hover:text-amber-300 mt-2",children:"Need more help?"})]}):E.jsx("button",{onClick:()=>p(!0),className:"bg-amber-900/30 hover:bg-amber-900/50 border border-amber-700/30 text-amber-400 text-xs py-2 px-4 rounded w-full transition-colors",children:"Show Hint"})]})]}),E.jsxs("div",{className:"lg:w-2/3 flex flex-col",children:[E.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg shadow-xl flex-1 flex flex-col overflow-hidden z-10",children:[E.jsxs("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700 flex items-center",children:[E.jsxs("div",{className:"flex space-x-2 mr-4",children:[E.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),E.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),E.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),E.jsxs("div",{className:"text-xs text-gray-400 flex-1 text-center font-mono",children:["NEXUS-9 Terminal - ",b.title]})]}),E.jsx("div",{ref:s,className:"flex-1 bg-gray-950 p-4 font-mono text-sm overflow-y-auto",style:{minHeight:"400px"},children:y.map((Y,re)=>{const G=Y.startsWith("nexus@user:~$"),Q=Y.includes("TASK COMPLETED SUCCESSFULLY");return E.jsx("div",{className:`
                    ${G?"text-green-400":Q?"text-cyan-400 font-bold":"text-gray-300"}
                    ${Y===""?"py-1":"py-0.5"}
                  `,children:Y},re)})}),E.jsx("form",{onSubmit:L,className:"border-t border-gray-700 p-2 bg-gray-800/60",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:"text-green-400 font-mono text-sm mr-2",children:"nexus@user:~$"}),E.jsx("input",{ref:a,type:"text",value:c,onChange:x,onKeyDown:F,className:"flex-1 bg-transparent border-none outline-none text-white font-mono text-sm",placeholder:"Enter command...",spellCheck:"false",autoComplete:"off"})]})})]}),E.jsx("div",{className:"mt-4 bg-gray-800/60 backdrop-filter backdrop-blur-sm border border-gray-700 rounded-lg p-3",children:E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsx("div",{className:"text-xs font-semibold text-gray-400",children:"COMMON COMMANDS:"}),["ls","cd","pwd","mkdir","touch","cat","find","grep"].map(Y=>E.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>f(re=>`${re}${re?" ":""}${Y}`),children:Y},Y))]})})]})]})]})}var ja={exports:{}},fh;function H0(){return fh||(fh=1,function(h,C){(function(S,T){h.exports=T()})(globalThis,()=>(()=>{var S={4567:function(A,o,c){var f=this&&this.__decorate||function(s,a,m,b){var x,L=arguments.length,v=L<3?a:b===null?b=Object.getOwnPropertyDescriptor(a,m):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(s,a,m,b);else for(var R=s.length-1;R>=0;R--)(x=s[R])&&(v=(L<3?x(v):L>3?x(a,m,v):x(a,m))||v);return L>3&&v&&Object.defineProperty(a,m,v),v},y=this&&this.__param||function(s,a){return function(m,b){a(m,b,s)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const d=c(9042),g=c(9924),w=c(844),k=c(4725),p=c(2585),n=c(3656);let l=o.AccessibilityManager=class extends w.Disposable{constructor(s,a,m,b){super(),this._terminal=s,this._coreBrowserService=m,this._renderService=b,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let x=0;x<this._terminal.rows;x++)this._rowElements[x]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[x]);if(this._topBoundaryFocusListener=x=>this._handleBoundaryFocus(x,0),this._bottomBoundaryFocusListener=x=>this._handleBoundaryFocus(x,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(x=>this._handleResize(x.rows))),this.register(this._terminal.onRender(x=>this._refreshRows(x.start,x.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(x=>this._handleChar(x))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(x=>this._handleTab(x))),this.register(this._terminal.onKey(x=>this._handleKey(x.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,n.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,w.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(s){for(let a=0;a<s;a++)this._handleChar(" ")}_handleChar(s){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==s&&(this._charsToAnnounce+=s):this._charsToAnnounce+=s,s===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(s){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(s)||this._charsToConsume.push(s)}_refreshRows(s,a){this._liveRegionDebouncer.refresh(s,a,this._terminal.rows)}_renderRows(s,a){const m=this._terminal.buffer,b=m.lines.length.toString();for(let x=s;x<=a;x++){const L=m.lines.get(m.ydisp+x),v=[],R=(L==null?void 0:L.translateToString(!0,void 0,void 0,v))||"",F=(m.ydisp+x+1).toString(),U=this._rowElements[x];U&&(R.length===0?(U.innerText="",this._rowColumns.set(U,[0,1])):(U.textContent=R,this._rowColumns.set(U,v)),U.setAttribute("aria-posinset",F),U.setAttribute("aria-setsize",b))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(s,a){const m=s.target,b=this._rowElements[a===0?1:this._rowElements.length-2];if(m.getAttribute("aria-posinset")===(a===0?"1":`${this._terminal.buffer.lines.length}`)||s.relatedTarget!==b)return;let x,L;if(a===0?(x=m,L=this._rowElements.pop(),this._rowContainer.removeChild(L)):(x=this._rowElements.shift(),L=m,this._rowContainer.removeChild(x)),x.removeEventListener("focus",this._topBoundaryFocusListener),L.removeEventListener("focus",this._bottomBoundaryFocusListener),a===0){const v=this._createAccessibilityTreeNode();this._rowElements.unshift(v),this._rowContainer.insertAdjacentElement("afterbegin",v)}else{const v=this._createAccessibilityTreeNode();this._rowElements.push(v),this._rowContainer.appendChild(v)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(a===0?-1:1),this._rowElements[a===0?1:this._rowElements.length-2].focus(),s.preventDefault(),s.stopImmediatePropagation()}_handleSelectionChange(){var R;if(this._rowElements.length===0)return;const s=document.getSelection();if(!s)return;if(s.isCollapsed)return void(this._rowContainer.contains(s.anchorNode)&&this._terminal.clearSelection());if(!s.anchorNode||!s.focusNode)return void console.error("anchorNode and/or focusNode are null");let a={node:s.anchorNode,offset:s.anchorOffset},m={node:s.focusNode,offset:s.focusOffset};if((a.node.compareDocumentPosition(m.node)&Node.DOCUMENT_POSITION_PRECEDING||a.node===m.node&&a.offset>m.offset)&&([a,m]=[m,a]),a.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(a={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(a.node))return;const b=this._rowElements.slice(-1)[0];if(m.node.compareDocumentPosition(b)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(m={node:b,offset:((R=b.textContent)==null?void 0:R.length)??0}),!this._rowContainer.contains(m.node))return;const x=({node:F,offset:U})=>{const $=F instanceof Text?F.parentNode:F;let H=parseInt($==null?void 0:$.getAttribute("aria-posinset"),10)-1;if(isNaN(H))return console.warn("row is invalid. Race condition?"),null;const Y=this._rowColumns.get($);if(!Y)return console.warn("columns is null. Race condition?"),null;let re=U<Y.length?Y[U]:Y.slice(-1)[0]+1;return re>=this._terminal.cols&&(++H,re=0),{row:H,column:re}},L=x(a),v=x(m);if(L&&v){if(L.row>v.row||L.row===v.row&&L.column>=v.column)throw new Error("invalid range");this._terminal.select(L.column,L.row,(v.row-L.row)*this._terminal.cols-L.column+v.column)}}_handleResize(s){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let a=this._rowContainer.children.length;a<this._terminal.rows;a++)this._rowElements[a]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[a]);for(;this._rowElements.length>s;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const s=this._coreBrowserService.mainDocument.createElement("div");return s.setAttribute("role","listitem"),s.tabIndex=-1,this._refreshRowDimensions(s),s}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let s=0;s<this._terminal.rows;s++)this._refreshRowDimensions(this._rowElements[s])}}_refreshRowDimensions(s){s.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=l=f([y(1,p.IInstantiationService),y(2,k.ICoreBrowserService),y(3,k.IRenderService)],l)},3614:(A,o)=>{function c(g){return g.replace(/\r?\n/g,"\r")}function f(g,w){return w?"\x1B[200~"+g+"\x1B[201~":g}function y(g,w,k,p){g=f(g=c(g),k.decPrivateModes.bracketedPasteMode&&p.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(g,!0),w.value=""}function d(g,w,k){const p=k.getBoundingClientRect(),n=g.clientX-p.left-10,l=g.clientY-p.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${n}px`,w.style.top=`${l}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=c,o.bracketTextForPaste=f,o.copyHandler=function(g,w){g.clipboardData&&g.clipboardData.setData("text/plain",w.selectionText),g.preventDefault()},o.handlePasteEvent=function(g,w,k,p){g.stopPropagation(),g.clipboardData&&y(g.clipboardData.getData("text/plain"),w,k,p)},o.paste=y,o.moveTextAreaUnderMouseCursor=d,o.rightClickHandler=function(g,w,k,p,n){d(g,w,k),n&&p.rightClickSelect(g),w.value=p.selectionText,w.select()}},7239:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const f=c(1505);o.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(y,d,g){this._css.set(y,d,g)}getCss(y,d){return this._css.get(y,d)}setColor(y,d,g){this._color.set(y,d,g)}getColor(y,d){return this._color.get(y,d)}clear(){this._color.clear(),this._css.clear()}}},3656:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(c,f,y,d){c.addEventListener(f,y,d);let g=!1;return{dispose:()=>{g||(g=!0,c.removeEventListener(f,y,d))}}}},3551:function(A,o,c){var f=this&&this.__decorate||function(l,s,a,m){var b,x=arguments.length,L=x<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,a):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(l,s,a,m);else for(var v=l.length-1;v>=0;v--)(b=l[v])&&(L=(x<3?b(L):x>3?b(s,a,L):b(s,a))||L);return x>3&&L&&Object.defineProperty(s,a,L),L},y=this&&this.__param||function(l,s){return function(a,m){s(a,m,l)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier=void 0;const d=c(3656),g=c(8460),w=c(844),k=c(2585),p=c(4725);let n=o.Linkifier=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(l,s,a,m,b){super(),this._element=l,this._mouseService=s,this._renderService=a,this._bufferService=m,this._linkProviderService=b,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{var x;this._lastMouseEvent=void 0,(x=this._activeProviderReplies)==null||x.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(l){this._lastMouseEvent=l;const s=this._positionFromMouseEvent(l,this._element,this._mouseService);if(!s)return;this._isMouseOut=!1;const a=l.composedPath();for(let m=0;m<a.length;m++){const b=a[m];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&s.x===this._lastBufferCell.x&&s.y===this._lastBufferCell.y||(this._handleHover(s),this._lastBufferCell=s)}_handleHover(l){if(this._activeLine!==l.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(l,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,l)||(this._clearCurrentLink(),this._askForLink(l,!0))}_askForLink(l,s){var m,b;this._activeProviderReplies&&s||((m=this._activeProviderReplies)==null||m.forEach(x=>{x==null||x.forEach(L=>{L.link.dispose&&L.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=l.y);let a=!1;for(const[x,L]of this._linkProviderService.linkProviders.entries())s?(b=this._activeProviderReplies)!=null&&b.get(x)&&(a=this._checkLinkProviderResult(x,l,a)):L.provideLinks(l.y,v=>{var F,U;if(this._isMouseOut)return;const R=v==null?void 0:v.map($=>({link:$}));(F=this._activeProviderReplies)==null||F.set(x,R),a=this._checkLinkProviderResult(x,l,a),((U=this._activeProviderReplies)==null?void 0:U.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(l.y,this._activeProviderReplies)})}_removeIntersectingLinks(l,s){const a=new Set;for(let m=0;m<s.size;m++){const b=s.get(m);if(b)for(let x=0;x<b.length;x++){const L=b[x],v=L.link.range.start.y<l?0:L.link.range.start.x,R=L.link.range.end.y>l?this._bufferService.cols:L.link.range.end.x;for(let F=v;F<=R;F++){if(a.has(F)){b.splice(x--,1);break}a.add(F)}}}}_checkLinkProviderResult(l,s,a){var x;if(!this._activeProviderReplies)return a;const m=this._activeProviderReplies.get(l);let b=!1;for(let L=0;L<l;L++)this._activeProviderReplies.has(L)&&!this._activeProviderReplies.get(L)||(b=!0);if(!b&&m){const L=m.find(v=>this._linkAtPosition(v.link,s));L&&(a=!0,this._handleNewLink(L))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!a)for(let L=0;L<this._activeProviderReplies.size;L++){const v=(x=this._activeProviderReplies.get(L))==null?void 0:x.find(R=>this._linkAtPosition(R.link,s));if(v){a=!0,this._handleNewLink(v);break}}return a}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(l){if(!this._currentLink)return;const s=this._positionFromMouseEvent(l,this._element,this._mouseService);s&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,s)&&this._currentLink.link.activate(l,this._currentLink.link.text)}_clearCurrentLink(l,s){this._currentLink&&this._lastMouseEvent&&(!l||!s||this._currentLink.link.range.start.y>=l&&this._currentLink.link.range.end.y<=s)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(l){if(!this._lastMouseEvent)return;const s=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);s&&this._linkAtPosition(l.link,s)&&(this._currentLink=l,this._currentLink.state={decorations:{underline:l.link.decorations===void 0||l.link.decorations.underline,pointerCursor:l.link.decorations===void 0||l.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,l.link,this._lastMouseEvent),l.link.decorations={},Object.defineProperties(l.link.decorations,{pointerCursor:{get:()=>{var a,m;return(m=(a=this._currentLink)==null?void 0:a.state)==null?void 0:m.decorations.pointerCursor},set:a=>{var m;(m=this._currentLink)!=null&&m.state&&this._currentLink.state.decorations.pointerCursor!==a&&(this._currentLink.state.decorations.pointerCursor=a,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",a))}},underline:{get:()=>{var a,m;return(m=(a=this._currentLink)==null?void 0:a.state)==null?void 0:m.decorations.underline},set:a=>{var m,b,x;(m=this._currentLink)!=null&&m.state&&((x=(b=this._currentLink)==null?void 0:b.state)==null?void 0:x.decorations.underline)!==a&&(this._currentLink.state.decorations.underline=a,this._currentLink.state.isHovered&&this._fireUnderlineEvent(l.link,a))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(a=>{if(!this._currentLink)return;const m=a.start===0?0:a.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+a.end;if(this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(m,b),this._lastMouseEvent)){const x=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);x&&this._askForLink(x,!1)}})))}_linkHover(l,s,a){var m;(m=this._currentLink)!=null&&m.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(s,!0),this._currentLink.state.decorations.pointerCursor&&l.classList.add("xterm-cursor-pointer")),s.hover&&s.hover(a,s.text)}_fireUnderlineEvent(l,s){const a=l.range,m=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(a.start.x-1,a.start.y-m-1,a.end.x,a.end.y-m-1,void 0);(s?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(l,s,a){var m;(m=this._currentLink)!=null&&m.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(s,!1),this._currentLink.state.decorations.pointerCursor&&l.classList.remove("xterm-cursor-pointer")),s.leave&&s.leave(a,s.text)}_linkAtPosition(l,s){const a=l.range.start.y*this._bufferService.cols+l.range.start.x,m=l.range.end.y*this._bufferService.cols+l.range.end.x,b=s.y*this._bufferService.cols+s.x;return a<=b&&b<=m}_positionFromMouseEvent(l,s,a){const m=a.getCoords(l,s,this._bufferService.cols,this._bufferService.rows);if(m)return{x:m[0],y:m[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(l,s,a,m,b){return{x1:l,y1:s,x2:a,y2:m,cols:this._bufferService.cols,fg:b}}};o.Linkifier=n=f([y(1,p.IMouseService),y(2,p.IRenderService),y(3,k.IBufferService),y(4,p.ILinkProviderService)],n)},9042:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(A,o,c){var f=this&&this.__decorate||function(p,n,l,s){var a,m=arguments.length,b=m<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,l):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(p,n,l,s);else for(var x=p.length-1;x>=0;x--)(a=p[x])&&(b=(m<3?a(b):m>3?a(n,l,b):a(n,l))||b);return m>3&&b&&Object.defineProperty(n,l,b),b},y=this&&this.__param||function(p,n){return function(l,s){n(l,s,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const d=c(511),g=c(2585);let w=o.OscLinkProvider=class{constructor(p,n,l){this._bufferService=p,this._optionsService=n,this._oscLinkService=l}provideLinks(p,n){var R;const l=this._bufferService.buffer.lines.get(p-1);if(!l)return void n(void 0);const s=[],a=this._optionsService.rawOptions.linkHandler,m=new d.CellData,b=l.getTrimmedLength();let x=-1,L=-1,v=!1;for(let F=0;F<b;F++)if(L!==-1||l.hasContent(F)){if(l.loadCell(F,m),m.hasExtendedAttrs()&&m.extended.urlId){if(L===-1){L=F,x=m.extended.urlId;continue}v=m.extended.urlId!==x}else L!==-1&&(v=!0);if(v||L!==-1&&F===b-1){const U=(R=this._oscLinkService.getLinkData(x))==null?void 0:R.uri;if(U){const $={start:{x:L+1,y:p},end:{x:F+(v||F!==b-1?0:1),y:p}};let H=!1;if(!(a!=null&&a.allowNonHttpProtocols))try{const Y=new URL(U);["http:","https:"].includes(Y.protocol)||(H=!0)}catch{H=!0}H||s.push({text:U,range:$,activate:(Y,re)=>a?a.activate(Y,re,$):k(0,re),hover:(Y,re)=>{var G;return(G=a==null?void 0:a.hover)==null?void 0:G.call(a,Y,re,$)},leave:(Y,re)=>{var G;return(G=a==null?void 0:a.leave)==null?void 0:G.call(a,Y,re,$)}})}v=!1,m.hasExtendedAttrs()&&m.extended.urlId?(L=F,x=m.extended.urlId):(L=-1,x=-1)}}n(s)}};function k(p,n){if(confirm(`Do you want to navigate to ${n}?

WARNING: This link could potentially be dangerous`)){const l=window.open();if(l){try{l.opener=null}catch{}l.location.href=n}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=w=f([y(0,g.IBufferService),y(1,g.IOptionsService),y(2,g.IOscLinkService)],w)},6193:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(c,f){this._renderCallback=c,this._coreBrowserService=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(c,f,y){this._rowCount=y,c=c!==void 0?c:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},3236:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const f=c(3614),y=c(3656),d=c(3551),g=c(9042),w=c(3730),k=c(1680),p=c(3107),n=c(5744),l=c(2950),s=c(1296),a=c(428),m=c(4269),b=c(5114),x=c(8934),L=c(3230),v=c(9312),R=c(4725),F=c(6731),U=c(8055),$=c(8969),H=c(8460),Y=c(844),re=c(6114),G=c(8437),Q=c(2584),Z=c(7399),D=c(5941),I=c(9074),M=c(2585),j=c(5435),X=c(4567),ne=c(779);class ue extends $.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(q={}){super(q),this.browser=re,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new Y.MutableDisposable),this._onCursorMove=this.register(new H.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new H.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new H.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new H.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new H.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new H.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new H.EventEmitter),this._onBlur=this.register(new H.EventEmitter),this._onA11yCharEmitter=this.register(new H.EventEmitter),this._onA11yTabEmitter=this.register(new H.EventEmitter),this._onWillOpen=this.register(new H.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(I.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(ne.LinkProviderService),this._instantiationService.setService(R.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((O,se)=>this.refresh(O,se))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(O=>this._reportWindowsOptions(O))),this.register(this._inputHandler.onColor(O=>this._handleColorEvent(O))),this.register((0,H.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,H.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,H.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,H.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(O=>this._afterResize(O.cols,O.rows))),this.register((0,Y.toDisposable)(()=>{var O,se;this._customKeyEventHandler=void 0,(se=(O=this.element)==null?void 0:O.parentNode)==null||se.removeChild(this.element)}))}_handleColorEvent(q){if(this._themeService)for(const O of q){let se,ie="";switch(O.index){case 256:se="foreground",ie="10";break;case 257:se="background",ie="11";break;case 258:se="cursor",ie="12";break;default:se="ansi",ie="4;"+O.index}switch(O.type){case 0:const fe=U.color.toColorRGB(se==="ansi"?this._themeService.colors.ansi[O.index]:this._themeService.colors[se]);this.coreService.triggerDataEvent(`${Q.C0.ESC}]${ie};${(0,D.toRgbString)(fe)}${Q.C1_ESCAPED.ST}`);break;case 1:if(se==="ansi")this._themeService.modifyColors(de=>de.ansi[O.index]=U.channels.toColor(...O.color));else{const de=se;this._themeService.modifyColors(xe=>xe[de]=U.channels.toColor(...O.color))}break;case 2:this._themeService.restoreColor(O.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(q){q?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(X.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(q){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Q.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var q;return(q=this.textarea)==null?void 0:q.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Q.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const q=this.buffer.ybase+this.buffer.y,O=this.buffer.lines.get(q);if(!O)return;const se=Math.min(this.buffer.x,this.cols-1),ie=this._renderService.dimensions.css.cell.height,fe=O.getWidth(se),de=this._renderService.dimensions.css.cell.width*fe,xe=this.buffer.y*this._renderService.dimensions.css.cell.height,Te=se*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Te+"px",this.textarea.style.top=xe+"px",this.textarea.style.width=de+"px",this.textarea.style.height=ie+"px",this.textarea.style.lineHeight=ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,y.addDisposableDomListener)(this.element,"copy",O=>{this.hasSelection()&&(0,f.copyHandler)(O,this._selectionService)}));const q=O=>(0,f.handlePasteEvent)(O,this.textarea,this.coreService,this.optionsService);this.register((0,y.addDisposableDomListener)(this.textarea,"paste",q)),this.register((0,y.addDisposableDomListener)(this.element,"paste",q)),re.isFirefox?this.register((0,y.addDisposableDomListener)(this.element,"mousedown",O=>{O.button===2&&(0,f.rightClickHandler)(O,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,y.addDisposableDomListener)(this.element,"contextmenu",O=>{(0,f.rightClickHandler)(O,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),re.isLinux&&this.register((0,y.addDisposableDomListener)(this.element,"auxclick",O=>{O.button===1&&(0,f.moveTextAreaUnderMouseCursor)(O,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,y.addDisposableDomListener)(this.textarea,"keyup",q=>this._keyUp(q),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keydown",q=>this._keyDown(q),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keypress",q=>this._keyPress(q),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionupdate",q=>this._compositionHelper.compositionupdate(q))),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,y.addDisposableDomListener)(this.textarea,"input",q=>this._inputEvent(q),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(q){var se;if(!q)throw new Error("Terminal requires a parent element.");if(q.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((se=this.element)==null?void 0:se.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=q.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),q.appendChild(this.element);const O=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),O.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,y.addDisposableDomListener)(this.screenElement,"mousemove",ie=>this.updateCursorStyle(ie))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),O.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),re.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(b.CoreBrowserService,this.textarea,q.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(R.ICoreBrowserService,this._coreBrowserService),this.register((0,y.addDisposableDomListener)(this.textarea,"focus",ie=>this._handleTextAreaFocus(ie))),this.register((0,y.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(a.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(R.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(F.ThemeService),this._instantiationService.setService(R.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(m.CharacterJoinerService),this._instantiationService.setService(R.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(R.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(ie=>this._onRender.fire(ie))),this.onResize(ie=>this._renderService.resize(ie.cols,ie.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(l.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(R.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(d.Linkifier,this.screenElement)),this.element.appendChild(O);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(v.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(R.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(ie=>this._renderService.handleSelectionChanged(ie.start,ie.end,ie.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(ie=>{this.textarea.value=ie,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(ie=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,y.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(p.BufferDecorationRenderer,this.screenElement)),this.register((0,y.addDisposableDomListener)(this.element,"mousedown",ie=>this._selectionService.handleMouseDown(ie))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(X.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",ie=>this._handleScreenReaderModeOptionChange(ie))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",ie=>{!this._overviewRulerRenderer&&ie&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(s.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const q=this,O=this.element;function se(de){const xe=q._mouseService.getMouseReportCoords(de,q.screenElement);if(!xe)return!1;let Te,Ae;switch(de.overrideType||de.type){case"mousemove":Ae=32,de.buttons===void 0?(Te=3,de.button!==void 0&&(Te=de.button<3?de.button:3)):Te=1&de.buttons?0:4&de.buttons?1:2&de.buttons?2:3;break;case"mouseup":Ae=0,Te=de.button<3?de.button:3;break;case"mousedown":Ae=1,Te=de.button<3?de.button:3;break;case"wheel":if(q._customWheelEventHandler&&q._customWheelEventHandler(de)===!1||q.viewport.getLinesScrolled(de)===0)return!1;Ae=de.deltaY<0?0:1,Te=4;break;default:return!1}return!(Ae===void 0||Te===void 0||Te>4)&&q.coreMouseService.triggerMouseEvent({col:xe.col,row:xe.row,x:xe.x,y:xe.y,button:Te,action:Ae,ctrl:de.ctrlKey,alt:de.altKey,shift:de.shiftKey})}const ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},fe={mouseup:de=>(se(de),de.buttons||(this._document.removeEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.removeEventListener("mousemove",ie.mousedrag)),this.cancel(de)),wheel:de=>(se(de),this.cancel(de,!0)),mousedrag:de=>{de.buttons&&se(de)},mousemove:de=>{de.buttons||se(de)}};this.register(this.coreMouseService.onProtocolChange(de=>{de?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(de)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&de?ie.mousemove||(O.addEventListener("mousemove",fe.mousemove),ie.mousemove=fe.mousemove):(O.removeEventListener("mousemove",ie.mousemove),ie.mousemove=null),16&de?ie.wheel||(O.addEventListener("wheel",fe.wheel,{passive:!1}),ie.wheel=fe.wheel):(O.removeEventListener("wheel",ie.wheel),ie.wheel=null),2&de?ie.mouseup||(ie.mouseup=fe.mouseup):(this._document.removeEventListener("mouseup",ie.mouseup),ie.mouseup=null),4&de?ie.mousedrag||(ie.mousedrag=fe.mousedrag):(this._document.removeEventListener("mousemove",ie.mousedrag),ie.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,y.addDisposableDomListener)(O,"mousedown",de=>{if(de.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(de))return se(de),ie.mouseup&&this._document.addEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.addEventListener("mousemove",ie.mousedrag),this.cancel(de)})),this.register((0,y.addDisposableDomListener)(O,"wheel",de=>{if(!ie.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(de)===!1)return!1;if(!this.buffer.hasScrollback){const xe=this.viewport.getLinesScrolled(de);if(xe===0)return;const Te=Q.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(de.deltaY<0?"A":"B");let Ae="";for(let Ye=0;Ye<Math.abs(xe);Ye++)Ae+=Te;return this.coreService.triggerDataEvent(Ae,!0),this.cancel(de,!0)}return this.viewport.handleWheel(de)?this.cancel(de):void 0}},{passive:!1})),this.register((0,y.addDisposableDomListener)(O,"touchstart",de=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(de),this.cancel(de)},{passive:!0})),this.register((0,y.addDisposableDomListener)(O,"touchmove",de=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(de)?void 0:this.cancel(de)},{passive:!1}))}refresh(q,O){var se;(se=this._renderService)==null||se.refreshRows(q,O)}updateCursorStyle(q){var O;(O=this._selectionService)!=null&&O.shouldColumnSelect(q)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(q,O,se=0){var ie;se===1?(super.scrollLines(q,O,se),this.refresh(0,this.rows-1)):(ie=this.viewport)==null||ie.scrollLines(q)}paste(q){(0,f.paste)(q,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(q){this._customKeyEventHandler=q}attachCustomWheelEventHandler(q){this._customWheelEventHandler=q}registerLinkProvider(q){return this._linkProviderService.registerLinkProvider(q)}registerCharacterJoiner(q){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const O=this._characterJoinerService.register(q);return this.refresh(0,this.rows-1),O}deregisterCharacterJoiner(q){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(q)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(q){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+q)}registerDecoration(q){return this._decorationService.registerDecoration(q)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(q,O,se){this._selectionService.setSelection(q,O,se)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var q;(q=this._selectionService)==null||q.clearSelection()}selectAll(){var q;(q=this._selectionService)==null||q.selectAll()}selectLines(q,O){var se;(se=this._selectionService)==null||se.selectLines(q,O)}_keyDown(q){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(q)===!1)return!1;const O=this.browser.isMac&&this.options.macOptionIsMeta&&q.altKey;if(!O&&!this._compositionHelper.keydown(q))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;O||q.key!=="Dead"&&q.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const se=(0,Z.evaluateKeyboardEvent)(q,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(q),se.type===3||se.type===2){const ie=this.rows-1;return this.scrollLines(se.type===2?-ie:ie),this.cancel(q,!0)}return se.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,q)||(se.cancel&&this.cancel(q,!0),!se.key||!!(q.key&&!q.ctrlKey&&!q.altKey&&!q.metaKey&&q.key.length===1&&q.key.charCodeAt(0)>=65&&q.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(se.key!==Q.C0.ETX&&se.key!==Q.C0.CR||(this.textarea.value=""),this._onKey.fire({key:se.key,domEvent:q}),this._showCursor(),this.coreService.triggerDataEvent(se.key,!0),!this.optionsService.rawOptions.screenReaderMode||q.altKey||q.ctrlKey?this.cancel(q,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(q,O){const se=q.isMac&&!this.options.macOptionIsMeta&&O.altKey&&!O.ctrlKey&&!O.metaKey||q.isWindows&&O.altKey&&O.ctrlKey&&!O.metaKey||q.isWindows&&O.getModifierState("AltGraph");return O.type==="keypress"?se:se&&(!O.keyCode||O.keyCode>47)}_keyUp(q){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(q)===!1||(function(O){return O.keyCode===16||O.keyCode===17||O.keyCode===18}(q)||this.focus(),this.updateCursorStyle(q),this._keyPressHandled=!1)}_keyPress(q){let O;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(q)===!1)return!1;if(this.cancel(q),q.charCode)O=q.charCode;else if(q.which===null||q.which===void 0)O=q.keyCode;else{if(q.which===0||q.charCode===0)return!1;O=q.which}return!(!O||(q.altKey||q.ctrlKey||q.metaKey)&&!this._isThirdLevelShift(this.browser,q)||(O=String.fromCharCode(O),this._onKey.fire({key:O,domEvent:q}),this._showCursor(),this.coreService.triggerDataEvent(O,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(q){if(q.data&&q.inputType==="insertText"&&(!q.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const O=q.data;return this.coreService.triggerDataEvent(O,!0),this.cancel(q),!0}return!1}resize(q,O){q!==this.cols||O!==this.rows?super.resize(q,O):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(q,O){var se,ie;(se=this._charSizeService)==null||se.measure(),(ie=this.viewport)==null||ie.syncScrollArea(!0)}clear(){var q;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let O=1;O<this.rows;O++)this.buffer.lines.push(this.buffer.getBlankLine(G.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(q=this.viewport)==null||q.reset(),this.refresh(0,this.rows-1)}}reset(){var O,se;this.options.rows=this.rows,this.options.cols=this.cols;const q=this._customKeyEventHandler;this._setup(),super.reset(),(O=this._selectionService)==null||O.reset(),this._decorationService.reset(),(se=this.viewport)==null||se.reset(),this._customKeyEventHandler=q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var q;(q=this._renderService)==null||q.clearTextureAtlas()}_reportFocus(){var q;(q=this.element)!=null&&q.classList.contains("focus")?this.coreService.triggerDataEvent(Q.C0.ESC+"[I"):this.coreService.triggerDataEvent(Q.C0.ESC+"[O")}_reportWindowsOptions(q){if(this._renderService)switch(q){case j.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const O=this._renderService.dimensions.css.canvas.width.toFixed(0),se=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Q.C0.ESC}[4;${se};${O}t`);break;case j.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ie=this._renderService.dimensions.css.cell.width.toFixed(0),fe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Q.C0.ESC}[6;${fe};${ie}t`)}}cancel(q,O){if(this.options.cancelEvents||O)return q.preventDefault(),q.stopPropagation(),!1}}o.Terminal=ue},9924:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(c,f=1e3){this._renderCallback=c,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,f,y){this._rowCount=y,c=c!==void 0?c:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const d=Date.now();if(d-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=d,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=d-this._lastRefreshMs,w=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,f)}}},1680:function(A,o,c){var f=this&&this.__decorate||function(l,s,a,m){var b,x=arguments.length,L=x<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,a):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(l,s,a,m);else for(var v=l.length-1;v>=0;v--)(b=l[v])&&(L=(x<3?b(L):x>3?b(s,a,L):b(s,a))||L);return x>3&&L&&Object.defineProperty(s,a,L),L},y=this&&this.__param||function(l,s){return function(a,m){s(a,m,l)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const d=c(3656),g=c(4725),w=c(8460),k=c(844),p=c(2585);let n=o.Viewport=class extends k.Disposable{constructor(l,s,a,m,b,x,L,v){super(),this._viewportElement=l,this._scrollArea=s,this._bufferService=a,this._optionsService=m,this._charSizeService=b,this._renderService=x,this._coreBrowserService=L,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(R=>this._activeBuffer=R.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(R=>this._renderDimensions=R)),this._handleThemeChange(v.colors),this.register(v.onChangeColors(R=>this._handleThemeChange(R))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(l){this._viewportElement.style.backgroundColor=l.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(l){if(l)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const s=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==s&&(this._lastRecordedBufferHeight=s,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const l=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==l&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=l),this._refreshAnimationFrame=null}syncScrollArea(l=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(l);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(l)}_handleScroll(l){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const s=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:s,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const l=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(l*(this._smoothScrollState.target-this._smoothScrollState.origin)),l<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(l,s){const a=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(s<0&&this._viewportElement.scrollTop!==0||s>0&&a<this._lastRecordedBufferHeight)||(l.cancelable&&l.preventDefault(),!1)}handleWheel(l){const s=this._getPixelsScrolled(l);return s!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+s:this._smoothScrollState.target+=s,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=s,this._bubbleScroll(l,s))}scrollLines(l){if(l!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const s=l*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+s,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:l,suppressScrollEvent:!1})}_getPixelsScrolled(l){if(l.deltaY===0||l.shiftKey)return 0;let s=this._applyScrollModifier(l.deltaY,l);return l.deltaMode===WheelEvent.DOM_DELTA_LINE?s*=this._currentRowHeight:l.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(s*=this._currentRowHeight*this._bufferService.rows),s}getBufferElements(l,s){var v;let a,m="";const b=[],x=s??this._bufferService.buffer.lines.length,L=this._bufferService.buffer.lines;for(let R=l;R<x;R++){const F=L.get(R);if(!F)continue;const U=(v=L.get(R+1))==null?void 0:v.isWrapped;if(m+=F.translateToString(!U),!U||R===L.length-1){const $=document.createElement("div");$.textContent=m,b.push($),m.length>0&&(a=$),m=""}}return{bufferElements:b,cursorElement:a}}getLinesScrolled(l){if(l.deltaY===0||l.shiftKey)return 0;let s=this._applyScrollModifier(l.deltaY,l);return l.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(s/=this._currentRowHeight+0,this._wheelPartialScroll+=s,s=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):l.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(s*=this._bufferService.rows),s}_applyScrollModifier(l,s){const a=this._optionsService.rawOptions.fastScrollModifier;return a==="alt"&&s.altKey||a==="ctrl"&&s.ctrlKey||a==="shift"&&s.shiftKey?l*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:l*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(l){this._lastTouchY=l.touches[0].pageY}handleTouchMove(l){const s=this._lastTouchY-l.touches[0].pageY;return this._lastTouchY=l.touches[0].pageY,s!==0&&(this._viewportElement.scrollTop+=s,this._bubbleScroll(l,s))}};o.Viewport=n=f([y(2,p.IBufferService),y(3,p.IOptionsService),y(4,g.ICharSizeService),y(5,g.IRenderService),y(6,g.ICoreBrowserService),y(7,g.IThemeService)],n)},3107:function(A,o,c){var f=this&&this.__decorate||function(p,n,l,s){var a,m=arguments.length,b=m<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,l):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(p,n,l,s);else for(var x=p.length-1;x>=0;x--)(a=p[x])&&(b=(m<3?a(b):m>3?a(n,l,b):a(n,l))||b);return m>3&&b&&Object.defineProperty(n,l,b),b},y=this&&this.__param||function(p,n){return function(l,s){n(l,s,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const d=c(4725),g=c(844),w=c(2585);let k=o.BufferDecorationRenderer=class extends g.Disposable{constructor(p,n,l,s,a){super(),this._screenElement=p,this._bufferService=n,this._coreBrowserService=l,this._decorationService=s,this._renderService=a,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const p of this._decorationService.decorations)this._renderDecoration(p);this._dimensionsChanged=!1}_renderDecoration(p){this._refreshStyle(p),this._dimensionsChanged&&this._refreshXPosition(p)}_createElement(p){var s;const n=this._coreBrowserService.mainDocument.createElement("div");n.classList.add("xterm-decoration"),n.classList.toggle("xterm-decoration-top-layer",((s=p==null?void 0:p.options)==null?void 0:s.layer)==="top"),n.style.width=`${Math.round((p.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,n.style.height=(p.options.height||1)*this._renderService.dimensions.css.cell.height+"px",n.style.top=(p.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",n.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const l=p.options.x??0;return l&&l>this._bufferService.cols&&(n.style.display="none"),this._refreshXPosition(p,n),n}_refreshStyle(p){const n=p.marker.line-this._bufferService.buffers.active.ydisp;if(n<0||n>=this._bufferService.rows)p.element&&(p.element.style.display="none",p.onRenderEmitter.fire(p.element));else{let l=this._decorationElements.get(p);l||(l=this._createElement(p),p.element=l,this._decorationElements.set(p,l),this._container.appendChild(l),p.onDispose(()=>{this._decorationElements.delete(p),l.remove()})),l.style.top=n*this._renderService.dimensions.css.cell.height+"px",l.style.display=this._altBufferIsActive?"none":"block",p.onRenderEmitter.fire(l)}}_refreshXPosition(p,n=p.element){if(!n)return;const l=p.options.x??0;(p.options.anchor||"left")==="right"?n.style.right=l?l*this._renderService.dimensions.css.cell.width+"px":"":n.style.left=l?l*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(p){var n;(n=this._decorationElements.get(p))==null||n.remove(),this._decorationElements.delete(p),p.dispose()}};o.BufferDecorationRenderer=k=f([y(1,w.IBufferService),y(2,d.ICoreBrowserService),y(3,w.IDecorationService),y(4,d.IRenderService)],k)},5871:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const f of this._zones)if(f.color===c.options.overviewRulerOptions.color&&f.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,c.marker.line))return;if(this._lineAdjacentToZone(f,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(f,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,f){return f>=c.startBufferLine&&f<=c.endBufferLine}_lineAdjacentToZone(c,f,y){return f>=c.startBufferLine-this._linePadding[y||"full"]&&f<=c.endBufferLine+this._linePadding[y||"full"]}_addLineToZone(c,f){c.startBufferLine=Math.min(c.startBufferLine,f),c.endBufferLine=Math.max(c.endBufferLine,f)}}},5744:function(A,o,c){var f=this&&this.__decorate||function(a,m,b,x){var L,v=arguments.length,R=v<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,b):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,m,b,x);else for(var F=a.length-1;F>=0;F--)(L=a[F])&&(R=(v<3?L(R):v>3?L(m,b,R):L(m,b))||R);return v>3&&R&&Object.defineProperty(m,b,R),R},y=this&&this.__param||function(a,m){return function(b,x){m(b,x,a)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const d=c(5871),g=c(4725),w=c(844),k=c(2585),p={full:0,left:0,center:0,right:0},n={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0};let s=o.OverviewRulerRenderer=class extends w.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(a,m,b,x,L,v,R){var U;super(),this._viewportElement=a,this._screenElement=m,this._bufferService=b,this._decorationService=x,this._renderService=L,this._optionsService=v,this._coreBrowserService=R,this._colorZoneStore=new d.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(U=this._viewportElement.parentElement)==null||U.insertBefore(this._canvas,this._viewportElement);const F=this._canvas.getContext("2d");if(!F)throw new Error("Ctx cannot be null");this._ctx=F,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)(()=>{var $;($=this._canvas)==null||$.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const a=Math.floor(this._canvas.width/3),m=Math.ceil(this._canvas.width/3);n.full=this._canvas.width,n.left=a,n.center=m,n.right=a,this._refreshDrawHeightConstants(),l.full=0,l.left=0,l.center=n.left,l.right=n.left+n.center}_refreshDrawHeightConstants(){p.full=Math.round(2*this._coreBrowserService.dpr);const a=this._canvas.height/this._bufferService.buffer.lines.length,m=Math.round(Math.max(Math.min(a,12),6)*this._coreBrowserService.dpr);p.left=m,p.center=m,p.right=m}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*p.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const m of this._decorationService.decorations)this._colorZoneStore.addDecoration(m);this._ctx.lineWidth=1;const a=this._colorZoneStore.zones;for(const m of a)m.position!=="full"&&this._renderColorZone(m);for(const m of a)m.position==="full"&&this._renderColorZone(m);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(a){this._ctx.fillStyle=a.color,this._ctx.fillRect(l[a.position||"full"],Math.round((this._canvas.height-1)*(a.startBufferLine/this._bufferService.buffers.active.lines.length)-p[a.position||"full"]/2),n[a.position||"full"],Math.round((this._canvas.height-1)*((a.endBufferLine-a.startBufferLine)/this._bufferService.buffers.active.lines.length)+p[a.position||"full"]))}_queueRefresh(a,m){this._shouldUpdateDimensions=a||this._shouldUpdateDimensions,this._shouldUpdateAnchor=m||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=s=f([y(2,k.IBufferService),y(3,k.IDecorationService),y(4,g.IRenderService),y(5,k.IOptionsService),y(6,g.ICoreBrowserService)],s)},2950:function(A,o,c){var f=this&&this.__decorate||function(p,n,l,s){var a,m=arguments.length,b=m<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,l):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(p,n,l,s);else for(var x=p.length-1;x>=0;x--)(a=p[x])&&(b=(m<3?a(b):m>3?a(n,l,b):a(n,l))||b);return m>3&&b&&Object.defineProperty(n,l,b),b},y=this&&this.__param||function(p,n){return function(l,s){n(l,s,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const d=c(4725),g=c(2585),w=c(2584);let k=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(p,n,l,s,a,m){this._textarea=p,this._compositionView=n,this._bufferService=l,this._optionsService=s,this._coreService=a,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(p){this._compositionView.textContent=p.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(p){if(this._isComposing||this._isSendingComposition){if(p.keyCode===229||p.keyCode===16||p.keyCode===17||p.keyCode===18)return!1;this._finalizeComposition(!1)}return p.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(p){if(this._compositionView.classList.remove("active"),this._isComposing=!1,p){const n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let l;this._isSendingComposition=!1,n.start+=this._dataAlreadySent.length,l=this._isComposing?this._textarea.value.substring(n.start,n.end):this._textarea.value.substring(n.start),l.length>0&&this._coreService.triggerDataEvent(l,!0)}},0)}else{this._isSendingComposition=!1;const n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}}_handleAnyTextareaChanges(){const p=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const n=this._textarea.value,l=n.replace(p,"");this._dataAlreadySent=l,n.length>p.length?this._coreService.triggerDataEvent(l,!0):n.length<p.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):n.length===p.length&&n!==p&&this._coreService.triggerDataEvent(n,!0)}},0)}updateCompositionElements(p){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),l=this._renderService.dimensions.css.cell.height,s=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,a=n*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=a+"px",this._compositionView.style.top=s+"px",this._compositionView.style.height=l+"px",this._compositionView.style.lineHeight=l+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=a+"px",this._textarea.style.top=s+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}p||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=k=f([y(2,g.IBufferService),y(3,g.IOptionsService),y(4,g.ICoreService),y(5,d.IRenderService)],k)},9806:(A,o)=>{function c(f,y,d){const g=d.getBoundingClientRect(),w=f.getComputedStyle(d),k=parseInt(w.getPropertyValue("padding-left")),p=parseInt(w.getPropertyValue("padding-top"));return[y.clientX-g.left-k,y.clientY-g.top-p]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=c,o.getCoords=function(f,y,d,g,w,k,p,n,l){if(!k)return;const s=c(f,y,d);return s?(s[0]=Math.ceil((s[0]+(l?p/2:0))/p),s[1]=Math.ceil(s[1]/n),s[0]=Math.min(Math.max(s[0],1),g+(l?1:0)),s[1]=Math.min(Math.max(s[1],1),w),s):void 0}},9504:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const f=c(2584);function y(n,l,s,a){const m=n-d(n,s),b=l-d(l,s),x=Math.abs(m-b)-function(L,v,R){let F=0;const U=L-d(L,R),$=v-d(v,R);for(let H=0;H<Math.abs(U-$);H++){const Y=g(L,v)==="A"?-1:1,re=R.buffer.lines.get(U+Y*H);re!=null&&re.isWrapped&&F++}return F}(n,l,s);return p(x,k(g(n,l),a))}function d(n,l){let s=0,a=l.buffer.lines.get(n),m=a==null?void 0:a.isWrapped;for(;m&&n>=0&&n<l.rows;)s++,a=l.buffer.lines.get(--n),m=a==null?void 0:a.isWrapped;return s}function g(n,l){return n>l?"A":"B"}function w(n,l,s,a,m,b){let x=n,L=l,v="";for(;x!==s||L!==a;)x+=m?1:-1,m&&x>b.cols-1?(v+=b.buffer.translateBufferLineToString(L,!1,n,x),x=0,n=0,L++):!m&&x<0&&(v+=b.buffer.translateBufferLineToString(L,!1,0,n+1),x=b.cols-1,n=x,L--);return v+b.buffer.translateBufferLineToString(L,!1,n,x)}function k(n,l){const s=l?"O":"[";return f.C0.ESC+s+n}function p(n,l){n=Math.floor(n);let s="";for(let a=0;a<n;a++)s+=l;return s}o.moveToCellSequence=function(n,l,s,a){const m=s.buffer.x,b=s.buffer.y;if(!s.buffer.hasScrollback)return function(v,R,F,U,$,H){return y(R,U,$,H).length===0?"":p(w(v,R,v,R-d(R,$),!1,$).length,k("D",H))}(m,b,0,l,s,a)+y(b,l,s,a)+function(v,R,F,U,$,H){let Y;Y=y(R,U,$,H).length>0?U-d(U,$):R;const re=U,G=function(Q,Z,D,I,M,j){let X;return X=y(D,I,M,j).length>0?I-d(I,M):Z,Q<D&&X<=I||Q>=D&&X<I?"C":"D"}(v,R,F,U,$,H);return p(w(v,Y,F,re,G==="C",$).length,k(G,H))}(m,b,n,l,s,a);let x;if(b===l)return x=m>n?"D":"C",p(Math.abs(m-n),k(x,a));x=b>l?"D":"C";const L=Math.abs(b-l);return p(function(v,R){return R.cols-v}(b>l?n:m,s)+(L-1)*s.cols+1+((b>l?m:n)-1),k(x,a))}},1296:function(A,o,c){var f=this&&this.__decorate||function(H,Y,re,G){var Q,Z=arguments.length,D=Z<3?Y:G===null?G=Object.getOwnPropertyDescriptor(Y,re):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(H,Y,re,G);else for(var I=H.length-1;I>=0;I--)(Q=H[I])&&(D=(Z<3?Q(D):Z>3?Q(Y,re,D):Q(Y,re))||D);return Z>3&&D&&Object.defineProperty(Y,re,D),D},y=this&&this.__param||function(H,Y){return function(re,G){Y(re,G,H)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const d=c(3787),g=c(2550),w=c(2223),k=c(6171),p=c(6052),n=c(4725),l=c(8055),s=c(8460),a=c(844),m=c(2585),b="xterm-dom-renderer-owner-",x="xterm-rows",L="xterm-fg-",v="xterm-bg-",R="xterm-focus",F="xterm-selection";let U=1,$=o.DomRenderer=class extends a.Disposable{constructor(H,Y,re,G,Q,Z,D,I,M,j,X,ne,ue){super(),this._terminal=H,this._document=Y,this._element=re,this._screenElement=G,this._viewportElement=Q,this._helperContainer=Z,this._linkifier2=D,this._charSizeService=M,this._optionsService=j,this._bufferService=X,this._coreBrowserService=ne,this._themeService=ue,this._terminalClass=U++,this._rowElements=[],this._selectionRenderModel=(0,p.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new s.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(x),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(F),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(he=>this._injectCss(he))),this._injectCss(this._themeService.colors),this._rowFactory=I.createInstance(d.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(he=>this._handleLinkHover(he))),this.register(this._linkifier2.onHideLinkUnderline(he=>this._handleLinkLeave(he))),this.register((0,a.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const H=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*H,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*H),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/H),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/H),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const re of this._rowElements)re.style.width=`${this.dimensions.css.canvas.width}px`,re.style.height=`${this.dimensions.css.cell.height}px`,re.style.lineHeight=`${this.dimensions.css.cell.height}px`,re.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const Y=`${this._terminalSelector} .${x} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=Y,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(H){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let Y=`${this._terminalSelector} .${x} { color: ${H.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;Y+=`${this._terminalSelector} .${x} .xterm-dim { color: ${l.color.multiplyOpacity(H.foreground,.5).css};}`,Y+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const re=`blink_underline_${this._terminalClass}`,G=`blink_bar_${this._terminalClass}`,Q=`blink_block_${this._terminalClass}`;Y+=`@keyframes ${re} { 50% {  border-bottom-style: hidden; }}`,Y+=`@keyframes ${G} { 50% {  box-shadow: none; }}`,Y+=`@keyframes ${Q} { 0% {  background-color: ${H.cursor.css};  color: ${H.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${H.cursor.css}; }}`,Y+=`${this._terminalSelector} .${x}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${re} 1s step-end infinite;}${this._terminalSelector} .${x}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${G} 1s step-end infinite;}${this._terminalSelector} .${x}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${Q} 1s step-end infinite;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-block { background-color: ${H.cursor.css}; color: ${H.cursorAccent.css};}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${H.cursor.css} !important; color: ${H.cursorAccent.css} !important;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${H.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${H.cursor.css} inset;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${H.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,Y+=`${this._terminalSelector} .${F} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${F} div { position: absolute; background-color: ${H.selectionBackgroundOpaque.css};}${this._terminalSelector} .${F} div { position: absolute; background-color: ${H.selectionInactiveBackgroundOpaque.css};}`;for(const[Z,D]of H.ansi.entries())Y+=`${this._terminalSelector} .${L}${Z} { color: ${D.css}; }${this._terminalSelector} .${L}${Z}.xterm-dim { color: ${l.color.multiplyOpacity(D,.5).css}; }${this._terminalSelector} .${v}${Z} { background-color: ${D.css}; }`;Y+=`${this._terminalSelector} .${L}${w.INVERTED_DEFAULT_COLOR} { color: ${l.color.opaque(H.background).css}; }${this._terminalSelector} .${L}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${l.color.multiplyOpacity(l.color.opaque(H.background),.5).css}; }${this._terminalSelector} .${v}${w.INVERTED_DEFAULT_COLOR} { background-color: ${H.foreground.css}; }`,this._themeStyleElement.textContent=Y}_setDefaultSpacing(){const H=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${H}px`,this._rowFactory.defaultSpacing=H}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(H,Y){for(let re=this._rowElements.length;re<=Y;re++){const G=this._document.createElement("div");this._rowContainer.appendChild(G),this._rowElements.push(G)}for(;this._rowElements.length>Y;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(H,Y){this._refreshRowElements(H,Y),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(R),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(R),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(H,Y,re){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(H,Y,re),this.renderRows(0,this._bufferService.rows-1),!H||!Y)return;this._selectionRenderModel.update(this._terminal,H,Y,re);const G=this._selectionRenderModel.viewportStartRow,Q=this._selectionRenderModel.viewportEndRow,Z=this._selectionRenderModel.viewportCappedStartRow,D=this._selectionRenderModel.viewportCappedEndRow;if(Z>=this._bufferService.rows||D<0)return;const I=this._document.createDocumentFragment();if(re){const M=H[0]>Y[0];I.appendChild(this._createSelectionElement(Z,M?Y[0]:H[0],M?H[0]:Y[0],D-Z+1))}else{const M=G===Z?H[0]:0,j=Z===Q?Y[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(Z,M,j));const X=D-Z-1;if(I.appendChild(this._createSelectionElement(Z+1,0,this._bufferService.cols,X)),Z!==D){const ne=Q===D?Y[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(D,0,ne))}}this._selectionContainer.appendChild(I)}_createSelectionElement(H,Y,re,G=1){const Q=this._document.createElement("div"),Z=Y*this.dimensions.css.cell.width;let D=this.dimensions.css.cell.width*(re-Y);return Z+D>this.dimensions.css.canvas.width&&(D=this.dimensions.css.canvas.width-Z),Q.style.height=G*this.dimensions.css.cell.height+"px",Q.style.top=H*this.dimensions.css.cell.height+"px",Q.style.left=`${Z}px`,Q.style.width=`${D}px`,Q}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const H of this._rowElements)H.replaceChildren()}renderRows(H,Y){const re=this._bufferService.buffer,G=re.ybase+re.y,Q=Math.min(re.x,this._bufferService.cols-1),Z=this._optionsService.rawOptions.cursorBlink,D=this._optionsService.rawOptions.cursorStyle,I=this._optionsService.rawOptions.cursorInactiveStyle;for(let M=H;M<=Y;M++){const j=M+re.ydisp,X=this._rowElements[M],ne=re.lines.get(j);if(!X||!ne)break;X.replaceChildren(...this._rowFactory.createRow(ne,j,j===G,D,I,Q,Z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!0)}_handleLinkLeave(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!1)}_setCellUnderline(H,Y,re,G,Q,Z){re<0&&(H=0),G<0&&(Y=0);const D=this._bufferService.rows-1;re=Math.max(Math.min(re,D),0),G=Math.max(Math.min(G,D),0),Q=Math.min(Q,this._bufferService.cols);const I=this._bufferService.buffer,M=I.ybase+I.y,j=Math.min(I.x,Q-1),X=this._optionsService.rawOptions.cursorBlink,ne=this._optionsService.rawOptions.cursorStyle,ue=this._optionsService.rawOptions.cursorInactiveStyle;for(let he=re;he<=G;++he){const q=he+I.ydisp,O=this._rowElements[he],se=I.lines.get(q);if(!O||!se)break;O.replaceChildren(...this._rowFactory.createRow(se,q,q===M,ne,ue,j,X,this.dimensions.css.cell.width,this._widthCache,Z?he===re?H:0:-1,Z?(he===G?Y:Q)-1:-1))}}};o.DomRenderer=$=f([y(7,m.IInstantiationService),y(8,n.ICharSizeService),y(9,m.IOptionsService),y(10,m.IBufferService),y(11,n.ICoreBrowserService),y(12,n.IThemeService)],$)},3787:function(A,o,c){var f=this&&this.__decorate||function(x,L,v,R){var F,U=arguments.length,$=U<3?L:R===null?R=Object.getOwnPropertyDescriptor(L,v):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(x,L,v,R);else for(var H=x.length-1;H>=0;H--)(F=x[H])&&($=(U<3?F($):U>3?F(L,v,$):F(L,v))||$);return U>3&&$&&Object.defineProperty(L,v,$),$},y=this&&this.__param||function(x,L){return function(v,R){L(v,R,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const d=c(2223),g=c(643),w=c(511),k=c(2585),p=c(8055),n=c(4725),l=c(4269),s=c(6171),a=c(3734);let m=o.DomRendererRowFactory=class{constructor(x,L,v,R,F,U,$){this._document=x,this._characterJoinerService=L,this._optionsService=v,this._coreBrowserService=R,this._coreService=F,this._decorationService=U,this._themeService=$,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(x,L,v){this._selectionStart=x,this._selectionEnd=L,this._columnSelectMode=v}createRow(x,L,v,R,F,U,$,H,Y,re,G){const Q=[],Z=this._characterJoinerService.getJoinedCharacters(L),D=this._themeService.colors;let I,M=x.getNoBgTrimmedLength();v&&M<U+1&&(M=U+1);let j=0,X="",ne=0,ue=0,he=0,q=!1,O=0,se=!1,ie=0;const fe=[],de=re!==-1&&G!==-1;for(let xe=0;xe<M;xe++){x.loadCell(xe,this._workCell);let Te=this._workCell.getWidth();if(Te===0)continue;let Ae=!1,Ye=xe,we=this._workCell;if(Z.length>0&&xe===Z[0][0]){Ae=!0;const Pe=Z.shift();we=new l.JoinedCellData(this._workCell,x.translateToString(!0,Pe[0],Pe[1]),Pe[1]-Pe[0]),Ye=Pe[1]-1,Te=we.getWidth()}const Jt=this._isCellInSelection(xe,L),xr=v&&xe===U,Ut=de&&xe>=re&&xe<=G;let Nt=!1;this._decorationService.forEachDecorationAtCell(xe,L,void 0,Pe=>{Nt=!0});let Zt=we.getChars()||g.WHITESPACE_CELL_CHAR;if(Zt===" "&&(we.isUnderline()||we.isOverline())&&(Zt=""),ie=Te*H-Y.get(Zt,we.isBold(),we.isItalic()),I){if(j&&(Jt&&se||!Jt&&!se&&we.bg===ne)&&(Jt&&se&&D.selectionForeground||we.fg===ue)&&we.extended.ext===he&&Ut===q&&ie===O&&!xr&&!Ae&&!Nt){we.isInvisible()?X+=g.WHITESPACE_CELL_CHAR:X+=Zt,j++;continue}j&&(I.textContent=X),I=this._document.createElement("span"),j=0,X=""}else I=this._document.createElement("span");if(ne=we.bg,ue=we.fg,he=we.extended.ext,q=Ut,O=ie,se=Jt,Ae&&U>=xe&&U<=Ye&&(U=xe),!this._coreService.isCursorHidden&&xr&&this._coreService.isCursorInitialized){if(fe.push("xterm-cursor"),this._coreBrowserService.isFocused)$&&fe.push("xterm-cursor-blink"),fe.push(R==="bar"?"xterm-cursor-bar":R==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(F)switch(F){case"outline":fe.push("xterm-cursor-outline");break;case"block":fe.push("xterm-cursor-block");break;case"bar":fe.push("xterm-cursor-bar");break;case"underline":fe.push("xterm-cursor-underline")}}if(we.isBold()&&fe.push("xterm-bold"),we.isItalic()&&fe.push("xterm-italic"),we.isDim()&&fe.push("xterm-dim"),X=we.isInvisible()?g.WHITESPACE_CELL_CHAR:we.getChars()||g.WHITESPACE_CELL_CHAR,we.isUnderline()&&(fe.push(`xterm-underline-${we.extended.underlineStyle}`),X===" "&&(X=""),!we.isUnderlineColorDefault()))if(we.isUnderlineColorRGB())I.style.textDecorationColor=`rgb(${a.AttributeData.toColorRGB(we.getUnderlineColor()).join(",")})`;else{let Pe=we.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&we.isBold()&&Pe<8&&(Pe+=8),I.style.textDecorationColor=D.ansi[Pe].css}we.isOverline()&&(fe.push("xterm-overline"),X===" "&&(X="")),we.isStrikethrough()&&fe.push("xterm-strikethrough"),Ut&&(I.style.textDecoration="underline");let tt=we.getFgColor(),er=we.getFgColorMode(),dt=we.getBgColor(),tr=we.getBgColorMode();const br=!!we.isInverse();if(br){const Pe=tt;tt=dt,dt=Pe;const us=er;er=tr,tr=us}let ft,kr,nt,kt=!1;switch(this._decorationService.forEachDecorationAtCell(xe,L,void 0,Pe=>{Pe.options.layer!=="top"&&kt||(Pe.backgroundColorRGB&&(tr=50331648,dt=Pe.backgroundColorRGB.rgba>>8&16777215,ft=Pe.backgroundColorRGB),Pe.foregroundColorRGB&&(er=50331648,tt=Pe.foregroundColorRGB.rgba>>8&16777215,kr=Pe.foregroundColorRGB),kt=Pe.options.layer==="top")}),!kt&&Jt&&(ft=this._coreBrowserService.isFocused?D.selectionBackgroundOpaque:D.selectionInactiveBackgroundOpaque,dt=ft.rgba>>8&16777215,tr=50331648,kt=!0,D.selectionForeground&&(er=50331648,tt=D.selectionForeground.rgba>>8&16777215,kr=D.selectionForeground)),kt&&fe.push("xterm-decoration-top"),tr){case 16777216:case 33554432:nt=D.ansi[dt],fe.push(`xterm-bg-${dt}`);break;case 50331648:nt=p.channels.toColor(dt>>16,dt>>8&255,255&dt),this._addStyle(I,`background-color:#${b((dt>>>0).toString(16),"0",6)}`);break;default:br?(nt=D.foreground,fe.push(`xterm-bg-${d.INVERTED_DEFAULT_COLOR}`)):nt=D.background}switch(ft||we.isDim()&&(ft=p.color.multiplyOpacity(nt,.5)),er){case 16777216:case 33554432:we.isBold()&&tt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(tt+=8),this._applyMinimumContrast(I,nt,D.ansi[tt],we,ft,void 0)||fe.push(`xterm-fg-${tt}`);break;case 50331648:const Pe=p.channels.toColor(tt>>16&255,tt>>8&255,255&tt);this._applyMinimumContrast(I,nt,Pe,we,ft,kr)||this._addStyle(I,`color:#${b(tt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(I,nt,D.foreground,we,ft,kr)||br&&fe.push(`xterm-fg-${d.INVERTED_DEFAULT_COLOR}`)}fe.length&&(I.className=fe.join(" "),fe.length=0),xr||Ae||Nt?I.textContent=X:j++,ie!==this.defaultSpacing&&(I.style.letterSpacing=`${ie}px`),Q.push(I),xe=Ye}return I&&j&&(I.textContent=X),Q}_applyMinimumContrast(x,L,v,R,F,U){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,s.treatGlyphAsBackgroundColor)(R.getCode()))return!1;const $=this._getContrastCache(R);let H;if(F||U||(H=$.getColor(L.rgba,v.rgba)),H===void 0){const Y=this._optionsService.rawOptions.minimumContrastRatio/(R.isDim()?2:1);H=p.color.ensureContrastRatio(F||L,U||v,Y),$.setColor((F||L).rgba,(U||v).rgba,H??null)}return!!H&&(this._addStyle(x,`color:${H.css}`),!0)}_getContrastCache(x){return x.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(x,L){x.setAttribute("style",`${x.getAttribute("style")||""}${L};`)}_isCellInSelection(x,L){const v=this._selectionStart,R=this._selectionEnd;return!(!v||!R)&&(this._columnSelectMode?v[0]<=R[0]?x>=v[0]&&L>=v[1]&&x<R[0]&&L<=R[1]:x<v[0]&&L>=v[1]&&x>=R[0]&&L<=R[1]:L>v[1]&&L<R[1]||v[1]===R[1]&&L===v[1]&&x>=v[0]&&x<R[0]||v[1]<R[1]&&L===R[1]&&x<R[0]||v[1]<R[1]&&L===v[1]&&x>=v[0])}};function b(x,L,v){for(;x.length<v;)x=L+x;return x}o.DomRendererRowFactory=m=f([y(1,n.ICharacterJoinerService),y(2,k.IOptionsService),y(3,n.ICoreBrowserService),y(4,k.ICoreService),y(5,k.IDecorationService),y(6,n.IThemeService)],m)},2550:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(c,f){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const y=c.createElement("span");y.classList.add("xterm-char-measure-element");const d=c.createElement("span");d.classList.add("xterm-char-measure-element"),d.style.fontWeight="bold";const g=c.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontStyle="italic";const w=c.createElement("span");w.classList.add("xterm-char-measure-element"),w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[y,d,g,w],this._container.appendChild(y),this._container.appendChild(d),this._container.appendChild(g),this._container.appendChild(w),f.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,f,y,d){c===this._font&&f===this._fontSize&&y===this._weight&&d===this._weightBold||(this._font=c,this._fontSize=f,this._weight=y,this._weightBold=d,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${y}`,this._measureElements[1].style.fontWeight=`${d}`,this._measureElements[2].style.fontWeight=`${y}`,this._measureElements[3].style.fontWeight=`${d}`,this.clear())}get(c,f,y){let d=0;if(!f&&!y&&c.length===1&&(d=c.charCodeAt(0))<256){if(this._flat[d]!==-9999)return this._flat[d];const k=this._measure(c,0);return k>0&&(this._flat[d]=k),k}let g=c;f&&(g+="B"),y&&(g+="I");let w=this._holey.get(g);if(w===void 0){let k=0;f&&(k|=1),y&&(k|=2),w=this._measure(c,k),w>0&&this._holey.set(g,w)}return w}_measure(c,f){const y=this._measureElements[f];return y.textContent=c.repeat(32),y.offsetWidth/32}}},2223:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const f=c(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(A,o)=>{function c(y){return 57508<=y&&y<=57558}function f(y){return y>=128512&&y<=128591||y>=127744&&y<=128511||y>=128640&&y<=128767||y>=9728&&y<=9983||y>=9984&&y<=10175||y>=65024&&y<=65039||y>=129280&&y<=129535||y>=127462&&y<=127487}Object.defineProperty(o,"__esModule",{value:!0}),o.computeNextVariantOffset=o.createRenderDimensions=o.treatGlyphAsBackgroundColor=o.allowRescaling=o.isEmoji=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(y){if(!y)throw new Error("value must not be falsy");return y},o.isPowerlineGlyph=c,o.isRestrictedPowerlineGlyph=function(y){return 57520<=y&&y<=57527},o.isEmoji=f,o.allowRescaling=function(y,d,g,w){return d===1&&g>Math.ceil(1.5*w)&&y!==void 0&&y>255&&!f(y)&&!c(y)&&!function(k){return 57344<=k&&k<=63743}(y)},o.treatGlyphAsBackgroundColor=function(y){return c(y)||function(d){return 9472<=d&&d<=9631}(y)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},o.computeNextVariantOffset=function(y,d,g=0){return(y-(2*Math.round(d)-g))%(2*Math.round(d))}},6052:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createSelectionRenderModel=void 0;class c{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(y,d,g,w=!1){if(this.selectionStart=d,this.selectionEnd=g,!d||!g||d[0]===g[0]&&d[1]===g[1])return void this.clear();const k=y.buffers.active.ydisp,p=d[1]-k,n=g[1]-k,l=Math.max(p,0),s=Math.min(n,y.rows-1);l>=y.rows||s<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=p,this.viewportEndRow=n,this.viewportCappedStartRow=l,this.viewportCappedEndRow=s,this.startCol=d[0],this.endCol=g[0])}isCellSelected(y,d,g){return!!this.hasSelection&&(g-=y.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?d>=this.startCol&&g>=this.viewportCappedStartRow&&d<this.endCol&&g<=this.viewportCappedEndRow:d<this.startCol&&g>=this.viewportCappedStartRow&&d>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&d>=this.startCol&&d<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&d<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&d>=this.startCol)}}o.createSelectionRenderModel=function(){return new c}},456:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,f=this.selectionEnd;return!(!c||!f)&&(c[1]>f[1]||c[1]===f[1]&&c[0]>f[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(A,o,c){var f=this&&this.__decorate||function(s,a,m,b){var x,L=arguments.length,v=L<3?a:b===null?b=Object.getOwnPropertyDescriptor(a,m):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(s,a,m,b);else for(var R=s.length-1;R>=0;R--)(x=s[R])&&(v=(L<3?x(v):L>3?x(a,m,v):x(a,m))||v);return L>3&&v&&Object.defineProperty(a,m,v),v},y=this&&this.__param||function(s,a){return function(m,b){a(m,b,s)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const d=c(2585),g=c(8460),w=c(844);let k=o.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(s,a,m){super(),this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new l(this._optionsService))}catch{this._measureStrategy=this.register(new n(s,a,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const s=this._measureStrategy.measure();s.width===this.width&&s.height===this.height||(this.width=s.width,this.height=s.height,this._onCharSizeChange.fire())}};o.CharSizeService=k=f([y(2,d.IOptionsService)],k);class p extends w.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(a,m){a!==void 0&&a>0&&m!==void 0&&m>0&&(this._result.width=a,this._result.height=m)}}class n extends p{constructor(a,m,b){super(),this._document=a,this._parentElement=m,this._optionsService=b,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class l extends p{constructor(a){super(),this._optionsService=a,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const m=this._ctx.measureText("W");if(!("width"in m&&"fontBoundingBoxAscent"in m&&"fontBoundingBoxDescent"in m))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const a=this._ctx.measureText("W");return this._validateAndSet(a.width,a.fontBoundingBoxAscent+a.fontBoundingBoxDescent),this._result}}},4269:function(A,o,c){var f=this&&this.__decorate||function(l,s,a,m){var b,x=arguments.length,L=x<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,a):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(l,s,a,m);else for(var v=l.length-1;v>=0;v--)(b=l[v])&&(L=(x<3?b(L):x>3?b(s,a,L):b(s,a))||L);return x>3&&L&&Object.defineProperty(s,a,L),L},y=this&&this.__param||function(l,s){return function(a,m){s(a,m,l)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const d=c(3734),g=c(643),w=c(511),k=c(2585);class p extends d.AttributeData{constructor(s,a,m){super(),this.content=0,this.combinedData="",this.fg=s.fg,this.bg=s.bg,this.combinedData=a,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(s){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=p;let n=o.CharacterJoinerService=class Uh{constructor(s){this._bufferService=s,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(s){const a={id:this._nextCharacterJoinerId++,handler:s};return this._characterJoiners.push(a),a.id}deregister(s){for(let a=0;a<this._characterJoiners.length;a++)if(this._characterJoiners[a].id===s)return this._characterJoiners.splice(a,1),!0;return!1}getJoinedCharacters(s){if(this._characterJoiners.length===0)return[];const a=this._bufferService.buffer.lines.get(s);if(!a||a.length===0)return[];const m=[],b=a.translateToString(!0);let x=0,L=0,v=0,R=a.getFg(0),F=a.getBg(0);for(let U=0;U<a.getTrimmedLength();U++)if(a.loadCell(U,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==R||this._workCell.bg!==F){if(U-x>1){const $=this._getJoinedRanges(b,v,L,a,x);for(let H=0;H<$.length;H++)m.push($[H])}x=U,v=L,R=this._workCell.fg,F=this._workCell.bg}L+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-x>1){const U=this._getJoinedRanges(b,v,L,a,x);for(let $=0;$<U.length;$++)m.push(U[$])}return m}_getJoinedRanges(s,a,m,b,x){const L=s.substring(a,m);let v=[];try{v=this._characterJoiners[0].handler(L)}catch(R){console.error(R)}for(let R=1;R<this._characterJoiners.length;R++)try{const F=this._characterJoiners[R].handler(L);for(let U=0;U<F.length;U++)Uh._mergeRanges(v,F[U])}catch(F){console.error(F)}return this._stringRangesToCellRanges(v,b,x),v}_stringRangesToCellRanges(s,a,m){let b=0,x=!1,L=0,v=s[b];if(v){for(let R=m;R<this._bufferService.cols;R++){const F=a.getWidth(R),U=a.getString(R).length||g.WHITESPACE_CELL_CHAR.length;if(F!==0){if(!x&&v[0]<=L&&(v[0]=R,x=!0),v[1]<=L){if(v[1]=R,v=s[++b],!v)break;v[0]<=L?(v[0]=R,x=!0):x=!1}L+=U}}v&&(v[1]=this._bufferService.cols)}}static _mergeRanges(s,a){let m=!1;for(let b=0;b<s.length;b++){const x=s[b];if(m){if(a[1]<=x[0])return s[b-1][1]=a[1],s;if(a[1]<=x[1])return s[b-1][1]=Math.max(a[1],x[1]),s.splice(b,1),s;s.splice(b,1),b--}else{if(a[1]<=x[0])return s.splice(b,0,a),s;if(a[1]<=x[1])return x[0]=Math.min(a[0],x[0]),s;a[0]<x[1]&&(x[0]=Math.min(a[0],x[0]),m=!0)}}return m?s[s.length-1][1]=a[1]:s.push(a),s}};o.CharacterJoinerService=n=f([y(0,k.IBufferService)],n)},5114:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0;const f=c(844),y=c(8460),d=c(3656);class g extends f.Disposable{constructor(p,n,l){super(),this._textarea=p,this._window=n,this.mainDocument=l,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new w(this._window),this._onDprChange=this.register(new y.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new y.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(s=>this._screenDprMonitor.setWindow(s))),this.register((0,y.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(p){this._window!==p&&(this._window=p,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}o.CoreBrowserService=g;class w extends f.Disposable{constructor(p){super(),this._parentWindow=p,this._windowResizeListener=this.register(new f.MutableDisposable),this._onDprChange=this.register(new y.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,f.toDisposable)(()=>this.clearListener()))}setWindow(p){this._parentWindow=p,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,d.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var p;this._outerListener&&((p=this._resolutionMediaMatchList)==null||p.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkProviderService=void 0;const f=c(844);class y extends f.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,f.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(g){return this.linkProviders.push(g),{dispose:()=>{const w=this.linkProviders.indexOf(g);w!==-1&&this.linkProviders.splice(w,1)}}}}o.LinkProviderService=y},8934:function(A,o,c){var f=this&&this.__decorate||function(k,p,n,l){var s,a=arguments.length,m=a<3?p:l===null?l=Object.getOwnPropertyDescriptor(p,n):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(k,p,n,l);else for(var b=k.length-1;b>=0;b--)(s=k[b])&&(m=(a<3?s(m):a>3?s(p,n,m):s(p,n))||m);return a>3&&m&&Object.defineProperty(p,n,m),m},y=this&&this.__param||function(k,p){return function(n,l){p(n,l,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const d=c(4725),g=c(9806);let w=o.MouseService=class{constructor(k,p){this._renderService=k,this._charSizeService=p}getCoords(k,p,n,l,s){return(0,g.getCoords)(window,k,p,n,l,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,s)}getMouseReportCoords(k,p){const n=(0,g.getCoordsRelativeToElement)(window,k,p);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};o.MouseService=w=f([y(0,d.IRenderService),y(1,d.ICharSizeService)],w)},3230:function(A,o,c){var f=this&&this.__decorate||function(s,a,m,b){var x,L=arguments.length,v=L<3?a:b===null?b=Object.getOwnPropertyDescriptor(a,m):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(s,a,m,b);else for(var R=s.length-1;R>=0;R--)(x=s[R])&&(v=(L<3?x(v):L>3?x(a,m,v):x(a,m))||v);return L>3&&v&&Object.defineProperty(a,m,v),v},y=this&&this.__param||function(s,a){return function(m,b){a(m,b,s)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const d=c(6193),g=c(4725),w=c(8460),k=c(844),p=c(7226),n=c(2585);let l=o.RenderService=class extends k.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(s,a,m,b,x,L,v,R){super(),this._rowCount=s,this._charSizeService=b,this._renderer=this.register(new k.MutableDisposable),this._pausedResizeTask=new p.DebouncedIdleTask,this._observerDisposable=this.register(new k.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new d.RenderDebouncer((F,U)=>this._renderRows(F,U),v),this.register(this._renderDebouncer),this.register(v.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(L.onResize(()=>this._fullRefresh())),this.register(L.buffers.onBufferActivate(()=>{var F;return(F=this._renderer.value)==null?void 0:F.clear()})),this.register(m.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(x.onDecorationRegistered(()=>this._fullRefresh())),this.register(x.onDecorationRemoved(()=>this._fullRefresh())),this.register(m.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(L.cols,L.rows),this._fullRefresh()})),this.register(m.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(L.buffer.y,L.buffer.y,!0))),this.register(R.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(v.window,a),this.register(v.onWindowChange(F=>this._registerIntersectionObserver(F,a)))}_registerIntersectionObserver(s,a){if("IntersectionObserver"in s){const m=new s.IntersectionObserver(b=>this._handleIntersectionChange(b[b.length-1]),{threshold:0});m.observe(a),this._observerDisposable.value=(0,k.toDisposable)(()=>m.disconnect())}}_handleIntersectionChange(s){this._isPaused=s.isIntersecting===void 0?s.intersectionRatio===0:!s.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(s,a,m=!1){this._isPaused?this._needsFullRefresh=!0:(m||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(s,a,this._rowCount))}_renderRows(s,a){this._renderer.value&&(s=Math.min(s,this._rowCount-1),a=Math.min(a,this._rowCount-1),this._renderer.value.renderRows(s,a),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:s,end:a}),this._onRender.fire({start:s,end:a}),this._isNextRenderRedrawOnly=!0)}resize(s,a){this._rowCount=a,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(s){this._renderer.value=s,this._renderer.value&&(this._renderer.value.onRequestRedraw(a=>this.refreshRows(a.start,a.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(s){return this._renderDebouncer.addRefreshCallback(s)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var s,a;this._renderer.value&&((a=(s=this._renderer.value).clearTextureAtlas)==null||a.call(s),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(s,a){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var m;return(m=this._renderer.value)==null?void 0:m.handleResize(s,a)}):this._renderer.value.handleResize(s,a),this._fullRefresh())}handleCharSizeChanged(){var s;(s=this._renderer.value)==null||s.handleCharSizeChanged()}handleBlur(){var s;(s=this._renderer.value)==null||s.handleBlur()}handleFocus(){var s;(s=this._renderer.value)==null||s.handleFocus()}handleSelectionChanged(s,a,m){var b;this._selectionState.start=s,this._selectionState.end=a,this._selectionState.columnSelectMode=m,(b=this._renderer.value)==null||b.handleSelectionChanged(s,a,m)}handleCursorMove(){var s;(s=this._renderer.value)==null||s.handleCursorMove()}clear(){var s;(s=this._renderer.value)==null||s.clear()}};o.RenderService=l=f([y(2,n.IOptionsService),y(3,g.ICharSizeService),y(4,n.IDecorationService),y(5,n.IBufferService),y(6,g.ICoreBrowserService),y(7,g.IThemeService)],l)},9312:function(A,o,c){var f=this&&this.__decorate||function(v,R,F,U){var $,H=arguments.length,Y=H<3?R:U===null?U=Object.getOwnPropertyDescriptor(R,F):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(v,R,F,U);else for(var re=v.length-1;re>=0;re--)($=v[re])&&(Y=(H<3?$(Y):H>3?$(R,F,Y):$(R,F))||Y);return H>3&&Y&&Object.defineProperty(R,F,Y),Y},y=this&&this.__param||function(v,R){return function(F,U){R(F,U,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const d=c(9806),g=c(9504),w=c(456),k=c(4725),p=c(8460),n=c(844),l=c(6114),s=c(4841),a=c(511),m=c(2585),b="",x=new RegExp(b,"g");let L=o.SelectionService=class extends n.Disposable{constructor(v,R,F,U,$,H,Y,re,G){super(),this._element=v,this._screenElement=R,this._linkifier=F,this._bufferService=U,this._coreService=$,this._mouseService=H,this._optionsService=Y,this._renderService=re,this._coreBrowserService=G,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new a.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new p.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new p.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new p.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new p.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Q=>this._handleMouseMove(Q),this._mouseUpListener=Q=>this._handleMouseUp(Q),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Q=>this._handleTrim(Q)),this.register(this._bufferService.buffers.onBufferActivate(Q=>this._handleBufferActivate(Q))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,n.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const v=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!v||!R||v[0]===R[0]&&v[1]===R[1])}get selectionText(){const v=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;if(!v||!R)return"";const F=this._bufferService.buffer,U=[];if(this._activeSelectionMode===3){if(v[0]===R[0])return"";const $=v[0]<R[0]?v[0]:R[0],H=v[0]<R[0]?R[0]:v[0];for(let Y=v[1];Y<=R[1];Y++){const re=F.translateBufferLineToString(Y,!0,$,H);U.push(re)}}else{const $=v[1]===R[1]?R[0]:void 0;U.push(F.translateBufferLineToString(v[1],!0,v[0],$));for(let H=v[1]+1;H<=R[1]-1;H++){const Y=F.lines.get(H),re=F.translateBufferLineToString(H,!0);Y!=null&&Y.isWrapped?U[U.length-1]+=re:U.push(re)}if(v[1]!==R[1]){const H=F.lines.get(R[1]),Y=F.translateBufferLineToString(R[1],!0,0,R[0]);H&&H.isWrapped?U[U.length-1]+=Y:U.push(Y)}}return U.map($=>$.replace(x," ")).join(l.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(v){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),l.isLinux&&v&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(v){const R=this._getMouseBufferCoords(v),F=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!!(F&&U&&R)&&this._areCoordsInSelection(R,F,U)}isCellInSelection(v,R){const F=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!(!F||!U)&&this._areCoordsInSelection([v,R],F,U)}_areCoordsInSelection(v,R,F){return v[1]>R[1]&&v[1]<F[1]||R[1]===F[1]&&v[1]===R[1]&&v[0]>=R[0]&&v[0]<F[0]||R[1]<F[1]&&v[1]===F[1]&&v[0]<F[0]||R[1]<F[1]&&v[1]===R[1]&&v[0]>=R[0]}_selectWordAtCursor(v,R){var $,H;const F=(H=($=this._linkifier.currentLink)==null?void 0:$.link)==null?void 0:H.range;if(F)return this._model.selectionStart=[F.start.x-1,F.start.y-1],this._model.selectionStartLength=(0,s.getRangeLength)(F,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const U=this._getMouseBufferCoords(v);return!!U&&(this._selectWordAt(U,R),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(v,R){this._model.clearSelection(),v=Math.max(v,0),R=Math.min(R,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,v],this._model.selectionEnd=[this._bufferService.cols,R],this.refresh(),this._onSelectionChange.fire()}_handleTrim(v){this._model.handleTrim(v)&&this.refresh()}_getMouseBufferCoords(v){const R=this._mouseService.getCoords(v,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(R)return R[0]--,R[1]--,R[1]+=this._bufferService.buffer.ydisp,R}_getMouseEventScrollAmount(v){let R=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,v,this._screenElement)[1];const F=this._renderService.dimensions.css.canvas.height;return R>=0&&R<=F?0:(R>F&&(R-=F),R=Math.min(Math.max(R,-50),50),R/=50,R/Math.abs(R)+Math.round(14*R))}shouldForceSelection(v){return l.isMac?v.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:v.shiftKey}handleMouseDown(v){if(this._mouseDownTimeStamp=v.timeStamp,(v.button!==2||!this.hasSelection)&&v.button===0){if(!this._enabled){if(!this.shouldForceSelection(v))return;v.stopPropagation()}v.preventDefault(),this._dragScrollAmount=0,this._enabled&&v.shiftKey?this._handleIncrementalClick(v):v.detail===1?this._handleSingleClick(v):v.detail===2?this._handleDoubleClick(v):v.detail===3&&this._handleTripleClick(v),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(v){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(v))}_handleSingleClick(v){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(v)?3:0,this._model.selectionStart=this._getMouseBufferCoords(v),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const R=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);R&&R.length!==this._model.selectionStart[0]&&R.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(v){this._selectWordAtCursor(v,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(v){const R=this._getMouseBufferCoords(v);R&&(this._activeSelectionMode=2,this._selectLineAt(R[1]))}shouldColumnSelect(v){return v.altKey&&!(l.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(v){if(v.stopImmediatePropagation(),!this._model.selectionStart)return;const R=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(v),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(v),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const F=this._bufferService.buffer;if(this._model.selectionEnd[1]<F.lines.length){const U=F.lines.get(this._model.selectionEnd[1]);U&&U.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}R&&R[0]===this._model.selectionEnd[0]&&R[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const v=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(v.ydisp+this._bufferService.rows,v.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=v.ydisp),this.refresh()}}_handleMouseUp(v){const R=v.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&R<500&&v.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const F=this._mouseService.getCoords(v,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(F&&F[0]!==void 0&&F[1]!==void 0){const U=(0,g.moveToCellSequence)(F[0]-1,F[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(U,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const v=this._model.finalSelectionStart,R=this._model.finalSelectionEnd,F=!(!v||!R||v[0]===R[0]&&v[1]===R[1]);F?v&&R&&(this._oldSelectionStart&&this._oldSelectionEnd&&v[0]===this._oldSelectionStart[0]&&v[1]===this._oldSelectionStart[1]&&R[0]===this._oldSelectionEnd[0]&&R[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(v,R,F)):this._oldHasSelection&&this._fireOnSelectionChange(v,R,F)}_fireOnSelectionChange(v,R,F){this._oldSelectionStart=v,this._oldSelectionEnd=R,this._oldHasSelection=F,this._onSelectionChange.fire()}_handleBufferActivate(v){this.clearSelection(),this._trimListener.dispose(),this._trimListener=v.activeBuffer.lines.onTrim(R=>this._handleTrim(R))}_convertViewportColToCharacterIndex(v,R){let F=R;for(let U=0;R>=U;U++){const $=v.loadCell(U,this._workCell).getChars().length;this._workCell.getWidth()===0?F--:$>1&&R!==U&&(F+=$-1)}return F}setSelection(v,R,F){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[v,R],this._model.selectionStartLength=F,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(v){this._isClickInSelection(v)||(this._selectWordAtCursor(v,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(v,R,F=!0,U=!0){if(v[0]>=this._bufferService.cols)return;const $=this._bufferService.buffer,H=$.lines.get(v[1]);if(!H)return;const Y=$.translateBufferLineToString(v[1],!1);let re=this._convertViewportColToCharacterIndex(H,v[0]),G=re;const Q=v[0]-re;let Z=0,D=0,I=0,M=0;if(Y.charAt(re)===" "){for(;re>0&&Y.charAt(re-1)===" ";)re--;for(;G<Y.length&&Y.charAt(G+1)===" ";)G++}else{let ne=v[0],ue=v[0];H.getWidth(ne)===0&&(Z++,ne--),H.getWidth(ue)===2&&(D++,ue++);const he=H.getString(ue).length;for(he>1&&(M+=he-1,G+=he-1);ne>0&&re>0&&!this._isCharWordSeparator(H.loadCell(ne-1,this._workCell));){H.loadCell(ne-1,this._workCell);const q=this._workCell.getChars().length;this._workCell.getWidth()===0?(Z++,ne--):q>1&&(I+=q-1,re-=q-1),re--,ne--}for(;ue<H.length&&G+1<Y.length&&!this._isCharWordSeparator(H.loadCell(ue+1,this._workCell));){H.loadCell(ue+1,this._workCell);const q=this._workCell.getChars().length;this._workCell.getWidth()===2?(D++,ue++):q>1&&(M+=q-1,G+=q-1),G++,ue++}}G++;let j=re+Q-Z+I,X=Math.min(this._bufferService.cols,G-re+Z+D-I-M);if(R||Y.slice(re,G).trim()!==""){if(F&&j===0&&H.getCodePoint(0)!==32){const ne=$.lines.get(v[1]-1);if(ne&&H.isWrapped&&ne.getCodePoint(this._bufferService.cols-1)!==32){const ue=this._getWordAt([this._bufferService.cols-1,v[1]-1],!1,!0,!1);if(ue){const he=this._bufferService.cols-ue.start;j-=he,X+=he}}}if(U&&j+X===this._bufferService.cols&&H.getCodePoint(this._bufferService.cols-1)!==32){const ne=$.lines.get(v[1]+1);if(ne!=null&&ne.isWrapped&&ne.getCodePoint(0)!==32){const ue=this._getWordAt([0,v[1]+1],!1,!1,!0);ue&&(X+=ue.length)}}return{start:j,length:X}}}_selectWordAt(v,R){const F=this._getWordAt(v,R);if(F){for(;F.start<0;)F.start+=this._bufferService.cols,v[1]--;this._model.selectionStart=[F.start,v[1]],this._model.selectionStartLength=F.length}}_selectToWordAt(v){const R=this._getWordAt(v,!0);if(R){let F=v[1];for(;R.start<0;)R.start+=this._bufferService.cols,F--;if(!this._model.areSelectionValuesReversed())for(;R.start+R.length>this._bufferService.cols;)R.length-=this._bufferService.cols,F++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?R.start:R.start+R.length,F]}}_isCharWordSeparator(v){return v.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(v.getChars())>=0}_selectLineAt(v){const R=this._bufferService.buffer.getWrappedRangeForLine(v),F={start:{x:0,y:R.first},end:{x:this._bufferService.cols-1,y:R.last}};this._model.selectionStart=[0,R.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,s.getRangeLength)(F,this._bufferService.cols)}};o.SelectionService=L=f([y(3,m.IBufferService),y(4,m.ICoreService),y(5,k.IMouseService),y(6,m.IOptionsService),y(7,k.IRenderService),y(8,k.ICoreBrowserService)],L)},4725:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ILinkProviderService=o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const f=c(8343);o.ICharSizeService=(0,f.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),o.IMouseService=(0,f.createDecorator)("MouseService"),o.IRenderService=(0,f.createDecorator)("RenderService"),o.ISelectionService=(0,f.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,f.createDecorator)("ThemeService"),o.ILinkProviderService=(0,f.createDecorator)("LinkProviderService")},6731:function(A,o,c){var f=this&&this.__decorate||function(L,v,R,F){var U,$=arguments.length,H=$<3?v:F===null?F=Object.getOwnPropertyDescriptor(v,R):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(L,v,R,F);else for(var Y=L.length-1;Y>=0;Y--)(U=L[Y])&&(H=($<3?U(H):$>3?U(v,R,H):U(v,R))||H);return $>3&&H&&Object.defineProperty(v,R,H),H},y=this&&this.__param||function(L,v){return function(R,F){v(R,F,L)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const d=c(7239),g=c(8055),w=c(8460),k=c(844),p=c(2585),n=g.css.toColor("#ffffff"),l=g.css.toColor("#000000"),s=g.css.toColor("#ffffff"),a=g.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const L=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],v=[0,95,135,175,215,255];for(let R=0;R<216;R++){const F=v[R/36%6|0],U=v[R/6%6|0],$=v[R%6];L.push({css:g.channels.toCss(F,U,$),rgba:g.channels.toRgba(F,U,$)})}for(let R=0;R<24;R++){const F=8+10*R;L.push({css:g.channels.toCss(F,F,F),rgba:g.channels.toRgba(F,F,F)})}return L})());let b=o.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(L){super(),this._optionsService=L,this._contrastCache=new d.ColorContrastCache,this._halfContrastCache=new d.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:n,background:l,cursor:s,cursorAccent:a,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:g.color.blend(l,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:g.color.blend(l,m),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(L={}){const v=this._colors;if(v.foreground=x(L.foreground,n),v.background=x(L.background,l),v.cursor=x(L.cursor,s),v.cursorAccent=x(L.cursorAccent,a),v.selectionBackgroundTransparent=x(L.selectionBackground,m),v.selectionBackgroundOpaque=g.color.blend(v.background,v.selectionBackgroundTransparent),v.selectionInactiveBackgroundTransparent=x(L.selectionInactiveBackground,v.selectionBackgroundTransparent),v.selectionInactiveBackgroundOpaque=g.color.blend(v.background,v.selectionInactiveBackgroundTransparent),v.selectionForeground=L.selectionForeground?x(L.selectionForeground,g.NULL_COLOR):void 0,v.selectionForeground===g.NULL_COLOR&&(v.selectionForeground=void 0),g.color.isOpaque(v.selectionBackgroundTransparent)&&(v.selectionBackgroundTransparent=g.color.opacity(v.selectionBackgroundTransparent,.3)),g.color.isOpaque(v.selectionInactiveBackgroundTransparent)&&(v.selectionInactiveBackgroundTransparent=g.color.opacity(v.selectionInactiveBackgroundTransparent,.3)),v.ansi=o.DEFAULT_ANSI_COLORS.slice(),v.ansi[0]=x(L.black,o.DEFAULT_ANSI_COLORS[0]),v.ansi[1]=x(L.red,o.DEFAULT_ANSI_COLORS[1]),v.ansi[2]=x(L.green,o.DEFAULT_ANSI_COLORS[2]),v.ansi[3]=x(L.yellow,o.DEFAULT_ANSI_COLORS[3]),v.ansi[4]=x(L.blue,o.DEFAULT_ANSI_COLORS[4]),v.ansi[5]=x(L.magenta,o.DEFAULT_ANSI_COLORS[5]),v.ansi[6]=x(L.cyan,o.DEFAULT_ANSI_COLORS[6]),v.ansi[7]=x(L.white,o.DEFAULT_ANSI_COLORS[7]),v.ansi[8]=x(L.brightBlack,o.DEFAULT_ANSI_COLORS[8]),v.ansi[9]=x(L.brightRed,o.DEFAULT_ANSI_COLORS[9]),v.ansi[10]=x(L.brightGreen,o.DEFAULT_ANSI_COLORS[10]),v.ansi[11]=x(L.brightYellow,o.DEFAULT_ANSI_COLORS[11]),v.ansi[12]=x(L.brightBlue,o.DEFAULT_ANSI_COLORS[12]),v.ansi[13]=x(L.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),v.ansi[14]=x(L.brightCyan,o.DEFAULT_ANSI_COLORS[14]),v.ansi[15]=x(L.brightWhite,o.DEFAULT_ANSI_COLORS[15]),L.extendedAnsi){const R=Math.min(v.ansi.length-16,L.extendedAnsi.length);for(let F=0;F<R;F++)v.ansi[F+16]=x(L.extendedAnsi[F],o.DEFAULT_ANSI_COLORS[F+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(L){this._restoreColor(L),this._onChangeColors.fire(this.colors)}_restoreColor(L){if(L!==void 0)switch(L){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[L]=this._restoreColors.ansi[L]}else for(let v=0;v<this._restoreColors.ansi.length;++v)this._colors.ansi[v]=this._restoreColors.ansi[v]}modifyColors(L){L(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function x(L,v){if(L!==void 0)try{return g.css.toColor(L)}catch{}return v}o.ThemeService=b=f([y(0,p.IOptionsService)],b)},6349:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const f=c(8460),y=c(844);class d extends y.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const k=new Array(w);for(let p=0;p<Math.min(w,this.length);p++)k[p]=this._array[this._getCyclicIndex(p)];this._array=k,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let k=this._length;k<w;k++)this._array[k]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,k){this._array[this._getCyclicIndex(w)]=k}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,k,...p){if(k){for(let n=w;n<this._length-k;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+k)];this._length-=k,this.onDeleteEmitter.fire({index:w,amount:k})}for(let n=this._length-1;n>=w;n--)this._array[this._getCyclicIndex(n+p.length)]=this._array[this._getCyclicIndex(n)];for(let n=0;n<p.length;n++)this._array[this._getCyclicIndex(w+n)]=p[n];if(p.length&&this.onInsertEmitter.fire({index:w,amount:p.length}),this._length+p.length>this._maxLength){const n=this._length+p.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=p.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,k,p){if(!(k<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+p<0)throw new Error("Cannot shift elements in list beyond index 0");if(p>0){for(let l=k-1;l>=0;l--)this.set(w+l+p,this.get(w+l));const n=w+k+p-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<k;n++)this.set(w+n+p,this.get(w+n))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}o.CircularList=d},1439:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function c(f,y=5){if(typeof f!="object")return f;const d=Array.isArray(f)?[]:{};for(const g in f)d[g]=y<=1?f[g]:f[g]&&c(f[g],y-1);return d}},8055:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;let c=0,f=0,y=0,d=0;var g,w,k,p,n;function l(a){const m=a.toString(16);return m.length<2?"0"+m:m}function s(a,m){return a<m?(m+.05)/(a+.05):(a+.05)/(m+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(a){a.toCss=function(m,b,x,L){return L!==void 0?`#${l(m)}${l(b)}${l(x)}${l(L)}`:`#${l(m)}${l(b)}${l(x)}`},a.toRgba=function(m,b,x,L=255){return(m<<24|b<<16|x<<8|L)>>>0},a.toColor=function(m,b,x,L){return{css:a.toCss(m,b,x,L),rgba:a.toRgba(m,b,x,L)}}}(g||(o.channels=g={})),function(a){function m(b,x){return d=Math.round(255*x),[c,f,y]=n.toChannels(b.rgba),{css:g.toCss(c,f,y,d),rgba:g.toRgba(c,f,y,d)}}a.blend=function(b,x){if(d=(255&x.rgba)/255,d===1)return{css:x.css,rgba:x.rgba};const L=x.rgba>>24&255,v=x.rgba>>16&255,R=x.rgba>>8&255,F=b.rgba>>24&255,U=b.rgba>>16&255,$=b.rgba>>8&255;return c=F+Math.round((L-F)*d),f=U+Math.round((v-U)*d),y=$+Math.round((R-$)*d),{css:g.toCss(c,f,y),rgba:g.toRgba(c,f,y)}},a.isOpaque=function(b){return(255&b.rgba)==255},a.ensureContrastRatio=function(b,x,L){const v=n.ensureContrastRatio(b.rgba,x.rgba,L);if(v)return g.toColor(v>>24&255,v>>16&255,v>>8&255)},a.opaque=function(b){const x=(255|b.rgba)>>>0;return[c,f,y]=n.toChannels(x),{css:g.toCss(c,f,y),rgba:x}},a.opacity=m,a.multiplyOpacity=function(b,x){return d=255&b.rgba,m(b,d*x/255)},a.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(w||(o.color=w={})),function(a){let m,b;try{const x=document.createElement("canvas");x.width=1,x.height=1;const L=x.getContext("2d",{willReadFrequently:!0});L&&(m=L,m.globalCompositeOperation="copy",b=m.createLinearGradient(0,0,1,1))}catch{}a.toColor=function(x){if(x.match(/#[\da-f]{3,8}/i))switch(x.length){case 4:return c=parseInt(x.slice(1,2).repeat(2),16),f=parseInt(x.slice(2,3).repeat(2),16),y=parseInt(x.slice(3,4).repeat(2),16),g.toColor(c,f,y);case 5:return c=parseInt(x.slice(1,2).repeat(2),16),f=parseInt(x.slice(2,3).repeat(2),16),y=parseInt(x.slice(3,4).repeat(2),16),d=parseInt(x.slice(4,5).repeat(2),16),g.toColor(c,f,y,d);case 7:return{css:x,rgba:(parseInt(x.slice(1),16)<<8|255)>>>0};case 9:return{css:x,rgba:parseInt(x.slice(1),16)>>>0}}const L=x.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(L)return c=parseInt(L[1]),f=parseInt(L[2]),y=parseInt(L[3]),d=Math.round(255*(L[5]===void 0?1:parseFloat(L[5]))),g.toColor(c,f,y,d);if(!m||!b)throw new Error("css.toColor: Unsupported css format");if(m.fillStyle=b,m.fillStyle=x,typeof m.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(m.fillRect(0,0,1,1),[c,f,y,d]=m.getImageData(0,0,1,1).data,d!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(c,f,y,d),css:x}}}(k||(o.css=k={})),function(a){function m(b,x,L){const v=b/255,R=x/255,F=L/255;return .2126*(v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))}a.relativeLuminance=function(b){return m(b>>16&255,b>>8&255,255&b)},a.relativeLuminance2=m}(p||(o.rgb=p={})),function(a){function m(x,L,v){const R=x>>24&255,F=x>>16&255,U=x>>8&255;let $=L>>24&255,H=L>>16&255,Y=L>>8&255,re=s(p.relativeLuminance2($,H,Y),p.relativeLuminance2(R,F,U));for(;re<v&&($>0||H>0||Y>0);)$-=Math.max(0,Math.ceil(.1*$)),H-=Math.max(0,Math.ceil(.1*H)),Y-=Math.max(0,Math.ceil(.1*Y)),re=s(p.relativeLuminance2($,H,Y),p.relativeLuminance2(R,F,U));return($<<24|H<<16|Y<<8|255)>>>0}function b(x,L,v){const R=x>>24&255,F=x>>16&255,U=x>>8&255;let $=L>>24&255,H=L>>16&255,Y=L>>8&255,re=s(p.relativeLuminance2($,H,Y),p.relativeLuminance2(R,F,U));for(;re<v&&($<255||H<255||Y<255);)$=Math.min(255,$+Math.ceil(.1*(255-$))),H=Math.min(255,H+Math.ceil(.1*(255-H))),Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),re=s(p.relativeLuminance2($,H,Y),p.relativeLuminance2(R,F,U));return($<<24|H<<16|Y<<8|255)>>>0}a.blend=function(x,L){if(d=(255&L)/255,d===1)return L;const v=L>>24&255,R=L>>16&255,F=L>>8&255,U=x>>24&255,$=x>>16&255,H=x>>8&255;return c=U+Math.round((v-U)*d),f=$+Math.round((R-$)*d),y=H+Math.round((F-H)*d),g.toRgba(c,f,y)},a.ensureContrastRatio=function(x,L,v){const R=p.relativeLuminance(x>>8),F=p.relativeLuminance(L>>8);if(s(R,F)<v){if(F<R){const H=m(x,L,v),Y=s(R,p.relativeLuminance(H>>8));if(Y<v){const re=b(x,L,v);return Y>s(R,p.relativeLuminance(re>>8))?H:re}return H}const U=b(x,L,v),$=s(R,p.relativeLuminance(U>>8));if($<v){const H=m(x,L,v);return $>s(R,p.relativeLuminance(H>>8))?U:H}return U}},a.reduceLuminance=m,a.increaseLuminance=b,a.toChannels=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]}}(n||(o.rgba=n={})),o.toPaddedHex=l,o.contrastRatio=s},8969:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const f=c(844),y=c(2585),d=c(4348),g=c(7866),w=c(744),k=c(7302),p=c(6975),n=c(8460),l=c(1753),s=c(1480),a=c(7994),m=c(9282),b=c(5435),x=c(5981),L=c(2660);let v=!1;class R extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new n.EventEmitter),this._onScroll.event(U=>{var $;($=this._onScrollApi)==null||$.fire(U.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(U){for(const $ in U)this.optionsService.options[$]=U[$]}constructor(U){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new n.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new n.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new n.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new n.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new n.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new n.EventEmitter),this._instantiationService=new d.InstantiationService,this.optionsService=this.register(new k.OptionsService(U)),this._instantiationService.setService(y.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(y.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(y.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(p.CoreService)),this._instantiationService.setService(y.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(l.CoreMouseService)),this._instantiationService.setService(y.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(s.UnicodeService)),this._instantiationService.setService(y.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(a.CharsetService),this._instantiationService.setService(y.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(L.OscLinkService),this._instantiationService.setService(y.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new b.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,n.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,n.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,n.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,n.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll($=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new x.WriteBuffer(($,H)=>this._inputHandler.parse($,H))),this.register((0,n.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(U,$){this._writeBuffer.write(U,$)}writeSync(U,$){this._logService.logLevel<=y.LogLevelEnum.WARN&&!v&&(this._logService.warn("writeSync is unreliable and will be removed soon."),v=!0),this._writeBuffer.writeSync(U,$)}input(U,$=!0){this.coreService.triggerDataEvent(U,$)}resize(U,$){isNaN(U)||isNaN($)||(U=Math.max(U,w.MINIMUM_COLS),$=Math.max($,w.MINIMUM_ROWS),this._bufferService.resize(U,$))}scroll(U,$=!1){this._bufferService.scroll(U,$)}scrollLines(U,$,H){this._bufferService.scrollLines(U,$,H)}scrollPages(U){this.scrollLines(U*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(U){const $=U-this._bufferService.buffer.ydisp;$!==0&&this.scrollLines($)}registerEscHandler(U,$){return this._inputHandler.registerEscHandler(U,$)}registerDcsHandler(U,$){return this._inputHandler.registerDcsHandler(U,$)}registerCsiHandler(U,$){return this._inputHandler.registerCsiHandler(U,$)}registerOscHandler(U,$){return this._inputHandler.registerOscHandler(U,$)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let U=!1;const $=this.optionsService.rawOptions.windowsPty;$&&$.buildNumber!==void 0&&$.buildNumber!==void 0?U=$.backend==="conpty"&&$.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(U=!0),U?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const U=[];U.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),U.push(this.registerCsiHandler({final:"H"},()=>((0,m.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)(()=>{for(const $ of U)$.dispose()})}}}o.CoreTerminal=R},8460:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.runAndSubscribe=o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===c)return void this._listeners.splice(f,1)}}})),this._event}fire(c,f){const y=[];for(let d=0;d<this._listeners.length;d++)y.push(this._listeners[d]);for(let d=0;d<y.length;d++)y[d].call(void 0,c,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(c,f){return c(y=>f.fire(y))},o.runAndSubscribe=function(c,f){return f(void 0),c(y=>f(y))}},5435:function(A,o,c){var f=this&&this.__decorate||function(Z,D,I,M){var j,X=arguments.length,ne=X<3?D:M===null?M=Object.getOwnPropertyDescriptor(D,I):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(Z,D,I,M);else for(var ue=Z.length-1;ue>=0;ue--)(j=Z[ue])&&(ne=(X<3?j(ne):X>3?j(D,I,ne):j(D,I))||ne);return X>3&&ne&&Object.defineProperty(D,I,ne),ne},y=this&&this.__param||function(Z,D){return function(I,M){D(I,M,Z)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const d=c(2584),g=c(7116),w=c(2015),k=c(844),p=c(482),n=c(8437),l=c(8460),s=c(643),a=c(511),m=c(3734),b=c(2585),x=c(1480),L=c(6242),v=c(6351),R=c(5941),F={"(":0,")":1,"*":2,"+":3,"-":1,".":2},U=131072;function $(Z,D){if(Z>24)return D.setWinLines||!1;switch(Z){case 1:return!!D.restoreWin;case 2:return!!D.minimizeWin;case 3:return!!D.setWinPosition;case 4:return!!D.setWinSizePixels;case 5:return!!D.raiseWin;case 6:return!!D.lowerWin;case 7:return!!D.refreshWin;case 8:return!!D.setWinSizeChars;case 9:return!!D.maximizeWin;case 10:return!!D.fullscreenWin;case 11:return!!D.getWinState;case 13:return!!D.getWinPosition;case 14:return!!D.getWinSizePixels;case 15:return!!D.getScreenSizePixels;case 16:return!!D.getCellSizePixels;case 18:return!!D.getWinSizeChars;case 19:return!!D.getScreenSizeChars;case 20:return!!D.getIconTitle;case 21:return!!D.getWinTitle;case 22:return!!D.pushTitle;case 23:return!!D.popTitle;case 24:return!!D.setWinLines}return!1}var H;(function(Z){Z[Z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Z[Z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(H||(o.WindowsOptionsReportType=H={}));let Y=0;class re extends k.Disposable{getAttrData(){return this._curAttrData}constructor(D,I,M,j,X,ne,ue,he,q=new w.EscapeSequenceParser){super(),this._bufferService=D,this._charsetService=I,this._coreService=M,this._logService=j,this._optionsService=X,this._oscLinkService=ne,this._coreMouseService=ue,this._unicodeService=he,this._parser=q,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new p.StringToUtf32,this._utf8Decoder=new p.Utf8ToUtf32,this._workCell=new a.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new l.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new l.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new l.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new l.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new l.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new l.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new l.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new l.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new l.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new l.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new l.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new l.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new l.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new G(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(O=>this._activeBuffer=O.activeBuffer)),this._parser.setCsiHandlerFallback((O,se)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(O),params:se.toArray()})}),this._parser.setEscHandlerFallback(O=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(O)})}),this._parser.setExecuteHandlerFallback(O=>{this._logService.debug("Unknown EXECUTE code: ",{code:O})}),this._parser.setOscHandlerFallback((O,se,ie)=>{this._logService.debug("Unknown OSC code: ",{identifier:O,action:se,data:ie})}),this._parser.setDcsHandlerFallback((O,se,ie)=>{se==="HOOK"&&(ie=ie.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(O),action:se,payload:ie})}),this._parser.setPrintHandler((O,se,ie)=>this.print(O,se,ie)),this._parser.registerCsiHandler({final:"@"},O=>this.insertChars(O)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},O=>this.scrollLeft(O)),this._parser.registerCsiHandler({final:"A"},O=>this.cursorUp(O)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},O=>this.scrollRight(O)),this._parser.registerCsiHandler({final:"B"},O=>this.cursorDown(O)),this._parser.registerCsiHandler({final:"C"},O=>this.cursorForward(O)),this._parser.registerCsiHandler({final:"D"},O=>this.cursorBackward(O)),this._parser.registerCsiHandler({final:"E"},O=>this.cursorNextLine(O)),this._parser.registerCsiHandler({final:"F"},O=>this.cursorPrecedingLine(O)),this._parser.registerCsiHandler({final:"G"},O=>this.cursorCharAbsolute(O)),this._parser.registerCsiHandler({final:"H"},O=>this.cursorPosition(O)),this._parser.registerCsiHandler({final:"I"},O=>this.cursorForwardTab(O)),this._parser.registerCsiHandler({final:"J"},O=>this.eraseInDisplay(O,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},O=>this.eraseInDisplay(O,!0)),this._parser.registerCsiHandler({final:"K"},O=>this.eraseInLine(O,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},O=>this.eraseInLine(O,!0)),this._parser.registerCsiHandler({final:"L"},O=>this.insertLines(O)),this._parser.registerCsiHandler({final:"M"},O=>this.deleteLines(O)),this._parser.registerCsiHandler({final:"P"},O=>this.deleteChars(O)),this._parser.registerCsiHandler({final:"S"},O=>this.scrollUp(O)),this._parser.registerCsiHandler({final:"T"},O=>this.scrollDown(O)),this._parser.registerCsiHandler({final:"X"},O=>this.eraseChars(O)),this._parser.registerCsiHandler({final:"Z"},O=>this.cursorBackwardTab(O)),this._parser.registerCsiHandler({final:"`"},O=>this.charPosAbsolute(O)),this._parser.registerCsiHandler({final:"a"},O=>this.hPositionRelative(O)),this._parser.registerCsiHandler({final:"b"},O=>this.repeatPrecedingCharacter(O)),this._parser.registerCsiHandler({final:"c"},O=>this.sendDeviceAttributesPrimary(O)),this._parser.registerCsiHandler({prefix:">",final:"c"},O=>this.sendDeviceAttributesSecondary(O)),this._parser.registerCsiHandler({final:"d"},O=>this.linePosAbsolute(O)),this._parser.registerCsiHandler({final:"e"},O=>this.vPositionRelative(O)),this._parser.registerCsiHandler({final:"f"},O=>this.hVPosition(O)),this._parser.registerCsiHandler({final:"g"},O=>this.tabClear(O)),this._parser.registerCsiHandler({final:"h"},O=>this.setMode(O)),this._parser.registerCsiHandler({prefix:"?",final:"h"},O=>this.setModePrivate(O)),this._parser.registerCsiHandler({final:"l"},O=>this.resetMode(O)),this._parser.registerCsiHandler({prefix:"?",final:"l"},O=>this.resetModePrivate(O)),this._parser.registerCsiHandler({final:"m"},O=>this.charAttributes(O)),this._parser.registerCsiHandler({final:"n"},O=>this.deviceStatus(O)),this._parser.registerCsiHandler({prefix:"?",final:"n"},O=>this.deviceStatusPrivate(O)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},O=>this.softReset(O)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},O=>this.setCursorStyle(O)),this._parser.registerCsiHandler({final:"r"},O=>this.setScrollRegion(O)),this._parser.registerCsiHandler({final:"s"},O=>this.saveCursor(O)),this._parser.registerCsiHandler({final:"t"},O=>this.windowOptions(O)),this._parser.registerCsiHandler({final:"u"},O=>this.restoreCursor(O)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},O=>this.insertColumns(O)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},O=>this.deleteColumns(O)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},O=>this.selectProtected(O)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},O=>this.requestMode(O,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},O=>this.requestMode(O,!1)),this._parser.setExecuteHandler(d.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(d.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(d.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(d.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(d.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(d.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(d.C1.IND,()=>this.index()),this._parser.setExecuteHandler(d.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(d.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new L.OscHandler(O=>(this.setTitle(O),this.setIconName(O),!0))),this._parser.registerOscHandler(1,new L.OscHandler(O=>this.setIconName(O))),this._parser.registerOscHandler(2,new L.OscHandler(O=>this.setTitle(O))),this._parser.registerOscHandler(4,new L.OscHandler(O=>this.setOrReportIndexedColor(O))),this._parser.registerOscHandler(8,new L.OscHandler(O=>this.setHyperlink(O))),this._parser.registerOscHandler(10,new L.OscHandler(O=>this.setOrReportFgColor(O))),this._parser.registerOscHandler(11,new L.OscHandler(O=>this.setOrReportBgColor(O))),this._parser.registerOscHandler(12,new L.OscHandler(O=>this.setOrReportCursorColor(O))),this._parser.registerOscHandler(104,new L.OscHandler(O=>this.restoreIndexedColor(O))),this._parser.registerOscHandler(110,new L.OscHandler(O=>this.restoreFgColor(O))),this._parser.registerOscHandler(111,new L.OscHandler(O=>this.restoreBgColor(O))),this._parser.registerOscHandler(112,new L.OscHandler(O=>this.restoreCursorColor(O))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const O in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:O},()=>this.selectCharset("("+O)),this._parser.registerEscHandler({intermediates:")",final:O},()=>this.selectCharset(")"+O)),this._parser.registerEscHandler({intermediates:"*",final:O},()=>this.selectCharset("*"+O)),this._parser.registerEscHandler({intermediates:"+",final:O},()=>this.selectCharset("+"+O)),this._parser.registerEscHandler({intermediates:"-",final:O},()=>this.selectCharset("-"+O)),this._parser.registerEscHandler({intermediates:".",final:O},()=>this.selectCharset("."+O)),this._parser.registerEscHandler({intermediates:"/",final:O},()=>this.selectCharset("/"+O));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(O=>(this._logService.error("Parsing error: ",O),O)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new v.DcsHandler((O,se)=>this.requestStatusString(O,se)))}_preserveStack(D,I,M,j){this._parseStack.paused=!0,this._parseStack.cursorStartX=D,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=M,this._parseStack.position=j}_logSlowResolvingAsync(D){this._logService.logLevel<=b.LogLevelEnum.WARN&&Promise.race([D,new Promise((I,M)=>setTimeout(()=>M("#SLOW_TIMEOUT"),5e3))]).catch(I=>{if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(D,I){let M,j=this._activeBuffer.x,X=this._activeBuffer.y,ne=0;const ue=this._parseStack.paused;if(ue){if(M=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(M),M;j=this._parseStack.cursorStartX,X=this._parseStack.cursorStartY,this._parseStack.paused=!1,D.length>U&&(ne=this._parseStack.position+U)}if(this._logService.logLevel<=b.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof D=="string"?` "${D}"`:` "${Array.prototype.map.call(D,O=>String.fromCharCode(O)).join("")}"`),typeof D=="string"?D.split("").map(O=>O.charCodeAt(0)):D),this._parseBuffer.length<D.length&&this._parseBuffer.length<U&&(this._parseBuffer=new Uint32Array(Math.min(D.length,U))),ue||this._dirtyRowTracker.clearRange(),D.length>U)for(let O=ne;O<D.length;O+=U){const se=O+U<D.length?O+U:D.length,ie=typeof D=="string"?this._stringDecoder.decode(D.substring(O,se),this._parseBuffer):this._utf8Decoder.decode(D.subarray(O,se),this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,ie))return this._preserveStack(j,X,ie,O),this._logSlowResolvingAsync(M),M}else if(!ue){const O=typeof D=="string"?this._stringDecoder.decode(D,this._parseBuffer):this._utf8Decoder.decode(D,this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,O))return this._preserveStack(j,X,O,0),this._logSlowResolvingAsync(M),M}this._activeBuffer.x===j&&this._activeBuffer.y===X||this._onCursorMove.fire();const he=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),q=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);q<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(q,this._bufferService.rows-1),Math.min(he,this._bufferService.rows-1))}print(D,I,M){let j,X;const ne=this._charsetService.charset,ue=this._optionsService.rawOptions.screenReaderMode,he=this._bufferService.cols,q=this._coreService.decPrivateModes.wraparound,O=this._coreService.modes.insertMode,se=this._curAttrData;let ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&M-I>0&&ie.getWidth(this._activeBuffer.x-1)===2&&ie.setCellFromCodepoint(this._activeBuffer.x-1,0,1,se);let fe=this._parser.precedingJoinState;for(let de=I;de<M;++de){if(j=D[de],j<127&&ne){const Ye=ne[String.fromCharCode(j)];Ye&&(j=Ye.charCodeAt(0))}const xe=this._unicodeService.charProperties(j,fe);X=x.UnicodeService.extractWidth(xe);const Te=x.UnicodeService.extractShouldJoin(xe),Ae=Te?x.UnicodeService.extractWidth(fe):0;if(fe=xe,ue&&this._onA11yChar.fire((0,p.stringFromCodePoint)(j)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+X-Ae>he){if(q){const Ye=ie;let we=this._activeBuffer.x-Ae;for(this._activeBuffer.x=Ae,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ae>0&&ie instanceof n.BufferLine&&ie.copyCellsFrom(Ye,we,0,Ae,!1);we<he;)Ye.setCellFromCodepoint(we++,0,1,se)}else if(this._activeBuffer.x=he-1,X===2)continue}if(Te&&this._activeBuffer.x){const Ye=ie.getWidth(this._activeBuffer.x-1)?1:2;ie.addCodepointToCell(this._activeBuffer.x-Ye,j,X);for(let we=X-Ae;--we>=0;)ie.setCellFromCodepoint(this._activeBuffer.x++,0,0,se)}else if(O&&(ie.insertCells(this._activeBuffer.x,X-Ae,this._activeBuffer.getNullCell(se)),ie.getWidth(he-1)===2&&ie.setCellFromCodepoint(he-1,s.NULL_CELL_CODE,s.NULL_CELL_WIDTH,se)),ie.setCellFromCodepoint(this._activeBuffer.x++,j,X,se),X>0)for(;--X;)ie.setCellFromCodepoint(this._activeBuffer.x++,0,0,se)}this._parser.precedingJoinState=fe,this._activeBuffer.x<he&&M-I>0&&ie.getWidth(this._activeBuffer.x)===0&&!ie.hasContent(this._activeBuffer.x)&&ie.setCellFromCodepoint(this._activeBuffer.x,0,1,se),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(D,I){return D.final!=="t"||D.prefix||D.intermediates?this._parser.registerCsiHandler(D,I):this._parser.registerCsiHandler(D,M=>!$(M.params[0],this._optionsService.rawOptions.windowOptions)||I(M))}registerDcsHandler(D,I){return this._parser.registerDcsHandler(D,new v.DcsHandler(I))}registerEscHandler(D,I){return this._parser.registerEscHandler(D,I)}registerOscHandler(D,I){return this._parser.registerOscHandler(D,new L.OscHandler(I))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var D;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&D.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const D=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-D),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(D=this._bufferService.cols-1){this._activeBuffer.x=Math.min(D,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(D,I){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=D,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=D,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(D,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+D,this._activeBuffer.y+I)}cursorUp(D){const I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,D.params[0]||1)):this._moveCursor(0,-(D.params[0]||1)),!0}cursorDown(D){const I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,D.params[0]||1)):this._moveCursor(0,D.params[0]||1),!0}cursorForward(D){return this._moveCursor(D.params[0]||1,0),!0}cursorBackward(D){return this._moveCursor(-(D.params[0]||1),0),!0}cursorNextLine(D){return this.cursorDown(D),this._activeBuffer.x=0,!0}cursorPrecedingLine(D){return this.cursorUp(D),this._activeBuffer.x=0,!0}cursorCharAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(D){return this._setCursor(D.length>=2?(D.params[1]||1)-1:0,(D.params[0]||1)-1),!0}charPosAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(D){return this._moveCursor(D.params[0]||1,0),!0}linePosAbsolute(D){return this._setCursor(this._activeBuffer.x,(D.params[0]||1)-1),!0}vPositionRelative(D){return this._moveCursor(0,D.params[0]||1),!0}hVPosition(D){return this.cursorPosition(D),!0}tabClear(D){const I=D.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=D.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=D.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(D){const I=D.params[0];return I===1&&(this._curAttrData.bg|=536870912),I!==2&&I!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(D,I,M,j=!1,X=!1){const ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);ne.replaceCells(I,M,this._activeBuffer.getNullCell(this._eraseAttrData()),X),j&&(ne.isWrapped=!1)}_resetBufferLine(D,I=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);M&&(M.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),I),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+D),M.isWrapped=!1)}eraseInDisplay(D,I=!1){let M;switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);M<this._bufferService.rows;M++)this._resetBufferLine(M,I);this._dirtyRowTracker.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0,I),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M,I);this._dirtyRowTracker.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowTracker.markDirty(M-1);M--;)this._resetBufferLine(M,I);this._dirtyRowTracker.markDirty(0);break;case 3:const j=this._activeBuffer.lines.length-this._bufferService.rows;j>0&&(this._activeBuffer.lines.trimStart(j),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-j,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-j,0),this._onScroll.fire(0))}return!0}eraseInLine(D,I=!1){switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,I);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,I)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(D){this._restrictCursor();let I=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y,j=this._bufferService.rows-1-this._activeBuffer.scrollBottom,X=this._bufferService.rows-1+this._activeBuffer.ybase-j+1;for(;I--;)this._activeBuffer.lines.splice(X-1,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(D){this._restrictCursor();let I=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y;let j;for(j=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-j;I--;)this._activeBuffer.lines.splice(M,1),this._activeBuffer.lines.splice(j,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(D){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(D){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(D){let I=D.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(D){let I=D.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(n.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=D.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);j.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData())),j.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=D.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);j.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData())),j.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=D.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);j.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData())),j.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=D.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);j.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData())),j.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(D){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(D.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(D){const I=this._parser.precedingJoinState;if(!I)return!0;const M=D.params[0]||1,j=x.UnicodeService.extractWidth(I),X=this._activeBuffer.x-j,ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(X),ue=new Uint32Array(ne.length*M);let he=0;for(let O=0;O<ne.length;){const se=ne.codePointAt(O)||0;ue[he++]=se,O+=se>65535?2:1}let q=he;for(let O=1;O<M;++O)ue.copyWithin(q,0,he),q+=he;return this.print(ue,0,q),!0}sendDeviceAttributesPrimary(D){return D.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(d.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(d.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(D){return D.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(d.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(d.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(D.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(d.C0.ESC+"[>83;40003;0c")),!0}_is(D){return(this._optionsService.rawOptions.termName+"").indexOf(D)===0}setMode(D){for(let I=0;I<D.length;I++)switch(D.params[I]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(D){for(let I=0;I<D.length;I++)switch(D.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(D){for(let I=0;I<D.length;I++)switch(D.params[I]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(D){for(let I=0;I<D.length;I++)switch(D.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),D.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(D,I){const M=this._coreService.decPrivateModes,{activeProtocol:j,activeEncoding:X}=this._coreMouseService,ne=this._coreService,{buffers:ue,cols:he}=this._bufferService,{active:q,alt:O}=ue,se=this._optionsService.rawOptions,ie=Te=>Te?1:2,fe=D.params[0];return de=fe,xe=I?fe===2?4:fe===4?ie(ne.modes.insertMode):fe===12?3:fe===20?ie(se.convertEol):0:fe===1?ie(M.applicationCursorKeys):fe===3?se.windowOptions.setWinLines?he===80?2:he===132?1:0:0:fe===6?ie(M.origin):fe===7?ie(M.wraparound):fe===8?3:fe===9?ie(j==="X10"):fe===12?ie(se.cursorBlink):fe===25?ie(!ne.isCursorHidden):fe===45?ie(M.reverseWraparound):fe===66?ie(M.applicationKeypad):fe===67?4:fe===1e3?ie(j==="VT200"):fe===1002?ie(j==="DRAG"):fe===1003?ie(j==="ANY"):fe===1004?ie(M.sendFocus):fe===1005?4:fe===1006?ie(X==="SGR"):fe===1015?4:fe===1016?ie(X==="SGR_PIXELS"):fe===1048?1:fe===47||fe===1047||fe===1049?ie(q===O):fe===2004?ie(M.bracketedPasteMode):0,ne.triggerDataEvent(`${d.C0.ESC}[${I?"":"?"}${de};${xe}$y`),!0;var de,xe}_updateAttrColor(D,I,M,j,X){return I===2?(D|=50331648,D&=-16777216,D|=m.AttributeData.fromColorRGB([M,j,X])):I===5&&(D&=-50331904,D|=33554432|255&M),D}_extractColor(D,I,M){const j=[0,0,-1,0,0,0];let X=0,ne=0;do{if(j[ne+X]=D.params[I+ne],D.hasSubParams(I+ne)){const ue=D.getSubParams(I+ne);let he=0;do j[1]===5&&(X=1),j[ne+he+1+X]=ue[he];while(++he<ue.length&&he+ne+1+X<j.length);break}if(j[1]===5&&ne+X>=2||j[1]===2&&ne+X>=5)break;j[1]&&(X=1)}while(++ne+I<D.length&&ne+X<j.length);for(let ue=2;ue<j.length;++ue)j[ue]===-1&&(j[ue]=0);switch(j[0]){case 38:M.fg=this._updateAttrColor(M.fg,j[1],j[3],j[4],j[5]);break;case 48:M.bg=this._updateAttrColor(M.bg,j[1],j[3],j[4],j[5]);break;case 58:M.extended=M.extended.clone(),M.extended.underlineColor=this._updateAttrColor(M.extended.underlineColor,j[1],j[3],j[4],j[5])}return ne}_processUnderline(D,I){I.extended=I.extended.clone(),(!~D||D>5)&&(D=1),I.extended.underlineStyle=D,I.fg|=268435456,D===0&&(I.fg&=-268435457),I.updateExtended()}_processSGR0(D){D.fg=n.DEFAULT_ATTR_DATA.fg,D.bg=n.DEFAULT_ATTR_DATA.bg,D.extended=D.extended.clone(),D.extended.underlineStyle=0,D.extended.underlineColor&=-67108864,D.updateExtended()}charAttributes(D){if(D.length===1&&D.params[0]===0)return this._processSGR0(this._curAttrData),!0;const I=D.length;let M;const j=this._curAttrData;for(let X=0;X<I;X++)M=D.params[X],M>=30&&M<=37?(j.fg&=-50331904,j.fg|=16777216|M-30):M>=40&&M<=47?(j.bg&=-50331904,j.bg|=16777216|M-40):M>=90&&M<=97?(j.fg&=-50331904,j.fg|=16777224|M-90):M>=100&&M<=107?(j.bg&=-50331904,j.bg|=16777224|M-100):M===0?this._processSGR0(j):M===1?j.fg|=134217728:M===3?j.bg|=67108864:M===4?(j.fg|=268435456,this._processUnderline(D.hasSubParams(X)?D.getSubParams(X)[0]:1,j)):M===5?j.fg|=536870912:M===7?j.fg|=67108864:M===8?j.fg|=1073741824:M===9?j.fg|=2147483648:M===2?j.bg|=134217728:M===21?this._processUnderline(2,j):M===22?(j.fg&=-134217729,j.bg&=-134217729):M===23?j.bg&=-67108865:M===24?(j.fg&=-268435457,this._processUnderline(0,j)):M===25?j.fg&=-536870913:M===27?j.fg&=-67108865:M===28?j.fg&=-1073741825:M===29?j.fg&=2147483647:M===39?(j.fg&=-67108864,j.fg|=16777215&n.DEFAULT_ATTR_DATA.fg):M===49?(j.bg&=-67108864,j.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?X+=this._extractColor(D,X,j):M===53?j.bg|=1073741824:M===55?j.bg&=-1073741825:M===59?(j.extended=j.extended.clone(),j.extended.underlineColor=-1,j.updateExtended()):M===100?(j.fg&=-67108864,j.fg|=16777215&n.DEFAULT_ATTR_DATA.fg,j.bg&=-67108864,j.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0}deviceStatus(D){switch(D.params[0]){case 5:this._coreService.triggerDataEvent(`${d.C0.ESC}[0n`);break;case 6:const I=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[${I};${M}R`)}return!0}deviceStatusPrivate(D){if(D.params[0]===6){const I=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[?${I};${M}R`)}return!0}softReset(D){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(D){const I=D.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const M=I%2==1;return this._optionsService.options.cursorBlink=M,!0}setScrollRegion(D){const I=D.params[0]||1;let M;return(D.length<2||(M=D.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>I&&(this._activeBuffer.scrollTop=I-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0}windowOptions(D){if(!$(D.params[0],this._optionsService.rawOptions.windowOptions))return!0;const I=D.length>1?D.params[1]:0;switch(D.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${d.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(D){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(D){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(D){return this._windowTitle=D,this._onTitleChange.fire(D),!0}setIconName(D){return this._iconName=D,!0}setOrReportIndexedColor(D){const I=[],M=D.split(";");for(;M.length>1;){const j=M.shift(),X=M.shift();if(/^\d+$/.exec(j)){const ne=parseInt(j);if(Q(ne))if(X==="?")I.push({type:0,index:ne});else{const ue=(0,R.parseColor)(X);ue&&I.push({type:1,index:ne,color:ue})}}}return I.length&&this._onColor.fire(I),!0}setHyperlink(D){const I=D.split(";");return!(I.length<2)&&(I[1]?this._createHyperlink(I[0],I[1]):!I[0]&&this._finishHyperlink())}_createHyperlink(D,I){this._getCurrentLinkId()&&this._finishHyperlink();const M=D.split(":");let j;const X=M.findIndex(ne=>ne.startsWith("id="));return X!==-1&&(j=M[X].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:j,uri:I}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(D,I){const M=D.split(";");for(let j=0;j<M.length&&!(I>=this._specialColors.length);++j,++I)if(M[j]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{const X=(0,R.parseColor)(M[j]);X&&this._onColor.fire([{type:1,index:this._specialColors[I],color:X}])}return!0}setOrReportFgColor(D){return this._setOrReportSpecialColor(D,0)}setOrReportBgColor(D){return this._setOrReportSpecialColor(D,1)}setOrReportCursorColor(D){return this._setOrReportSpecialColor(D,2)}restoreIndexedColor(D){if(!D)return this._onColor.fire([{type:2}]),!0;const I=[],M=D.split(";");for(let j=0;j<M.length;++j)if(/^\d+$/.exec(M[j])){const X=parseInt(M[j]);Q(X)&&I.push({type:2,index:X})}return I.length&&this._onColor.fire(I),!0}restoreFgColor(D){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(D){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(D){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(D){return D.length!==2?(this.selectDefaultCharset(),!0):(D[0]==="/"||this._charsetService.setgCharset(F[D[0]],g.CHARSETS[D[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const D=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,D,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(D){return this._charsetService.setgLevel(D),!0}screenAlignmentPattern(){const D=new a.CellData;D.content=4194373,D.fg=this._curAttrData.fg,D.bg=this._curAttrData.bg,this._setCursor(0,0);for(let I=0;I<this._bufferService.rows;++I){const M=this._activeBuffer.ybase+this._activeBuffer.y+I,j=this._activeBuffer.lines.get(M);j&&(j.fill(D),j.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(D,I){const M=this._bufferService.buffer,j=this._optionsService.rawOptions;return(X=>(this._coreService.triggerDataEvent(`${d.C0.ESC}${X}${d.C0.ESC}\\`),!0))(D==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:D==='"p'?'P1$r61;1"p':D==="r"?`P1$r${M.scrollTop+1};${M.scrollBottom+1}r`:D==="m"?"P1$r0m":D===" q"?`P1$r${{block:2,underline:4,bar:6}[j.cursorStyle]-(j.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(D,I){this._dirtyRowTracker.markRangeDirty(D,I)}}o.InputHandler=re;let G=class{constructor(Z){this._bufferService=Z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Z){Z<this.start?this.start=Z:Z>this.end&&(this.end=Z)}markRangeDirty(Z,D){Z>D&&(Y=Z,Z=D,D=Y),Z<this.start&&(this.start=Z),D>this.end&&(this.end=D)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Q(Z){return 0<=Z&&Z<256}G=f([y(0,b.IBufferService)],G)},844:(A,o)=>{function c(f){for(const y of f)y.dispose();f.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const y=this._disposables.indexOf(f);y!==-1&&this._disposables.splice(y,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){var y;this._isDisposed||f===this._value||((y=this._value)==null||y.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,(f=this._value)==null||f.dispose(),this._value=void 0}},o.toDisposable=function(f){return{dispose:f}},o.disposeArray=c,o.getDisposeArrayDisposable=function(f){return{dispose:()=>c(f)}}},1505:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(y,d,g){this._data[y]||(this._data[y]={}),this._data[y][d]=g}get(y,d){return this._data[y]?this._data[y][d]:void 0}clear(){this._data={}}}o.TwoKeyMap=c,o.FourKeyMap=class{constructor(){this._data=new c}set(f,y,d,g,w){this._data.get(f,y)||this._data.set(f,y,new c),this._data.get(f,y).set(d,g,w)}get(f,y,d,g){var w;return(w=this._data.get(f,y))==null?void 0:w.get(d,g)}clear(){this._data.clear()}}},6114:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof process<"u"&&"title"in process;const c=o.isNode?"node":navigator.userAgent,f=o.isNode?"node":navigator.platform;o.isFirefox=c.includes("Firefox"),o.isLegacyEdge=c.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(c),o.getSafariVersion=function(){if(!o.isSafari)return 0;const y=c.match(/Version\/(\d+)/);return y===null||y.length<2?0:parseInt(y[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),o.isIpad=f==="iPad",o.isIphone=f==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),o.isLinux=f.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(c)},6106:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let c=0;o.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(c=this._search(this._getKey(f)),this._array.splice(c,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const y=this._getKey(f);if(y===void 0||(c=this._search(y),c===-1)||this._getKey(this._array[c])!==y)return!1;do if(this._array[c]===f)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===y);return!1}*getKeyIterator(f){if(this._array.length!==0&&(c=this._search(f),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===f))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===f)}forEachByKey(f,y){if(this._array.length!==0&&(c=this._search(f),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===f))do y(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===f)}values(){return[...this._array].values()}_search(f){let y=0,d=this._array.length-1;for(;d>=y;){let g=y+d>>1;const w=this._getKey(this._array[g]);if(w>f)d=g-1;else{if(!(w<f)){for(;g>0&&this._getKey(this._array[g-1])===f;)g--;return g}y=g+1}}return y}}},7226:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const f=c(6114);class y{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let k=0,p=0,n=w.timeRemaining(),l=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),p=Math.max(k,p),l=w.timeRemaining(),1.5*p>l)return n-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(n-k))}ms`),void this._start();n=l}this.clear()}}class d extends y{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const k=Date.now()+w;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}o.PriorityTaskQueue=d,o.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends y{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:d,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const f=c(643);o.updateWindowsModeWrappedState=function(y){const d=y.buffer.lines.get(y.buffer.ybase+y.buffer.y-1),g=d==null?void 0:d.get(y.cols-1),w=y.buffer.lines.get(y.buffer.ybase+y.buffer.y);w&&g&&(w.isWrapped=g[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&g[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(d){return[d>>>16&255,d>>>8&255,255&d]}static fromColorRGB(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]}clone(){const d=new c;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}o.AttributeData=c;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(d){this._ext=d}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(d){this._ext&=-469762049,this._ext|=d<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(d){this._ext&=-67108864,this._ext|=67108863&d}get urlId(){return this._urlId}set urlId(d){this._urlId=d}get underlineVariantOffset(){const d=(3758096384&this._ext)>>29;return d<0?4294967288^d:d}set underlineVariantOffset(d){this._ext&=536870911,this._ext|=d<<29&3758096384}constructor(d=0,g=0){this._ext=0,this._urlId=0,this._ext=d,this._urlId=g}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=f},9092:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const f=c(6349),y=c(7226),d=c(3734),g=c(8437),w=c(4634),k=c(511),p=c(643),n=c(4863),l=c(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(s,a,m){this._hasScrollback=s,this._optionsService=a,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=l.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,p.NULL_CELL_CHAR,p.NULL_CELL_WIDTH,p.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,p.WHITESPACE_CELL_CHAR,p.WHITESPACE_CELL_WIDTH,p.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new y.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(s){return s?(this._nullCell.fg=s.fg,this._nullCell.bg=s.bg,this._nullCell.extended=s.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell}getWhitespaceCell(s){return s?(this._whitespaceCell.fg=s.fg,this._whitespaceCell.bg=s.bg,this._whitespaceCell.extended=s.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell}getBlankLine(s,a){return new g.BufferLine(this._bufferService.cols,this.getNullCell(s),a)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const s=this.ybase+this.y-this.ydisp;return s>=0&&s<this._rows}_getCorrectBufferLength(s){if(!this._hasScrollback)return s;const a=s+this._optionsService.rawOptions.scrollback;return a>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:a}fillViewportRows(s){if(this.lines.length===0){s===void 0&&(s=g.DEFAULT_ATTR_DATA);let a=this._rows;for(;a--;)this.lines.push(this.getBlankLine(s))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(s,a){const m=this.getNullCell(g.DEFAULT_ATTR_DATA);let b=0;const x=this._getCorrectBufferLength(a);if(x>this.lines.maxLength&&(this.lines.maxLength=x),this.lines.length>0){if(this._cols<s)for(let v=0;v<this.lines.length;v++)b+=+this.lines.get(v).resize(s,m);let L=0;if(this._rows<a)for(let v=this._rows;v<a;v++)this.lines.length<a+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(s,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+L+1?(this.ybase--,L++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(s,m)));else for(let v=this._rows;v>a;v--)this.lines.length>a+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(x<this.lines.maxLength){const v=this.lines.length-x;v>0&&(this.lines.trimStart(v),this.ybase=Math.max(this.ybase-v,0),this.ydisp=Math.max(this.ydisp-v,0),this.savedY=Math.max(this.savedY-v,0)),this.lines.maxLength=x}this.x=Math.min(this.x,s-1),this.y=Math.min(this.y,a-1),L&&(this.y+=L),this.savedX=Math.min(this.savedX,s-1),this.scrollTop=0}if(this.scrollBottom=a-1,this._isReflowEnabled&&(this._reflow(s,a),this._cols>s))for(let L=0;L<this.lines.length;L++)b+=+this.lines.get(L).resize(s,m);this._cols=s,this._rows=a,this._memoryCleanupQueue.clear(),b>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let s=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,s=!1);let a=0;for(;this._memoryCleanupPosition<this.lines.length;)if(a+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),a>100)return!0;return s}get _isReflowEnabled(){const s=this._optionsService.rawOptions.windowsPty;return s&&s.buildNumber?this._hasScrollback&&s.backend==="conpty"&&s.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(s,a){this._cols!==s&&(s>this._cols?this._reflowLarger(s,a):this._reflowSmaller(s,a))}_reflowLarger(s,a){const m=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,s,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(m.length>0){const b=(0,w.reflowLargerCreateNewLayout)(this.lines,m);(0,w.reflowLargerApplyNewLayout)(this.lines,b.layout),this._reflowLargerAdjustViewport(s,a,b.countRemoved)}}_reflowLargerAdjustViewport(s,a,m){const b=this.getNullCell(g.DEFAULT_ATTR_DATA);let x=m;for(;x-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<a&&this.lines.push(new g.BufferLine(s,b))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(s,a){const m=this.getNullCell(g.DEFAULT_ATTR_DATA),b=[];let x=0;for(let L=this.lines.length-1;L>=0;L--){let v=this.lines.get(L);if(!v||!v.isWrapped&&v.getTrimmedLength()<=s)continue;const R=[v];for(;v.isWrapped&&L>0;)v=this.lines.get(--L),R.unshift(v);const F=this.ybase+this.y;if(F>=L&&F<L+R.length)continue;const U=R[R.length-1].getTrimmedLength(),$=(0,w.reflowSmallerGetNewLineLengths)(R,this._cols,s),H=$.length-R.length;let Y;Y=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+H):Math.max(0,this.lines.length-this.lines.maxLength+H);const re=[];for(let M=0;M<H;M++){const j=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);re.push(j)}re.length>0&&(b.push({start:L+R.length+x,newLines:re}),x+=re.length),R.push(...re);let G=$.length-1,Q=$[G];Q===0&&(G--,Q=$[G]);let Z=R.length-H-1,D=U;for(;Z>=0;){const M=Math.min(D,Q);if(R[G]===void 0)break;if(R[G].copyCellsFrom(R[Z],D-M,Q-M,M,!0),Q-=M,Q===0&&(G--,Q=$[G]),D-=M,D===0){Z--;const j=Math.max(Z,0);D=(0,w.getWrappedLineTrimmedLength)(R,j,this._cols)}}for(let M=0;M<R.length;M++)$[M]<s&&R[M].setCell($[M],m);let I=H-Y;for(;I-- >0;)this.ybase===0?this.y<a-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+x)-a&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+H,this.ybase+a-1)}if(b.length>0){const L=[],v=[];for(let G=0;G<this.lines.length;G++)v.push(this.lines.get(G));const R=this.lines.length;let F=R-1,U=0,$=b[U];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+x);let H=0;for(let G=Math.min(this.lines.maxLength-1,R+x-1);G>=0;G--)if($&&$.start>F+H){for(let Q=$.newLines.length-1;Q>=0;Q--)this.lines.set(G--,$.newLines[Q]);G++,L.push({index:F+1,amount:$.newLines.length}),H+=$.newLines.length,$=b[++U]}else this.lines.set(G,v[F--]);let Y=0;for(let G=L.length-1;G>=0;G--)L[G].index+=Y,this.lines.onInsertEmitter.fire(L[G]),Y+=L[G].amount;const re=Math.max(0,R+x-this.lines.maxLength);re>0&&this.lines.onTrimEmitter.fire(re)}}translateBufferLineToString(s,a,m=0,b){const x=this.lines.get(s);return x?x.translateToString(a,m,b):""}getWrappedRangeForLine(s){let a=s,m=s;for(;a>0&&this.lines.get(a).isWrapped;)a--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:a,last:m}}setupTabStops(s){for(s!=null?this.tabs[s]||(s=this.prevStop(s)):(this.tabs={},s=0);s<this._cols;s+=this._optionsService.rawOptions.tabStopWidth)this.tabs[s]=!0}prevStop(s){for(s==null&&(s=this.x);!this.tabs[--s]&&s>0;);return s>=this._cols?this._cols-1:s<0?0:s}nextStop(s){for(s==null&&(s=this.x);!this.tabs[++s]&&s<this._cols;);return s>=this._cols?this._cols-1:s<0?0:s}clearMarkers(s){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].line===s&&(this.markers[a].dispose(),this.markers.splice(a--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let s=0;s<this.markers.length;s++)this.markers[s].dispose(),this.markers.splice(s--,1);this._isClearing=!1}addMarker(s){const a=new n.Marker(s);return this.markers.push(a),a.register(this.lines.onTrim(m=>{a.line-=m,a.line<0&&a.dispose()})),a.register(this.lines.onInsert(m=>{a.line>=m.index&&(a.line+=m.amount)})),a.register(this.lines.onDelete(m=>{a.line>=m.index&&a.line<m.index+m.amount&&a.dispose(),a.line>m.index&&(a.line-=m.amount)})),a.register(a.onDispose(()=>this._removeMarker(a))),a}_removeMarker(s){this._isClearing||this.markers.splice(this.markers.indexOf(s),1)}}},8437:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const f=c(3734),y=c(511),d=c(643),g=c(482);o.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let w=0;class k{constructor(n,l,s=!1){this.isWrapped=s,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*n);const a=l||y.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]);for(let m=0;m<n;++m)this.setCell(m,a);this.length=n}get(n){const l=this._data[3*n+0],s=2097151&l;return[this._data[3*n+1],2097152&l?this._combined[n]:s?(0,g.stringFromCodePoint)(s):"",l>>22,2097152&l?this._combined[n].charCodeAt(this._combined[n].length-1):s]}set(n,l){this._data[3*n+1]=l[d.CHAR_DATA_ATTR_INDEX],l[d.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[n]=l[1],this._data[3*n+0]=2097152|n|l[d.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*n+0]=l[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|l[d.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(n){return this._data[3*n+0]>>22}hasWidth(n){return 12582912&this._data[3*n+0]}getFg(n){return this._data[3*n+1]}getBg(n){return this._data[3*n+2]}hasContent(n){return 4194303&this._data[3*n+0]}getCodePoint(n){const l=this._data[3*n+0];return 2097152&l?this._combined[n].charCodeAt(this._combined[n].length-1):2097151&l}isCombined(n){return 2097152&this._data[3*n+0]}getString(n){const l=this._data[3*n+0];return 2097152&l?this._combined[n]:2097151&l?(0,g.stringFromCodePoint)(2097151&l):""}isProtected(n){return 536870912&this._data[3*n+2]}loadCell(n,l){return w=3*n,l.content=this._data[w+0],l.fg=this._data[w+1],l.bg=this._data[w+2],2097152&l.content&&(l.combinedData=this._combined[n]),268435456&l.bg&&(l.extended=this._extendedAttrs[n]),l}setCell(n,l){2097152&l.content&&(this._combined[n]=l.combinedData),268435456&l.bg&&(this._extendedAttrs[n]=l.extended),this._data[3*n+0]=l.content,this._data[3*n+1]=l.fg,this._data[3*n+2]=l.bg}setCellFromCodepoint(n,l,s,a){268435456&a.bg&&(this._extendedAttrs[n]=a.extended),this._data[3*n+0]=l|s<<22,this._data[3*n+1]=a.fg,this._data[3*n+2]=a.bg}addCodepointToCell(n,l,s){let a=this._data[3*n+0];2097152&a?this._combined[n]+=(0,g.stringFromCodePoint)(l):2097151&a?(this._combined[n]=(0,g.stringFromCodePoint)(2097151&a)+(0,g.stringFromCodePoint)(l),a&=-2097152,a|=2097152):a=l|4194304,s&&(a&=-12582913,a|=s<<22),this._data[3*n+0]=a}insertCells(n,l,s){if((n%=this.length)&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,s),l<this.length-n){const a=new y.CellData;for(let m=this.length-n-l-1;m>=0;--m)this.setCell(n+l+m,this.loadCell(n+m,a));for(let m=0;m<l;++m)this.setCell(n+m,s)}else for(let a=n;a<this.length;++a)this.setCell(a,s);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,s)}deleteCells(n,l,s){if(n%=this.length,l<this.length-n){const a=new y.CellData;for(let m=0;m<this.length-n-l;++m)this.setCell(n+m,this.loadCell(n+l+m,a));for(let m=this.length-l;m<this.length;++m)this.setCell(m,s)}else for(let a=n;a<this.length;++a)this.setCell(a,s);n&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,s),this.getWidth(n)!==0||this.hasContent(n)||this.setCellFromCodepoint(n,0,1,s)}replaceCells(n,l,s,a=!1){if(a)for(n&&this.getWidth(n-1)===2&&!this.isProtected(n-1)&&this.setCellFromCodepoint(n-1,0,1,s),l<this.length&&this.getWidth(l-1)===2&&!this.isProtected(l)&&this.setCellFromCodepoint(l,0,1,s);n<l&&n<this.length;)this.isProtected(n)||this.setCell(n,s),n++;else for(n&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,s),l<this.length&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l,0,1,s);n<l&&n<this.length;)this.setCell(n++,s)}resize(n,l){if(n===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const s=3*n;if(n>this.length){if(this._data.buffer.byteLength>=4*s)this._data=new Uint32Array(this._data.buffer,0,s);else{const a=new Uint32Array(s);a.set(this._data),this._data=a}for(let a=this.length;a<n;++a)this.setCell(a,l)}else{this._data=this._data.subarray(0,s);const a=Object.keys(this._combined);for(let b=0;b<a.length;b++){const x=parseInt(a[b],10);x>=n&&delete this._combined[x]}const m=Object.keys(this._extendedAttrs);for(let b=0;b<m.length;b++){const x=parseInt(m[b],10);x>=n&&delete this._extendedAttrs[x]}}return this.length=n,4*s*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const n=new Uint32Array(this._data.length);return n.set(this._data),this._data=n,1}return 0}fill(n,l=!1){if(l)for(let s=0;s<this.length;++s)this.isProtected(s)||this.setCell(s,n);else{this._combined={},this._extendedAttrs={};for(let s=0;s<this.length;++s)this.setCell(s,n)}}copyFrom(n){this.length!==n.length?this._data=new Uint32Array(n._data):this._data.set(n._data),this.length=n.length,this._combined={};for(const l in n._combined)this._combined[l]=n._combined[l];this._extendedAttrs={};for(const l in n._extendedAttrs)this._extendedAttrs[l]=n._extendedAttrs[l];this.isWrapped=n.isWrapped}clone(){const n=new k(0);n._data=new Uint32Array(this._data),n.length=this.length;for(const l in this._combined)n._combined[l]=this._combined[l];for(const l in this._extendedAttrs)n._extendedAttrs[l]=this._extendedAttrs[l];return n.isWrapped=this.isWrapped,n}getTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0])return n+(this._data[3*n+0]>>22);return 0}getNoBgTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0]||50331648&this._data[3*n+2])return n+(this._data[3*n+0]>>22);return 0}copyCellsFrom(n,l,s,a,m){const b=n._data;if(m)for(let L=a-1;L>=0;L--){for(let v=0;v<3;v++)this._data[3*(s+L)+v]=b[3*(l+L)+v];268435456&b[3*(l+L)+2]&&(this._extendedAttrs[s+L]=n._extendedAttrs[l+L])}else for(let L=0;L<a;L++){for(let v=0;v<3;v++)this._data[3*(s+L)+v]=b[3*(l+L)+v];268435456&b[3*(l+L)+2]&&(this._extendedAttrs[s+L]=n._extendedAttrs[l+L])}const x=Object.keys(n._combined);for(let L=0;L<x.length;L++){const v=parseInt(x[L],10);v>=l&&(this._combined[v-l+s]=n._combined[v])}}translateToString(n,l,s,a){l=l??0,s=s??this.length,n&&(s=Math.min(s,this.getTrimmedLength())),a&&(a.length=0);let m="";for(;l<s;){const b=this._data[3*l+0],x=2097151&b,L=2097152&b?this._combined[l]:x?(0,g.stringFromCodePoint)(x):d.WHITESPACE_CELL_CHAR;if(m+=L,a)for(let v=0;v<L.length;++v)a.push(l);l+=b>>22||1}return a&&a.push(l),m}}o.BufferLine=k},4841:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(c,f){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return f*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(A,o)=>{function c(f,y,d){if(y===f.length-1)return f[y].getTrimmedLength();const g=!f[y].hasContent(d-1)&&f[y].getWidth(d-1)===1,w=f[y+1].getWidth(0)===2;return g&&w?d-1:d}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(f,y,d,g,w){const k=[];for(let p=0;p<f.length-1;p++){let n=p,l=f.get(++n);if(!l.isWrapped)continue;const s=[f.get(p)];for(;n<f.length&&l.isWrapped;)s.push(l),l=f.get(++n);if(g>=p&&g<n){p+=s.length-1;continue}let a=0,m=c(s,a,y),b=1,x=0;for(;b<s.length;){const v=c(s,b,y),R=v-x,F=d-m,U=Math.min(R,F);s[a].copyCellsFrom(s[b],x,m,U,!1),m+=U,m===d&&(a++,m=0),x+=U,x===v&&(b++,x=0),m===0&&a!==0&&s[a-1].getWidth(d-1)===2&&(s[a].copyCellsFrom(s[a-1],d-1,m++,1,!1),s[a-1].setCell(d-1,w))}s[a].replaceCells(m,d,w);let L=0;for(let v=s.length-1;v>0&&(v>a||s[v].getTrimmedLength()===0);v--)L++;L>0&&(k.push(p+s.length-L),k.push(L)),p+=s.length-1}return k},o.reflowLargerCreateNewLayout=function(f,y){const d=[];let g=0,w=y[g],k=0;for(let p=0;p<f.length;p++)if(w===p){const n=y[++g];f.onDeleteEmitter.fire({index:p-k,amount:n}),p+=n-1,k+=n,w=y[++g]}else d.push(p);return{layout:d,countRemoved:k}},o.reflowLargerApplyNewLayout=function(f,y){const d=[];for(let g=0;g<y.length;g++)d.push(f.get(y[g]));for(let g=0;g<d.length;g++)f.set(g,d[g]);f.length=y.length},o.reflowSmallerGetNewLineLengths=function(f,y,d){const g=[],w=f.map((l,s)=>c(f,s,y)).reduce((l,s)=>l+s);let k=0,p=0,n=0;for(;n<w;){if(w-n<d){g.push(w-n);break}k+=d;const l=c(f,p,y);k>l&&(k-=l,p++);const s=f[p].getWidth(k-1)===2;s&&k--;const a=s?d-1:d;g.push(a),n+=a}return g},o.getWrappedLineTrimmedLength=c},5295:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const f=c(8460),y=c(844),d=c(9092);class g extends y.Disposable{constructor(k,p){super(),this._optionsService=k,this._bufferService=p,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,p){this._normal.resize(k,p),this._alt.resize(k,p),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}o.BufferSet=g},511:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const f=c(482),y=c(643),d=c(3734);class g extends d.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new d.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const p=new g;return p.setFromCharData(k),p}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[y.CHAR_DATA_ATTR_INDEX],this.bg=0;let p=!1;if(k[y.CHAR_DATA_CHAR_INDEX].length>2)p=!0;else if(k[y.CHAR_DATA_CHAR_INDEX].length===2){const n=k[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){const l=k[y.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=l&&l<=57343?this.content=1024*(n-55296)+l-56320+65536|k[y.CHAR_DATA_WIDTH_INDEX]<<22:p=!0}else p=!0}else this.content=k[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[y.CHAR_DATA_WIDTH_INDEX]<<22;p&&(this.combinedData=k[y.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[y.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=g},643:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const f=c(8460),y=c(844);class d{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=d._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,y.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}o.Marker=d,d._nextId=1},7116:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(A,o)=>{var c,f,y;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(d){d.NUL="\0",d.SOH="",d.STX="",d.ETX="",d.EOT="",d.ENQ="",d.ACK="",d.BEL="\x07",d.BS="\b",d.HT="	",d.LF=`
`,d.VT="\v",d.FF="\f",d.CR="\r",d.SO="",d.SI="",d.DLE="",d.DC1="",d.DC2="",d.DC3="",d.DC4="",d.NAK="",d.SYN="",d.ETB="",d.CAN="",d.EM="",d.SUB="",d.ESC="\x1B",d.FS="",d.GS="",d.RS="",d.US="",d.SP=" ",d.DEL=""}(c||(o.C0=c={})),function(d){d.PAD="",d.HOP="",d.BPH="",d.NBH="",d.IND="",d.NEL="",d.SSA="",d.ESA="",d.HTS="",d.HTJ="",d.VTS="",d.PLD="",d.PLU="",d.RI="",d.SS2="",d.SS3="",d.DCS="",d.PU1="",d.PU2="",d.STS="",d.CCH="",d.MW="",d.SPA="",d.EPA="",d.SOS="",d.SGCI="",d.SCI="",d.CSI="",d.ST="",d.OSC="",d.PM="",d.APC=""}(f||(o.C1=f={})),function(d){d.ST=`${c.ESC}\\`}(y||(o.C1_ESCAPED=y={}))},7399:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const f=c(2584),y={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(d,g,w,k){const p={type:0,cancel:!1,key:void 0},n=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?p.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?p.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?p.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(p.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:p.key=d.ctrlKey?"\b":f.C0.DEL,d.altKey&&(p.key=f.C0.ESC+p.key);break;case 9:if(d.shiftKey){p.key=f.C0.ESC+"[Z";break}p.key=f.C0.HT,p.cancel=!0;break;case 13:p.key=d.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,p.cancel=!0;break;case 27:p.key=f.C0.ESC,d.altKey&&(p.key=f.C0.ESC+f.C0.ESC),p.cancel=!0;break;case 37:if(d.metaKey)break;n?(p.key=f.C0.ESC+"[1;"+(n+1)+"D",p.key===f.C0.ESC+"[1;3D"&&(p.key=f.C0.ESC+(w?"b":"[1;5D"))):p.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(d.metaKey)break;n?(p.key=f.C0.ESC+"[1;"+(n+1)+"C",p.key===f.C0.ESC+"[1;3C"&&(p.key=f.C0.ESC+(w?"f":"[1;5C"))):p.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(d.metaKey)break;n?(p.key=f.C0.ESC+"[1;"+(n+1)+"A",w||p.key!==f.C0.ESC+"[1;3A"||(p.key=f.C0.ESC+"[1;5A")):p.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(d.metaKey)break;n?(p.key=f.C0.ESC+"[1;"+(n+1)+"B",w||p.key!==f.C0.ESC+"[1;3B"||(p.key=f.C0.ESC+"[1;5B")):p.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(p.key=f.C0.ESC+"[2~");break;case 46:p.key=n?f.C0.ESC+"[3;"+(n+1)+"~":f.C0.ESC+"[3~";break;case 36:p.key=n?f.C0.ESC+"[1;"+(n+1)+"H":g?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:p.key=n?f.C0.ESC+"[1;"+(n+1)+"F":g?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:d.shiftKey?p.type=2:d.ctrlKey?p.key=f.C0.ESC+"[5;"+(n+1)+"~":p.key=f.C0.ESC+"[5~";break;case 34:d.shiftKey?p.type=3:d.ctrlKey?p.key=f.C0.ESC+"[6;"+(n+1)+"~":p.key=f.C0.ESC+"[6~";break;case 112:p.key=n?f.C0.ESC+"[1;"+(n+1)+"P":f.C0.ESC+"OP";break;case 113:p.key=n?f.C0.ESC+"[1;"+(n+1)+"Q":f.C0.ESC+"OQ";break;case 114:p.key=n?f.C0.ESC+"[1;"+(n+1)+"R":f.C0.ESC+"OR";break;case 115:p.key=n?f.C0.ESC+"[1;"+(n+1)+"S":f.C0.ESC+"OS";break;case 116:p.key=n?f.C0.ESC+"[15;"+(n+1)+"~":f.C0.ESC+"[15~";break;case 117:p.key=n?f.C0.ESC+"[17;"+(n+1)+"~":f.C0.ESC+"[17~";break;case 118:p.key=n?f.C0.ESC+"[18;"+(n+1)+"~":f.C0.ESC+"[18~";break;case 119:p.key=n?f.C0.ESC+"[19;"+(n+1)+"~":f.C0.ESC+"[19~";break;case 120:p.key=n?f.C0.ESC+"[20;"+(n+1)+"~":f.C0.ESC+"[20~";break;case 121:p.key=n?f.C0.ESC+"[21;"+(n+1)+"~":f.C0.ESC+"[21~";break;case 122:p.key=n?f.C0.ESC+"[23;"+(n+1)+"~":f.C0.ESC+"[23~";break;case 123:p.key=n?f.C0.ESC+"[24;"+(n+1)+"~":f.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(w&&!k||!d.altKey||d.metaKey)!w||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?p.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(p.key=f.C0.US),d.key==="@"&&(p.key=f.C0.NUL)):d.keyCode===65&&(p.type=1);else{const l=y[d.keyCode],s=l==null?void 0:l[d.shiftKey?1:0];if(s)p.key=f.C0.ESC+s;else if(d.keyCode>=65&&d.keyCode<=90){const a=d.ctrlKey?d.keyCode-64:d.keyCode+32;let m=String.fromCharCode(a);d.shiftKey&&(m=m.toUpperCase()),p.key=f.C0.ESC+m}else if(d.keyCode===32)p.key=f.C0.ESC+(d.ctrlKey?f.C0.NUL:" ");else if(d.key==="Dead"&&d.code.startsWith("Key")){let a=d.code.slice(3,4);d.shiftKey||(a=a.toLowerCase()),p.key=f.C0.ESC+a,p.cancel=!0}}else d.keyCode>=65&&d.keyCode<=90?p.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?p.key=f.C0.NUL:d.keyCode>=51&&d.keyCode<=55?p.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?p.key=f.C0.DEL:d.keyCode===219?p.key=f.C0.ESC:d.keyCode===220?p.key=f.C0.FS:d.keyCode===221&&(p.key=f.C0.GS)}return p}},482:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},o.utf32ToString=function(c,f=0,y=c.length){let d="";for(let g=f;g<y;++g){let w=c[g];w>65535?(w-=65536,d+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):d+=String.fromCharCode(w)}return d},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,f){const y=c.length;if(!y)return 0;let d=0,g=0;if(this._interim){const w=c.charCodeAt(g++);56320<=w&&w<=57343?f[d++]=1024*(this._interim-55296)+w-56320+65536:(f[d++]=this._interim,f[d++]=w),this._interim=0}for(let w=g;w<y;++w){const k=c.charCodeAt(w);if(55296<=k&&k<=56319){if(++w>=y)return this._interim=k,d;const p=c.charCodeAt(w);56320<=p&&p<=57343?f[d++]=1024*(k-55296)+p-56320+65536:(f[d++]=k,f[d++]=p)}else k!==65279&&(f[d++]=k)}return d}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,f){const y=c.length;if(!y)return 0;let d,g,w,k,p=0,n=0,l=0;if(this.interim[0]){let m=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;let x,L=0;for(;(x=63&this.interim[++L])&&L<4;)b<<=6,b|=x;const v=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,R=v-L;for(;l<R;){if(l>=y)return 0;if(x=c[l++],(192&x)!=128){l--,m=!0;break}this.interim[L++]=x,b<<=6,b|=63&x}m||(v===2?b<128?l--:f[p++]=b:v===3?b<2048||b>=55296&&b<=57343||b===65279||(f[p++]=b):b<65536||b>1114111||(f[p++]=b)),this.interim.fill(0)}const s=y-4;let a=l;for(;a<y;){for(;!(!(a<s)||128&(d=c[a])||128&(g=c[a+1])||128&(w=c[a+2])||128&(k=c[a+3]));)f[p++]=d,f[p++]=g,f[p++]=w,f[p++]=k,a+=4;if(d=c[a++],d<128)f[p++]=d;else if((224&d)==192){if(a>=y)return this.interim[0]=d,p;if(g=c[a++],(192&g)!=128){a--;continue}if(n=(31&d)<<6|63&g,n<128){a--;continue}f[p++]=n}else if((240&d)==224){if(a>=y)return this.interim[0]=d,p;if(g=c[a++],(192&g)!=128){a--;continue}if(a>=y)return this.interim[0]=d,this.interim[1]=g,p;if(w=c[a++],(192&w)!=128){a--;continue}if(n=(15&d)<<12|(63&g)<<6|63&w,n<2048||n>=55296&&n<=57343||n===65279)continue;f[p++]=n}else if((248&d)==240){if(a>=y)return this.interim[0]=d,p;if(g=c[a++],(192&g)!=128){a--;continue}if(a>=y)return this.interim[0]=d,this.interim[1]=g,p;if(w=c[a++],(192&w)!=128){a--;continue}if(a>=y)return this.interim[0]=d,this.interim[1]=g,this.interim[2]=w,p;if(k=c[a++],(192&k)!=128){a--;continue}if(n=(7&d)<<18|(63&g)<<12|(63&w)<<6|63&k,n<65536||n>1114111)continue;f[p++]=n}}return p}}},225:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const f=c(1480),y=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],d=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;o.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let w=0;w<y.length;++w)g.fill(0,y[w][0],y[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?g[w]:function(k,p){let n,l=0,s=p.length-1;if(k<p[0][0]||k>p[s][1])return!1;for(;s>=l;)if(n=l+s>>1,k>p[n][1])l=n+1;else{if(!(k<p[n][0]))return!0;s=n-1}return!1}(w,d)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}charProperties(w,k){let p=this.wcwidth(w),n=p===0&&k!==0;if(n){const l=f.UnicodeService.extractWidth(k);l===0?n=!1:l>p&&(p=l)}return f.UnicodeService.createPropertyValue(0,p,n)}}},5981:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const f=c(8460),y=c(844);class d extends y.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let p;for(this._isSyncWriting=!0;p=this._writeBuffer.shift();){this._action(p);const n=this._callbacks.shift();n&&n()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(k),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(k)}_innerWrite(w=0,k=!0){const p=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const n=this._writeBuffer[this._bufferOffset],l=this._action(n,k);if(l){const a=m=>Date.now()-p>=12?setTimeout(()=>this._innerWrite(0,m)):this._innerWrite(p,m);return void l.catch(m=>(queueMicrotask(()=>{throw m}),Promise.resolve(!1))).then(a)}const s=this._callbacks[this._bufferOffset];if(s&&s(),this._bufferOffset++,this._pendingData-=n.length,Date.now()-p>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=d},5941:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function y(d,g){const w=d.toString(16),k=w.length<2?"0"+w:w;switch(g){case 4:return w[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}o.parseColor=function(d){if(!d)return;let g=d.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const w=c.exec(g);if(w){const k=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/k*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/k*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/k*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),f.exec(g)&&[3,6,9,12].includes(g.length))){const w=g.length/3,k=[0,0,0];for(let p=0;p<3;++p){const n=parseInt(g.slice(w*p,w*p+w),16);k[p]=w===1?n<<4:w===2?n:w===3?n>>4:n>>8}return k}},o.toRgbString=function(d,g=16){const[w,k,p]=d;return`rgb:${y(w,g)}/${y(k,g)}/${y(p,g)}`}},5770:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const f=c(482),y=c(8742),d=c(5770),g=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(k,p){this._handlers[k]===void 0&&(this._handlers[k]=[]);const n=this._handlers[k];return n.push(p),{dispose:()=>{const l=n.indexOf(p);l!==-1&&n.splice(l,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(k,p){if(this.reset(),this._ident=k,this._active=this._handlers[k]||g,this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(p);else this._handlerFb(this._ident,"HOOK",p)}put(k,p,n){if(this._active.length)for(let l=this._active.length-1;l>=0;l--)this._active[l].put(k,p,n);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(k,p,n))}unhook(k,p=!0){if(this._active.length){let n=!1,l=this._active.length-1,s=!1;if(this._stack.paused&&(l=this._stack.loopPosition-1,n=p,s=this._stack.fallThrough,this._stack.paused=!1),!s&&n===!1){for(;l>=0&&(n=this._active[l].unhook(k),n!==!0);l--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=l,this._stack.fallThrough=!1,n;l--}for(;l>=0;l--)if(n=this._active[l].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=l,this._stack.fallThrough=!0,n}else this._handlerFb(this._ident,"UNHOOK",k);this._active=g,this._ident=0}};const w=new y.Params;w.addParam(0),o.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=w,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():w,this._data="",this._hitLimit=!1}put(k,p,n){this._hitLimit||(this._data+=(0,f.utf32ToString)(k,p,n),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let p=!1;if(this._hitLimit)p=!1;else if(k&&(p=this._handler(this._data,this._params),p instanceof Promise))return p.then(n=>(this._params=w,this._data="",this._hitLimit=!1,n));return this._params=w,this._data="",this._hitLimit=!1,p}}},2015:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const f=c(844),y=c(8742),d=c(6242),g=c(6351);class w{constructor(l){this.table=new Uint8Array(l)}setDefault(l,s){this.table.fill(l<<4|s)}add(l,s,a,m){this.table[s<<8|l]=a<<4|m}addMany(l,s,a,m){for(let b=0;b<l.length;b++)this.table[s<<8|l[b]]=a<<4|m}}o.TransitionTable=w;const k=160;o.VT500_TRANSITION_TABLE=function(){const n=new w(4095),l=Array.apply(null,Array(256)).map((L,v)=>v),s=(L,v)=>l.slice(L,v),a=s(32,127),m=s(0,24);m.push(25),m.push.apply(m,s(28,32));const b=s(0,14);let x;for(x in n.setDefault(1,0),n.addMany(a,0,2,0),b)n.addMany([24,26,153,154],x,3,0),n.addMany(s(128,144),x,3,0),n.addMany(s(144,152),x,3,0),n.add(156,x,0,0),n.add(27,x,11,1),n.add(157,x,4,8),n.addMany([152,158,159],x,0,7),n.add(155,x,11,3),n.add(144,x,11,9);return n.addMany(m,0,3,0),n.addMany(m,1,3,1),n.add(127,1,0,1),n.addMany(m,8,0,8),n.addMany(m,3,3,3),n.add(127,3,0,3),n.addMany(m,4,3,4),n.add(127,4,0,4),n.addMany(m,6,3,6),n.addMany(m,5,3,5),n.add(127,5,0,5),n.addMany(m,2,3,2),n.add(127,2,0,2),n.add(93,1,4,8),n.addMany(a,8,5,8),n.add(127,8,5,8),n.addMany([156,27,24,26,7],8,6,0),n.addMany(s(28,32),8,0,8),n.addMany([88,94,95],1,0,7),n.addMany(a,7,0,7),n.addMany(m,7,0,7),n.add(156,7,0,0),n.add(127,7,0,7),n.add(91,1,11,3),n.addMany(s(64,127),3,7,0),n.addMany(s(48,60),3,8,4),n.addMany([60,61,62,63],3,9,4),n.addMany(s(48,60),4,8,4),n.addMany(s(64,127),4,7,0),n.addMany([60,61,62,63],4,0,6),n.addMany(s(32,64),6,0,6),n.add(127,6,0,6),n.addMany(s(64,127),6,0,0),n.addMany(s(32,48),3,9,5),n.addMany(s(32,48),5,9,5),n.addMany(s(48,64),5,0,6),n.addMany(s(64,127),5,7,0),n.addMany(s(32,48),4,9,5),n.addMany(s(32,48),1,9,2),n.addMany(s(32,48),2,9,2),n.addMany(s(48,127),2,10,0),n.addMany(s(48,80),1,10,0),n.addMany(s(81,88),1,10,0),n.addMany([89,90,92],1,10,0),n.addMany(s(96,127),1,10,0),n.add(80,1,11,9),n.addMany(m,9,0,9),n.add(127,9,0,9),n.addMany(s(28,32),9,0,9),n.addMany(s(32,48),9,9,12),n.addMany(s(48,60),9,8,10),n.addMany([60,61,62,63],9,9,10),n.addMany(m,11,0,11),n.addMany(s(32,128),11,0,11),n.addMany(s(28,32),11,0,11),n.addMany(m,10,0,10),n.add(127,10,0,10),n.addMany(s(28,32),10,0,10),n.addMany(s(48,60),10,8,10),n.addMany([60,61,62,63],10,0,11),n.addMany(s(32,48),10,9,12),n.addMany(m,12,0,12),n.add(127,12,0,12),n.addMany(s(28,32),12,0,12),n.addMany(s(32,48),12,9,12),n.addMany(s(48,64),12,0,11),n.addMany(s(64,127),12,12,13),n.addMany(s(64,127),10,12,13),n.addMany(s(64,127),9,12,13),n.addMany(m,13,13,13),n.addMany(a,13,13,13),n.add(127,13,0,13),n.addMany([27,156,24,26],13,14,0),n.add(k,0,2,0),n.add(k,8,5,8),n.add(k,6,0,6),n.add(k,11,0,11),n.add(k,13,13,13),n}();class p extends f.Disposable{constructor(l=o.VT500_TRANSITION_TABLE){super(),this._transitions=l,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new y.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(s,a,m)=>{},this._executeHandlerFb=s=>{},this._csiHandlerFb=(s,a)=>{},this._escHandlerFb=s=>{},this._errorHandlerFb=s=>s,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new d.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(l,s=[64,126]){let a=0;if(l.prefix){if(l.prefix.length>1)throw new Error("only one byte as prefix supported");if(a=l.prefix.charCodeAt(0),a&&60>a||a>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(l.intermediates){if(l.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let b=0;b<l.intermediates.length;++b){const x=l.intermediates.charCodeAt(b);if(32>x||x>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");a<<=8,a|=x}}if(l.final.length!==1)throw new Error("final must be a single byte");const m=l.final.charCodeAt(0);if(s[0]>m||m>s[1])throw new Error(`final must be in range ${s[0]} .. ${s[1]}`);return a<<=8,a|=m,a}identToString(l){const s=[];for(;l;)s.push(String.fromCharCode(255&l)),l>>=8;return s.reverse().join("")}setPrintHandler(l){this._printHandler=l}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(l,s){const a=this._identifier(l,[48,126]);this._escHandlers[a]===void 0&&(this._escHandlers[a]=[]);const m=this._escHandlers[a];return m.push(s),{dispose:()=>{const b=m.indexOf(s);b!==-1&&m.splice(b,1)}}}clearEscHandler(l){this._escHandlers[this._identifier(l,[48,126])]&&delete this._escHandlers[this._identifier(l,[48,126])]}setEscHandlerFallback(l){this._escHandlerFb=l}setExecuteHandler(l,s){this._executeHandlers[l.charCodeAt(0)]=s}clearExecuteHandler(l){this._executeHandlers[l.charCodeAt(0)]&&delete this._executeHandlers[l.charCodeAt(0)]}setExecuteHandlerFallback(l){this._executeHandlerFb=l}registerCsiHandler(l,s){const a=this._identifier(l);this._csiHandlers[a]===void 0&&(this._csiHandlers[a]=[]);const m=this._csiHandlers[a];return m.push(s),{dispose:()=>{const b=m.indexOf(s);b!==-1&&m.splice(b,1)}}}clearCsiHandler(l){this._csiHandlers[this._identifier(l)]&&delete this._csiHandlers[this._identifier(l)]}setCsiHandlerFallback(l){this._csiHandlerFb=l}registerDcsHandler(l,s){return this._dcsParser.registerHandler(this._identifier(l),s)}clearDcsHandler(l){this._dcsParser.clearHandler(this._identifier(l))}setDcsHandlerFallback(l){this._dcsParser.setHandlerFallback(l)}registerOscHandler(l,s){return this._oscParser.registerHandler(l,s)}clearOscHandler(l){this._oscParser.clearHandler(l)}setOscHandlerFallback(l){this._oscParser.setHandlerFallback(l)}setErrorHandler(l){this._errorHandler=l}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(l,s,a,m,b){this._parseStack.state=l,this._parseStack.handlers=s,this._parseStack.handlerPos=a,this._parseStack.transition=m,this._parseStack.chunkPos=b}parse(l,s,a){let m,b=0,x=0,L=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,L=this._parseStack.chunkPos+1;else{if(a===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const v=this._parseStack.handlers;let R=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(a===!1&&R>-1){for(;R>=0&&(m=v[R](this._params),m!==!0);R--)if(m instanceof Promise)return this._parseStack.handlerPos=R,m}this._parseStack.handlers=[];break;case 4:if(a===!1&&R>-1){for(;R>=0&&(m=v[R](),m!==!0);R--)if(m instanceof Promise)return this._parseStack.handlerPos=R,m}this._parseStack.handlers=[];break;case 6:if(b=l[this._parseStack.chunkPos],m=this._dcsParser.unhook(b!==24&&b!==26,a),m)return m;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=l[this._parseStack.chunkPos],m=this._oscParser.end(b!==24&&b!==26,a),m)return m;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,L=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let v=L;v<s;++v){switch(b=l[v],x=this._transitions.table[this.currentState<<8|(b<160?b:k)],x>>4){case 2:for(let H=v+1;;++H){if(H>=s||(b=l[H])<32||b>126&&b<k){this._printHandler(l,v,H),v=H-1;break}if(++H>=s||(b=l[H])<32||b>126&&b<k){this._printHandler(l,v,H),v=H-1;break}if(++H>=s||(b=l[H])<32||b>126&&b<k){this._printHandler(l,v,H),v=H-1;break}if(++H>=s||(b=l[H])<32||b>126&&b<k){this._printHandler(l,v,H),v=H-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:v,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const R=this._csiHandlers[this._collect<<8|b];let F=R?R.length-1:-1;for(;F>=0&&(m=R[F](this._params),m!==!0);F--)if(m instanceof Promise)return this._preserveStack(3,R,F,x,v),m;F<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingJoinState=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++v<s&&(b=l[v])>47&&b<60);v--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:const U=this._escHandlers[this._collect<<8|b];let $=U?U.length-1:-1;for(;$>=0&&(m=U[$](),m!==!0);$--)if(m instanceof Promise)return this._preserveStack(4,U,$,x,v),m;$<0&&this._escHandlerFb(this._collect<<8|b),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(let H=v+1;;++H)if(H>=s||(b=l[H])===24||b===26||b===27||b>127&&b<k){this._dcsParser.put(l,v,H),v=H-1;break}break;case 14:if(m=this._dcsParser.unhook(b!==24&&b!==26),m)return this._preserveStack(6,[],0,x,v),m;b===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let H=v+1;;H++)if(H>=s||(b=l[H])<32||b>127&&b<k){this._oscParser.put(l,v,H),v=H-1;break}break;case 6:if(m=this._oscParser.end(b!==24&&b!==26),m)return this._preserveStack(5,[],0,x,v),m;b===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&x}}}o.EscapeSequenceParser=p},6242:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const f=c(5770),y=c(482),d=[];o.OscParser=class{constructor(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,w){this._handlers[g]===void 0&&(this._handlers[g]=[]);const k=this._handlers[g];return k.push(w),{dispose:()=>{const p=k.indexOf(w);p!==-1&&k.splice(p,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||d,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,w,k){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(g,w,k);else this._handlerFb(this._id,"PUT",(0,y.utf32ToString)(g,w,k))}start(){this.reset(),this._state=1}put(g,w,k){if(this._state!==3){if(this._state===1)for(;w<k;){const p=g[w++];if(p===59){this._state=2,this._start();break}if(p<48||57<p)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+p-48}this._state===2&&k-w>0&&this._put(g,w,k)}}end(g,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,p=this._active.length-1,n=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,k=w,n=this._stack.fallThrough,this._stack.paused=!1),!n&&k===!1){for(;p>=0&&(k=this._active[p].end(g),k!==!0);p--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,k;p--}for(;p>=0;p--)if(k=this._active[p].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",g);this._active=d,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,w,k){this._hitLimit||(this._data+=(0,y.utf32ToString)(g,w,k),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let w=!1;if(this._hitLimit)w=!1;else if(g&&(w=this._handler(this._data),w instanceof Promise))return w.then(k=>(this._data="",this._hitLimit=!1,k));return this._data="",this._hitLimit=!1,w}}},8742:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const c=2147483647;class f{static fromArray(d){const g=new f;if(!d.length)return g;for(let w=Array.isArray(d[0])?1:0;w<d.length;++w){const k=d[w];if(Array.isArray(k))for(let p=0;p<k.length;++p)g.addSubParam(k[p]);else g.addParam(k)}return g}constructor(d=32,g=32){if(this.maxLength=d,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const d=new f(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d}toArray(){const d=[];for(let g=0;g<this.length;++g){d.push(this.params[g]);const w=this._subParamsIdx[g]>>8,k=255&this._subParamsIdx[g];k-w>0&&d.push(Array.prototype.slice.call(this._subParams,w,k))}return d}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>c?c:d}}addSubParam(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>c?c:d,this._subParamsIdx[this.length-1]++}}hasSubParams(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0}getSubParams(d){const g=this._subParamsIdx[d]>>8,w=255&this._subParamsIdx[d];return w-g>0?this._subParams.subarray(g,w):null}getSubParamsAll(){const d={};for(let g=0;g<this.length;++g){const w=this._subParamsIdx[g]>>8,k=255&this._subParamsIdx[g];k-w>0&&(d[g]=this._subParams.slice(w,k))}return d}addDigit(d){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,k=w[g-1];w[g-1]=~k?Math.min(10*k+d,c):d}}o.Params=f},5741:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,f){const y={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(y),f.dispose=()=>this._wrappedAddonDispose(y),f.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let f=-1;for(let y=0;y<this._addons.length;y++)if(this._addons[y]===c){f=y;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(f,1)}}},8771:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const f=c(3785),y=c(511);o.BufferApiView=class{constructor(d,g){this._buffer=d,this.type=g}init(d){return this._buffer=d,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(d){const g=this._buffer.lines.get(d);if(g)return new f.BufferLineApiView(g)}getNullCell(){return new y.CellData}}},3785:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const f=c(511);o.BufferLineApiView=class{constructor(y){this._line=y}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(y,d){if(!(y<0||y>=this._line.length))return d?(this._line.loadCell(y,d),d):this._line.loadCell(y,new f.CellData)}translateToString(y,d,g){return this._line.translateToString(y,d,g)}}},8285:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const f=c(8771),y=c(8460),d=c(844);class g extends d.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new y.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=g},7975:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,f){return this._core.registerCsiHandler(c,y=>f(y.toArray()))}addCsiHandler(c,f){return this.registerCsiHandler(c,f)}registerDcsHandler(c,f){return this._core.registerDcsHandler(c,(y,d)=>f(y,d.toArray()))}addDcsHandler(c,f){return this.registerDcsHandler(c,f)}registerEscHandler(c,f){return this._core.registerEscHandler(c,f)}addEscHandler(c,f){return this.registerEscHandler(c,f)}registerOscHandler(c,f){return this._core.registerOscHandler(c,f)}addOscHandler(c,f){return this.registerOscHandler(c,f)}}},7090:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(A,o,c){var f=this&&this.__decorate||function(n,l,s,a){var m,b=arguments.length,x=b<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,s):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(n,l,s,a);else for(var L=n.length-1;L>=0;L--)(m=n[L])&&(x=(b<3?m(x):b>3?m(l,s,x):m(l,s))||x);return b>3&&x&&Object.defineProperty(l,s,x),x},y=this&&this.__param||function(n,l){return function(s,a){l(s,a,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const d=c(8460),g=c(844),w=c(5295),k=c(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let p=o.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(n){super(),this.isUserScrolling=!1,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(n.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(n.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(n,this))}resize(n,l){this.cols=n,this.rows=l,this.buffers.resize(n,l),this._onResize.fire({cols:n,rows:l})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(n,l=!1){const s=this.buffer;let a;a=this._cachedBlankLine,a&&a.length===this.cols&&a.getFg(0)===n.fg&&a.getBg(0)===n.bg||(a=s.getBlankLine(n,l),this._cachedBlankLine=a),a.isWrapped=l;const m=s.ybase+s.scrollTop,b=s.ybase+s.scrollBottom;if(s.scrollTop===0){const x=s.lines.isFull;b===s.lines.length-1?x?s.lines.recycle().copyFrom(a):s.lines.push(a.clone()):s.lines.splice(b+1,0,a.clone()),x?this.isUserScrolling&&(s.ydisp=Math.max(s.ydisp-1,0)):(s.ybase++,this.isUserScrolling||s.ydisp++)}else{const x=b-m+1;s.lines.shiftElements(m+1,x-1,-1),s.lines.set(b,a.clone())}this.isUserScrolling||(s.ydisp=s.ybase),this._onScroll.fire(s.ydisp)}scrollLines(n,l,s){const a=this.buffer;if(n<0){if(a.ydisp===0)return;this.isUserScrolling=!0}else n+a.ydisp>=a.ybase&&(this.isUserScrolling=!1);const m=a.ydisp;a.ydisp=Math.max(Math.min(a.ydisp+n,a.ybase),0),m!==a.ydisp&&(l||this._onScroll.fire(a.ydisp))}};o.BufferService=p=f([y(0,k.IOptionsService)],p)},7994:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,f){this._charsets[c]=f,this.glevel===c&&(this.charset=f)}}},1753:function(A,o,c){var f=this&&this.__decorate||function(a,m,b,x){var L,v=arguments.length,R=v<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,b):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,m,b,x);else for(var F=a.length-1;F>=0;F--)(L=a[F])&&(R=(v<3?L(R):v>3?L(m,b,R):L(m,b))||R);return v>3&&R&&Object.defineProperty(m,b,R),R},y=this&&this.__param||function(a,m){return function(b,x){m(b,x,a)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const d=c(2585),g=c(8460),w=c(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:a=>a.button!==4&&a.action===1&&(a.ctrl=!1,a.alt=!1,a.shift=!1,!0)},VT200:{events:19,restrict:a=>a.action!==32},DRAG:{events:23,restrict:a=>a.action!==32||a.button!==3},ANY:{events:31,restrict:a=>!0}};function p(a,m){let b=(a.ctrl?16:0)|(a.shift?4:0)|(a.alt?8:0);return a.button===4?(b|=64,b|=a.action):(b|=3&a.button,4&a.button&&(b|=64),8&a.button&&(b|=128),a.action===32?b|=32:a.action!==0||m||(b|=3)),b}const n=String.fromCharCode,l={DEFAULT:a=>{const m=[p(a,!1)+32,a.col+32,a.row+32];return m[0]>255||m[1]>255||m[2]>255?"":`\x1B[M${n(m[0])}${n(m[1])}${n(m[2])}`},SGR:a=>{const m=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${p(a,!0)};${a.col};${a.row}${m}`},SGR_PIXELS:a=>{const m=a.action===0&&a.button!==4?"m":"M";return`\x1B[<${p(a,!0)};${a.x};${a.y}${m}`}};let s=o.CoreMouseService=class extends w.Disposable{constructor(a,m){super(),this._bufferService=a,this._coreService=m,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const b of Object.keys(k))this.addProtocol(b,k[b]);for(const b of Object.keys(l))this.addEncoding(b,l[b]);this.reset()}addProtocol(a,m){this._protocols[a]=m}addEncoding(a,m){this._encodings[a]=m}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(a){if(!this._protocols[a])throw new Error(`unknown protocol "${a}"`);this._activeProtocol=a,this._onProtocolChange.fire(this._protocols[a].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(a){if(!this._encodings[a])throw new Error(`unknown encoding "${a}"`);this._activeEncoding=a}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(a){if(a.col<0||a.col>=this._bufferService.cols||a.row<0||a.row>=this._bufferService.rows||a.button===4&&a.action===32||a.button===3&&a.action!==32||a.button!==4&&(a.action===2||a.action===3)||(a.col++,a.row++,a.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,a,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(a))return!1;const m=this._encodings[this._activeEncoding](a);return m&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(m):this._coreService.triggerDataEvent(m,!0)),this._lastEvent=a,!0}explainEvents(a){return{down:!!(1&a),up:!!(2&a),drag:!!(4&a),move:!!(8&a),wheel:!!(16&a)}}_equalEvents(a,m,b){if(b){if(a.x!==m.x||a.y!==m.y)return!1}else if(a.col!==m.col||a.row!==m.row)return!1;return a.button===m.button&&a.action===m.action&&a.ctrl===m.ctrl&&a.alt===m.alt&&a.shift===m.shift}};o.CoreMouseService=s=f([y(0,d.IBufferService),y(1,d.ICoreService)],s)},6975:function(A,o,c){var f=this&&this.__decorate||function(s,a,m,b){var x,L=arguments.length,v=L<3?a:b===null?b=Object.getOwnPropertyDescriptor(a,m):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(s,a,m,b);else for(var R=s.length-1;R>=0;R--)(x=s[R])&&(v=(L<3?x(v):L>3?x(a,m,v):x(a,m))||v);return L>3&&v&&Object.defineProperty(a,m,v),v},y=this&&this.__param||function(s,a){return function(m,b){a(m,b,s)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const d=c(1439),g=c(8460),w=c(844),k=c(2585),p=Object.freeze({insertMode:!1}),n=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let l=o.CoreService=class extends w.Disposable{constructor(s,a,m){super(),this._bufferService=s,this._logService=a,this._optionsService=m,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,d.clone)(p),this.decPrivateModes=(0,d.clone)(n)}reset(){this.modes=(0,d.clone)(p),this.decPrivateModes=(0,d.clone)(n)}triggerDataEvent(s,a=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;a&&this._optionsService.rawOptions.scrollOnUserInput&&m.ybase!==m.ydisp&&this._onRequestScrollToBottom.fire(),a&&this._onUserInput.fire(),this._logService.debug(`sending data "${s}"`,()=>s.split("").map(b=>b.charCodeAt(0))),this._onData.fire(s)}triggerBinaryEvent(s){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${s}"`,()=>s.split("").map(a=>a.charCodeAt(0))),this._onBinary.fire(s))}};o.CoreService=l=f([y(0,k.IBufferService),y(1,k.ILogService),y(2,k.IOptionsService)],l)},9074:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const f=c(8055),y=c(8460),d=c(844),g=c(6106);let w=0,k=0;class p extends d.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(s=>s==null?void 0:s.marker.line),this._onDecorationRegistered=this.register(new y.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new y.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,d.toDisposable)(()=>this.reset()))}registerDecoration(s){if(s.marker.isDisposed)return;const a=new n(s);if(a){const m=a.marker.onDispose(()=>a.dispose());a.onDispose(()=>{a&&(this._decorations.delete(a)&&this._onDecorationRemoved.fire(a),m.dispose())}),this._decorations.insert(a),this._onDecorationRegistered.fire(a)}return a}reset(){for(const s of this._decorations.values())s.dispose();this._decorations.clear()}*getDecorationsAtCell(s,a,m){let b=0,x=0;for(const L of this._decorations.getKeyIterator(a))b=L.options.x??0,x=b+(L.options.width??1),s>=b&&s<x&&(!m||(L.options.layer??"bottom")===m)&&(yield L)}forEachDecorationAtCell(s,a,m,b){this._decorations.forEachByKey(a,x=>{w=x.options.x??0,k=w+(x.options.width??1),s>=w&&s<k&&(!m||(x.options.layer??"bottom")===m)&&b(x)})}}o.DecorationService=p;class n extends d.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(s){super(),this.options=s,this.onRenderEmitter=this.register(new y.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new y.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=s.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const f=c(2585),y=c(8343);class d{constructor(...w){this._entries=new Map;for(const[k,p]of w)this.set(k,p)}set(w,k){const p=this._entries.get(w);return this._entries.set(w,k),p}forEach(w){for(const[k,p]of this._entries.entries())w(k,p)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}o.ServiceCollection=d,o.InstantiationService=class{constructor(){this._services=new d,this._services.set(f.IInstantiationService,this)}setService(g,w){this._services.set(g,w)}getService(g){return this._services.get(g)}createInstance(g,...w){const k=(0,y.getServiceDependencies)(g).sort((l,s)=>l.index-s.index),p=[];for(const l of k){const s=this._services.get(l.id);if(!s)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${l.id}.`);p.push(s)}const n=k.length>0?k[0].index:w.length;if(w.length!==n)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${n+1} conflicts with ${w.length} static arguments`);return new g(...w,...p)}}},7866:function(A,o,c){var f=this&&this.__decorate||function(n,l,s,a){var m,b=arguments.length,x=b<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,s):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(n,l,s,a);else for(var L=n.length-1;L>=0;L--)(m=n[L])&&(x=(b<3?m(x):b>3?m(l,s,x):m(l,s))||x);return b>3&&x&&Object.defineProperty(l,s,x),x},y=this&&this.__param||function(n,l){return function(s,a){l(s,a,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const d=c(844),g=c(2585),w={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let k,p=o.LogService=class extends d.Disposable{get logLevel(){return this._logLevel}constructor(n){super(),this._optionsService=n,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),k=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(n){for(let l=0;l<n.length;l++)typeof n[l]=="function"&&(n[l]=n[l]())}_log(n,l,s){this._evalLazyOptionalParams(s),n.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+l,...s)}trace(n,...l){var s;this._logLevel<=g.LogLevelEnum.TRACE&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.trace.bind(this._optionsService.options.logger))??console.log,n,l)}debug(n,...l){var s;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.debug.bind(this._optionsService.options.logger))??console.log,n,l)}info(n,...l){var s;this._logLevel<=g.LogLevelEnum.INFO&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.info.bind(this._optionsService.options.logger))??console.info,n,l)}warn(n,...l){var s;this._logLevel<=g.LogLevelEnum.WARN&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.warn.bind(this._optionsService.options.logger))??console.warn,n,l)}error(n,...l){var s;this._logLevel<=g.LogLevelEnum.ERROR&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.error.bind(this._optionsService.options.logger))??console.error,n,l)}};o.LogService=p=f([y(0,g.IOptionsService)],p),o.setTraceLogger=function(n){k=n},o.traceCall=function(n,l,s){if(typeof s.value!="function")throw new Error("not supported");const a=s.value;s.value=function(...m){if(k.logLevel!==g.LogLevelEnum.TRACE)return a.apply(this,m);k.trace(`GlyphRenderer#${a.name}(${m.map(x=>JSON.stringify(x)).join(", ")})`);const b=a.apply(this,m);return k.trace(`GlyphRenderer#${a.name} return`,b),b}}},7302:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const f=c(8460),y=c(844),d=c(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:d.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends y.Disposable{constructor(p){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const n={...o.DEFAULT_OPTIONS};for(const l in p)if(l in n)try{const s=p[l];n[l]=this._sanitizeAndValidateOption(l,s)}catch(s){console.error(s)}this.rawOptions=n,this.options={...n},this._setupOptions(),this.register((0,y.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(p,n){return this.onOptionChange(l=>{l===p&&n(this.rawOptions[p])})}onMultipleOptionChange(p,n){return this.onOptionChange(l=>{p.indexOf(l)!==-1&&n()})}_setupOptions(){const p=l=>{if(!(l in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${l}"`);return this.rawOptions[l]},n=(l,s)=>{if(!(l in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${l}"`);s=this._sanitizeAndValidateOption(l,s),this.rawOptions[l]!==s&&(this.rawOptions[l]=s,this._onOptionChange.fire(l))};for(const l in this.rawOptions){const s={get:p.bind(this,l),set:n.bind(this,l)};Object.defineProperty(this.options,l,s)}}_sanitizeAndValidateOption(p,n){switch(p){case"cursorStyle":if(n||(n=o.DEFAULT_OPTIONS[p]),!function(l){return l==="block"||l==="underline"||l==="bar"}(n))throw new Error(`"${n}" is not a valid value for ${p}`);break;case"wordSeparator":n||(n=o.DEFAULT_OPTIONS[p]);break;case"fontWeight":case"fontWeightBold":if(typeof n=="number"&&1<=n&&n<=1e3)break;n=g.includes(n)?n:o.DEFAULT_OPTIONS[p];break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw new Error(`${p} cannot be less than 1, value: ${n}`);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,4294967295))<0)throw new Error(`${p} cannot be less than 0, value: ${n}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw new Error(`${p} cannot be less than or equal to 0, value: ${n}`);break;case"rows":case"cols":if(!n&&n!==0)throw new Error(`${p} must be numeric, value: ${n}`);break;case"windowsPty":n=n??{}}return n}}o.OptionsService=w},2660:function(A,o,c){var f=this&&this.__decorate||function(w,k,p,n){var l,s=arguments.length,a=s<3?k:n===null?n=Object.getOwnPropertyDescriptor(k,p):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(w,k,p,n);else for(var m=w.length-1;m>=0;m--)(l=w[m])&&(a=(s<3?l(a):s>3?l(k,p,a):l(k,p))||a);return s>3&&a&&Object.defineProperty(k,p,a),a},y=this&&this.__param||function(w,k){return function(p,n){k(p,n,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const d=c(2585);let g=o.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const k=this._bufferService.buffer;if(w.id===void 0){const m=k.addMarker(k.ybase+k.y),b={data:w,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(b,m)),this._dataByLinkId.set(b.id,b),b.id}const p=w,n=this._getEntryIdKey(p),l=this._entriesWithId.get(n);if(l)return this.addLineToLink(l.id,k.ybase+k.y),l.id;const s=k.addMarker(k.ybase+k.y),a={id:this._nextId++,key:this._getEntryIdKey(p),data:p,lines:[s]};return s.onDispose(()=>this._removeMarkerFromLink(a,s)),this._entriesWithId.set(a.key,a),this._dataByLinkId.set(a.id,a),a.id}addLineToLink(w,k){const p=this._dataByLinkId.get(w);if(p&&p.lines.every(n=>n.line!==k)){const n=this._bufferService.buffer.addMarker(k);p.lines.push(n),n.onDispose(()=>this._removeMarkerFromLink(p,n))}}getLinkData(w){var k;return(k=this._dataByLinkId.get(w))==null?void 0:k.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,k){const p=w.lines.indexOf(k);p!==-1&&(w.lines.splice(p,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};o.OscLinkService=g=f([y(0,d.IBufferService)],g)},8343:(A,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const c="di$target",f="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(y){return y[f]||[]},o.createDecorator=function(y){if(o.serviceRegistry.has(y))return o.serviceRegistry.get(y);const d=function(g,w,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(p,n,l){n[c]===n?n[f].push({id:p,index:l}):(n[f]=[{id:p,index:l}],n[c]=n)})(d,g,k)};return d.toString=()=>y,o.serviceRegistry.set(y,d),d}},2585:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const f=c(8343);var y;o.IBufferService=(0,f.createDecorator)("BufferService"),o.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),o.ICoreService=(0,f.createDecorator)("CoreService"),o.ICharsetService=(0,f.createDecorator)("CharsetService"),o.IInstantiationService=(0,f.createDecorator)("InstantiationService"),function(d){d[d.TRACE=0]="TRACE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.OFF=5]="OFF"}(y||(o.LogLevelEnum=y={})),o.ILogService=(0,f.createDecorator)("LogService"),o.IOptionsService=(0,f.createDecorator)("OptionsService"),o.IOscLinkService=(0,f.createDecorator)("OscLinkService"),o.IUnicodeService=(0,f.createDecorator)("UnicodeService"),o.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(A,o,c)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const f=c(8460),y=c(225);class d{static extractShouldJoin(w){return(1&w)!=0}static extractWidth(w){return w>>1&3}static extractCharKind(w){return w>>3}static createPropertyValue(w,k,p=!1){return(16777215&w)<<3|(3&k)<<1|(p?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const w=new y.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let k=0,p=0;const n=w.length;for(let l=0;l<n;++l){let s=w.charCodeAt(l);if(55296<=s&&s<=56319){if(++l>=n)return k+this.wcwidth(s);const b=w.charCodeAt(l);56320<=b&&b<=57343?s=1024*(s-55296)+b-56320+65536:k+=this.wcwidth(b)}const a=this.charProperties(s,p);let m=d.extractWidth(a);d.extractShouldJoin(a)&&(m-=d.extractWidth(p)),k+=m,p=a}return k}charProperties(w,k){return this._activeProvider.charProperties(w,k)}}o.UnicodeService=d}},T={};function N(A){var o=T[A];if(o!==void 0)return o.exports;var c=T[A]={exports:{}};return S[A].call(c.exports,c,c.exports,N),c.exports}var B={};return(()=>{var A=B;Object.defineProperty(A,"__esModule",{value:!0}),A.Terminal=void 0;const o=N(9042),c=N(3236),f=N(844),y=N(5741),d=N(8285),g=N(7975),w=N(7090),k=["cols","rows"];class p extends f.Disposable{constructor(l){super(),this._core=this.register(new c.Terminal(l)),this._addonManager=this.register(new y.AddonManager),this._publicOptions={...this._core.options};const s=m=>this._core.options[m],a=(m,b)=>{this._checkReadonlyOptions(m),this._core.options[m]=b};for(const m in this._core.options){const b={get:s.bind(this,m),set:a.bind(this,m)};Object.defineProperty(this._publicOptions,m,b)}}_checkReadonlyOptions(l){if(k.includes(l))throw new Error(`Option "${l}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new d.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const l=this._core.coreService.decPrivateModes;let s="none";switch(this._core.coreMouseService.activeProtocol){case"X10":s="x10";break;case"VT200":s="vt200";break;case"DRAG":s="drag";break;case"ANY":s="any"}return{applicationCursorKeysMode:l.applicationCursorKeys,applicationKeypadMode:l.applicationKeypad,bracketedPasteMode:l.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:s,originMode:l.origin,reverseWraparoundMode:l.reverseWraparound,sendFocusMode:l.sendFocus,wraparoundMode:l.wraparound}}get options(){return this._publicOptions}set options(l){for(const s in l)this._publicOptions[s]=l[s]}blur(){this._core.blur()}focus(){this._core.focus()}input(l,s=!0){this._core.input(l,s)}resize(l,s){this._verifyIntegers(l,s),this._core.resize(l,s)}open(l){this._core.open(l)}attachCustomKeyEventHandler(l){this._core.attachCustomKeyEventHandler(l)}attachCustomWheelEventHandler(l){this._core.attachCustomWheelEventHandler(l)}registerLinkProvider(l){return this._core.registerLinkProvider(l)}registerCharacterJoiner(l){return this._checkProposedApi(),this._core.registerCharacterJoiner(l)}deregisterCharacterJoiner(l){this._checkProposedApi(),this._core.deregisterCharacterJoiner(l)}registerMarker(l=0){return this._verifyIntegers(l),this._core.registerMarker(l)}registerDecoration(l){return this._checkProposedApi(),this._verifyPositiveIntegers(l.x??0,l.width??0,l.height??0),this._core.registerDecoration(l)}hasSelection(){return this._core.hasSelection()}select(l,s,a){this._verifyIntegers(l,s,a),this._core.select(l,s,a)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(l,s){this._verifyIntegers(l,s),this._core.selectLines(l,s)}dispose(){super.dispose()}scrollLines(l){this._verifyIntegers(l),this._core.scrollLines(l)}scrollPages(l){this._verifyIntegers(l),this._core.scrollPages(l)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(l){this._verifyIntegers(l),this._core.scrollToLine(l)}clear(){this._core.clear()}write(l,s){this._core.write(l,s)}writeln(l,s){this._core.write(l),this._core.write(`\r
`,s)}paste(l){this._core.paste(l)}refresh(l,s){this._verifyIntegers(l,s),this._core.refresh(l,s)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(l){this._addonManager.loadAddon(this,l)}static get strings(){return o}_verifyIntegers(...l){for(const s of l)if(s===1/0||isNaN(s)||s%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...l){for(const s of l)if(s&&(s===1/0||isNaN(s)||s%1!=0||s<0))throw new Error("This API only accepts positive integers")}}A.Terminal=p})(),B})())}(ja)),ja.exports}var F0=H0();const z0="https://stackblitz.com",U0=new Error;U0.stack="";const ph={};let xn=null;const W0={get editorOrigin(){return xn==null&&(xn=new URL(globalThis.WEBCONTAINER_API_IFRAME_URL??z0).origin),xn},set editorOrigin(h){xn=new URL(h).origin},get url(){const h=new URL(this.editorOrigin);h.pathname="/headless";for(const C in ph)h.searchParams.set(C,ph[C]);return h.searchParams.set("version","1.5.1-internal.9"),h}};function $0(){let h,C;function S(){C=new Promise(T=>h=T)}return S(),{get promise(){return C},resolve(T){return h(T)},reset:S}}$0();var ss;(function(h){h.UncaughtException="PREVIEW_UNCAUGHT_EXCEPTION",h.UnhandledRejection="PREVIEW_UNHANDLED_REJECTION",h.ConsoleError="PREVIEW_CONSOLE_ERROR"})(ss||(ss={}));var q0=Object.defineProperty,V0=(h,C)=>{for(var S in C)q0(h,S,{get:C[S],enumerable:!0})},vt={};V0(vt,{createEndpoint:()=>Wh,expose:()=>sl,proxy:()=>Qh,proxyMarker:()=>rl,releaseProxy:()=>$h,transfer:()=>Gh,transferHandlers:()=>il,windowEndpoint:()=>X0,wrap:()=>Kh});var rl=Symbol("Comlink.proxy"),Wh=Symbol("Comlink.endpoint"),$h=Symbol("Comlink.releaseProxy"),Ka=Symbol("Comlink.thrown"),qh=h=>typeof h=="object"&&h!==null||typeof h=="function",K0={canHandle:h=>qh(h)&&h[rl],serialize(h){const{port1:C,port2:S}=new MessageChannel;return sl(h,C),[S,[S]]},deserialize(h){return h.start(),Kh(h)}},Y0={canHandle:h=>qh(h)&&Ka in h,serialize({value:h}){let C;return h instanceof Error?C={isError:!0,value:{message:h.message,name:h.name,stack:h.stack}}:C={isError:!1,value:h},[C,[]]},deserialize(h){throw h.isError?Object.assign(new Error(h.value.message),h.value):h.value}},il=new Map([["proxy",K0],["throw",Y0]]);function sl(h,C=self){C.addEventListener("message",function S(T){if(!T||!T.data)return;const{id:N,type:B,path:A}=Object.assign({path:[]},T.data),o=(T.data.argumentList||[]).map(Fr);let c;try{const f=A.slice(0,-1).reduce((d,g)=>d[g],h),y=A.reduce((d,g)=>d[g],h);switch(B){case 0:c=y;break;case 1:f[A.slice(-1)[0]]=Fr(T.data.value),c=!0;break;case 2:c=y.apply(f,o);break;case 3:{const d=new y(...o);c=Qh(d)}break;case 4:{const{port1:d,port2:g}=new MessageChannel;sl(h,g),c=Gh(d,[d])}break;case 5:c=void 0;break}}catch(f){c={value:f,[Ka]:0}}Promise.resolve(c).catch(f=>({value:f,[Ka]:0})).then(f=>{const[y,d]=nl(f);C.postMessage(Object.assign(Object.assign({},y),{id:N}),d),B===5&&(C.removeEventListener("message",S),Vh(C))})}),C.start&&C.start()}function G0(h){return h.constructor.name==="MessagePort"}function Vh(h){G0(h)&&h.close()}function Kh(h,C){return Ya(h,[],C)}function bn(h){if(h)throw new Error("Proxy has been released and is not useable")}function Ya(h,C=[],S=function(){}){let T=!1;const N=new Proxy(S,{get(B,A){if(bn(T),A===$h)return()=>mi(h,{type:5,path:C.map(o=>o.toString())}).then(()=>{Vh(h),T=!0});if(A==="then"){if(C.length===0)return{then:()=>N};const o=mi(h,{type:0,path:C.map(c=>c.toString())}).then(Fr);return o.then.bind(o)}return Ya(h,[...C,A])},set(B,A,o){bn(T);const[c,f]=nl(o);return mi(h,{type:1,path:[...C,A].map(y=>y.toString()),value:c},f).then(Fr)},apply(B,A,o){bn(T);const c=C[C.length-1];if(c===Wh)return mi(h,{type:4}).then(Fr);if(c==="bind")return Ya(h,C.slice(0,-1));const[f,y]=mh(o);return mi(h,{type:2,path:C.map(d=>d.toString()),argumentList:f},y).then(Fr)},construct(B,A){bn(T);const[o,c]=mh(A);return mi(h,{type:3,path:C.map(f=>f.toString()),argumentList:o},c).then(Fr)}});return N}function Q0(h){return Array.prototype.concat.apply([],h)}function mh(h){const C=h.map(nl);return[C.map(S=>S[0]),Q0(C.map(S=>S[1]))]}var Yh=new WeakMap;function Gh(h,C){return Yh.set(h,C),h}function Qh(h){return Object.assign(h,{[rl]:!0})}function X0(h,C=self,S="*"){return{postMessage:(T,N)=>h.postMessage(T,S,N),addEventListener:C.addEventListener.bind(C),removeEventListener:C.removeEventListener.bind(C)}}function nl(h){for(const[C,S]of il)if(S.canHandle(h)){const[T,N]=S.serialize(h);return[{type:3,name:C,value:T},N]}return[{type:0,value:h},Yh.get(h)||[]]}function Fr(h){switch(h.type){case 3:return il.get(h.name).deserialize(h.value);case 0:return h.value}}function mi(h,C,S){return new Promise(T=>{const N=J0();h.addEventListener("message",function B(A){!A.data||!A.data.id||A.data.id!==N||(h.removeEventListener("message",B),T(A.data))}),h.start&&h.start(),h.postMessage(Object.assign({id:N},C),S)})}function J0(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const Z0=[ss.ConsoleError,ss.UncaughtException,ss.UnhandledRejection];function eg(h){return!(h==null||typeof h!="object"||!("type"in h)||!Z0.includes(h.type))}function gi(h){const C=Object.create(null);return h?Object.assign(C,h):C}function Xh(h){const C={d:{}};for(const S of Object.keys(h)){const T=h[S];if("file"in T){if("symlink"in T.file){C.d[S]={f:{l:T.file.symlink}};continue}const B=T.file.contents,A=typeof B=="string"?B:tg(B),o=typeof B=="string"?{}:{b:!0};C.d[S]={f:{c:A,...o}};continue}const N=Xh(T.directory);C.d[S]=N}return C}function Jh(h){const C=gi();if("f"in h)throw new Error("It is not possible to export a single file in the JSON format.");if("d"in h)for(const S of Object.keys(h.d)){const T=h.d[S];"d"in T?C[S]=gi({directory:Jh(T)}):"f"in T&&("c"in T.f?C[S]=gi({file:gi({contents:T.f.c})}):"l"in T.f&&(C[S]=gi({file:gi({symlink:T.f.l})})))}return C}function tg(h){let C="";for(const S of h)C+=String.fromCharCode(S);return C}let kn=null,En=null,Ha={};const Zh=new TextDecoder,rg=new TextEncoder,zr=class zr{constructor(C,S,T,N){Le(this,"_instance");Le(this,"_runtimeInfo");Le(this,"fs");Le(this,"internal");Le(this,"_tornDown",!1);Le(this,"_unsubscribeFromTokenChangedListener",()=>{});this._instance=C,this._runtimeInfo=N,this.fs=new cg(S);const B=new ug(T);this.internal=new ig(B,C)}async spawn(C,S,T){let N=[];Array.isArray(S)?N=S:T=S;let B,A=new ReadableStream;if((T==null?void 0:T.output)!==!1){const p=za();B=p.push,A=p.stream}let o,c,f,y;if(c=new ReadableStream,y=new ReadableStream,T!=null&&T.stdout){const p=za();o=p.push,c=p.stream}if(T!=null&&T.stderr){const p=za();f=p.push,y=p.stream}const d=Pn(Fa(B)),g=Pn(Fa(o)),w=Pn(Fa(f)),k=await this._instance.run({command:C,args:N,cwd:T==null?void 0:T.cwd,env:T==null?void 0:T.env,terminal:T==null?void 0:T.terminal},g,w,d);return new lg(k,A,c,y)}async export(C,S){const T={format:(S==null?void 0:S.format)??"json",includes:S==null?void 0:S.includes,excludes:S==null?void 0:S.excludes,external:!0},N=await this._instance.serialize(C,T);if(T.format==="json"){const B=JSON.parse(Zh.decode(N));return Jh(B)}return N}on(C,S){if(C==="preview-message"){const B=S;S=A=>{eg(A)&&B(A)}}const{listener:T,subscribe:N}=In(S);return N(this._instance.on(C,vt.proxy(T)))}mount(C,S){const T=C instanceof Uint8Array?C:C instanceof ArrayBuffer?new Uint8Array(C):rg.encode(JSON.stringify(Xh(C)));return this._instance.loadFiles(vt.transfer(T,[T.buffer]),{mountPoints:S==null?void 0:S.mountPoint})}setPreviewScript(C,S){return this._instance.setPreviewScript(C,S)}get path(){return this._runtimeInfo.path}get workdir(){return this._runtimeInfo.cwd}teardown(){if(this._tornDown)throw new Error("WebContainer already torn down");this._tornDown=!0,this._unsubscribeFromTokenChangedListener(),this.fs._teardown(),this._instance.teardown(),this._instance[vt.releaseProxy](),zr._instance===this&&(zr._instance=null)}static async boot(C={}){const{workdirName:S}=C;if(window.crossOriginIsolated&&C.coep==="none"&&console.warn(`A Cross-Origin-Embedder-Policy header is required in cross origin isolated environments.
Set the 'coep' option to 'require-corp'.`),S!=null&&S.includes("/")||S===".."||S===".")throw new Error("workdirName should be a valid folder name");for(;kn;)await kn;if(zr._instance)throw new Error("Only a single WebContainer instance can be booted");const T=hg(C);kn=T.catch(()=>{});try{const N=await T;return zr._instance=N,N}finally{kn=null}}};Le(zr,"_instance",null);let On=zr;class ig{constructor(C,S){Le(this,"previewScript");Le(this,"_instance");this.previewScript=C,this._instance=S}watchPaths(C,S){const{listener:T,subscribe:N}=In(S);return N(this._instance.watchPaths(C,vt.proxy(T)))}getProcesses(){return this._instance.getProcesses()}onProcessesRemove(C){const{listener:S,subscribe:T}=In(C);return T(this._instance.onProcessesRemove(vt.proxy(S)))}serialize(C,S){return this._instance.serialize(C,S)}setCORSProxy(C){return this._instance.setCORSProxy(C)}setCORSAuthToken(C){return this._instance.setCORSAuthToken(C)}}const sg=1,ng=2;class og{constructor(C,S){Le(this,"name");Le(this,"_type");this.name=C,this._type=S}isFile(){return this._type===sg}isDirectory(){return this._type===ng}}class ag{constructor(C,S,T,N){Le(this,"_apiClient");Le(this,"_path");Le(this,"_options");Le(this,"_listener");Le(this,"_wrappedListener");Le(this,"_watcher");Le(this,"_closed",!1);this._apiClient=C,this._path=S,this._options=T,this._listener=N,this._apiClient._watchers.add(this),this._wrappedListener=(B,A)=>{this._listener&&!this._closed&&this._listener(B,A)},this._apiClient._fs.watch(this._path,this._options,Pn(this._wrappedListener)).then(B=>{this._watcher=B,this._closed&&this._teardown()}).catch(console.error)}close(){this._closed||(this._closed=!0,this._apiClient._watchers.delete(this),this._teardown())}_teardown(){var C;(C=this._watcher)==null||C.close().finally(()=>{var S;(S=this._watcher)==null||S[vt.releaseProxy]()})}}class lg{constructor(C,S,T,N){Le(this,"output");Le(this,"input");Le(this,"exit");Le(this,"_process");Le(this,"stdout");Le(this,"stderr");this.output=S,this._process=C,this.input=new WritableStream({write:B=>{var A;(A=this._getProcess())==null||A.write(B).catch(()=>{})}}),this.exit=this._onExit(),this.stdout=T,this.stderr=N}kill(){var C;(C=this._getProcess())==null||C.kill()}resize(C){var S;(S=this._getProcess())==null||S.resize(C)}async _onExit(){var C;try{return await this._process.onExit}finally{(C=this._process)==null||C[vt.releaseProxy](),this._process=null}}_getProcess(){return this._process==null&&console.warn("This process already exited"),this._process}}class cg{constructor(C){Le(this,"_fs");Le(this,"_watchers",new Set([]));this._fs=C}rm(...C){return this._fs.rm(...C)}async readFile(C,S){return await this._fs.readFile(C,S)}async rename(C,S){return await this._fs.rename(C,S)}async writeFile(C,S,T){if(S instanceof Uint8Array){const N=S.buffer.slice(S.byteOffset,S.byteOffset+S.byteLength);S=vt.transfer(new Uint8Array(N),[N])}await this._fs.writeFile(C,S,T)}async readdir(C,S){const T=await this._fs.readdir(C,S);return fg(T)||pg(T)?T:T.map(B=>new og(B.name,B["Symbol(type)"]))}async mkdir(C,S){return await this._fs.mkdir(C,S)}watch(C,S,T){return typeof S=="function"&&(T=S,S=null),new ag(this,C,S,T)}_teardown(){this._fs[vt.releaseProxy]();for(const C of this._watchers)C.close()}}class ug{constructor(C){Le(this,"_previewScript");Le(this,"_listeners",new Map);Le(this,"storage",{set:C=>{this._previewScript.storageSet(structuredClone(C))},get:()=>this._previewScript.storageGet(),on:(C,S)=>this._on("storage:change",S)});this._previewScript=C}broadcast(C){this._previewScript.broadcast(structuredClone(C))}on(C,S){return this._on(C,S)}_on(C,S){let T=this._listeners.get(C);if(!T){const N=new Set,{listener:B,subscribe:A}=In(o=>{N.forEach(c=>c(o))});T={localListeners:N,remoteUnsubscribe:A(this._previewScript.on(C,vt.proxy(B)))}}return T.localListeners.add(S),()=>{const{localListeners:N,remoteUnsubscribe:B}=T;N.delete(S),N.size===0&&(B(),this._listeners.delete(C))}}}async function hg(h){const{serverPromise:C}=dg(h),T=await(await C).build({host:window.location.host,version:"1.5.1-internal.9",workdirName:h.workdirName,forwardPreviewErrors:h.forwardPreviewErrors}),[N,B,A]=await Promise.all([T.fs(),T.previewScript(),T.runtimeInfo()]);return new On(T,N,B,A)}function Fa(h){if(h!=null)return C=>{C instanceof Uint8Array?h(Zh.decode(C)):C==null&&h(null)}}function Pn(h){if(h!=null)return vt.proxy(h)}function dg(h){if(En!=null)return h.coep!==Ha.coep&&(console.warn(`Attempting to boot WebContainer with 'coep: ${h.coep}'`),console.warn(`First boot had 'coep: ${Ha.coep}', new settings will not take effect!`)),{serverPromise:En};const C=document.createElement("iframe");C.style.display="none",C.setAttribute("allow","cross-origin-isolated");const S=W0.url;h.coep&&S.searchParams.set("coep",h.coep),C.src=S.toString();const{origin:T}=S;return Ha={...h},En=new Promise(N=>{const B=A=>{if(A.origin!==T)return;const{data:o}=A;if(o.type==="init"){N(vt.wrap(A.ports[0]));return}if(o.type==="warning"){console[o.level].call(console,o.message);return}};window.addEventListener("message",B)}),document.body.insertBefore(C,null),{serverPromise:En}}function fg(h){return typeof h[0]=="string"}function pg(h){return h[0]instanceof Uint8Array}function za(){let h=null;return{stream:new ReadableStream({start(T){h=T}}),push:T=>{T!=null?h==null||h.enqueue(T):(h==null||h.close(),h=null)}}}function In(h){let C=!1,S=()=>{};return{subscribe(N){return N.then(B=>{S=B,C&&S()}),()=>{C=!0,S()}},listener:(...N)=>{C||h(...N)}}}const Ln=(h,C)=>{const S={};return C.forEach(T=>{S[T]=0}),h.forEach(T=>{Object.prototype.hasOwnProperty.call(S,T)&&S[T]++}),S},Rn=h=>{const C=new Set;return Object.values(h).forEach(S=>{S.expectedCommands.forEach(T=>{C.add(T)})}),Array.from(C)},mg=()=>{try{const h=Ur.get("completedTasks");return h?new Set(JSON.parse(h)):new Set}catch{return new Set}},gh=h=>{Ur.set("completedTasks",JSON.stringify(Array.from(h)),{expires:30})},Tn=(h,C,S,T)=>Object.entries(S).filter(([A,o])=>o.level<=C&&!T.has(A)).map(([A,o])=>({id:A,title:`Master ${A}`,description:o.description,expectedCommands:o.expectedCommands,level:o.level})).sort((A,o)=>{const c=Math.min(...A.expectedCommands.map(y=>h[y]||0)),f=Math.min(...o.expectedCommands.map(y=>h[y]||0));return c-f}),gg=({tasks:h,currentLevel:C,commandHistory:S,onTaskComplete:T,terminalInput:N})=>{const[B,A]=V.useState([]),[o,c]=V.useState(null),[f,y]=V.useState(new Set),[d,g]=V.useState([]),[w,k]=V.useState(!1),[p,n]=V.useState(Date.now()),[l,s]=V.useState(()=>mg()),[a,m]=V.useState(()=>{const x=localStorage.getItem("isLearning");return x!==null?JSON.parse(x):!0});V.useEffect(()=>{if(h){const x=Rn(h),L=Ln(S,x),v=Tn(L,C,h,l);if(B.length===0||B[0].level>=C){if(A(v),a)c(v.length>0?v[0]:null);else{const R=v[Math.floor(Math.random()*v.length)];c(R)}y(new Set)}}},[C,S,h,l]),V.useEffect(()=>{N&&n(Date.now())},[N]),V.useEffect(()=>{const x=setInterval(()=>{if(o&&Date.now()-p>3e5){const L=Rn(h),v=Ln(S,L),R=Tn(v,C,h,l);A(R),c(R.length>0?R[0]:null),y(new Set)}},6e4);return()=>clearInterval(x)},[o,p,S,C,h,l]),V.useEffect(()=>{if(o&&N){const x=N.trim(),L=o.expectedCommands.find(v=>x===v||x.startsWith(v+" "));if(L&&!f.has(L)){const v=new Set(f);if(v.add(L),y(v),v.size===o.expectedCommands.length){const R=new Set(l);R.add(o.id),s(R),gh(R),g([...d,{...o,completed:!0}]),T==null||T(o);const F=B.slice(1);if(A(F),F.length===0){k(!0);const U=setTimeout(()=>{const $=Rn(h),H=Ln(S,$),Y=Tn(H,C,h,R);A(Y),c(Y.length>0?Y[0]:null),y(new Set),k(!1)},1500);return()=>clearTimeout(U)}else c(F[0]),y(new Set)}}}},[S,f,C,o,T,B,d,h,N,l]);const b=()=>{if(!o)return;const x=new Set(l);x.add(o.id),s(x),gh(x),g([...d,{...o,completed:!0,skipped:!0}]);const L=B.slice(1);A(L),c(L.length>0?L[0]:null),y(new Set),L.length===0&&(k(!0),setTimeout(()=>{const v=Rn(h),R=Ln(S,v),F=Tn(R,C,h,x);A(F),c(F.length>0?F[0]:null),y(new Set),k(!1)},1500))};return o?E.jsxs("div",{className:"space-y-4",children:[E.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Current Task"}),w&&E.jsxs("div",{className:"flex items-center space-x-2 text-cyan-400",children:[E.jsx(Zm,{className:"h-5 w-5 animate-spin"}),E.jsx("span",{children:"Generating tasks..."})]}),E.jsxs("div",{className:"border border-gray-700 p-4 rounded-md space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h4",{className:"text-md font-semibold text-cyan-300",children:o.title}),E.jsxs("div",{className:"text-sm text-cyan-300",children:[f.size,"/",o.expectedCommands.length]})]}),E.jsx("p",{className:"text-gray-300",children:o.description}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{className:"text-sm text-gray-400",children:"Required commands:"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:o.expectedCommands.map(x=>E.jsxs("span",{className:`px-2 py-1 rounded-md text-sm font-mono flex items-center gap-2
                  ${f.has(x)?"bg-green-500/20 text-green-300":"bg-cyan-500/20 text-cyan-300"}`,children:[x,f.has(x)&&E.jsx(nh,{className:"h-4 w-4"})]},x))})]}),E.jsxs("button",{onClick:b,className:"mt-4 flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:[E.jsx(d0,{className:"h-4 w-4"}),"Skip Task"]})]}),d.length>0&&E.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[E.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Recent Completions:"}),E.jsx("div",{className:"space-y-2",children:d.slice(-3).map((x,L)=>E.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[E.jsx(nh,{className:"h-4 w-4 text-green-500"}),x.title]},L))})]})]}):null},_g={1:{expectedCommands:["pwd","ls"],title:"Basic Location Check",description:"Check your current location and view directory contents",level:1},2:{expectedCommands:["mkdir test_dir","cd test_dir"],title:"Directory Creation",description:"Create a new directory and navigate into it",level:3},3:{expectedCommands:["touch file.txt","ls"],title:"File Creation",description:"Create a new file and verify its existence",level:3},4:{expectedCommands:["mkdir docs","cd docs","touch notes.txt"],title:"Workspace Setup",description:"Create a documents directory and a notes file within it",level:3},5:{expectedCommands:["touch test.txt","ls -l"],title:"File Listing",description:"Create a file and view detailed listing",level:3},6:{expectedCommands:["cp file.txt backup.txt","ls"],title:"File Backup",description:"Create a backup copy of a file",level:3},7:{expectedCommands:["mkdir project","cd project","touch README.md"],title:"Project Setup",description:"Create a project directory with a readme file",level:3},8:{expectedCommands:["echo 'test' > file.txt","cat file.txt"],title:"File Content",description:"Create a file with content and view it",level:4},9:{expectedCommands:["find . -name '*.txt'"],title:"File Search",description:"Find all text files in current directory",level:4},10:{expectedCommands:["mkdir -p project/src","cd project/src"],title:"Nested Directories",description:"Create and navigate nested directory structure",level:5},11:{expectedCommands:["touch file{1..3}.txt","ls"],title:"Multiple Files",description:"Create multiple files at once",level:5},12:{expectedCommands:["ps","ps aux"],title:"Process List",description:"View running processes",level:6},13:{expectedCommands:["mkdir logs","touch logs/app.log"],title:"Log Setup",description:"Create a log directory and file",level:6},14:{expectedCommands:["df","du -h"],title:"Storage Check",description:"Check storage usage",level:10},15:{expectedCommands:["mkdir backup","cp -r project/* backup/"],title:"Directory Backup",description:"Back up an entire directory",level:10},16:{expectedCommands:["echo 'test' > test.txt","grep 'test' test.txt"],title:"Text Search",description:"Search for text in a file",level:4},17:{expectedCommands:["echo '1 2 3' > nums.txt","wc -w nums.txt"],title:"Word Count",description:"Count words in a file",level:5},18:{expectedCommands:["mkdir web","cd web","touch index.html"],title:"Web Setup",description:"Create a basic web project structure",level:5},19:{expectedCommands:["echo 'hello' > file.txt","cat file.txt"],title:"File Reading",description:"Create and read a text file",level:4},20:{expectedCommands:["mkdir secure","chmod 700 secure"],title:"Secure Directory",description:"Create a directory with restricted permissions",level:4},21:{expectedCommands:["mkdir scripts","touch scripts/test.sh"],title:"Script Setup",description:"Create a scripts directory and file",level:12},22:{expectedCommands:["echo 'backup' > backup.txt","cp backup.txt backup2.txt"],title:"File Copy",description:"Create and copy a backup file",level:5},23:{expectedCommands:["for i in {1..3}; do touch file$i.txt; done","ls"],title:"Loop Creation",description:"Create multiple files using a loop",level:12},24:{expectedCommands:["find . -type f","ls -R"],title:"File Search",description:"List all files recursively",level:15},25:{expectedCommands:["ps | grep node","ps"],title:"Process Search",description:"Search for specific processes",level:6},26:{expectedCommands:["mkdir logs","touch logs/app.log logs/error.log"],title:"Multiple Logs",description:"Create multiple log files",level:6},27:{expectedCommands:["for f in *.txt; do cp $f $f.bak; done"],title:"Batch Backup",description:"Create backups of all text files",level:10},28:{expectedCommands:["mkdir -p web/{css,js}","touch web/index.html"],title:"Web Structure",description:"Create a web project structure",level:5},29:{expectedCommands:["echo '1,2,3' > data.txt","cut -d',' -f1 data.txt"],title:"Data Processing",description:"Process comma-separated data",level:5},30:{expectedCommands:["mkdir private","chmod 700 private"],title:"Private Directory",description:"Create a private directory",level:4},31:{expectedCommands:["find . -type f -empty","find . -type d -empty"],title:"Empty Find",description:"Find empty files and directories",level:15},32:{expectedCommands:["echo 'test' > file.txt","cat file.txt"],title:"File Content",description:"Create and view file content",level:4},33:{expectedCommands:["ln -s file.txt link.txt","ls -l"],title:"Symbolic Link",description:"Create a symbolic link",level:10},34:{expectedCommands:["echo 'export PATH=$PATH:./bin' >> .profile"],title:"Path Setup",description:"Add directory to PATH",level:16},35:{expectedCommands:["mkdir test && cd test && touch file.txt"],title:"Command Chain",description:"Chain multiple commands",level:6},36:{expectedCommands:["find . -type f -exec chmod 644 {} \\;"],title:"File Permissions",description:"Set file permissions recursively",level:4},37:{expectedCommands:["dd if=/dev/zero of=test bs=1M count=1"],title:"File Generation",description:"Generate a test file",level:10},38:{expectedCommands:["cp -r source/. dest/"],title:"Directory Copy",description:"Copy directory contents",level:10},39:{expectedCommands:["find . -mtime +7 -type f"],title:"Old Files",description:"Find files older than 7 days",level:15},40:{expectedCommands:["ps | sort -k2"],title:"Process Sort",description:"Sort process list",level:6},41:{expectedCommands:["mkdir -p {dev,test}/app"],title:"Dev Setup",description:"Create development directories",level:10},42:{expectedCommands:["echo 'error' > error.log","grep 'error' *.log"],title:"Error Search",description:"Search for errors in logs",level:4},43:{expectedCommands:["who","w"],title:"User Check",description:"Check current users",level:7},44:{expectedCommands:["du -sh *"],title:"Size Check",description:"Check directory sizes",level:10},45:{expectedCommands:["echo $USER","echo $HOME"],title:"Environment",description:"Check environment variables",level:16},46:{expectedCommands:["cp -r src/ backup/"],title:"Directory Backup",description:"Back up a directory",level:10},47:{expectedCommands:["mkdir test","rmdir test"],title:"Directory Remove",description:"Create and remove directory",level:3},48:{expectedCommands:["find . -type f -print0"],title:"Null Handling",description:"List files with null separator",level:15},49:{expectedCommands:["echo 'log entry' >> app.log"],title:"Log Entry",description:"Append to a log file",level:6},50:{expectedCommands:["mkdir .hidden","ls -la"],title:"Hidden Files",description:"Work with hidden files",level:2}},_h={basic:[{command:"ls",description:"List directory contents"},{command:"cd <dir>",description:"Change directory"},{command:"pwd",description:"Print working directory"},{command:"mkdir <dir>",description:"Create directory"},{command:"touch <file>",description:"Create empty file"},{command:"cp <src> <dest>",description:"Copy files/directories"}],advanced:[{command:"grep <pattern> <file>",description:"Search text patterns"},{command:"find <path> -name <pattern>",description:"Search files/dirs"},{command:"chmod <permissions> <file>",description:"Change permissions"},{command:"ps aux",description:"List running processes"},{command:"kill <pid>",description:"Terminate process"},{command:"tar -czf <archive> <files>",description:"Create archive"}],pipes:[{command:"| (pipe)",description:"Send output to next command"},{command:"> (redirect)",description:"Redirect output to file"},{command:">> (append)",description:"Append output to file"},{command:"< (input)",description:"Take input from file"},{command:"2> (stderr)",description:"Redirect error output"},{command:"&& (and)",description:"Run next if previous succeeds"}]};function vg(){const h=V.useRef(null),C=V.useRef(null),S=V.useRef(null),T=V.useRef(null),[N,B]=V.useState("basic"),A=ls(),{history:o,addHistory:c}=zh(),{currentLevel:f,incrementLevel:y}=tl(),[d,g]=V.useState(""),[w,k]=V.useState(""),[p,n]=V.useState(()=>{const l=localStorage.getItem("isLearning");return l!==null?JSON.parse(l):!0});return V.useEffect(()=>{localStorage.setItem("isLearning",p)},[p]),V.useEffect(()=>{async function l(){if(h.current)return;C.current||(C.current=new F0.Terminal({cursorBlink:!0,fontSize:14,rendererType:"dom",theme:{background:"#1a1b26",foreground:"#a9b1d6",cursor:"#f7768e",selection:"#283457",black:"#32344a",blue:"#7aa2f7",cyan:"#7dcfff",green:"#9ece6a",magenta:"#bb9af7",red:"#f7768e",white:"#a9b1d6",yellow:"#e0af68"}}),S.current&&C.current.open(S.current)),h.current=await On.boot();const s=await h.current.spawn("bash",{terminal:{cols:80,rows:25}});let a="",m="",b=!1;function x(v){return v.replace(/\x1B(?:[@-Z\\-_]|\[[0-?]*[ -/]*[@-~])|/g,"")}function L(v,R){let U=x(v).replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`).map(H=>H.trim()).filter(H=>H!=="");U=U.filter(H=>!(H.startsWith("~/")||H===""||H===R||H.match(/^\.{0,2}\/?$/)||H==="~")),R==="ls"&&(U=U.map(H=>H.replace(/\/{2,}/g,"/").replace(/\/$/,"")),U=U.filter(H=>H!==""),U.length===1&&(U=U[0].split(/\s+/).filter(H=>H!=="").map(H=>H.replace(/\/{2,}/g,"/"))));const $=U.join(" ").trim();return R.match(/^(cd|\.\.|\.)$/)?"":$}s.output.pipeTo(new WritableStream({write(v){C.current.write(v),b&&(m+=v)}})),T.current=s.input.getWriter(),C.current.onData(v=>{if(T.current)if(T.current.write(v),v==="\r"){b=!0;const R=a.trim();a="",setTimeout(()=>{const F=L(m,R);console.log("Last Command:",R),console.log("Output:",F),R&&!R.match(/^(\.\.|\.)$/)&&(c(R),g(R)),m="",b=!1},100)}else v===""?a=a.slice(0,-1):a+=v})}l()},[c,w,g]),E.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[E.jsxs("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-gray-900 via-indigo-900 to-gray-900 overflow-hidden",children:[E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gray-900 opacity-60",style:{maskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",backgroundImage:`url("data:image/svg+xml,%3Csvg width='1200' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,250 L50,240 L80,190 L110,230 L140,210 L180,180 L220,240 L270,220 L300,200 L320,230 L350,210 L380,190 L420,240 L460,200 L490,230 L520,210 L550,190 L590,220 L630,230 L660,210 L690,200 L720,240 L750,220 L790,180 L830,240 L870,210 L910,230 L940,200 L980,220 L1020,240 L1050,190 L1080,210 L1110,230 L1140,200 L1170,240 L1200,250 L1200,300 L0,300 Z' fill='%23111827'/%3E%3C/svg%3E")`}}),[...Array(15)].map((l,s)=>E.jsx("div",{className:"city-glow absolute rounded-full transition-all duration-2000",style:{width:20+Math.random()*100,height:20+Math.random()*100,top:Math.random()*window.innerHeight,left:Math.random()*window.innerWidth,background:`radial-gradient(circle, ${["rgba(59,130,246,0.5)","rgba(139,92,246,0.5)","rgba(6,182,212,0.5)","rgba(16,185,129,0.5)"][Math.floor(Math.random()*4)]} 0%, transparent 70%)`,opacity:.3+Math.random()*.3,filter:`blur(${20+Math.random()*15}px)`}},`citylight-${s}`)),E.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
                 linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px),
                 linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px)
               `,backgroundSize:"80px 80px",opacity:.5}})]}),E.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[E.jsxs("div",{className:"flex items-center mb-8",children:[E.jsx("div",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:"BASH PLAYGROUND"}),E.jsx("button",{onClick:()=>A("/bash"),className:"ml-auto px-3 py-2.5 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded border border-cyan-500/30 font-medium hover:from-blue-500 hover:to-cyan-500 transition-colors",children:"Return to map"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[E.jsx("div",{className:"lg:col-span-3",children:E.jsxs("div",{className:"rounded-lg border border-cyan-500/30 bg-gray-800/50 backdrop-blur-md",children:[E.jsx("div",{className:"p-4 border-b border-cyan-500/30",children:E.jsx("h2",{className:"text-xl font-semibold text-cyan-400",children:"Terminal Emulator"})}),E.jsx("div",{className:"p-4",children:E.jsx("div",{ref:S,className:"w-full h-[500px] rounded-lg overflow-hidden border border-cyan-500/30 bg-[#1a1b26]"})})]})}),E.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[E.jsx("div",{className:"rounded-lg border border-cyan-500/30 bg-gray-800/50 backdrop-blur-md",children:E.jsxs("div",{className:"p-4 border-b border-cyan-500/30 flex items-center justify-between",children:[E.jsx("h2",{className:"text-xl font-semibold text-cyan-400",children:"Learning Mode"}),E.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",className:"cursor-pointer appearance-none w-5 h-5 border border-cyan-500/30 bg-gray-900 rounded-md transition-colors checked:bg-cyan-500 checked:border-cyan-500 focus:ring focus:ring-cyan-500/50",checked:p,onChange:()=>n(!p)}),E.jsx("span",{className:"text-gray-300 text-sm",children:"Enable"})]})]})}),E.jsxs("div",{className:"rounded-lg border border-cyan-500/30 bg-gray-800/50 backdrop-blur-md",children:[E.jsx("div",{className:"p-4 border-b border-cyan-500/30",children:E.jsx("h2",{className:"text-xl font-semibold text-cyan-400",children:"Current Task"})}),E.jsx("div",{className:"p-4",children:E.jsx(gg,{tasks:_g,currentLevel:f,commandHistory:o,onTaskComplete:()=>{},terminalInput:d})})]}),E.jsxs("div",{className:"rounded-lg border border-cyan-500/30 bg-gray-800/50 backdrop-blur-md",children:[E.jsx("div",{className:"p-4 border-b border-cyan-500/30",children:E.jsx("h2",{className:"text-xl font-semibold text-cyan-400",children:"Command Reference"})}),E.jsxs("div",{className:"p-4",children:[E.jsx("div",{className:"flex space-x-1 mb-4 bg-gray-700/50 p-1 rounded-lg",children:Object.keys(_h).map(l=>E.jsx("button",{onClick:()=>B(l),className:`flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-colors
                        ${N===l?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:bg-cyan-500/10 hover:text-cyan-300"}`,children:l.charAt(0).toUpperCase()+l.slice(1)},l))}),E.jsx("div",{className:"space-y-2",children:_h[N].map((l,s)=>E.jsxs("div",{className:"p-2 rounded-lg bg-gray-900/50 border border-gray-700/50 hover:border-cyan-500/30 transition-colors",children:[E.jsx("code",{className:"text-cyan-400 text-sm font-mono",children:l.command}),E.jsx("p",{className:"text-gray-400 text-xs mt-1",children:l.description})]},s))})]})]})]})]})]})]})}function yg(){const h=ls(),S=[{x:150,y:220},{x:320,y:180},{x:480,y:260},{x:620,y:180},{x:780,y:240},{x:880,y:340},{x:780,y:420},{x:620,y:480},{x:460,y:410},{x:340,y:500},{x:220,y:580},{x:350,y:660},{x:520,y:620},{x:680,y:680},{x:820,y:600},{x:950,y:540},{x:1050,y:460},{x:1150,y:380},{x:1220,y:280},{x:1350,y:220}];return Math.max(...S.map(T=>T.x))+200,Math.max(...S.map(T=>T.y))+120,V.useEffect(()=>{const T=setInterval(()=>{document.querySelectorAll(".city-glow").forEach(N=>{const B=.3+Math.random()*.3,A=10+Math.random()*10;N.style.opacity=B,N.style.filter=`blur(${A}px)`})},2e3);return()=>clearInterval(T)},[]),E.jsxs("div",{className:"relative w-full h-screen bg-gray-900 overflow-hidden",children:[E.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900 via-indigo-900 to-gray-900 overflow-hidden",children:[E.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gray-900 opacity-60",style:{maskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",backgroundImage:`url("data:image/svg+xml,%3Csvg width='1200' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,250 L50,240 L80,190 L110,230 L140,210 L180,180 L220,240 L270,220 L300,200 L320,230 L350,210 L380,190 L420,240 L460,200 L490,230 L520,210 L550,190 L590,220 L630,230 L660,210 L690,200 L720,240 L750,220 L790,180 L830,240 L870,210 L910,230 L940,200 L980,220 L1020,240 L1050,190 L1080,210 L1110,230 L1140,200 L1170,240 L1200,250 L1200,300 L0,300 Z' fill='%23111827'/%3E%3C/svg%3E")`}}),[...Array(15)].map((T,N)=>E.jsx("div",{className:"city-glow absolute rounded-full transition-all duration-2000",style:{width:20+Math.random()*100,height:20+Math.random()*100,top:Math.random()*window.innerHeight,left:Math.random()*window.innerWidth,background:`radial-gradient(circle, ${["rgba(59,130,246,0.5)","rgba(139,92,246,0.5)","rgba(6,182,212,0.5)","rgba(16,185,129,0.5)"][Math.floor(Math.random()*4)]} 0%, transparent 70%)`,opacity:.3+Math.random()*.3,filter:`blur(${20+Math.random()*15}px)`}},`citylight-${N}`)),E.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px),
              linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px)
            `,backgroundSize:"80px 80px",opacity:.5}})]}),E.jsx("header",{className:"sticky top-0 z-50 bg-gray-900 bg-opacity-80 backdrop-filter backdrop-blur-md border-b border-cyan-500/30",children:E.jsx("div",{className:"w-full max-w-6xl mx-auto px-6 py-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-md shadow-lg shadow-cyan-500/30",children:E.jsx("img",{src:$a,alt:"BitVoyager logo",className:"w-8 h-8 rounded-full"})}),E.jsxs("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:[E.jsx("span",{className:"font-extrabold",children:"BIT"}),E.jsx("span",{className:"text-xl ml-1 font-light",children:"VOYAGER"})]})]}),E.jsx("nav",{className:"flex items-center",children:E.jsx("ul",{className:"flex gap-8 text-sm font-medium",children:["Home","About","Courses"].map(T=>E.jsx("li",{children:E.jsxs(wr,{to:`/${T.toLowerCase()==="home"?"":T.toLowerCase()}`,className:"text-gray-300 hover:text-cyan-400 transition-colors duration-300 flex items-center gap-2 py-2",children:[E.jsx("span",{className:"w-1 h-1 rounded-full bg-cyan-500"}),T]})},T))})})]})})}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full px-6",children:[E.jsx("h2",{className:"text-9xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 animate-pulse",children:"404"}),E.jsx("p",{className:"mt-4 text-xl text-gray-300",children:"Page Not Found"}),E.jsx("p",{className:"mt-2 text-gray-500 py-2",children:"The path you are looking for does not exist (yet at least)."}),E.jsx("button",{onClick:()=>h("/"),className:"px-2 flex items-center justify-center gap-2 py-2.5 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded border border-cyan-500/30 font-medium hover:from-blue-500 hover:to-cyan-500 transition-colors",children:"Return Home"})]})]})}function ed({children:h}){const[C,S]=V.useState(()=>{const T=Ur.get("currentLevel");return T?parseInt(T,10):1});return window.currentLevel=C,window.setCurrentLevel=S,V.useEffect(()=>{Ur.set("currentLevel",C,{expires:30})},[C]),E.jsx(Oh.Provider,{value:{currentLevel:C,setCurrentLevel:S},children:h})}ed.propTypes={children:jh.node.isRequired};function Sg(){return E.jsx(ed,{children:E.jsx(Fh,{children:E.jsx(xm,{children:E.jsx("div",{children:E.jsx("main",{children:E.jsxs(Zp,{children:[E.jsx(Hr,{path:"/",element:E.jsx(Fm,{})}),E.jsx(Hr,{path:"/bash",element:E.jsx(zm,{})}),E.jsx(Hr,{path:"/bash/:level",element:E.jsx(j0,{})}),E.jsx(Hr,{path:"/python",element:E.jsx(P0,{})}),E.jsx(Hr,{path:"/bash/playground",element:E.jsx(vg,{})}),E.jsx(Hr,{path:"*",element:E.jsx(yg,{})})]})})})})})})}lp.createRoot(document.getElementById("root")).render(E.jsx(V.StrictMode,{children:E.jsx(Sg,{})}));
