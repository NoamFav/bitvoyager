(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const B of document.querySelectorAll('link[rel="modulepreload"]'))F(B);new MutationObserver(B=>{for(const W of B)if(W.type==="childList")for(const M of W.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&F(M)}).observe(document,{childList:!0,subtree:!0});function D(B){const W={};return B.integrity&&(W.integrity=B.integrity),B.referrerPolicy&&(W.referrerPolicy=B.referrerPolicy),B.crossOrigin==="use-credentials"?W.credentials="include":B.crossOrigin==="anonymous"?W.credentials="omit":W.credentials="same-origin",W}function F(B){if(B.ep)return;B.ep=!0;const W=D(B);fetch(B.href,W)}})();function lf(S){return S&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S}var la={exports:{}},Ki={},ca={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu;function cf(){if(gu)return Ee;gu=1;var S=Symbol.for("react.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),M=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=h&&L[h]||L["@@iterator"],typeof L=="function"?L:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,f={};function n(L,O,Z){this.props=L,this.context=O,this.refs=f,this.updater=Z||g}n.prototype.isReactComponent={},n.prototype.setState=function(L,O){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,O,"setState")},n.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function a(){}a.prototype=n.prototype;function s(L,O,Z){this.props=L,this.context=O,this.refs=f,this.updater=Z||g}var o=s.prototype=new a;o.constructor=s,w(o,n.prototype),o.isPureReactComponent=!0;var p=Array.isArray,C=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function y(L,O,Z){var ne,ue={},he=null,$=null;if(O!=null)for(ne in O.ref!==void 0&&($=O.ref),O.key!==void 0&&(he=""+O.key),O)C.call(O,ne)&&!E.hasOwnProperty(ne)&&(ue[ne]=O[ne]);var T=arguments.length-2;if(T===1)ue.children=Z;else if(1<T){for(var se=Array(T),Q=0;Q<T;Q++)se[Q]=arguments[Q+2];ue.children=se}if(L&&L.defaultProps)for(ne in T=L.defaultProps,T)ue[ne]===void 0&&(ue[ne]=T[ne]);return{$$typeof:S,type:L,key:he,ref:$,props:ue,_owner:x.current}}function R(L,O){return{$$typeof:S,type:L.type,key:O,ref:L.ref,props:L.props,_owner:L._owner}}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===S}function z(L){var O={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Z){return O[Z]})}var V=/\/+/g;function I(L,O){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):O.toString(36)}function q(L,O,Z,ne,ue){var he=typeof L;(he==="undefined"||he==="boolean")&&(L=null);var $=!1;if(L===null)$=!0;else switch(he){case"string":case"number":$=!0;break;case"object":switch(L.$$typeof){case S:case A:$=!0}}if($)return $=L,ue=ue($),L=ne===""?"."+I($,0):ne,p(ue)?(Z="",L!=null&&(Z=L.replace(V,"$&/")+"/"),q(ue,O,Z,"",function(Q){return Q})):ue!=null&&(H(ue)&&(ue=R(ue,Z+(!ue.key||$&&$.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+L)),O.push(ue)),1;if($=0,ne=ne===""?".":ne+":",p(L))for(var T=0;T<L.length;T++){he=L[T];var se=ne+I(he,T);$+=q(he,O,Z,se,ue)}else if(se=m(L),typeof se=="function")for(L=se.call(L),T=0;!(he=L.next()).done;)he=he.value,se=ne+I(he,T++),$+=q(he,O,Z,se,ue);else if(he==="object")throw O=String(L),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return $}function ee(L,O,Z){if(L==null)return L;var ne=[],ue=0;return q(L,ne,"","",function(he){return O.call(Z,he,ue++)}),ne}function ie(L){if(L._status===-1){var O=L._result;O=O(),O.then(function(Z){(L._status===0||L._status===-1)&&(L._status=1,L._result=Z)},function(Z){(L._status===0||L._status===-1)&&(L._status=2,L._result=Z)}),L._status===-1&&(L._status=0,L._result=O)}if(L._status===1)return L._result.default;throw L._result}var te={current:null},G={transition:null},b={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:G,ReactCurrentOwner:x};function P(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:ee,forEach:function(L,O,Z){ee(L,function(){O.apply(this,arguments)},Z)},count:function(L){var O=0;return ee(L,function(){O++}),O},toArray:function(L){return ee(L,function(O){return O})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ee.Component=n,Ee.Fragment=D,Ee.Profiler=B,Ee.PureComponent=s,Ee.StrictMode=F,Ee.Suspense=c,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b,Ee.act=P,Ee.cloneElement=function(L,O,Z){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ne=w({},L.props),ue=L.key,he=L.ref,$=L._owner;if(O!=null){if(O.ref!==void 0&&(he=O.ref,$=x.current),O.key!==void 0&&(ue=""+O.key),L.type&&L.type.defaultProps)var T=L.type.defaultProps;for(se in O)C.call(O,se)&&!E.hasOwnProperty(se)&&(ne[se]=O[se]===void 0&&T!==void 0?T[se]:O[se])}var se=arguments.length-2;if(se===1)ne.children=Z;else if(1<se){T=Array(se);for(var Q=0;Q<se;Q++)T[Q]=arguments[Q+2];ne.children=T}return{$$typeof:S,type:L.type,key:ue,ref:he,props:ne,_owner:$}},Ee.createContext=function(L){return L={$$typeof:M,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:W,_context:L},L.Consumer=L},Ee.createElement=y,Ee.createFactory=function(L){var O=y.bind(null,L);return O.type=L,O},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(L){return{$$typeof:l,render:L}},Ee.isValidElement=H,Ee.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ie}},Ee.memo=function(L,O){return{$$typeof:d,type:L,compare:O===void 0?null:O}},Ee.startTransition=function(L){var O=G.transition;G.transition={};try{L()}finally{G.transition=O}},Ee.unstable_act=P,Ee.useCallback=function(L,O){return te.current.useCallback(L,O)},Ee.useContext=function(L){return te.current.useContext(L)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(L){return te.current.useDeferredValue(L)},Ee.useEffect=function(L,O){return te.current.useEffect(L,O)},Ee.useId=function(){return te.current.useId()},Ee.useImperativeHandle=function(L,O,Z){return te.current.useImperativeHandle(L,O,Z)},Ee.useInsertionEffect=function(L,O){return te.current.useInsertionEffect(L,O)},Ee.useLayoutEffect=function(L,O){return te.current.useLayoutEffect(L,O)},Ee.useMemo=function(L,O){return te.current.useMemo(L,O)},Ee.useReducer=function(L,O,Z){return te.current.useReducer(L,O,Z)},Ee.useRef=function(L){return te.current.useRef(L)},Ee.useState=function(L){return te.current.useState(L)},Ee.useSyncExternalStore=function(L,O,Z){return te.current.useSyncExternalStore(L,O,Z)},Ee.useTransition=function(){return te.current.useTransition()},Ee.version="18.3.1",Ee}var yu;function xa(){return yu||(yu=1,ca.exports=cf()),ca.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su;function uf(){if(Su)return Ki;Su=1;var S=xa(),A=Symbol.for("react.element"),D=Symbol.for("react.fragment"),F=Object.prototype.hasOwnProperty,B=S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W={key:!0,ref:!0,__self:!0,__source:!0};function M(l,c,d){var v,h={},m=null,g=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(v in c)F.call(c,v)&&!W.hasOwnProperty(v)&&(h[v]=c[v]);if(l&&l.defaultProps)for(v in c=l.defaultProps,c)h[v]===void 0&&(h[v]=c[v]);return{$$typeof:A,type:l,key:m,ref:g,props:h,_owner:B.current}}return Ki.Fragment=D,Ki.jsx=M,Ki.jsxs=M,Ki}var wu;function hf(){return wu||(wu=1,la.exports=uf()),la.exports}var j=hf(),re=xa(),un={},ua={exports:{}},ct={},ha={exports:{}},da={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu;function df(){return Cu||(Cu=1,function(S){function A(G,b){var P=G.length;G.push(b);e:for(;0<P;){var L=P-1>>>1,O=G[L];if(0<B(O,b))G[L]=b,G[P]=O,P=L;else break e}}function D(G){return G.length===0?null:G[0]}function F(G){if(G.length===0)return null;var b=G[0],P=G.pop();if(P!==b){G[0]=P;e:for(var L=0,O=G.length,Z=O>>>1;L<Z;){var ne=2*(L+1)-1,ue=G[ne],he=ne+1,$=G[he];if(0>B(ue,P))he<O&&0>B($,ue)?(G[L]=$,G[he]=P,L=he):(G[L]=ue,G[ne]=P,L=ne);else if(he<O&&0>B($,P))G[L]=$,G[he]=P,L=he;else break e}}return b}function B(G,b){var P=G.sortIndex-b.sortIndex;return P!==0?P:G.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var W=performance;S.unstable_now=function(){return W.now()}}else{var M=Date,l=M.now();S.unstable_now=function(){return M.now()-l}}var c=[],d=[],v=1,h=null,m=3,g=!1,w=!1,f=!1,n=typeof setTimeout=="function"?setTimeout:null,a=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function o(G){for(var b=D(d);b!==null;){if(b.callback===null)F(d);else if(b.startTime<=G)F(d),b.sortIndex=b.expirationTime,A(c,b);else break;b=D(d)}}function p(G){if(f=!1,o(G),!w)if(D(c)!==null)w=!0,ie(C);else{var b=D(d);b!==null&&te(p,b.startTime-G)}}function C(G,b){w=!1,f&&(f=!1,a(y),y=-1),g=!0;var P=m;try{for(o(b),h=D(c);h!==null&&(!(h.expirationTime>b)||G&&!z());){var L=h.callback;if(typeof L=="function"){h.callback=null,m=h.priorityLevel;var O=L(h.expirationTime<=b);b=S.unstable_now(),typeof O=="function"?h.callback=O:h===D(c)&&F(c),o(b)}else F(c);h=D(c)}if(h!==null)var Z=!0;else{var ne=D(d);ne!==null&&te(p,ne.startTime-b),Z=!1}return Z}finally{h=null,m=P,g=!1}}var x=!1,E=null,y=-1,R=5,H=-1;function z(){return!(S.unstable_now()-H<R)}function V(){if(E!==null){var G=S.unstable_now();H=G;var b=!0;try{b=E(!0,G)}finally{b?I():(x=!1,E=null)}}else x=!1}var I;if(typeof s=="function")I=function(){s(V)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=V,I=function(){ee.postMessage(null)}}else I=function(){n(V,0)};function ie(G){E=G,x||(x=!0,I())}function te(G,b){y=n(function(){G(S.unstable_now())},b)}S.unstable_IdlePriority=5,S.unstable_ImmediatePriority=1,S.unstable_LowPriority=4,S.unstable_NormalPriority=3,S.unstable_Profiling=null,S.unstable_UserBlockingPriority=2,S.unstable_cancelCallback=function(G){G.callback=null},S.unstable_continueExecution=function(){w||g||(w=!0,ie(C))},S.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},S.unstable_getCurrentPriorityLevel=function(){return m},S.unstable_getFirstCallbackNode=function(){return D(c)},S.unstable_next=function(G){switch(m){case 1:case 2:case 3:var b=3;break;default:b=m}var P=m;m=b;try{return G()}finally{m=P}},S.unstable_pauseExecution=function(){},S.unstable_requestPaint=function(){},S.unstable_runWithPriority=function(G,b){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var P=m;m=G;try{return b()}finally{m=P}},S.unstable_scheduleCallback=function(G,b,P){var L=S.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?L+P:L):P=L,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=P+O,G={id:v++,callback:b,priorityLevel:G,startTime:P,expirationTime:O,sortIndex:-1},P>L?(G.sortIndex=P,A(d,G),D(c)===null&&G===D(d)&&(f?(a(y),y=-1):f=!0,te(p,P-L))):(G.sortIndex=O,A(c,G),w||g||(w=!0,ie(C))),G},S.unstable_shouldYield=z,S.unstable_wrapCallback=function(G){var b=m;return function(){var P=m;m=b;try{return G.apply(this,arguments)}finally{m=P}}}}(da)),da}var xu;function ff(){return xu||(xu=1,ha.exports=df()),ha.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu;function pf(){if(Eu)return ct;Eu=1;var S=xa(),A=ff();function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F=new Set,B={};function W(e,t){M(e,t),M(e+"Capture",t)}function M(e,t){for(B[e]=t,e=0;e<t.length;e++)F.add(t[e])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function m(e){return c.call(h,e)?!0:c.call(v,e)?!1:d.test(e)?h[e]=!0:(v[e]=!0,!1)}function g(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function w(e,t,r,i){if(t===null||typeof t>"u"||g(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function f(e,t,r,i,u,_,k){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=_,this.removeEmptyString=k}var n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){n[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];n[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){n[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){n[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){n[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){n[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){n[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){n[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){n[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var a=/[\-:]([a-z])/g;function s(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(a,s);n[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(a,s);n[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(a,s);n[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){n[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),n.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){n[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});function o(e,t,r,i){var u=n.hasOwnProperty(t)?n[t]:null;(u!==null?u.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(w(t,r,u,i)&&(r=null),i||u===null?m(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,i=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var p=S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),z=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),G=Symbol.iterator;function b(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var P=Object.assign,L;function O(e){if(L===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return`
`+L+e}var Z=!1;function ne(e,t){if(!e||Z)return"";Z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(J){var i=J}Reflect.construct(e,[],t)}else{try{t.call()}catch(J){i=J}e.call(t.prototype)}else{try{throw Error()}catch(J){i=J}e()}}catch(J){if(J&&i&&typeof J.stack=="string"){for(var u=J.stack.split(`
`),_=i.stack.split(`
`),k=u.length-1,N=_.length-1;1<=k&&0<=N&&u[k]!==_[N];)N--;for(;1<=k&&0<=N;k--,N--)if(u[k]!==_[N]){if(k!==1||N!==1)do if(k--,N--,0>N||u[k]!==_[N]){var U=`
`+u[k].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=k&&0<=N);break}}}finally{Z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?O(e):""}function ue(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case x:return"Portal";case R:return"Profiler";case y:return"StrictMode";case I:return"Suspense";case q:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(t);case 8:return t===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function T(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q(e){var t=se(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,_=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(k){i=""+k,_.call(this,k)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(k){i=""+k},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fe(e){e._valueTracker||(e._valueTracker=Q(e))}function de(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=se(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function xe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Re(e,t){var r=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Te(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=T(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qe(e,t){t=t.checked,t!=null&&o(e,"checked",t,!1)}function we(e,t){qe(e,t);var r=T(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yr(e,t.type,r):t.hasOwnProperty("defaultValue")&&yr(e,t.type,T(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yr(e,t,r){(t!=="number"||xe(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jt=Array.isArray;function At(e,t,r,i){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&i&&(e[r].defaultSelected=!0)}else{for(r=""+T(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Xt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function et(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(jt(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:T(r)}}function Jt(e,t){var r=T(t.value),i=T(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function ut(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ht,wr=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ht=ht||document.createElement("div"),ht.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ht.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function it(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];Object.keys(Ct).forEach(function(e){Ae.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ct[t]=Ct[e]})});function ts(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ct.hasOwnProperty(e)&&Ct[e]?(""+t).trim():t+"px"}function Oa(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,u=ts(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,u):e[r]=u}}var dh=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yn(e,t){if(t){if(dh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Sn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wn=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xn=null,Hr=null,jr=null;function Ba(e){if(e=Ai(e)){if(typeof xn!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Es(t),xn(e.stateNode,e.type,t))}}function Ia(e){Hr?jr?jr.push(e):jr=[e]:Hr=e}function Na(){if(Hr){var e=Hr,t=jr;if(jr=Hr=null,Ba(e),t)for(e=0;e<t.length;e++)Ba(t[e])}}function Ha(e,t){return e(t)}function ja(){}var En=!1;function Fa(e,t,r){if(En)return e(t,r);En=!0;try{return Ha(e,t,r)}finally{En=!1,(Hr!==null||jr!==null)&&(ja(),Na())}}function ui(e,t){var r=e.stateNode;if(r===null)return null;var i=Es(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var bn=!1;if(l)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){bn=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{bn=!1}function fh(e,t,r,i,u,_,k,N,U){var J=Array.prototype.slice.call(arguments,3);try{t.apply(r,J)}catch(ae){this.onError(ae)}}var di=!1,rs=null,is=!1,kn=null,ph={onError:function(e){di=!0,rs=e}};function _h(e,t,r,i,u,_,k,N,U){di=!1,rs=null,fh.apply(ph,arguments)}function mh(e,t,r,i,u,_,k,N,U){if(_h.apply(this,arguments),di){if(di){var J=rs;di=!1,rs=null}else throw Error(D(198));is||(is=!0,kn=J)}}function Cr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function za(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ua(e){if(Cr(e)!==e)throw Error(D(188))}function vh(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,i=t;;){var u=r.return;if(u===null)break;var _=u.alternate;if(_===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===_.child){for(_=u.child;_;){if(_===r)return Ua(u),e;if(_===i)return Ua(u),t;_=_.sibling}throw Error(D(188))}if(r.return!==i.return)r=u,i=_;else{for(var k=!1,N=u.child;N;){if(N===r){k=!0,r=u,i=_;break}if(N===i){k=!0,i=u,r=_;break}N=N.sibling}if(!k){for(N=_.child;N;){if(N===r){k=!0,r=_,i=u;break}if(N===i){k=!0,i=_,r=u;break}N=N.sibling}if(!k)throw Error(D(189))}}if(r.alternate!==i)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function Wa(e){return e=vh(e),e!==null?$a(e):null}function $a(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$a(e);if(t!==null)return t;e=e.sibling}return null}var Va=A.unstable_scheduleCallback,Ka=A.unstable_cancelCallback,gh=A.unstable_shouldYield,yh=A.unstable_requestPaint,je=A.unstable_now,Sh=A.unstable_getCurrentPriorityLevel,Ln=A.unstable_ImmediatePriority,qa=A.unstable_UserBlockingPriority,ss=A.unstable_NormalPriority,wh=A.unstable_LowPriority,Ya=A.unstable_IdlePriority,ns=null,Pt=null;function Ch(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(ns,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:bh,xh=Math.log,Eh=Math.LN2;function bh(e){return e>>>=0,e===0?32:31-(xh(e)/Eh|0)|0}var os=64,as=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,u=e.suspendedLanes,_=e.pingedLanes,k=r&268435455;if(k!==0){var N=k&~u;N!==0?i=fi(N):(_&=k,_!==0&&(i=fi(_)))}else k=r&~u,k!==0?i=fi(k):_!==0&&(i=fi(_));if(i===0)return 0;if(t!==0&&t!==i&&(t&u)===0&&(u=i&-i,_=t&-t,u>=_||u===16&&(_&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-xt(t),u=1<<r,i|=e[r],t&=~u;return i}function kh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lh(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,_=e.pendingLanes;0<_;){var k=31-xt(_),N=1<<k,U=u[k];U===-1?((N&r)===0||(N&i)!==0)&&(u[k]=kh(N,t)):U<=t&&(e.expiredLanes|=N),_&=~N}}function Rn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=os;return os<<=1,(os&4194240)===0&&(os=64),e}function Dn(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=r}function Rh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-xt(r),_=1<<u;t[u]=0,i[u]=-1,e[u]=-1,r&=~_}}function Tn(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-xt(r),u=1<<i;u&t|e[i]&t&&(e[i]|=t),r&=~u}}var Le=0;function Xa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ja,An,Qa,Za,el,Pn=!1,cs=[],Zt=null,er=null,tr=null,_i=new Map,mi=new Map,rr=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tl(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":_i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(t.pointerId)}}function vi(e,t,r,i,u,_){return e===null||e.nativeEvent!==_?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:_,targetContainers:[u]},t!==null&&(t=Ai(t),t!==null&&An(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Th(e,t,r,i,u){switch(t){case"focusin":return Zt=vi(Zt,e,t,r,i,u),!0;case"dragenter":return er=vi(er,e,t,r,i,u),!0;case"mouseover":return tr=vi(tr,e,t,r,i,u),!0;case"pointerover":var _=u.pointerId;return _i.set(_,vi(_i.get(_)||null,e,t,r,i,u)),!0;case"gotpointercapture":return _=u.pointerId,mi.set(_,vi(mi.get(_)||null,e,t,r,i,u)),!0}return!1}function rl(e){var t=xr(e.target);if(t!==null){var r=Cr(t);if(r!==null){if(t=r.tag,t===13){if(t=za(r),t!==null){e.blockedOn=t,el(e.priority,function(){Qa(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=On(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);wn=i,r.target.dispatchEvent(i),wn=null}else return t=Ai(r),t!==null&&An(t),e.blockedOn=r,!1;t.shift()}return!0}function il(e,t,r){us(e)&&r.delete(t)}function Ah(){Pn=!1,Zt!==null&&us(Zt)&&(Zt=null),er!==null&&us(er)&&(er=null),tr!==null&&us(tr)&&(tr=null),_i.forEach(il),mi.forEach(il)}function gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Pn||(Pn=!0,A.unstable_scheduleCallback(A.unstable_NormalPriority,Ah)))}function yi(e){function t(u){return gi(u,e)}if(0<cs.length){gi(cs[0],e);for(var r=1;r<cs.length;r++){var i=cs[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Zt!==null&&gi(Zt,e),er!==null&&gi(er,e),tr!==null&&gi(tr,e),_i.forEach(t),mi.forEach(t),r=0;r<rr.length;r++)i=rr[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)rl(r),r.blockedOn===null&&rr.shift()}var Fr=p.ReactCurrentBatchConfig,hs=!0;function Ph(e,t,r,i){var u=Le,_=Fr.transition;Fr.transition=null;try{Le=1,Mn(e,t,r,i)}finally{Le=u,Fr.transition=_}}function Mh(e,t,r,i){var u=Le,_=Fr.transition;Fr.transition=null;try{Le=4,Mn(e,t,r,i)}finally{Le=u,Fr.transition=_}}function Mn(e,t,r,i){if(hs){var u=On(e,t,r,i);if(u===null)Jn(e,t,i,ds,r),tl(e,i);else if(Th(u,e,t,r,i))i.stopPropagation();else if(tl(e,i),t&4&&-1<Dh.indexOf(e)){for(;u!==null;){var _=Ai(u);if(_!==null&&Ja(_),_=On(e,t,r,i),_===null&&Jn(e,t,i,ds,r),_===u)break;u=_}u!==null&&i.stopPropagation()}else Jn(e,t,i,null,r)}}var ds=null;function On(e,t,r,i){if(ds=null,e=Cn(i),e=xr(e),e!==null)if(t=Cr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=za(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ds=e,null}function sl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sh()){case Ln:return 1;case qa:return 4;case ss:case wh:return 16;case Ya:return 536870912;default:return 16}default:return 16}}var ir=null,Bn=null,fs=null;function nl(){if(fs)return fs;var e,t=Bn,r=t.length,i,u="value"in ir?ir.value:ir.textContent,_=u.length;for(e=0;e<r&&t[e]===u[e];e++);var k=r-e;for(i=1;i<=k&&t[r-i]===u[_-i];i++);return fs=u.slice(e,1<i?1-i:void 0)}function ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function ol(){return!1}function dt(e){function t(r,i,u,_,k){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=_,this.target=k,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(r=e[N],this[N]=r?r(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?_s:ol,this.isPropagationStopped=ol,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},In=dt(zr),Si=P({},zr,{view:0,detail:0}),Oh=dt(Si),Nn,Hn,wi,ms=P({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Nn=e.screenX-wi.screenX,Hn=e.screenY-wi.screenY):Hn=Nn=0,wi=e),Nn)},movementY:function(e){return"movementY"in e?e.movementY:Hn}}),al=dt(ms),Bh=P({},ms,{dataTransfer:0}),Ih=dt(Bh),Nh=P({},Si,{relatedTarget:0}),jn=dt(Nh),Hh=P({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),jh=dt(Hh),Fh=P({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zh=dt(Fh),Uh=P({},zr,{data:0}),ll=dt(Uh),Wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vh[e])?!!t[e]:!1}function Fn(){return Kh}var qh=P({},Si,{key:function(e){if(e.key){var t=Wh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$h[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yh=dt(qh),Gh=P({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=dt(Gh),Xh=P({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn}),Jh=dt(Xh),Qh=P({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zh=dt(Qh),ed=P({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),td=dt(ed),rd=[9,13,27,32],zn=l&&"CompositionEvent"in window,Ci=null;l&&"documentMode"in document&&(Ci=document.documentMode);var id=l&&"TextEvent"in window&&!Ci,ul=l&&(!zn||Ci&&8<Ci&&11>=Ci),hl=" ",dl=!1;function fl(e,t){switch(e){case"keyup":return rd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function sd(e,t){switch(e){case"compositionend":return pl(t);case"keypress":return t.which!==32?null:(dl=!0,hl);case"textInput":return e=t.data,e===hl&&dl?null:e;default:return null}}function nd(e,t){if(Ur)return e==="compositionend"||!zn&&fl(e,t)?(e=nl(),fs=Bn=ir=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ul&&t.locale!=="ko"?null:t.data;default:return null}}var od={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!od[e.type]:t==="textarea"}function ml(e,t,r,i){Ia(i),t=ws(t,"onChange"),0<t.length&&(r=new In("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var xi=null,Ei=null;function ad(e){Ol(e,0)}function vs(e){var t=qr(e);if(de(t))return e}function ld(e,t){if(e==="change")return t}var vl=!1;if(l){var Un;if(l){var Wn="oninput"in document;if(!Wn){var gl=document.createElement("div");gl.setAttribute("oninput","return;"),Wn=typeof gl.oninput=="function"}Un=Wn}else Un=!1;vl=Un&&(!document.documentMode||9<document.documentMode)}function yl(){xi&&(xi.detachEvent("onpropertychange",Sl),Ei=xi=null)}function Sl(e){if(e.propertyName==="value"&&vs(Ei)){var t=[];ml(t,Ei,e,Cn(e)),Fa(ad,t)}}function cd(e,t,r){e==="focusin"?(yl(),xi=t,Ei=r,xi.attachEvent("onpropertychange",Sl)):e==="focusout"&&yl()}function ud(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(Ei)}function hd(e,t){if(e==="click")return vs(t)}function dd(e,t){if(e==="input"||e==="change")return vs(t)}function fd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:fd;function bi(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!c.call(t,u)||!Et(e[u],t[u]))return!1}return!0}function wl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cl(e,t){var r=wl(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wl(r)}}function xl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function El(){for(var e=window,t=xe();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xe(e.document)}return t}function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pd(e){var t=El(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xl(r.ownerDocument.documentElement,r)){if(i!==null&&$n(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,_=Math.min(i.start,u);i=i.end===void 0?_:Math.min(i.end,u),!e.extend&&_>i&&(u=i,i=_,_=u),u=Cl(r,_);var k=Cl(r,i);u&&k&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==k.node||e.focusOffset!==k.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),_>i?(e.addRange(t),e.extend(k.node,k.offset)):(t.setEnd(k.node,k.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _d=l&&"documentMode"in document&&11>=document.documentMode,Wr=null,Vn=null,ki=null,Kn=!1;function bl(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kn||Wr==null||Wr!==xe(i)||(i=Wr,"selectionStart"in i&&$n(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ki&&bi(ki,i)||(ki=i,i=ws(Vn,"onSelect"),0<i.length&&(t=new In("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Wr)))}function gs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $r={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},qn={},kl={};l&&(kl=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function ys(e){if(qn[e])return qn[e];if(!$r[e])return e;var t=$r[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kl)return qn[e]=t[r];return e}var Ll=ys("animationend"),Rl=ys("animationiteration"),Dl=ys("animationstart"),Tl=ys("transitionend"),Al=new Map,Pl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){Al.set(e,t),W(t,[e])}for(var Yn=0;Yn<Pl.length;Yn++){var Gn=Pl[Yn],md=Gn.toLowerCase(),vd=Gn[0].toUpperCase()+Gn.slice(1);sr(md,"on"+vd)}sr(Ll,"onAnimationEnd"),sr(Rl,"onAnimationIteration"),sr(Dl,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(Tl,"onTransitionEnd"),M("onMouseEnter",["mouseout","mouseover"]),M("onMouseLeave",["mouseout","mouseover"]),M("onPointerEnter",["pointerout","pointerover"]),M("onPointerLeave",["pointerout","pointerover"]),W("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),W("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),W("onBeforeInput",["compositionend","keypress","textInput","paste"]),W("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),W("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),W("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Ml(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,mh(i,t,void 0,e),e.currentTarget=null}function Ol(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],u=i.event;i=i.listeners;e:{var _=void 0;if(t)for(var k=i.length-1;0<=k;k--){var N=i[k],U=N.instance,J=N.currentTarget;if(N=N.listener,U!==_&&u.isPropagationStopped())break e;Ml(u,N,J),_=U}else for(k=0;k<i.length;k++){if(N=i[k],U=N.instance,J=N.currentTarget,N=N.listener,U!==_&&u.isPropagationStopped())break e;Ml(u,N,J),_=U}}}if(is)throw e=kn,is=!1,kn=null,e}function Pe(e,t){var r=t[io];r===void 0&&(r=t[io]=new Set);var i=e+"__bubble";r.has(i)||(Bl(t,e,2,!1),r.add(i))}function Xn(e,t,r){var i=0;t&&(i|=4),Bl(r,e,i,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Ri(e){if(!e[Ss]){e[Ss]=!0,F.forEach(function(r){r!=="selectionchange"&&(gd.has(r)||Xn(r,!1,e),Xn(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,Xn("selectionchange",!1,t))}}function Bl(e,t,r,i){switch(sl(t)){case 1:var u=Ph;break;case 4:u=Mh;break;default:u=Mn}r=u.bind(null,t,r,e),u=void 0,!bn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Jn(e,t,r,i,u){var _=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var k=i.tag;if(k===3||k===4){var N=i.stateNode.containerInfo;if(N===u||N.nodeType===8&&N.parentNode===u)break;if(k===4)for(k=i.return;k!==null;){var U=k.tag;if((U===3||U===4)&&(U=k.stateNode.containerInfo,U===u||U.nodeType===8&&U.parentNode===u))return;k=k.return}for(;N!==null;){if(k=xr(N),k===null)return;if(U=k.tag,U===5||U===6){i=_=k;continue e}N=N.parentNode}}i=i.return}Fa(function(){var J=_,ae=Cn(r),le=[];e:{var oe=Al.get(e);if(oe!==void 0){var pe=In,me=e;switch(e){case"keypress":if(ps(r)===0)break e;case"keydown":case"keyup":pe=Yh;break;case"focusin":me="focus",pe=jn;break;case"focusout":me="blur",pe=jn;break;case"beforeblur":case"afterblur":pe=jn;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Jh;break;case Ll:case Rl:case Dl:pe=jh;break;case Tl:pe=Zh;break;case"scroll":pe=Oh;break;case"wheel":pe=td;break;case"copy":case"cut":case"paste":pe=zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=cl}var ve=(t&4)!==0,Fe=!ve&&e==="scroll",Y=ve?oe!==null?oe+"Capture":null:oe;ve=[];for(var K=J,X;K!==null;){X=K;var ce=X.stateNode;if(X.tag===5&&ce!==null&&(X=ce,Y!==null&&(ce=ui(K,Y),ce!=null&&ve.push(Di(K,ce,X)))),Fe)break;K=K.return}0<ve.length&&(oe=new pe(oe,me,null,r,ae),le.push({event:oe,listeners:ve}))}}if((t&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",oe&&r!==wn&&(me=r.relatedTarget||r.fromElement)&&(xr(me)||me[Ft]))break e;if((pe||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,pe?(me=r.relatedTarget||r.toElement,pe=J,me=me?xr(me):null,me!==null&&(Fe=Cr(me),me!==Fe||me.tag!==5&&me.tag!==6)&&(me=null)):(pe=null,me=J),pe!==me)){if(ve=al,ce="onMouseLeave",Y="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(ve=cl,ce="onPointerLeave",Y="onPointerEnter",K="pointer"),Fe=pe==null?oe:qr(pe),X=me==null?oe:qr(me),oe=new ve(ce,K+"leave",pe,r,ae),oe.target=Fe,oe.relatedTarget=X,ce=null,xr(ae)===J&&(ve=new ve(Y,K+"enter",me,r,ae),ve.target=X,ve.relatedTarget=Fe,ce=ve),Fe=ce,pe&&me)t:{for(ve=pe,Y=me,K=0,X=ve;X;X=Vr(X))K++;for(X=0,ce=Y;ce;ce=Vr(ce))X++;for(;0<K-X;)ve=Vr(ve),K--;for(;0<X-K;)Y=Vr(Y),X--;for(;K--;){if(ve===Y||Y!==null&&ve===Y.alternate)break t;ve=Vr(ve),Y=Vr(Y)}ve=null}else ve=null;pe!==null&&Il(le,oe,pe,ve,!1),me!==null&&Fe!==null&&Il(le,Fe,me,ve,!0)}}e:{if(oe=J?qr(J):window,pe=oe.nodeName&&oe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&oe.type==="file")var ge=ld;else if(_l(oe))if(vl)ge=dd;else{ge=ud;var ye=cd}else(pe=oe.nodeName)&&pe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(ge=hd);if(ge&&(ge=ge(e,J))){ml(le,ge,r,ae);break e}ye&&ye(e,oe,J),e==="focusout"&&(ye=oe._wrapperState)&&ye.controlled&&oe.type==="number"&&yr(oe,"number",oe.value)}switch(ye=J?qr(J):window,e){case"focusin":(_l(ye)||ye.contentEditable==="true")&&(Wr=ye,Vn=J,ki=null);break;case"focusout":ki=Vn=Wr=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":case"dragend":Kn=!1,bl(le,r,ae);break;case"selectionchange":if(_d)break;case"keydown":case"keyup":bl(le,r,ae)}var Se;if(zn)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ur?fl(e,r)&&(Ce="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ce="onCompositionStart");Ce&&(ul&&r.locale!=="ko"&&(Ur||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ur&&(Se=nl()):(ir=ae,Bn="value"in ir?ir.value:ir.textContent,Ur=!0)),ye=ws(J,Ce),0<ye.length&&(Ce=new ll(Ce,e,null,r,ae),le.push({event:Ce,listeners:ye}),Se?Ce.data=Se:(Se=pl(r),Se!==null&&(Ce.data=Se)))),(Se=id?sd(e,r):nd(e,r))&&(J=ws(J,"onBeforeInput"),0<J.length&&(ae=new ll("onBeforeInput","beforeinput",null,r,ae),le.push({event:ae,listeners:J}),ae.data=Se))}Ol(le,t)})}function Di(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ws(e,t){for(var r=t+"Capture",i=[];e!==null;){var u=e,_=u.stateNode;u.tag===5&&_!==null&&(u=_,_=ui(e,r),_!=null&&i.unshift(Di(e,_,u)),_=ui(e,t),_!=null&&i.push(Di(e,_,u))),e=e.return}return i}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Il(e,t,r,i,u){for(var _=t._reactName,k=[];r!==null&&r!==i;){var N=r,U=N.alternate,J=N.stateNode;if(U!==null&&U===i)break;N.tag===5&&J!==null&&(N=J,u?(U=ui(r,_),U!=null&&k.unshift(Di(r,U,N))):u||(U=ui(r,_),U!=null&&k.push(Di(r,U,N)))),r=r.return}k.length!==0&&e.push({event:t,listeners:k})}var yd=/\r\n?/g,Sd=/\u0000|\uFFFD/g;function Nl(e){return(typeof e=="string"?e:""+e).replace(yd,`
`).replace(Sd,"")}function Cs(e,t,r){if(t=Nl(t),Nl(e)!==t&&r)throw Error(D(425))}function xs(){}var Qn=null,Zn=null;function eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,wd=typeof clearTimeout=="function"?clearTimeout:void 0,Hl=typeof Promise=="function"?Promise:void 0,Cd=typeof queueMicrotask=="function"?queueMicrotask:typeof Hl<"u"?function(e){return Hl.resolve(null).then(e).catch(xd)}:to;function xd(e){setTimeout(function(){throw e})}function ro(e,t){var r=t,i=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(i===0){e.removeChild(u),yi(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=u}while(r);yi(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Kr,Ti="__reactProps$"+Kr,Ft="__reactContainer$"+Kr,io="__reactEvents$"+Kr,Ed="__reactListeners$"+Kr,bd="__reactHandles$"+Kr;function xr(e){var t=e[Mt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ft]||r[Mt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jl(e);e!==null;){if(r=e[Mt])return r;e=jl(e)}return t}e=r,r=e.parentNode}return null}function Ai(e){return e=e[Mt]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Es(e){return e[Ti]||null}var so=[],Yr=-1;function or(e){return{current:e}}function Me(e){0>Yr||(e.current=so[Yr],so[Yr]=null,Yr--)}function De(e,t){Yr++,so[Yr]=e.current,e.current=t}var ar={},Xe=or(ar),st=or(!1),Er=ar;function Gr(e,t){var r=e.type.contextTypes;if(!r)return ar;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var u={},_;for(_ in r)u[_]=t[_];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function nt(e){return e=e.childContextTypes,e!=null}function bs(){Me(st),Me(Xe)}function Fl(e,t,r){if(Xe.current!==ar)throw Error(D(168));De(Xe,t),De(st,r)}function zl(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var u in i)if(!(u in t))throw Error(D(108,$(e)||"Unknown",u));return P({},r,i)}function ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Er=Xe.current,De(Xe,e),De(st,st.current),!0}function Ul(e,t,r){var i=e.stateNode;if(!i)throw Error(D(169));r?(e=zl(e,t,Er),i.__reactInternalMemoizedMergedChildContext=e,Me(st),Me(Xe),De(Xe,e)):Me(st),De(st,r)}var zt=null,Ls=!1,no=!1;function Wl(e){zt===null?zt=[e]:zt.push(e)}function kd(e){Ls=!0,Wl(e)}function lr(){if(!no&&zt!==null){no=!0;var e=0,t=Le;try{var r=zt;for(Le=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}zt=null,Ls=!1}catch(u){throw zt!==null&&(zt=zt.slice(e+1)),Va(Ln,lr),u}finally{Le=t,no=!1}}return null}var Xr=[],Jr=0,Rs=null,Ds=0,mt=[],vt=0,br=null,Ut=1,Wt="";function kr(e,t){Xr[Jr++]=Ds,Xr[Jr++]=Rs,Rs=e,Ds=t}function $l(e,t,r){mt[vt++]=Ut,mt[vt++]=Wt,mt[vt++]=br,br=e;var i=Ut;e=Wt;var u=32-xt(i)-1;i&=~(1<<u),r+=1;var _=32-xt(t)+u;if(30<_){var k=u-u%5;_=(i&(1<<k)-1).toString(32),i>>=k,u-=k,Ut=1<<32-xt(t)+u|r<<u|i,Wt=_+e}else Ut=1<<_|r<<u|i,Wt=e}function oo(e){e.return!==null&&(kr(e,1),$l(e,1,0))}function ao(e){for(;e===Rs;)Rs=Xr[--Jr],Xr[Jr]=null,Ds=Xr[--Jr],Xr[Jr]=null;for(;e===br;)br=mt[--vt],mt[vt]=null,Wt=mt[--vt],mt[vt]=null,Ut=mt[--vt],mt[vt]=null}var ft=null,pt=null,Oe=!1,bt=null;function Vl(e,t){var r=wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kl(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,pt=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=br!==null?{id:Ut,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ft=e,pt=null,!0):!1;default:return!1}}function lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function co(e){if(Oe){var t=pt;if(t){var r=t;if(!Kl(e,t)){if(lo(e))throw Error(D(418));t=nr(r.nextSibling);var i=ft;t&&Kl(e,t)?Vl(i,r):(e.flags=e.flags&-4097|2,Oe=!1,ft=e)}}else{if(lo(e))throw Error(D(418));e.flags=e.flags&-4097|2,Oe=!1,ft=e}}}function ql(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Ts(e){if(e!==ft)return!1;if(!Oe)return ql(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eo(e.type,e.memoizedProps)),t&&(t=pt)){if(lo(e))throw Yl(),Error(D(418));for(;t;)Vl(e,t),t=nr(t.nextSibling)}if(ql(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pt=nr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=ft?nr(e.stateNode.nextSibling):null;return!0}function Yl(){for(var e=pt;e;)e=nr(e.nextSibling)}function Qr(){pt=ft=null,Oe=!1}function uo(e){bt===null?bt=[e]:bt.push(e)}var Ld=p.ReactCurrentBatchConfig;function Pi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var i=r.stateNode}if(!i)throw Error(D(147,e));var u=i,_=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===_?t.ref:(t=function(k){var N=u.refs;k===null?delete N[_]:N[_]=k},t._stringRef=_,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gl(e){var t=e._init;return t(e._payload)}function Xl(e){function t(Y,K){if(e){var X=Y.deletions;X===null?(Y.deletions=[K],Y.flags|=16):X.push(K)}}function r(Y,K){if(!e)return null;for(;K!==null;)t(Y,K),K=K.sibling;return null}function i(Y,K){for(Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function u(Y,K){return Y=mr(Y,K),Y.index=0,Y.sibling=null,Y}function _(Y,K,X){return Y.index=X,e?(X=Y.alternate,X!==null?(X=X.index,X<K?(Y.flags|=2,K):X):(Y.flags|=2,K)):(Y.flags|=1048576,K)}function k(Y){return e&&Y.alternate===null&&(Y.flags|=2),Y}function N(Y,K,X,ce){return K===null||K.tag!==6?(K=ra(X,Y.mode,ce),K.return=Y,K):(K=u(K,X),K.return=Y,K)}function U(Y,K,X,ce){var ge=X.type;return ge===E?ae(Y,K,X.props.children,ce,X.key):K!==null&&(K.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ie&&Gl(ge)===K.type)?(ce=u(K,X.props),ce.ref=Pi(Y,K,X),ce.return=Y,ce):(ce=tn(X.type,X.key,X.props,null,Y.mode,ce),ce.ref=Pi(Y,K,X),ce.return=Y,ce)}function J(Y,K,X,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==X.containerInfo||K.stateNode.implementation!==X.implementation?(K=ia(X,Y.mode,ce),K.return=Y,K):(K=u(K,X.children||[]),K.return=Y,K)}function ae(Y,K,X,ce,ge){return K===null||K.tag!==7?(K=Or(X,Y.mode,ce,ge),K.return=Y,K):(K=u(K,X),K.return=Y,K)}function le(Y,K,X){if(typeof K=="string"&&K!==""||typeof K=="number")return K=ra(""+K,Y.mode,X),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return X=tn(K.type,K.key,K.props,null,Y.mode,X),X.ref=Pi(Y,null,K),X.return=Y,X;case x:return K=ia(K,Y.mode,X),K.return=Y,K;case ie:var ce=K._init;return le(Y,ce(K._payload),X)}if(jt(K)||b(K))return K=Or(K,Y.mode,X,null),K.return=Y,K;As(Y,K)}return null}function oe(Y,K,X,ce){var ge=K!==null?K.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return ge!==null?null:N(Y,K,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return X.key===ge?U(Y,K,X,ce):null;case x:return X.key===ge?J(Y,K,X,ce):null;case ie:return ge=X._init,oe(Y,K,ge(X._payload),ce)}if(jt(X)||b(X))return ge!==null?null:ae(Y,K,X,ce,null);As(Y,X)}return null}function pe(Y,K,X,ce,ge){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Y=Y.get(X)||null,N(K,Y,""+ce,ge);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case C:return Y=Y.get(ce.key===null?X:ce.key)||null,U(K,Y,ce,ge);case x:return Y=Y.get(ce.key===null?X:ce.key)||null,J(K,Y,ce,ge);case ie:var ye=ce._init;return pe(Y,K,X,ye(ce._payload),ge)}if(jt(ce)||b(ce))return Y=Y.get(X)||null,ae(K,Y,ce,ge,null);As(K,ce)}return null}function me(Y,K,X,ce){for(var ge=null,ye=null,Se=K,Ce=K=0,Ke=null;Se!==null&&Ce<X.length;Ce++){Se.index>Ce?(Ke=Se,Se=null):Ke=Se.sibling;var ke=oe(Y,Se,X[Ce],ce);if(ke===null){Se===null&&(Se=Ke);break}e&&Se&&ke.alternate===null&&t(Y,Se),K=_(ke,K,Ce),ye===null?ge=ke:ye.sibling=ke,ye=ke,Se=Ke}if(Ce===X.length)return r(Y,Se),Oe&&kr(Y,Ce),ge;if(Se===null){for(;Ce<X.length;Ce++)Se=le(Y,X[Ce],ce),Se!==null&&(K=_(Se,K,Ce),ye===null?ge=Se:ye.sibling=Se,ye=Se);return Oe&&kr(Y,Ce),ge}for(Se=i(Y,Se);Ce<X.length;Ce++)Ke=pe(Se,Y,Ce,X[Ce],ce),Ke!==null&&(e&&Ke.alternate!==null&&Se.delete(Ke.key===null?Ce:Ke.key),K=_(Ke,K,Ce),ye===null?ge=Ke:ye.sibling=Ke,ye=Ke);return e&&Se.forEach(function(vr){return t(Y,vr)}),Oe&&kr(Y,Ce),ge}function ve(Y,K,X,ce){var ge=b(X);if(typeof ge!="function")throw Error(D(150));if(X=ge.call(X),X==null)throw Error(D(151));for(var ye=ge=null,Se=K,Ce=K=0,Ke=null,ke=X.next();Se!==null&&!ke.done;Ce++,ke=X.next()){Se.index>Ce?(Ke=Se,Se=null):Ke=Se.sibling;var vr=oe(Y,Se,ke.value,ce);if(vr===null){Se===null&&(Se=Ke);break}e&&Se&&vr.alternate===null&&t(Y,Se),K=_(vr,K,Ce),ye===null?ge=vr:ye.sibling=vr,ye=vr,Se=Ke}if(ke.done)return r(Y,Se),Oe&&kr(Y,Ce),ge;if(Se===null){for(;!ke.done;Ce++,ke=X.next())ke=le(Y,ke.value,ce),ke!==null&&(K=_(ke,K,Ce),ye===null?ge=ke:ye.sibling=ke,ye=ke);return Oe&&kr(Y,Ce),ge}for(Se=i(Y,Se);!ke.done;Ce++,ke=X.next())ke=pe(Se,Y,Ce,ke.value,ce),ke!==null&&(e&&ke.alternate!==null&&Se.delete(ke.key===null?Ce:ke.key),K=_(ke,K,Ce),ye===null?ge=ke:ye.sibling=ke,ye=ke);return e&&Se.forEach(function(af){return t(Y,af)}),Oe&&kr(Y,Ce),ge}function Fe(Y,K,X,ce){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case C:e:{for(var ge=X.key,ye=K;ye!==null;){if(ye.key===ge){if(ge=X.type,ge===E){if(ye.tag===7){r(Y,ye.sibling),K=u(ye,X.props.children),K.return=Y,Y=K;break e}}else if(ye.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ie&&Gl(ge)===ye.type){r(Y,ye.sibling),K=u(ye,X.props),K.ref=Pi(Y,ye,X),K.return=Y,Y=K;break e}r(Y,ye);break}else t(Y,ye);ye=ye.sibling}X.type===E?(K=Or(X.props.children,Y.mode,ce,X.key),K.return=Y,Y=K):(ce=tn(X.type,X.key,X.props,null,Y.mode,ce),ce.ref=Pi(Y,K,X),ce.return=Y,Y=ce)}return k(Y);case x:e:{for(ye=X.key;K!==null;){if(K.key===ye)if(K.tag===4&&K.stateNode.containerInfo===X.containerInfo&&K.stateNode.implementation===X.implementation){r(Y,K.sibling),K=u(K,X.children||[]),K.return=Y,Y=K;break e}else{r(Y,K);break}else t(Y,K);K=K.sibling}K=ia(X,Y.mode,ce),K.return=Y,Y=K}return k(Y);case ie:return ye=X._init,Fe(Y,K,ye(X._payload),ce)}if(jt(X))return me(Y,K,X,ce);if(b(X))return ve(Y,K,X,ce);As(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,K!==null&&K.tag===6?(r(Y,K.sibling),K=u(K,X),K.return=Y,Y=K):(r(Y,K),K=ra(X,Y.mode,ce),K.return=Y,Y=K),k(Y)):r(Y,K)}return Fe}var Zr=Xl(!0),Jl=Xl(!1),Ps=or(null),Ms=null,ei=null,ho=null;function fo(){ho=ei=Ms=null}function po(e){var t=Ps.current;Me(Ps),e._currentValue=t}function _o(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function ti(e,t){Ms=e,ho=ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ot=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(ho!==e)if(e={context:e,memoizedValue:t,next:null},ei===null){if(Ms===null)throw Error(D(308));ei=e,Ms.dependencies={lanes:0,firstContext:e}}else ei=ei.next=e;return t}var Lr=null;function mo(e){Lr===null?Lr=[e]:Lr.push(e)}function Ql(e,t,r,i){var u=t.interleaved;return u===null?(r.next=r,mo(t)):(r.next=u.next,u.next=r),t.interleaved=r,$t(e,i)}function $t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cr=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(be&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,$t(e,r)}return u=i.interleaved,u===null?(t.next=t,mo(i)):(t.next=u.next,u.next=t),i.interleaved=t,$t(e,r)}function Os(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Tn(e,r)}}function ec(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,_=null;if(r=r.firstBaseUpdate,r!==null){do{var k={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};_===null?u=_=k:_=_.next=k,r=r.next}while(r!==null);_===null?u=_=t:_=_.next=t}else u=_=t;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:_,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bs(e,t,r,i){var u=e.updateQueue;cr=!1;var _=u.firstBaseUpdate,k=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var U=N,J=U.next;U.next=null,k===null?_=J:k.next=J,k=U;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==k&&(N===null?ae.firstBaseUpdate=J:N.next=J,ae.lastBaseUpdate=U))}if(_!==null){var le=u.baseState;k=0,ae=J=U=null,N=_;do{var oe=N.lane,pe=N.eventTime;if((i&oe)===oe){ae!==null&&(ae=ae.next={eventTime:pe,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var me=e,ve=N;switch(oe=t,pe=r,ve.tag){case 1:if(me=ve.payload,typeof me=="function"){le=me.call(pe,le,oe);break e}le=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,oe=typeof me=="function"?me.call(pe,le,oe):me,oe==null)break e;le=P({},le,oe);break e;case 2:cr=!0}}N.callback!==null&&N.lane!==0&&(e.flags|=64,oe=u.effects,oe===null?u.effects=[N]:oe.push(N))}else pe={eventTime:pe,lane:oe,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(J=ae=pe,U=le):ae=ae.next=pe,k|=oe;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;oe=N,N=oe.next,oe.next=null,u.lastBaseUpdate=oe,u.shared.pending=null}}while(!0);if(ae===null&&(U=le),u.baseState=U,u.firstBaseUpdate=J,u.lastBaseUpdate=ae,t=u.shared.interleaved,t!==null){u=t;do k|=u.lane,u=u.next;while(u!==t)}else _===null&&(u.shared.lanes=0);Tr|=k,e.lanes=k,e.memoizedState=le}}function tc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],u=i.callback;if(u!==null){if(i.callback=null,i=r,typeof u!="function")throw Error(D(191,u));u.call(i)}}}var Mi={},Ot=or(Mi),Oi=or(Mi),Bi=or(Mi);function Rr(e){if(e===Mi)throw Error(D(174));return e}function go(e,t){switch(De(Bi,t),De(Oi,e),De(Ot,Mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sr(t,e)}Me(Ot),De(Ot,t)}function ri(){Me(Ot),Me(Oi),Me(Bi)}function rc(e){Rr(Bi.current);var t=Rr(Ot.current),r=Sr(t,e.type);t!==r&&(De(Oi,e),De(Ot,r))}function yo(e){Oi.current===e&&(Me(Ot),Me(Oi))}var Be=or(0);function Is(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var So=[];function wo(){for(var e=0;e<So.length;e++)So[e]._workInProgressVersionPrimary=null;So.length=0}var Ns=p.ReactCurrentDispatcher,Co=p.ReactCurrentBatchConfig,Dr=0,Ie=null,Ue=null,$e=null,Hs=!1,Ii=!1,Ni=0,Rd=0;function Je(){throw Error(D(321))}function xo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Et(e[r],t[r]))return!1;return!0}function Eo(e,t,r,i,u,_){if(Dr=_,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?Pd:Md,e=r(i,u),Ii){_=0;do{if(Ii=!1,Ni=0,25<=_)throw Error(D(301));_+=1,$e=Ue=null,t.updateQueue=null,Ns.current=Od,e=r(i,u)}while(Ii)}if(Ns.current=zs,t=Ue!==null&&Ue.next!==null,Dr=0,$e=Ue=Ie=null,Hs=!1,t)throw Error(D(300));return e}function bo(){var e=Ni!==0;return Ni=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ie.memoizedState=$e=e:$e=$e.next=e,$e}function yt(){if(Ue===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=$e===null?Ie.memoizedState:$e.next;if(t!==null)$e=t,Ue=e;else{if(e===null)throw Error(D(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},$e===null?Ie.memoizedState=$e=e:$e=$e.next=e}return $e}function Hi(e,t){return typeof t=="function"?t(e):t}function ko(e){var t=yt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var i=Ue,u=i.baseQueue,_=r.pending;if(_!==null){if(u!==null){var k=u.next;u.next=_.next,_.next=k}i.baseQueue=u=_,r.pending=null}if(u!==null){_=u.next,i=i.baseState;var N=k=null,U=null,J=_;do{var ae=J.lane;if((Dr&ae)===ae)U!==null&&(U=U.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),i=J.hasEagerState?J.eagerState:e(i,J.action);else{var le={lane:ae,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};U===null?(N=U=le,k=i):U=U.next=le,Ie.lanes|=ae,Tr|=ae}J=J.next}while(J!==null&&J!==_);U===null?k=i:U.next=N,Et(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseState=k,t.baseQueue=U,r.lastRenderedState=i}if(e=r.interleaved,e!==null){u=e;do _=u.lane,Ie.lanes|=_,Tr|=_,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lo(e){var t=yt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var i=r.dispatch,u=r.pending,_=t.memoizedState;if(u!==null){r.pending=null;var k=u=u.next;do _=e(_,k.action),k=k.next;while(k!==u);Et(_,t.memoizedState)||(ot=!0),t.memoizedState=_,t.baseQueue===null&&(t.baseState=_),r.lastRenderedState=_}return[_,i]}function ic(){}function sc(e,t){var r=Ie,i=yt(),u=t(),_=!Et(i.memoizedState,u);if(_&&(i.memoizedState=u,ot=!0),i=i.queue,Ro(ac.bind(null,r,i,e),[e]),i.getSnapshot!==t||_||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,ji(9,oc.bind(null,r,i,u,t),void 0,null),Ve===null)throw Error(D(349));(Dr&30)!==0||nc(r,t,u)}return u}function nc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function oc(e,t,r,i){t.value=r,t.getSnapshot=i,lc(t)&&cc(e)}function ac(e,t,r){return r(function(){lc(t)&&cc(e)})}function lc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Et(e,r)}catch{return!0}}function cc(e){var t=$t(e,1);t!==null&&Dt(t,e,1,-1)}function uc(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ad.bind(null,Ie,e),[t.memoizedState,e]}function ji(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function hc(){return yt().memoizedState}function js(e,t,r,i){var u=Bt();Ie.flags|=e,u.memoizedState=ji(1|t,r,void 0,i===void 0?null:i)}function Fs(e,t,r,i){var u=yt();i=i===void 0?null:i;var _=void 0;if(Ue!==null){var k=Ue.memoizedState;if(_=k.destroy,i!==null&&xo(i,k.deps)){u.memoizedState=ji(t,r,_,i);return}}Ie.flags|=e,u.memoizedState=ji(1|t,r,_,i)}function dc(e,t){return js(8390656,8,e,t)}function Ro(e,t){return Fs(2048,8,e,t)}function fc(e,t){return Fs(4,2,e,t)}function pc(e,t){return Fs(4,4,e,t)}function _c(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mc(e,t,r){return r=r!=null?r.concat([e]):null,Fs(4,4,_c.bind(null,t,e),r)}function Do(){}function vc(e,t){var r=yt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&xo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function gc(e,t){var r=yt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&xo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function yc(e,t,r){return(Dr&21)===0?(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r):(Et(r,t)||(r=Ga(),Ie.lanes|=r,Tr|=r,e.baseState=!0),t)}function Dd(e,t){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var i=Co.transition;Co.transition={};try{e(!1),t()}finally{Le=r,Co.transition=i}}function Sc(){return yt().memoizedState}function Td(e,t,r){var i=pr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},wc(e))Cc(t,r);else if(r=Ql(e,t,r,i),r!==null){var u=rt();Dt(r,e,i,u),xc(r,t,i)}}function Ad(e,t,r){var i=pr(e),u={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(wc(e))Cc(t,u);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=t.lastRenderedReducer,_!==null))try{var k=t.lastRenderedState,N=_(k,r);if(u.hasEagerState=!0,u.eagerState=N,Et(N,k)){var U=t.interleaved;U===null?(u.next=u,mo(t)):(u.next=U.next,U.next=u),t.interleaved=u;return}}catch{}finally{}r=Ql(e,t,u,i),r!==null&&(u=rt(),Dt(r,e,i,u),xc(r,t,i))}}function wc(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Cc(e,t){Ii=Hs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Tn(e,r)}}var zs={readContext:gt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Pd={readContext:gt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:dc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,js(4194308,4,_c.bind(null,t,e),r)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var r=Bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Bt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Td.bind(null,Ie,e),[i.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:uc,useDebugValue:Do,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=uc(!1),t=e[0];return e=Dd.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Ie,u=Bt();if(Oe){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),Ve===null)throw Error(D(349));(Dr&30)!==0||nc(i,t,r)}u.memoizedState=r;var _={value:r,getSnapshot:t};return u.queue=_,dc(ac.bind(null,i,_,e),[e]),i.flags|=2048,ji(9,oc.bind(null,i,_,r,t),void 0,null),r},useId:function(){var e=Bt(),t=Ve.identifierPrefix;if(Oe){var r=Wt,i=Ut;r=(i&~(1<<32-xt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ni++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Rd++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Md={readContext:gt,useCallback:vc,useContext:gt,useEffect:Ro,useImperativeHandle:mc,useInsertionEffect:fc,useLayoutEffect:pc,useMemo:gc,useReducer:ko,useRef:hc,useState:function(){return ko(Hi)},useDebugValue:Do,useDeferredValue:function(e){var t=yt();return yc(t,Ue.memoizedState,e)},useTransition:function(){var e=ko(Hi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:sc,useId:Sc,unstable_isNewReconciler:!1},Od={readContext:gt,useCallback:vc,useContext:gt,useEffect:Ro,useImperativeHandle:mc,useInsertionEffect:fc,useLayoutEffect:pc,useMemo:gc,useReducer:Lo,useRef:hc,useState:function(){return Lo(Hi)},useDebugValue:Do,useDeferredValue:function(e){var t=yt();return Ue===null?t.memoizedState=e:yc(t,Ue.memoizedState,e)},useTransition:function(){var e=Lo(Hi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:sc,useId:Sc,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=P({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function To(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:P({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Us={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=rt(),u=pr(e),_=Vt(i,u);_.payload=t,r!=null&&(_.callback=r),t=ur(e,_,u),t!==null&&(Dt(t,e,u,i),Os(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=rt(),u=pr(e),_=Vt(i,u);_.tag=1,_.payload=t,r!=null&&(_.callback=r),t=ur(e,_,u),t!==null&&(Dt(t,e,u,i),Os(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),i=pr(e),u=Vt(r,i);u.tag=2,t!=null&&(u.callback=t),t=ur(e,u,i),t!==null&&(Dt(t,e,i,r),Os(t,e,i))}};function Ec(e,t,r,i,u,_,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,_,k):t.prototype&&t.prototype.isPureReactComponent?!bi(r,i)||!bi(u,_):!0}function bc(e,t,r){var i=!1,u=ar,_=t.contextType;return typeof _=="object"&&_!==null?_=gt(_):(u=nt(t)?Er:Xe.current,i=t.contextTypes,_=(i=i!=null)?Gr(e,u):ar),t=new t(r,_),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Us,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=_),t}function kc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ao(e,t,r,i){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},vo(e);var _=t.contextType;typeof _=="object"&&_!==null?u.context=gt(_):(_=nt(t)?Er:Xe.current,u.context=Gr(e,_)),u.state=e.memoizedState,_=t.getDerivedStateFromProps,typeof _=="function"&&(To(e,t,_,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Us.enqueueReplaceState(u,u.state,null),Bs(e,r,u,i),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,t){try{var r="",i=t;do r+=ue(i),i=i.return;while(i);var u=r}catch(_){u=`
Error generating stack: `+_.message+`
`+_.stack}return{value:e,source:t,stack:u,digest:null}}function Po(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Mo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bd=typeof WeakMap=="function"?WeakMap:Map;function Lc(e,t,r){r=Vt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Gs||(Gs=!0,Yo=i),Mo(e,t)},r}function Rc(e,t,r){r=Vt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var u=t.value;r.payload=function(){return i(u)},r.callback=function(){Mo(e,t)}}var _=e.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){Mo(e,t),typeof i!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var k=t.stack;this.componentDidCatch(t.value,{componentStack:k!==null?k:""})}),r}function Dc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Bd;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(r)||(u.add(r),e=Gd.bind(null,e,t,r),t.then(e,e))}function Tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ac(e,t,r,i,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vt(-1,1),t.tag=2,ur(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Id=p.ReactCurrentOwner,ot=!1;function tt(e,t,r,i){t.child=e===null?Jl(t,null,r,i):Zr(t,e.child,r,i)}function Pc(e,t,r,i,u){r=r.render;var _=t.ref;return ti(t,u),i=Eo(e,t,r,i,_,u),r=bo(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Kt(e,t,u)):(Oe&&r&&oo(t),t.flags|=1,tt(e,t,i,u),t.child)}function Mc(e,t,r,i,u){if(e===null){var _=r.type;return typeof _=="function"&&!ta(_)&&_.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=_,Oc(e,t,_,i,u)):(e=tn(r.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(_=e.child,(e.lanes&u)===0){var k=_.memoizedProps;if(r=r.compare,r=r!==null?r:bi,r(k,i)&&e.ref===t.ref)return Kt(e,t,u)}return t.flags|=1,e=mr(_,i),e.ref=t.ref,e.return=t,t.child=e}function Oc(e,t,r,i,u){if(e!==null){var _=e.memoizedProps;if(bi(_,i)&&e.ref===t.ref)if(ot=!1,t.pendingProps=i=_,(e.lanes&u)!==0)(e.flags&131072)!==0&&(ot=!0);else return t.lanes=e.lanes,Kt(e,t,u)}return Oo(e,t,r,i,u)}function Bc(e,t,r){var i=t.pendingProps,u=i.children,_=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ni,_t),_t|=r;else{if((r&1073741824)===0)return e=_!==null?_.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(ni,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=_!==null?_.baseLanes:r,De(ni,_t),_t|=i}else _!==null?(i=_.baseLanes|r,t.memoizedState=null):i=r,De(ni,_t),_t|=i;return tt(e,t,u,r),t.child}function Ic(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Oo(e,t,r,i,u){var _=nt(r)?Er:Xe.current;return _=Gr(t,_),ti(t,u),r=Eo(e,t,r,i,_,u),i=bo(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Kt(e,t,u)):(Oe&&i&&oo(t),t.flags|=1,tt(e,t,r,u),t.child)}function Nc(e,t,r,i,u){if(nt(r)){var _=!0;ks(t)}else _=!1;if(ti(t,u),t.stateNode===null)$s(e,t),bc(t,r,i),Ao(t,r,i,u),i=!0;else if(e===null){var k=t.stateNode,N=t.memoizedProps;k.props=N;var U=k.context,J=r.contextType;typeof J=="object"&&J!==null?J=gt(J):(J=nt(r)?Er:Xe.current,J=Gr(t,J));var ae=r.getDerivedStateFromProps,le=typeof ae=="function"||typeof k.getSnapshotBeforeUpdate=="function";le||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N!==i||U!==J)&&kc(t,k,i,J),cr=!1;var oe=t.memoizedState;k.state=oe,Bs(t,i,k,u),U=t.memoizedState,N!==i||oe!==U||st.current||cr?(typeof ae=="function"&&(To(t,r,ae,i),U=t.memoizedState),(N=cr||Ec(t,r,N,i,oe,U,J))?(le||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(t.flags|=4194308)):(typeof k.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=U),k.props=i,k.state=U,k.context=J,i=N):(typeof k.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{k=t.stateNode,Zl(e,t),N=t.memoizedProps,J=t.type===t.elementType?N:kt(t.type,N),k.props=J,le=t.pendingProps,oe=k.context,U=r.contextType,typeof U=="object"&&U!==null?U=gt(U):(U=nt(r)?Er:Xe.current,U=Gr(t,U));var pe=r.getDerivedStateFromProps;(ae=typeof pe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N!==le||oe!==U)&&kc(t,k,i,U),cr=!1,oe=t.memoizedState,k.state=oe,Bs(t,i,k,u);var me=t.memoizedState;N!==le||oe!==me||st.current||cr?(typeof pe=="function"&&(To(t,r,pe,i),me=t.memoizedState),(J=cr||Ec(t,r,J,i,oe,me,U)||!1)?(ae||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(i,me,U),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(i,me,U)),typeof k.componentDidUpdate=="function"&&(t.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof k.componentDidUpdate!="function"||N===e.memoizedProps&&oe===e.memoizedState||(t.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&oe===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=me),k.props=i,k.state=me,k.context=U,i=J):(typeof k.componentDidUpdate!="function"||N===e.memoizedProps&&oe===e.memoizedState||(t.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&oe===e.memoizedState||(t.flags|=1024),i=!1)}return Bo(e,t,r,i,_,u)}function Bo(e,t,r,i,u,_){Ic(e,t);var k=(t.flags&128)!==0;if(!i&&!k)return u&&Ul(t,r,!1),Kt(e,t,_);i=t.stateNode,Id.current=t;var N=k&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&k?(t.child=Zr(t,e.child,null,_),t.child=Zr(t,null,N,_)):tt(e,t,N,_),t.memoizedState=i.state,u&&Ul(t,r,!0),t.child}function Hc(e){var t=e.stateNode;t.pendingContext?Fl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fl(e,t.context,!1),go(e,t.containerInfo)}function jc(e,t,r,i,u){return Qr(),uo(u),t.flags|=256,tt(e,t,r,i),t.child}var Io={dehydrated:null,treeContext:null,retryLane:0};function No(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fc(e,t,r){var i=t.pendingProps,u=Be.current,_=!1,k=(t.flags&128)!==0,N;if((N=k)||(N=e!==null&&e.memoizedState===null?!1:(u&2)!==0),N?(_=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),De(Be,u&1),e===null)return co(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(k=i.children,e=i.fallback,_?(i=t.mode,_=t.child,k={mode:"hidden",children:k},(i&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=k):_=rn(k,i,0,null),e=Or(e,i,r,null),_.return=t,e.return=t,_.sibling=e,t.child=_,t.child.memoizedState=No(r),t.memoizedState=Io,e):Ho(t,k));if(u=e.memoizedState,u!==null&&(N=u.dehydrated,N!==null))return Nd(e,t,k,i,N,u,r);if(_){_=i.fallback,k=t.mode,u=e.child,N=u.sibling;var U={mode:"hidden",children:i.children};return(k&1)===0&&t.child!==u?(i=t.child,i.childLanes=0,i.pendingProps=U,t.deletions=null):(i=mr(u,U),i.subtreeFlags=u.subtreeFlags&14680064),N!==null?_=mr(N,_):(_=Or(_,k,r,null),_.flags|=2),_.return=t,i.return=t,i.sibling=_,t.child=i,i=_,_=t.child,k=e.child.memoizedState,k=k===null?No(r):{baseLanes:k.baseLanes|r,cachePool:null,transitions:k.transitions},_.memoizedState=k,_.childLanes=e.childLanes&~r,t.memoizedState=Io,i}return _=e.child,e=_.sibling,i=mr(_,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Ho(e,t){return t=rn({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,r,i){return i!==null&&uo(i),Zr(t,e.child,null,r),e=Ho(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nd(e,t,r,i,u,_,k){if(r)return t.flags&256?(t.flags&=-257,i=Po(Error(D(422))),Ws(e,t,k,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(_=i.fallback,u=t.mode,i=rn({mode:"visible",children:i.children},u,0,null),_=Or(_,u,k,null),_.flags|=2,i.return=t,_.return=t,i.sibling=_,t.child=i,(t.mode&1)!==0&&Zr(t,e.child,null,k),t.child.memoizedState=No(k),t.memoizedState=Io,_);if((t.mode&1)===0)return Ws(e,t,k,null);if(u.data==="$!"){if(i=u.nextSibling&&u.nextSibling.dataset,i)var N=i.dgst;return i=N,_=Error(D(419)),i=Po(_,i,void 0),Ws(e,t,k,i)}if(N=(k&e.childLanes)!==0,ot||N){if(i=Ve,i!==null){switch(k&-k){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(i.suspendedLanes|k))!==0?0:u,u!==0&&u!==_.retryLane&&(_.retryLane=u,$t(e,u),Dt(i,e,u,-1))}return ea(),i=Po(Error(D(421))),Ws(e,t,k,i)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Xd.bind(null,e),u._reactRetry=t,null):(e=_.treeContext,pt=nr(u.nextSibling),ft=t,Oe=!0,bt=null,e!==null&&(mt[vt++]=Ut,mt[vt++]=Wt,mt[vt++]=br,Ut=e.id,Wt=e.overflow,br=t),t=Ho(t,i.children),t.flags|=4096,t)}function zc(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),_o(e.return,t,r)}function jo(e,t,r,i,u){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=i,_.tail=r,_.tailMode=u)}function Uc(e,t,r){var i=t.pendingProps,u=i.revealOrder,_=i.tail;if(tt(e,t,i.children,r),i=Be.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zc(e,r,t);else if(e.tag===19)zc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(De(Be,i),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&Is(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),jo(t,!1,u,r,_);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Is(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}jo(t,!0,r,null,_);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=mr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Hd(e,t,r){switch(t.tag){case 3:Hc(t),Qr();break;case 5:rc(t);break;case 1:nt(t.type)&&ks(t);break;case 4:go(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,u=t.memoizedProps.value;De(Ps,i._currentValue),i._currentValue=u;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(De(Be,Be.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Fc(e,t,r):(De(Be,Be.current&1),e=Kt(e,t,r),e!==null?e.sibling:null);De(Be,Be.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Uc(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),De(Be,Be.current),i)break;return null;case 22:case 23:return t.lanes=0,Bc(e,t,r)}return Kt(e,t,r)}var Wc,Fo,$c,Vc;Wc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Fo=function(){},$c=function(e,t,r,i){var u=e.memoizedProps;if(u!==i){e=t.stateNode,Rr(Ot.current);var _=null;switch(r){case"input":u=Re(e,u),i=Re(e,i),_=[];break;case"select":u=P({},u,{value:void 0}),i=P({},i,{value:void 0}),_=[];break;case"textarea":u=Xt(e,u),i=Xt(e,i),_=[];break;default:typeof u.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=xs)}yn(r,i);var k;r=null;for(J in u)if(!i.hasOwnProperty(J)&&u.hasOwnProperty(J)&&u[J]!=null)if(J==="style"){var N=u[J];for(k in N)N.hasOwnProperty(k)&&(r||(r={}),r[k]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(B.hasOwnProperty(J)?_||(_=[]):(_=_||[]).push(J,null));for(J in i){var U=i[J];if(N=u!=null?u[J]:void 0,i.hasOwnProperty(J)&&U!==N&&(U!=null||N!=null))if(J==="style")if(N){for(k in N)!N.hasOwnProperty(k)||U&&U.hasOwnProperty(k)||(r||(r={}),r[k]="");for(k in U)U.hasOwnProperty(k)&&N[k]!==U[k]&&(r||(r={}),r[k]=U[k])}else r||(_||(_=[]),_.push(J,r)),r=U;else J==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,N=N?N.__html:void 0,U!=null&&N!==U&&(_=_||[]).push(J,U)):J==="children"?typeof U!="string"&&typeof U!="number"||(_=_||[]).push(J,""+U):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(B.hasOwnProperty(J)?(U!=null&&J==="onScroll"&&Pe("scroll",e),_||N===U||(_=[])):(_=_||[]).push(J,U))}r&&(_=_||[]).push("style",r);var J=_;(t.updateQueue=J)&&(t.flags|=4)}},Vc=function(e,t,r,i){r!==i&&(t.flags|=4)};function Fi(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&14680064,i|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function jd(e,t,r){var i=t.pendingProps;switch(ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return nt(t.type)&&bs(),Qe(t),null;case 3:return i=t.stateNode,ri(),Me(st),Me(Xe),wo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(Jo(bt),bt=null))),Fo(e,t),Qe(t),null;case 5:yo(t);var u=Rr(Bi.current);if(r=t.type,e!==null&&t.stateNode!=null)$c(e,t,r,i,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(D(166));return Qe(t),null}if(e=Rr(Ot.current),Ts(t)){i=t.stateNode,r=t.type;var _=t.memoizedProps;switch(i[Mt]=t,i[Ti]=_,e=(t.mode&1)!==0,r){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(u=0;u<Li.length;u++)Pe(Li[u],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Te(i,_),Pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!_.multiple},Pe("invalid",i);break;case"textarea":et(i,_),Pe("invalid",i)}yn(r,_),u=null;for(var k in _)if(_.hasOwnProperty(k)){var N=_[k];k==="children"?typeof N=="string"?i.textContent!==N&&(_.suppressHydrationWarning!==!0&&Cs(i.textContent,N,e),u=["children",N]):typeof N=="number"&&i.textContent!==""+N&&(_.suppressHydrationWarning!==!0&&Cs(i.textContent,N,e),u=["children",""+N]):B.hasOwnProperty(k)&&N!=null&&k==="onScroll"&&Pe("scroll",i)}switch(r){case"input":fe(i),Gt(i,_,!0);break;case"textarea":fe(i),ut(i);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(i.onclick=xs)}i=u,t.updateQueue=i,i!==null&&(t.flags|=4)}else{k=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qt(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=k.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=k.createElement(r,{is:i.is}):(e=k.createElement(r),r==="select"&&(k=e,i.multiple?k.multiple=!0:i.size&&(k.size=i.size))):e=k.createElementNS(e,r),e[Mt]=t,e[Ti]=i,Wc(e,t,!1,!1),t.stateNode=e;e:{switch(k=Sn(r,i),r){case"dialog":Pe("cancel",e),Pe("close",e),u=i;break;case"iframe":case"object":case"embed":Pe("load",e),u=i;break;case"video":case"audio":for(u=0;u<Li.length;u++)Pe(Li[u],e);u=i;break;case"source":Pe("error",e),u=i;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),u=i;break;case"details":Pe("toggle",e),u=i;break;case"input":Te(e,i),u=Re(e,i),Pe("invalid",e);break;case"option":u=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=P({},i,{value:void 0}),Pe("invalid",e);break;case"textarea":et(e,i),u=Xt(e,i),Pe("invalid",e);break;default:u=i}yn(r,u),N=u;for(_ in N)if(N.hasOwnProperty(_)){var U=N[_];_==="style"?Oa(e,U):_==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&wr(e,U)):_==="children"?typeof U=="string"?(r!=="textarea"||U!=="")&&it(e,U):typeof U=="number"&&it(e,""+U):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(B.hasOwnProperty(_)?U!=null&&_==="onScroll"&&Pe("scroll",e):U!=null&&o(e,_,U,k))}switch(r){case"input":fe(e),Gt(e,i,!1);break;case"textarea":fe(e),ut(e);break;case"option":i.value!=null&&e.setAttribute("value",""+T(i.value));break;case"select":e.multiple=!!i.multiple,_=i.value,_!=null?At(e,!!i.multiple,_,!1):i.defaultValue!=null&&At(e,!!i.multiple,i.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=xs)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Vc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(D(166));if(r=Rr(Bi.current),Rr(Ot.current),Ts(t)){if(i=t.stateNode,r=t.memoizedProps,i[Mt]=t,(_=i.nodeValue!==r)&&(e=ft,e!==null))switch(e.tag){case 3:Cs(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(i.nodeValue,r,(e.mode&1)!==0)}_&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Mt]=t,t.stateNode=i}return Qe(t),null;case 13:if(Me(Be),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&pt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Yl(),Qr(),t.flags|=98560,_=!1;else if(_=Ts(t),i!==null&&i.dehydrated!==null){if(e===null){if(!_)throw Error(D(318));if(_=t.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(D(317));_[Mt]=t}else Qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),_=!1}else bt!==null&&(Jo(bt),bt=null),_=!0;if(!_)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Be.current&1)!==0?We===0&&(We=3):ea())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return ri(),Fo(e,t),e===null&&Ri(t.stateNode.containerInfo),Qe(t),null;case 10:return po(t.type._context),Qe(t),null;case 17:return nt(t.type)&&bs(),Qe(t),null;case 19:if(Me(Be),_=t.memoizedState,_===null)return Qe(t),null;if(i=(t.flags&128)!==0,k=_.rendering,k===null)if(i)Fi(_,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(k=Is(e),k!==null){for(t.flags|=128,Fi(_,!1),i=k.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)_=r,e=i,_.flags&=14680066,k=_.alternate,k===null?(_.childLanes=0,_.lanes=e,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=k.childLanes,_.lanes=k.lanes,_.child=k.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=k.memoizedProps,_.memoizedState=k.memoizedState,_.updateQueue=k.updateQueue,_.type=k.type,e=k.dependencies,_.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return De(Be,Be.current&1|2),t.child}e=e.sibling}_.tail!==null&&je()>oi&&(t.flags|=128,i=!0,Fi(_,!1),t.lanes=4194304)}else{if(!i)if(e=Is(k),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fi(_,!0),_.tail===null&&_.tailMode==="hidden"&&!k.alternate&&!Oe)return Qe(t),null}else 2*je()-_.renderingStartTime>oi&&r!==1073741824&&(t.flags|=128,i=!0,Fi(_,!1),t.lanes=4194304);_.isBackwards?(k.sibling=t.child,t.child=k):(r=_.last,r!==null?r.sibling=k:t.child=k,_.last=k)}return _.tail!==null?(t=_.tail,_.rendering=t,_.tail=t.sibling,_.renderingStartTime=je(),t.sibling=null,r=Be.current,De(Be,i?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return Zo(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(_t&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Fd(e,t){switch(ao(t),t.tag){case 1:return nt(t.type)&&bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ri(),Me(st),Me(Xe),wo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return yo(t),null;case 13:if(Me(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Be),null;case 4:return ri(),null;case 10:return po(t.type._context),null;case 22:case 23:return Zo(),null;case 24:return null;default:return null}}var Vs=!1,Ze=!1,zd=typeof WeakSet=="function"?WeakSet:Set,_e=null;function si(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){He(e,t,i)}else r.current=null}function zo(e,t,r){try{r()}catch(i){He(e,t,i)}}var Kc=!1;function Ud(e,t){if(Qn=hs,e=El(),$n(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,_=i.focusNode;i=i.focusOffset;try{r.nodeType,_.nodeType}catch{r=null;break e}var k=0,N=-1,U=-1,J=0,ae=0,le=e,oe=null;t:for(;;){for(var pe;le!==r||u!==0&&le.nodeType!==3||(N=k+u),le!==_||i!==0&&le.nodeType!==3||(U=k+i),le.nodeType===3&&(k+=le.nodeValue.length),(pe=le.firstChild)!==null;)oe=le,le=pe;for(;;){if(le===e)break t;if(oe===r&&++J===u&&(N=k),oe===_&&++ae===i&&(U=k),(pe=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=pe}r=N===-1||U===-1?null:{start:N,end:U}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zn={focusedElem:e,selectionRange:r},hs=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ve=me.memoizedProps,Fe=me.memoizedState,Y=t.stateNode,K=Y.getSnapshotBeforeUpdate(t.elementType===t.type?ve:kt(t.type,ve),Fe);Y.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var X=t.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(ce){He(t,t.return,ce)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return me=Kc,Kc=!1,me}function zi(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&e)===e){var _=u.destroy;u.destroy=void 0,_!==void 0&&zo(t,r,_)}u=u.next}while(u!==i)}}function Ks(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Uo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qc(e){var t=e.alternate;t!==null&&(e.alternate=null,qc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Ti],delete t[io],delete t[Ed],delete t[bd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yc(e){return e.tag===5||e.tag===3||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xs));else if(i!==4&&(e=e.child,e!==null))for(Wo(e,t,r),e=e.sibling;e!==null;)Wo(e,t,r),e=e.sibling}function $o(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for($o(e,t,r),e=e.sibling;e!==null;)$o(e,t,r),e=e.sibling}var Ye=null,Lt=!1;function hr(e,t,r){for(r=r.child;r!==null;)Xc(e,t,r),r=r.sibling}function Xc(e,t,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(ns,r)}catch{}switch(r.tag){case 5:Ze||si(r,t);case 6:var i=Ye,u=Lt;Ye=null,hr(e,t,r),Ye=i,Lt=u,Ye!==null&&(Lt?(e=Ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&(Lt?(e=Ye,r=r.stateNode,e.nodeType===8?ro(e.parentNode,r):e.nodeType===1&&ro(e,r),yi(e)):ro(Ye,r.stateNode));break;case 4:i=Ye,u=Lt,Ye=r.stateNode.containerInfo,Lt=!0,hr(e,t,r),Ye=i,Lt=u;break;case 0:case 11:case 14:case 15:if(!Ze&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){u=i=i.next;do{var _=u,k=_.destroy;_=_.tag,k!==void 0&&((_&2)!==0||(_&4)!==0)&&zo(r,t,k),u=u.next}while(u!==i)}hr(e,t,r);break;case 1:if(!Ze&&(si(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(N){He(r,t,N)}hr(e,t,r);break;case 21:hr(e,t,r);break;case 22:r.mode&1?(Ze=(i=Ze)||r.memoizedState!==null,hr(e,t,r),Ze=i):hr(e,t,r);break;default:hr(e,t,r)}}function Jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zd),t.forEach(function(i){var u=Jd.bind(null,e,i);r.has(i)||(r.add(i),i.then(u,u))})}}function Rt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i];try{var _=e,k=t,N=k;e:for(;N!==null;){switch(N.tag){case 5:Ye=N.stateNode,Lt=!1;break e;case 3:Ye=N.stateNode.containerInfo,Lt=!0;break e;case 4:Ye=N.stateNode.containerInfo,Lt=!0;break e}N=N.return}if(Ye===null)throw Error(D(160));Xc(_,k,u),Ye=null,Lt=!1;var U=u.alternate;U!==null&&(U.return=null),u.return=null}catch(J){He(u,t,J)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qc(t,e),t=t.sibling}function Qc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),It(e),i&4){try{zi(3,e,e.return),Ks(3,e)}catch(ve){He(e,e.return,ve)}try{zi(5,e,e.return)}catch(ve){He(e,e.return,ve)}}break;case 1:Rt(t,e),It(e),i&512&&r!==null&&si(r,r.return);break;case 5:if(Rt(t,e),It(e),i&512&&r!==null&&si(r,r.return),e.flags&32){var u=e.stateNode;try{it(u,"")}catch(ve){He(e,e.return,ve)}}if(i&4&&(u=e.stateNode,u!=null)){var _=e.memoizedProps,k=r!==null?r.memoizedProps:_,N=e.type,U=e.updateQueue;if(e.updateQueue=null,U!==null)try{N==="input"&&_.type==="radio"&&_.name!=null&&qe(u,_),Sn(N,k);var J=Sn(N,_);for(k=0;k<U.length;k+=2){var ae=U[k],le=U[k+1];ae==="style"?Oa(u,le):ae==="dangerouslySetInnerHTML"?wr(u,le):ae==="children"?it(u,le):o(u,ae,le,J)}switch(N){case"input":we(u,_);break;case"textarea":Jt(u,_);break;case"select":var oe=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!_.multiple;var pe=_.value;pe!=null?At(u,!!_.multiple,pe,!1):oe!==!!_.multiple&&(_.defaultValue!=null?At(u,!!_.multiple,_.defaultValue,!0):At(u,!!_.multiple,_.multiple?[]:"",!1))}u[Ti]=_}catch(ve){He(e,e.return,ve)}}break;case 6:if(Rt(t,e),It(e),i&4){if(e.stateNode===null)throw Error(D(162));u=e.stateNode,_=e.memoizedProps;try{u.nodeValue=_}catch(ve){He(e,e.return,ve)}}break;case 3:if(Rt(t,e),It(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{yi(t.containerInfo)}catch(ve){He(e,e.return,ve)}break;case 4:Rt(t,e),It(e);break;case 13:Rt(t,e),It(e),u=e.child,u.flags&8192&&(_=u.memoizedState!==null,u.stateNode.isHidden=_,!_||u.alternate!==null&&u.alternate.memoizedState!==null||(qo=je())),i&4&&Jc(e);break;case 22:if(ae=r!==null&&r.memoizedState!==null,e.mode&1?(Ze=(J=Ze)||ae,Rt(t,e),Ze=J):Rt(t,e),It(e),i&8192){if(J=e.memoizedState!==null,(e.stateNode.isHidden=J)&&!ae&&(e.mode&1)!==0)for(_e=e,ae=e.child;ae!==null;){for(le=_e=ae;_e!==null;){switch(oe=_e,pe=oe.child,oe.tag){case 0:case 11:case 14:case 15:zi(4,oe,oe.return);break;case 1:si(oe,oe.return);var me=oe.stateNode;if(typeof me.componentWillUnmount=="function"){i=oe,r=oe.return;try{t=i,me.props=t.memoizedProps,me.state=t.memoizedState,me.componentWillUnmount()}catch(ve){He(i,r,ve)}}break;case 5:si(oe,oe.return);break;case 22:if(oe.memoizedState!==null){tu(le);continue}}pe!==null?(pe.return=oe,_e=pe):tu(le)}ae=ae.sibling}e:for(ae=null,le=e;;){if(le.tag===5){if(ae===null){ae=le;try{u=le.stateNode,J?(_=u.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(N=le.stateNode,U=le.memoizedProps.style,k=U!=null&&U.hasOwnProperty("display")?U.display:null,N.style.display=ts("display",k))}catch(ve){He(e,e.return,ve)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=J?"":le.memoizedProps}catch(ve){He(e,e.return,ve)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Rt(t,e),It(e),i&4&&Jc(e);break;case 21:break;default:Rt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Yc(r)){var i=r;break e}r=r.return}throw Error(D(160))}switch(i.tag){case 5:var u=i.stateNode;i.flags&32&&(it(u,""),i.flags&=-33);var _=Gc(e);$o(e,_,u);break;case 3:case 4:var k=i.stateNode.containerInfo,N=Gc(e);Wo(e,N,k);break;default:throw Error(D(161))}}catch(U){He(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wd(e,t,r){_e=e,Zc(e)}function Zc(e,t,r){for(var i=(e.mode&1)!==0;_e!==null;){var u=_e,_=u.child;if(u.tag===22&&i){var k=u.memoizedState!==null||Vs;if(!k){var N=u.alternate,U=N!==null&&N.memoizedState!==null||Ze;N=Vs;var J=Ze;if(Vs=k,(Ze=U)&&!J)for(_e=u;_e!==null;)k=_e,U=k.child,k.tag===22&&k.memoizedState!==null?ru(u):U!==null?(U.return=k,_e=U):ru(u);for(;_!==null;)_e=_,Zc(_),_=_.sibling;_e=u,Vs=N,Ze=J}eu(e)}else(u.subtreeFlags&8772)!==0&&_!==null?(_.return=u,_e=_):eu(e)}}function eu(e){for(;_e!==null;){var t=_e;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ze||Ks(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ze)if(r===null)i.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:kt(t.type,r.memoizedProps);i.componentDidUpdate(u,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var _=t.updateQueue;_!==null&&tc(t,_,i);break;case 3:var k=t.updateQueue;if(k!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tc(t,k,r)}break;case 5:var N=t.stateNode;if(r===null&&t.flags&4){r=N;var U=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&r.focus();break;case"img":U.src&&(r.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var J=t.alternate;if(J!==null){var ae=J.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&yi(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ze||t.flags&512&&Uo(t)}catch(oe){He(t,t.return,oe)}}if(t===e){_e=null;break}if(r=t.sibling,r!==null){r.return=t.return,_e=r;break}_e=t.return}}function tu(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,_e=r;break}_e=t.return}}function ru(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ks(4,t)}catch(U){He(t,r,U)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var u=t.return;try{i.componentDidMount()}catch(U){He(t,u,U)}}var _=t.return;try{Uo(t)}catch(U){He(t,_,U)}break;case 5:var k=t.return;try{Uo(t)}catch(U){He(t,k,U)}}}catch(U){He(t,t.return,U)}if(t===e){_e=null;break}var N=t.sibling;if(N!==null){N.return=t.return,_e=N;break}_e=t.return}}var $d=Math.ceil,qs=p.ReactCurrentDispatcher,Vo=p.ReactCurrentOwner,St=p.ReactCurrentBatchConfig,be=0,Ve=null,ze=null,Ge=0,_t=0,ni=or(0),We=0,Ui=null,Tr=0,Ys=0,Ko=0,Wi=null,at=null,qo=0,oi=1/0,qt=null,Gs=!1,Yo=null,dr=null,Xs=!1,fr=null,Js=0,$i=0,Go=null,Qs=-1,Zs=0;function rt(){return(be&6)!==0?je():Qs!==-1?Qs:Qs=je()}function pr(e){return(e.mode&1)===0?1:(be&2)!==0&&Ge!==0?Ge&-Ge:Ld.transition!==null?(Zs===0&&(Zs=Ga()),Zs):(e=Le,e!==0||(e=window.event,e=e===void 0?16:sl(e.type)),e)}function Dt(e,t,r,i){if(50<$i)throw $i=0,Go=null,Error(D(185));pi(e,r,i),((be&2)===0||e!==Ve)&&(e===Ve&&((be&2)===0&&(Ys|=r),We===4&&_r(e,Ge)),lt(e,i),r===1&&be===0&&(t.mode&1)===0&&(oi=je()+500,Ls&&lr()))}function lt(e,t){var r=e.callbackNode;Lh(e,t);var i=ls(e,e===Ve?Ge:0);if(i===0)r!==null&&Ka(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Ka(r),t===1)e.tag===0?kd(su.bind(null,e)):Wl(su.bind(null,e)),Cd(function(){(be&6)===0&&lr()}),r=null;else{switch(Xa(i)){case 1:r=Ln;break;case 4:r=qa;break;case 16:r=ss;break;case 536870912:r=Ya;break;default:r=ss}r=du(r,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iu(e,t){if(Qs=-1,Zs=0,(be&6)!==0)throw Error(D(327));var r=e.callbackNode;if(ai()&&e.callbackNode!==r)return null;var i=ls(e,e===Ve?Ge:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=en(e,i);else{t=i;var u=be;be|=2;var _=ou();(Ve!==e||Ge!==t)&&(qt=null,oi=je()+500,Pr(e,t));do try{qd();break}catch(N){nu(e,N)}while(!0);fo(),qs.current=_,be=u,ze!==null?t=0:(Ve=null,Ge=0,t=We)}if(t!==0){if(t===2&&(u=Rn(e),u!==0&&(i=u,t=Xo(e,u))),t===1)throw r=Ui,Pr(e,0),_r(e,i),lt(e,je()),r;if(t===6)_r(e,i);else{if(u=e.current.alternate,(i&30)===0&&!Vd(u)&&(t=en(e,i),t===2&&(_=Rn(e),_!==0&&(i=_,t=Xo(e,_))),t===1))throw r=Ui,Pr(e,0),_r(e,i),lt(e,je()),r;switch(e.finishedWork=u,e.finishedLanes=i,t){case 0:case 1:throw Error(D(345));case 2:Mr(e,at,qt);break;case 3:if(_r(e,i),(i&130023424)===i&&(t=qo+500-je(),10<t)){if(ls(e,0)!==0)break;if(u=e.suspendedLanes,(u&i)!==i){rt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=to(Mr.bind(null,e,at,qt),t);break}Mr(e,at,qt);break;case 4:if(_r(e,i),(i&4194240)===i)break;for(t=e.eventTimes,u=-1;0<i;){var k=31-xt(i);_=1<<k,k=t[k],k>u&&(u=k),i&=~_}if(i=u,i=je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*$d(i/1960))-i,10<i){e.timeoutHandle=to(Mr.bind(null,e,at,qt),i);break}Mr(e,at,qt);break;case 5:Mr(e,at,qt);break;default:throw Error(D(329))}}}return lt(e,je()),e.callbackNode===r?iu.bind(null,e):null}function Xo(e,t){var r=Wi;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=en(e,t),e!==2&&(t=at,at=r,t!==null&&Jo(t)),e}function Jo(e){at===null?at=e:at.push.apply(at,e)}function Vd(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var u=r[i],_=u.getSnapshot;u=u.value;try{if(!Et(_(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~Ko,t&=~Ys,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xt(t),i=1<<r;e[r]=-1,t&=~i}}function su(e){if((be&6)!==0)throw Error(D(327));ai();var t=ls(e,0);if((t&1)===0)return lt(e,je()),null;var r=en(e,t);if(e.tag!==0&&r===2){var i=Rn(e);i!==0&&(t=i,r=Xo(e,i))}if(r===1)throw r=Ui,Pr(e,0),_r(e,t),lt(e,je()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mr(e,at,qt),lt(e,je()),null}function Qo(e,t){var r=be;be|=1;try{return e(t)}finally{be=r,be===0&&(oi=je()+500,Ls&&lr())}}function Ar(e){fr!==null&&fr.tag===0&&(be&6)===0&&ai();var t=be;be|=1;var r=St.transition,i=Le;try{if(St.transition=null,Le=1,e)return e()}finally{Le=i,St.transition=r,be=t,(be&6)===0&&lr()}}function Zo(){_t=ni.current,Me(ni)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wd(r)),ze!==null)for(r=ze.return;r!==null;){var i=r;switch(ao(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&bs();break;case 3:ri(),Me(st),Me(Xe),wo();break;case 5:yo(i);break;case 4:ri();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:po(i.type._context);break;case 22:case 23:Zo()}r=r.return}if(Ve=e,ze=e=mr(e.current,null),Ge=_t=t,We=0,Ui=null,Ko=Ys=Tr=0,at=Wi=null,Lr!==null){for(t=0;t<Lr.length;t++)if(r=Lr[t],i=r.interleaved,i!==null){r.interleaved=null;var u=i.next,_=r.pending;if(_!==null){var k=_.next;_.next=u,i.next=k}r.pending=i}Lr=null}return e}function nu(e,t){do{var r=ze;try{if(fo(),Ns.current=zs,Hs){for(var i=Ie.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}Hs=!1}if(Dr=0,$e=Ue=Ie=null,Ii=!1,Ni=0,Vo.current=null,r===null||r.return===null){We=1,Ui=t,ze=null;break}e:{var _=e,k=r.return,N=r,U=t;if(t=Ge,N.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var J=U,ae=N,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var pe=Tc(k);if(pe!==null){pe.flags&=-257,Ac(pe,k,N,_,t),pe.mode&1&&Dc(_,J,t),t=pe,U=J;var me=t.updateQueue;if(me===null){var ve=new Set;ve.add(U),t.updateQueue=ve}else me.add(U);break e}else{if((t&1)===0){Dc(_,J,t),ea();break e}U=Error(D(426))}}else if(Oe&&N.mode&1){var Fe=Tc(k);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),Ac(Fe,k,N,_,t),uo(ii(U,N));break e}}_=U=ii(U,N),We!==4&&(We=2),Wi===null?Wi=[_]:Wi.push(_),_=k;do{switch(_.tag){case 3:_.flags|=65536,t&=-t,_.lanes|=t;var Y=Lc(_,U,t);ec(_,Y);break e;case 1:N=U;var K=_.type,X=_.stateNode;if((_.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(dr===null||!dr.has(X)))){_.flags|=65536,t&=-t,_.lanes|=t;var ce=Rc(_,N,t);ec(_,ce);break e}}_=_.return}while(_!==null)}lu(r)}catch(ge){t=ge,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function ou(){var e=qs.current;return qs.current=zs,e===null?zs:e}function ea(){(We===0||We===3||We===2)&&(We=4),Ve===null||(Tr&268435455)===0&&(Ys&268435455)===0||_r(Ve,Ge)}function en(e,t){var r=be;be|=2;var i=ou();(Ve!==e||Ge!==t)&&(qt=null,Pr(e,t));do try{Kd();break}catch(u){nu(e,u)}while(!0);if(fo(),be=r,qs.current=i,ze!==null)throw Error(D(261));return Ve=null,Ge=0,We}function Kd(){for(;ze!==null;)au(ze)}function qd(){for(;ze!==null&&!gh();)au(ze)}function au(e){var t=hu(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?lu(e):ze=t,Vo.current=null}function lu(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=jd(r,t,_t),r!==null){ze=r;return}}else{if(r=Fd(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,ze=null;return}}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);We===0&&(We=5)}function Mr(e,t,r){var i=Le,u=St.transition;try{St.transition=null,Le=1,Yd(e,t,r,i)}finally{St.transition=u,Le=i}return null}function Yd(e,t,r,i){do ai();while(fr!==null);if((be&6)!==0)throw Error(D(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var _=r.lanes|r.childLanes;if(Rh(e,_),e===Ve&&(ze=Ve=null,Ge=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Xs||(Xs=!0,du(ss,function(){return ai(),null})),_=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||_){_=St.transition,St.transition=null;var k=Le;Le=1;var N=be;be|=4,Vo.current=null,Ud(e,r),Qc(r,e),pd(Zn),hs=!!Qn,Zn=Qn=null,e.current=r,Wd(r),yh(),be=N,Le=k,St.transition=_}else e.current=r;if(Xs&&(Xs=!1,fr=e,Js=u),_=e.pendingLanes,_===0&&(dr=null),Ch(r.stateNode),lt(e,je()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],i(u.value,{componentStack:u.stack,digest:u.digest});if(Gs)throw Gs=!1,e=Yo,Yo=null,e;return(Js&1)!==0&&e.tag!==0&&ai(),_=e.pendingLanes,(_&1)!==0?e===Go?$i++:($i=0,Go=e):$i=0,lr(),null}function ai(){if(fr!==null){var e=Xa(Js),t=St.transition,r=Le;try{if(St.transition=null,Le=16>e?16:e,fr===null)var i=!1;else{if(e=fr,fr=null,Js=0,(be&6)!==0)throw Error(D(331));var u=be;for(be|=4,_e=e.current;_e!==null;){var _=_e,k=_.child;if((_e.flags&16)!==0){var N=_.deletions;if(N!==null){for(var U=0;U<N.length;U++){var J=N[U];for(_e=J;_e!==null;){var ae=_e;switch(ae.tag){case 0:case 11:case 15:zi(8,ae,_)}var le=ae.child;if(le!==null)le.return=ae,_e=le;else for(;_e!==null;){ae=_e;var oe=ae.sibling,pe=ae.return;if(qc(ae),ae===J){_e=null;break}if(oe!==null){oe.return=pe,_e=oe;break}_e=pe}}}var me=_.alternate;if(me!==null){var ve=me.child;if(ve!==null){me.child=null;do{var Fe=ve.sibling;ve.sibling=null,ve=Fe}while(ve!==null)}}_e=_}}if((_.subtreeFlags&2064)!==0&&k!==null)k.return=_,_e=k;else e:for(;_e!==null;){if(_=_e,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:zi(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,_e=Y;break e}_e=_.return}}var K=e.current;for(_e=K;_e!==null;){k=_e;var X=k.child;if((k.subtreeFlags&2064)!==0&&X!==null)X.return=k,_e=X;else e:for(k=K;_e!==null;){if(N=_e,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Ks(9,N)}}catch(ge){He(N,N.return,ge)}if(N===k){_e=null;break e}var ce=N.sibling;if(ce!==null){ce.return=N.return,_e=ce;break e}_e=N.return}}if(be=u,lr(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(ns,e)}catch{}i=!0}return i}finally{Le=r,St.transition=t}}return!1}function cu(e,t,r){t=ii(r,t),t=Lc(e,t,1),e=ur(e,t,1),t=rt(),e!==null&&(pi(e,1,t),lt(e,t))}function He(e,t,r){if(e.tag===3)cu(e,e,r);else for(;t!==null;){if(t.tag===3){cu(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(dr===null||!dr.has(i))){e=ii(r,e),e=Rc(t,e,1),t=ur(t,e,1),e=rt(),t!==null&&(pi(t,1,e),lt(t,e));break}}t=t.return}}function Gd(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,Ve===e&&(Ge&r)===r&&(We===4||We===3&&(Ge&130023424)===Ge&&500>je()-qo?Pr(e,0):Ko|=r),lt(e,t)}function uu(e,t){t===0&&((e.mode&1)===0?t=1:(t=as,as<<=1,(as&130023424)===0&&(as=4194304)));var r=rt();e=$t(e,t),e!==null&&(pi(e,t,r),lt(e,r))}function Xd(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uu(e,r)}function Jd(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(D(314))}i!==null&&i.delete(t),uu(e,r)}var hu;hu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ot=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return ot=!1,Hd(e,t,r);ot=(e.flags&131072)!==0}else ot=!1,Oe&&(t.flags&1048576)!==0&&$l(t,Ds,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;$s(e,t),e=t.pendingProps;var u=Gr(t,Xe.current);ti(t,r),u=Eo(null,t,i,e,u,r);var _=bo();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(i)?(_=!0,ks(t)):_=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,vo(t),u.updater=Us,t.stateNode=u,u._reactInternals=t,Ao(t,i,e,r),t=Bo(null,t,i,!0,_,r)):(t.tag=0,Oe&&_&&oo(t),tt(null,t,u,r),t=t.child),t;case 16:i=t.elementType;e:{switch($s(e,t),e=t.pendingProps,u=i._init,i=u(i._payload),t.type=i,u=t.tag=Zd(i),e=kt(i,e),u){case 0:t=Oo(null,t,i,e,r);break e;case 1:t=Nc(null,t,i,e,r);break e;case 11:t=Pc(null,t,i,e,r);break e;case 14:t=Mc(null,t,i,kt(i.type,e),r);break e}throw Error(D(306,i,""))}return t;case 0:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:kt(i,u),Oo(e,t,i,u,r);case 1:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:kt(i,u),Nc(e,t,i,u,r);case 3:e:{if(Hc(t),e===null)throw Error(D(387));i=t.pendingProps,_=t.memoizedState,u=_.element,Zl(e,t),Bs(t,i,null,r);var k=t.memoizedState;if(i=k.element,_.isDehydrated)if(_={element:i,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},t.updateQueue.baseState=_,t.memoizedState=_,t.flags&256){u=ii(Error(D(423)),t),t=jc(e,t,i,r,u);break e}else if(i!==u){u=ii(Error(D(424)),t),t=jc(e,t,i,r,u);break e}else for(pt=nr(t.stateNode.containerInfo.firstChild),ft=t,Oe=!0,bt=null,r=Jl(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qr(),i===u){t=Kt(e,t,r);break e}tt(e,t,i,r)}t=t.child}return t;case 5:return rc(t),e===null&&co(t),i=t.type,u=t.pendingProps,_=e!==null?e.memoizedProps:null,k=u.children,eo(i,u)?k=null:_!==null&&eo(i,_)&&(t.flags|=32),Ic(e,t),tt(e,t,k,r),t.child;case 6:return e===null&&co(t),null;case 13:return Fc(e,t,r);case 4:return go(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Zr(t,null,i,r):tt(e,t,i,r),t.child;case 11:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:kt(i,u),Pc(e,t,i,u,r);case 7:return tt(e,t,t.pendingProps,r),t.child;case 8:return tt(e,t,t.pendingProps.children,r),t.child;case 12:return tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,u=t.pendingProps,_=t.memoizedProps,k=u.value,De(Ps,i._currentValue),i._currentValue=k,_!==null)if(Et(_.value,k)){if(_.children===u.children&&!st.current){t=Kt(e,t,r);break e}}else for(_=t.child,_!==null&&(_.return=t);_!==null;){var N=_.dependencies;if(N!==null){k=_.child;for(var U=N.firstContext;U!==null;){if(U.context===i){if(_.tag===1){U=Vt(-1,r&-r),U.tag=2;var J=_.updateQueue;if(J!==null){J=J.shared;var ae=J.pending;ae===null?U.next=U:(U.next=ae.next,ae.next=U),J.pending=U}}_.lanes|=r,U=_.alternate,U!==null&&(U.lanes|=r),_o(_.return,r,t),N.lanes|=r;break}U=U.next}}else if(_.tag===10)k=_.type===t.type?null:_.child;else if(_.tag===18){if(k=_.return,k===null)throw Error(D(341));k.lanes|=r,N=k.alternate,N!==null&&(N.lanes|=r),_o(k,r,t),k=_.sibling}else k=_.child;if(k!==null)k.return=_;else for(k=_;k!==null;){if(k===t){k=null;break}if(_=k.sibling,_!==null){_.return=k.return,k=_;break}k=k.return}_=k}tt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,i=t.pendingProps.children,ti(t,r),u=gt(u),i=i(u),t.flags|=1,tt(e,t,i,r),t.child;case 14:return i=t.type,u=kt(i,t.pendingProps),u=kt(i.type,u),Mc(e,t,i,u,r);case 15:return Oc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,u=t.pendingProps,u=t.elementType===i?u:kt(i,u),$s(e,t),t.tag=1,nt(i)?(e=!0,ks(t)):e=!1,ti(t,r),bc(t,i,u),Ao(t,i,u,r),Bo(null,t,i,!0,e,r);case 19:return Uc(e,t,r);case 22:return Bc(e,t,r)}throw Error(D(156,t.tag))};function du(e,t){return Va(e,t)}function Qd(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,r,i){return new Qd(e,t,r,i)}function ta(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zd(e){if(typeof e=="function")return ta(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V)return 11;if(e===ee)return 14}return 2}function mr(e,t){var r=e.alternate;return r===null?(r=wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tn(e,t,r,i,u,_){var k=2;if(i=e,typeof e=="function")ta(e)&&(k=1);else if(typeof e=="string")k=5;else e:switch(e){case E:return Or(r.children,u,_,t);case y:k=8,u|=8;break;case R:return e=wt(12,r,t,u|2),e.elementType=R,e.lanes=_,e;case I:return e=wt(13,r,t,u),e.elementType=I,e.lanes=_,e;case q:return e=wt(19,r,t,u),e.elementType=q,e.lanes=_,e;case te:return rn(r,u,_,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:k=10;break e;case z:k=9;break e;case V:k=11;break e;case ee:k=14;break e;case ie:k=16,i=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=wt(k,r,t,u),t.elementType=e,t.type=i,t.lanes=_,t}function Or(e,t,r,i){return e=wt(7,e,i,t),e.lanes=r,e}function rn(e,t,r,i){return e=wt(22,e,i,t),e.elementType=te,e.lanes=r,e.stateNode={isHidden:!1},e}function ra(e,t,r){return e=wt(6,e,null,t),e.lanes=r,e}function ia(e,t,r){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ef(e,t,r,i,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dn(0),this.expirationTimes=Dn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.identifierPrefix=i,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function sa(e,t,r,i,u,_,k,N,U){return e=new ef(e,t,r,N,U),t===1?(t=1,_===!0&&(t|=8)):t=0,_=wt(3,null,null,t),e.current=_,_.stateNode=e,_.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vo(_),e}function tf(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function fu(e){if(!e)return ar;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(nt(r))return zl(e,r,t)}return t}function pu(e,t,r,i,u,_,k,N,U){return e=sa(r,i,!0,e,u,_,k,N,U),e.context=fu(null),r=e.current,i=rt(),u=pr(r),_=Vt(i,u),_.callback=t??null,ur(r,_,u),e.current.lanes=u,pi(e,u,i),lt(e,i),e}function sn(e,t,r,i){var u=t.current,_=rt(),k=pr(u);return r=fu(r),t.context===null?t.context=r:t.pendingContext=r,t=Vt(_,k),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ur(u,t,k),e!==null&&(Dt(e,u,k,_),Os(e,u,k)),k}function nn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function na(e,t){_u(e,t),(e=e.alternate)&&_u(e,t)}function rf(){return null}var mu=typeof reportError=="function"?reportError:function(e){console.error(e)};function oa(e){this._internalRoot=e}on.prototype.render=oa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));sn(e,t,null,null)},on.prototype.unmount=oa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){sn(null,e,null,null)}),t[Ft]=null}};function on(e){this._internalRoot=e}on.prototype.unstable_scheduleHydration=function(e){if(e){var t=Za();e={blockedOn:null,target:e,priority:t};for(var r=0;r<rr.length&&t!==0&&t<rr[r].priority;r++);rr.splice(r,0,e),r===0&&rl(e)}};function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function an(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vu(){}function sf(e,t,r,i,u){if(u){if(typeof i=="function"){var _=i;i=function(){var J=nn(k);_.call(J)}}var k=pu(t,i,e,0,null,!1,!1,"",vu);return e._reactRootContainer=k,e[Ft]=k.current,Ri(e.nodeType===8?e.parentNode:e),Ar(),k}for(;u=e.lastChild;)e.removeChild(u);if(typeof i=="function"){var N=i;i=function(){var J=nn(U);N.call(J)}}var U=sa(e,0,!1,null,null,!1,!1,"",vu);return e._reactRootContainer=U,e[Ft]=U.current,Ri(e.nodeType===8?e.parentNode:e),Ar(function(){sn(t,U,r,i)}),U}function ln(e,t,r,i,u){var _=r._reactRootContainer;if(_){var k=_;if(typeof u=="function"){var N=u;u=function(){var U=nn(k);N.call(U)}}sn(t,k,e,u)}else k=sf(r,t,e,u,i);return nn(k)}Ja=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fi(t.pendingLanes);r!==0&&(Tn(t,r|1),lt(t,je()),(be&6)===0&&(oi=je()+500,lr()))}break;case 13:Ar(function(){var i=$t(e,1);if(i!==null){var u=rt();Dt(i,e,1,u)}}),na(e,1)}},An=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var r=rt();Dt(t,e,134217728,r)}na(e,134217728)}},Qa=function(e){if(e.tag===13){var t=pr(e),r=$t(e,t);if(r!==null){var i=rt();Dt(r,e,t,i)}na(e,t)}},Za=function(){return Le},el=function(e,t){var r=Le;try{return Le=e,t()}finally{Le=r}},xn=function(e,t,r){switch(t){case"input":if(we(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var u=Es(i);if(!u)throw Error(D(90));de(i),we(i,u)}}}break;case"textarea":Jt(e,r);break;case"select":t=r.value,t!=null&&At(e,!!r.multiple,t,!1)}},Ha=Qo,ja=Ar;var nf={usingClientEntryPoint:!1,Events:[Ai,qr,Es,Ia,Na,Qo]},Vi={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},of={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wa(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||rf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cn.isDisabled&&cn.supportsFiber)try{ns=cn.inject(of),Pt=cn}catch{}}return ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf,ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aa(t))throw Error(D(200));return tf(e,t,null,r)},ct.createRoot=function(e,t){if(!aa(e))throw Error(D(299));var r=!1,i="",u=mu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=sa(e,1,!1,null,null,r,!1,i,u),e[Ft]=t.current,Ri(e.nodeType===8?e.parentNode:e),new oa(t)},ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Wa(t),e=e===null?null:e.stateNode,e},ct.flushSync=function(e){return Ar(e)},ct.hydrate=function(e,t,r){if(!an(t))throw Error(D(200));return ln(null,e,t,!0,r)},ct.hydrateRoot=function(e,t,r){if(!aa(e))throw Error(D(405));var i=r!=null&&r.hydratedSources||null,u=!1,_="",k=mu;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(_=r.identifierPrefix),r.onRecoverableError!==void 0&&(k=r.onRecoverableError)),t=pu(t,null,e,1,r??null,u,!1,_,k),e[Ft]=t.current,Ri(e),i)for(e=0;e<i.length;e++)r=i[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new on(t)},ct.render=function(e,t,r){if(!an(t))throw Error(D(200));return ln(null,e,t,!1,r)},ct.unmountComponentAtNode=function(e){if(!an(e))throw Error(D(40));return e._reactRootContainer?(Ar(function(){ln(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1},ct.unstable_batchedUpdates=Qo,ct.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!an(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return ln(e,t,r,!1,i)},ct.version="18.3.1-next-f1338f8080-20240426",ct}var bu;function _f(){if(bu)return ua.exports;bu=1;function S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S)}catch(A){console.error(A)}}return S(),ua.exports=pf(),ua.exports}var ku;function mf(){if(ku)return un;ku=1;var S=_f();return un.createRoot=S.createRoot,un.hydrateRoot=S.hydrateRoot,un}var vf=mf(),qi={},Lu;function gf(){if(Lu)return qi;Lu=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.parse=M,qi.serialize=d;const S=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,A=/^[\u0021-\u003A\u003C-\u007E]*$/,D=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,F=/^[\u0020-\u003A\u003D-\u007E]*$/,B=Object.prototype.toString,W=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function M(m,g){const w=new W,f=m.length;if(f<2)return w;const n=(g==null?void 0:g.decode)||v;let a=0;do{const s=m.indexOf("=",a);if(s===-1)break;const o=m.indexOf(";",a),p=o===-1?f:o;if(s>p){a=m.lastIndexOf(";",s-1)+1;continue}const C=l(m,a,s),x=c(m,s,C),E=m.slice(C,x);if(w[E]===void 0){let y=l(m,s+1,p),R=c(m,p,y);const H=n(m.slice(y,R));w[E]=H}a=p+1}while(a<f);return w}function l(m,g,w){do{const f=m.charCodeAt(g);if(f!==32&&f!==9)return g}while(++g<w);return w}function c(m,g,w){for(;g>w;){const f=m.charCodeAt(--g);if(f!==32&&f!==9)return g+1}return w}function d(m,g,w){const f=(w==null?void 0:w.encode)||encodeURIComponent;if(!S.test(m))throw new TypeError(`argument name is invalid: ${m}`);const n=f(g);if(!A.test(n))throw new TypeError(`argument val is invalid: ${g}`);let a=m+"="+n;if(!w)return a;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);a+="; Max-Age="+w.maxAge}if(w.domain){if(!D.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);a+="; Domain="+w.domain}if(w.path){if(!F.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);a+="; Path="+w.path}if(w.expires){if(!h(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);a+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(a+="; HttpOnly"),w.secure&&(a+="; Secure"),w.partitioned&&(a+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return a}function v(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function h(m){return B.call(m)==="[object Date]"}return qi}gf();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ru="popstate";function yf(S={}){function A(B,W){let{pathname:M="/",search:l="",hash:c=""}=Ir(B.location.hash.substring(1));return!M.startsWith("/")&&!M.startsWith(".")&&(M="/"+M),ya("",{pathname:M,search:l,hash:c},W.state&&W.state.usr||null,W.state&&W.state.key||"default")}function D(B,W){let M=B.document.querySelector("base"),l="";if(M&&M.getAttribute("href")){let c=B.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof W=="string"?W:Ji(W))}function F(B,W){Tt(B.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(W)})`)}return wf(A,D,F,S)}function Ne(S,A){if(S===!1||S===null||typeof S>"u")throw new Error(A)}function Tt(S,A){if(!S){typeof console<"u"&&console.warn(A);try{throw new Error(A)}catch{}}}function Sf(){return Math.random().toString(36).substring(2,10)}function Du(S,A){return{usr:S.state,key:S.key,idx:A}}function ya(S,A,D=null,F){return{pathname:typeof S=="string"?S:S.pathname,search:"",hash:"",...typeof A=="string"?Ir(A):A,state:D,key:A&&A.key||F||Sf()}}function Ji({pathname:S="/",search:A="",hash:D=""}){return A&&A!=="?"&&(S+=A.charAt(0)==="?"?A:"?"+A),D&&D!=="#"&&(S+=D.charAt(0)==="#"?D:"#"+D),S}function Ir(S){let A={};if(S){let D=S.indexOf("#");D>=0&&(A.hash=S.substring(D),S=S.substring(0,D));let F=S.indexOf("?");F>=0&&(A.search=S.substring(F),S=S.substring(0,F)),S&&(A.pathname=S)}return A}function wf(S,A,D,F={}){let{window:B=document.defaultView,v5Compat:W=!1}=F,M=B.history,l="POP",c=null,d=v();d==null&&(d=0,M.replaceState({...M.state,idx:d},""));function v(){return(M.state||{idx:null}).idx}function h(){l="POP";let n=v(),a=n==null?null:n-d;d=n,c&&c({action:l,location:f.location,delta:a})}function m(n,a){l="PUSH";let s=ya(f.location,n,a);D&&D(s,n),d=v()+1;let o=Du(s,d),p=f.createHref(s);try{M.pushState(o,"",p)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;B.location.assign(p)}W&&c&&c({action:l,location:f.location,delta:1})}function g(n,a){l="REPLACE";let s=ya(f.location,n,a);D&&D(s,n),d=v();let o=Du(s,d),p=f.createHref(s);M.replaceState(o,"",p),W&&c&&c({action:l,location:f.location,delta:0})}function w(n){let a=B.location.origin!=="null"?B.location.origin:B.location.href,s=typeof n=="string"?n:Ji(n);return s=s.replace(/ $/,"%20"),Ne(a,`No window.location.(origin|href) available to create URL for href: ${s}`),new URL(s,a)}let f={get action(){return l},get location(){return S(B,M)},listen(n){if(c)throw new Error("A history only accepts one active listener");return B.addEventListener(Ru,h),c=n,()=>{B.removeEventListener(Ru,h),c=null}},createHref(n){return A(B,n)},createURL:w,encodeLocation(n){let a=w(n);return{pathname:a.pathname,search:a.search,hash:a.hash}},push:m,replace:g,go(n){return M.go(n)}};return f}function ju(S,A,D="/"){return Cf(S,A,D,!1)}function Cf(S,A,D,F){let B=typeof A=="string"?Ir(A):A,W=gr(B.pathname||"/",D);if(W==null)return null;let M=Fu(S);xf(M);let l=null;for(let c=0;l==null&&c<M.length;++c){let d=Of(W);l=Pf(M[c],d,F)}return l}function Fu(S,A=[],D=[],F=""){let B=(W,M,l)=>{let c={relativePath:l===void 0?W.path||"":l,caseSensitive:W.caseSensitive===!0,childrenIndex:M,route:W};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(F),`Absolute route path "${c.relativePath}" nested under path "${F}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(F.length));let d=Yt([F,c.relativePath]),v=D.concat(c);W.children&&W.children.length>0&&(Ne(W.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Fu(W.children,A,v,d)),!(W.path==null&&!W.index)&&A.push({path:d,score:Tf(d,W.index),routesMeta:v})};return S.forEach((W,M)=>{var l;if(W.path===""||!((l=W.path)!=null&&l.includes("?")))B(W,M);else for(let c of zu(W.path))B(W,M,c)}),A}function zu(S){let A=S.split("/");if(A.length===0)return[];let[D,...F]=A,B=D.endsWith("?"),W=D.replace(/\?$/,"");if(F.length===0)return B?[W,""]:[W];let M=zu(F.join("/")),l=[];return l.push(...M.map(c=>c===""?W:[W,c].join("/"))),B&&l.push(...M),l.map(c=>S.startsWith("/")&&c===""?"/":c)}function xf(S){S.sort((A,D)=>A.score!==D.score?D.score-A.score:Af(A.routesMeta.map(F=>F.childrenIndex),D.routesMeta.map(F=>F.childrenIndex)))}var Ef=/^:[\w-]+$/,bf=3,kf=2,Lf=1,Rf=10,Df=-2,Tu=S=>S==="*";function Tf(S,A){let D=S.split("/"),F=D.length;return D.some(Tu)&&(F+=Df),A&&(F+=kf),D.filter(B=>!Tu(B)).reduce((B,W)=>B+(Ef.test(W)?bf:W===""?Lf:Rf),F)}function Af(S,A){return S.length===A.length&&S.slice(0,-1).every((F,B)=>F===A[B])?S[S.length-1]-A[A.length-1]:0}function Pf(S,A,D=!1){let{routesMeta:F}=S,B={},W="/",M=[];for(let l=0;l<F.length;++l){let c=F[l],d=l===F.length-1,v=W==="/"?A:A.slice(W.length)||"/",h=mn({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},v),m=c.route;if(!h&&d&&D&&!F[F.length-1].route.index&&(h=mn({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},v)),!h)return null;Object.assign(B,h.params),M.push({params:B,pathname:Yt([W,h.pathname]),pathnameBase:Hf(Yt([W,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(W=Yt([W,h.pathnameBase]))}return M}function mn(S,A){typeof S=="string"&&(S={path:S,caseSensitive:!1,end:!0});let[D,F]=Mf(S.path,S.caseSensitive,S.end),B=A.match(D);if(!B)return null;let W=B[0],M=W.replace(/(.)\/+$/,"$1"),l=B.slice(1);return{params:F.reduce((d,{paramName:v,isOptional:h},m)=>{if(v==="*"){let w=l[m]||"";M=W.slice(0,W.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[m];return h&&!g?d[v]=void 0:d[v]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:W,pathnameBase:M,pattern:S}}function Mf(S,A=!1,D=!0){Tt(S==="*"||!S.endsWith("*")||S.endsWith("/*"),`Route path "${S}" will be treated as if it were "${S.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${S.replace(/\*$/,"/*")}".`);let F=[],B="^"+S.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(M,l,c)=>(F.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return S.endsWith("*")?(F.push({paramName:"*"}),B+=S==="*"||S==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):D?B+="\\/*$":S!==""&&S!=="/"&&(B+="(?:(?=\\/|$))"),[new RegExp(B,A?void 0:"i"),F]}function Of(S){try{return S.split("/").map(A=>decodeURIComponent(A).replace(/\//g,"%2F")).join("/")}catch(A){return Tt(!1,`The URL path "${S}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${A}).`),S}}function gr(S,A){if(A==="/")return S;if(!S.toLowerCase().startsWith(A.toLowerCase()))return null;let D=A.endsWith("/")?A.length-1:A.length,F=S.charAt(D);return F&&F!=="/"?null:S.slice(D)||"/"}function Bf(S,A="/"){let{pathname:D,search:F="",hash:B=""}=typeof S=="string"?Ir(S):S;return{pathname:D?D.startsWith("/")?D:If(D,A):A,search:jf(F),hash:Ff(B)}}function If(S,A){let D=A.replace(/\/+$/,"").split("/");return S.split("/").forEach(B=>{B===".."?D.length>1&&D.pop():B!=="."&&D.push(B)}),D.length>1?D.join("/"):"/"}function fa(S,A,D,F){return`Cannot include a '${S}' character in a manually specified \`to.${A}\` field [${JSON.stringify(F)}].  Please separate it out to the \`to.${D}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nf(S){return S.filter((A,D)=>D===0||A.route.path&&A.route.path.length>0)}function Uu(S){let A=Nf(S);return A.map((D,F)=>F===A.length-1?D.pathname:D.pathnameBase)}function Wu(S,A,D,F=!1){let B;typeof S=="string"?B=Ir(S):(B={...S},Ne(!B.pathname||!B.pathname.includes("?"),fa("?","pathname","search",B)),Ne(!B.pathname||!B.pathname.includes("#"),fa("#","pathname","hash",B)),Ne(!B.search||!B.search.includes("#"),fa("#","search","hash",B)));let W=S===""||B.pathname==="",M=W?"/":B.pathname,l;if(M==null)l=D;else{let h=A.length-1;if(!F&&M.startsWith("..")){let m=M.split("/");for(;m[0]==="..";)m.shift(),h-=1;B.pathname=m.join("/")}l=h>=0?A[h]:"/"}let c=Bf(B,l),d=M&&M!=="/"&&M.endsWith("/"),v=(W||M===".")&&D.endsWith("/");return!c.pathname.endsWith("/")&&(d||v)&&(c.pathname+="/"),c}var Yt=S=>S.join("/").replace(/\/\/+/g,"/"),Hf=S=>S.replace(/\/+$/,"").replace(/^\/*/,"/"),jf=S=>!S||S==="?"?"":S.startsWith("?")?S:"?"+S,Ff=S=>!S||S==="#"?"":S.startsWith("#")?S:"#"+S;function zf(S){return S!=null&&typeof S.status=="number"&&typeof S.statusText=="string"&&typeof S.internal=="boolean"&&"data"in S}var $u=["POST","PUT","PATCH","DELETE"];new Set($u);var Uf=["GET",...$u];new Set(Uf);var ci=re.createContext(null);ci.displayName="DataRouter";var vn=re.createContext(null);vn.displayName="DataRouterState";var Vu=re.createContext({isTransitioning:!1});Vu.displayName="ViewTransition";var Wf=re.createContext(new Map);Wf.displayName="Fetchers";var $f=re.createContext(null);$f.displayName="Await";var Nt=re.createContext(null);Nt.displayName="Navigation";var Qi=re.createContext(null);Qi.displayName="Location";var Ht=re.createContext({outlet:null,matches:[],isDataRoute:!1});Ht.displayName="Route";var Ea=re.createContext(null);Ea.displayName="RouteError";function Vf(S,{relative:A}={}){Ne(Zi(),"useHref() may be used only in the context of a <Router> component.");let{basename:D,navigator:F}=re.useContext(Nt),{hash:B,pathname:W,search:M}=es(S,{relative:A}),l=W;return D!=="/"&&(l=W==="/"?D:Yt([D,W])),F.createHref({pathname:l,search:M,hash:B})}function Zi(){return re.useContext(Qi)!=null}function Nr(){return Ne(Zi(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(Qi).location}var Ku="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qu(S){re.useContext(Nt).static||re.useLayoutEffect(S)}function ba(){let{isDataRoute:S}=re.useContext(Ht);return S?np():Kf()}function Kf(){Ne(Zi(),"useNavigate() may be used only in the context of a <Router> component.");let S=re.useContext(ci),{basename:A,navigator:D}=re.useContext(Nt),{matches:F}=re.useContext(Ht),{pathname:B}=Nr(),W=JSON.stringify(Uu(F)),M=re.useRef(!1);return qu(()=>{M.current=!0}),re.useCallback((c,d={})=>{if(Tt(M.current,Ku),!M.current)return;if(typeof c=="number"){D.go(c);return}let v=Wu(c,JSON.parse(W),B,d.relative==="path");S==null&&A!=="/"&&(v.pathname=v.pathname==="/"?A:Yt([A,v.pathname])),(d.replace?D.replace:D.push)(v,d.state,d)},[A,D,W,B,S])}re.createContext(null);function qf(){let{matches:S}=re.useContext(Ht),A=S[S.length-1];return A?A.params:{}}function es(S,{relative:A}={}){let{matches:D}=re.useContext(Ht),{pathname:F}=Nr(),B=JSON.stringify(Uu(D));return re.useMemo(()=>Wu(S,JSON.parse(B),F,A==="path"),[S,B,F,A])}function Yf(S,A){return Yu(S,A)}function Yu(S,A,D,F){var s;Ne(Zi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:B,static:W}=re.useContext(Nt),{matches:M}=re.useContext(Ht),l=M[M.length-1],c=l?l.params:{},d=l?l.pathname:"/",v=l?l.pathnameBase:"/",h=l&&l.route;{let o=h&&h.path||"";Gu(d,!h||o.endsWith("*")||o.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${o}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${o}"> to <Route path="${o==="/"?"*":`${o}/*`}">.`)}let m=Nr(),g;if(A){let o=typeof A=="string"?Ir(A):A;Ne(v==="/"||((s=o.pathname)==null?void 0:s.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${o.pathname}" was given in the \`location\` prop.`),g=o}else g=m;let w=g.pathname||"/",f=w;if(v!=="/"){let o=v.replace(/^\//,"").split("/");f="/"+w.replace(/^\//,"").split("/").slice(o.length).join("/")}let n=!W&&D&&D.matches&&D.matches.length>0?D.matches:ju(S,{pathname:f});Tt(h||n!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Tt(n==null||n[n.length-1].route.element!==void 0||n[n.length-1].route.Component!==void 0||n[n.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let a=Zf(n&&n.map(o=>Object.assign({},o,{params:Object.assign({},c,o.params),pathname:Yt([v,B.encodeLocation?B.encodeLocation(o.pathname).pathname:o.pathname]),pathnameBase:o.pathnameBase==="/"?v:Yt([v,B.encodeLocation?B.encodeLocation(o.pathnameBase).pathname:o.pathnameBase])})),M,D,F);return A&&a?re.createElement(Qi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},a):a}function Gf(){let S=sp(),A=zf(S)?`${S.status} ${S.statusText}`:S instanceof Error?S.message:JSON.stringify(S),D=S instanceof Error?S.stack:null,F="rgba(200,200,200, 0.5)",B={padding:"0.5rem",backgroundColor:F},W={padding:"2px 4px",backgroundColor:F},M=null;return console.error("Error handled by React Router default ErrorBoundary:",S),M=re.createElement(re.Fragment,null,re.createElement("p",null," Hey developer "),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:W},"ErrorBoundary")," or"," ",re.createElement("code",{style:W},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},A),D?re.createElement("pre",{style:B},D):null,M)}var Xf=re.createElement(Gf,null),Jf=class extends re.Component{constructor(S){super(S),this.state={location:S.location,revalidation:S.revalidation,error:S.error}}static getDerivedStateFromError(S){return{error:S}}static getDerivedStateFromProps(S,A){return A.location!==S.location||A.revalidation!=="idle"&&S.revalidation==="idle"?{error:S.error,location:S.location,revalidation:S.revalidation}:{error:S.error!==void 0?S.error:A.error,location:A.location,revalidation:S.revalidation||A.revalidation}}componentDidCatch(S,A){console.error("React Router caught the following error during render",S,A)}render(){return this.state.error!==void 0?re.createElement(Ht.Provider,{value:this.props.routeContext},re.createElement(Ea.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qf({routeContext:S,match:A,children:D}){let F=re.useContext(ci);return F&&F.static&&F.staticContext&&(A.route.errorElement||A.route.ErrorBoundary)&&(F.staticContext._deepestRenderedBoundaryId=A.route.id),re.createElement(Ht.Provider,{value:S},D)}function Zf(S,A=[],D=null,F=null){if(S==null){if(!D)return null;if(D.errors)S=D.matches;else if(A.length===0&&!D.initialized&&D.matches.length>0)S=D.matches;else return null}let B=S,W=D==null?void 0:D.errors;if(W!=null){let c=B.findIndex(d=>d.route.id&&(W==null?void 0:W[d.route.id])!==void 0);Ne(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(W).join(",")}`),B=B.slice(0,Math.min(B.length,c+1))}let M=!1,l=-1;if(D)for(let c=0;c<B.length;c++){let d=B[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:v,errors:h}=D,m=d.route.loader&&!v.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){M=!0,l>=0?B=B.slice(0,l+1):B=[B[0]];break}}}return B.reduceRight((c,d,v)=>{let h,m=!1,g=null,w=null;D&&(h=W&&d.route.id?W[d.route.id]:void 0,g=d.route.errorElement||Xf,M&&(l<0&&v===0?(Gu("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===v&&(m=!0,w=d.route.hydrateFallbackElement||null)));let f=A.concat(B.slice(0,v+1)),n=()=>{let a;return h?a=g:m?a=w:d.route.Component?a=re.createElement(d.route.Component,null):d.route.element?a=d.route.element:a=c,re.createElement(Qf,{match:d,routeContext:{outlet:c,matches:f,isDataRoute:D!=null},children:a})};return D&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?re.createElement(Jf,{location:D.location,revalidation:D.revalidation,component:g,error:h,children:n(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):n()},null)}function ka(S){return`${S} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ep(S){let A=re.useContext(ci);return Ne(A,ka(S)),A}function tp(S){let A=re.useContext(vn);return Ne(A,ka(S)),A}function rp(S){let A=re.useContext(Ht);return Ne(A,ka(S)),A}function La(S){let A=rp(S),D=A.matches[A.matches.length-1];return Ne(D.route.id,`${S} can only be used on routes that contain a unique "id"`),D.route.id}function ip(){return La("useRouteId")}function sp(){var F;let S=re.useContext(Ea),A=tp("useRouteError"),D=La("useRouteError");return S!==void 0?S:(F=A.errors)==null?void 0:F[D]}function np(){let{router:S}=ep("useNavigate"),A=La("useNavigate"),D=re.useRef(!1);return qu(()=>{D.current=!0}),re.useCallback(async(B,W={})=>{Tt(D.current,Ku),D.current&&(typeof B=="number"?S.navigate(B):await S.navigate(B,{fromRouteId:A,...W}))},[S,A])}var Au={};function Gu(S,A,D){!A&&!Au[S]&&(Au[S]=!0,Tt(!1,D))}re.memo(op);function op({routes:S,future:A,state:D}){return Yu(S,void 0,D,A)}function fn(S){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ap({basename:S="/",children:A=null,location:D,navigationType:F="POP",navigator:B,static:W=!1}){Ne(!Zi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let M=S.replace(/^\/*/,"/"),l=re.useMemo(()=>({basename:M,navigator:B,static:W,future:{}}),[M,B,W]);typeof D=="string"&&(D=Ir(D));let{pathname:c="/",search:d="",hash:v="",state:h=null,key:m="default"}=D,g=re.useMemo(()=>{let w=gr(c,M);return w==null?null:{location:{pathname:w,search:d,hash:v,state:h,key:m},navigationType:F}},[M,c,d,v,h,m,F]);return Tt(g!=null,`<Router basename="${M}"> is not able to match the URL "${c}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:re.createElement(Nt.Provider,{value:l},re.createElement(Qi.Provider,{children:A,value:g}))}function lp({children:S,location:A}){return Yf(Sa(S),A)}function Sa(S,A=[]){let D=[];return re.Children.forEach(S,(F,B)=>{if(!re.isValidElement(F))return;let W=[...A,B];if(F.type===re.Fragment){D.push.apply(D,Sa(F.props.children,W));return}Ne(F.type===fn,`[${typeof F.type=="string"?F.type:F.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!F.props.index||!F.props.children,"An index route cannot have child routes.");let M={id:F.props.id||W.join("-"),caseSensitive:F.props.caseSensitive,element:F.props.element,Component:F.props.Component,index:F.props.index,path:F.props.path,loader:F.props.loader,action:F.props.action,hydrateFallbackElement:F.props.hydrateFallbackElement,HydrateFallback:F.props.HydrateFallback,errorElement:F.props.errorElement,ErrorBoundary:F.props.ErrorBoundary,hasErrorBoundary:F.props.hasErrorBoundary===!0||F.props.ErrorBoundary!=null||F.props.errorElement!=null,shouldRevalidate:F.props.shouldRevalidate,handle:F.props.handle,lazy:F.props.lazy};F.props.children&&(M.children=Sa(F.props.children,W)),D.push(M)}),D}var pn="get",_n="application/x-www-form-urlencoded";function gn(S){return S!=null&&typeof S.tagName=="string"}function cp(S){return gn(S)&&S.tagName.toLowerCase()==="button"}function up(S){return gn(S)&&S.tagName.toLowerCase()==="form"}function hp(S){return gn(S)&&S.tagName.toLowerCase()==="input"}function dp(S){return!!(S.metaKey||S.altKey||S.ctrlKey||S.shiftKey)}function fp(S,A){return S.button===0&&(!A||A==="_self")&&!dp(S)}var hn=null;function pp(){if(hn===null)try{new FormData(document.createElement("form"),0),hn=!1}catch{hn=!0}return hn}var _p=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pa(S){return S!=null&&!_p.has(S)?(Tt(!1,`"${S}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_n}"`),null):S}function mp(S,A){let D,F,B,W,M;if(up(S)){let l=S.getAttribute("action");F=l?gr(l,A):null,D=S.getAttribute("method")||pn,B=pa(S.getAttribute("enctype"))||_n,W=new FormData(S)}else if(cp(S)||hp(S)&&(S.type==="submit"||S.type==="image")){let l=S.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=S.getAttribute("formaction")||l.getAttribute("action");if(F=c?gr(c,A):null,D=S.getAttribute("formmethod")||l.getAttribute("method")||pn,B=pa(S.getAttribute("formenctype"))||pa(l.getAttribute("enctype"))||_n,W=new FormData(l,S),!pp()){let{name:d,type:v,value:h}=S;if(v==="image"){let m=d?`${d}.`:"";W.append(`${m}x`,"0"),W.append(`${m}y`,"0")}else d&&W.append(d,h)}}else{if(gn(S))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');D=pn,F=null,B=_n,M=S}return W&&B==="text/plain"&&(M=W,W=void 0),{action:F,method:D.toLowerCase(),encType:B,formData:W,body:M}}function Ra(S,A){if(S===!1||S===null||typeof S>"u")throw new Error(A)}async function vp(S,A){if(S.id in A)return A[S.id];try{let D=await import(S.module);return A[S.id]=D,D}catch(D){return console.error(`Error loading route module \`${S.module}\`, reloading page...`),console.error(D),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gp(S){return S==null?!1:S.href==null?S.rel==="preload"&&typeof S.imageSrcSet=="string"&&typeof S.imageSizes=="string":typeof S.rel=="string"&&typeof S.href=="string"}async function yp(S,A,D){let F=await Promise.all(S.map(async B=>{let W=A.routes[B.route.id];if(W){let M=await vp(W,D);return M.links?M.links():[]}return[]}));return xp(F.flat(1).filter(gp).filter(B=>B.rel==="stylesheet"||B.rel==="preload").map(B=>B.rel==="stylesheet"?{...B,rel:"prefetch",as:"style"}:{...B,rel:"prefetch"}))}function Pu(S,A,D,F,B,W){let M=(c,d)=>D[d]?c.route.id!==D[d].route.id:!0,l=(c,d)=>{var v;return D[d].pathname!==c.pathname||((v=D[d].route.path)==null?void 0:v.endsWith("*"))&&D[d].params["*"]!==c.params["*"]};return W==="assets"?A.filter((c,d)=>M(c,d)||l(c,d)):W==="data"?A.filter((c,d)=>{var h;let v=F.routes[c.route.id];if(!v||!v.hasLoader)return!1;if(M(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(B.pathname+B.search+B.hash,window.origin),currentParams:((h=D[0])==null?void 0:h.params)||{},nextUrl:new URL(S,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Sp(S,A,{includeHydrateFallback:D}={}){return wp(S.map(F=>{let B=A.routes[F.route.id];if(!B)return[];let W=[B.module];return B.clientActionModule&&(W=W.concat(B.clientActionModule)),B.clientLoaderModule&&(W=W.concat(B.clientLoaderModule)),D&&B.hydrateFallbackModule&&(W=W.concat(B.hydrateFallbackModule)),B.imports&&(W=W.concat(B.imports)),W}).flat(1))}function wp(S){return[...new Set(S)]}function Cp(S){let A={},D=Object.keys(S).sort();for(let F of D)A[F]=S[F];return A}function xp(S,A){let D=new Set;return new Set(A),S.reduce((F,B)=>{let W=JSON.stringify(Cp(B));return D.has(W)||(D.add(W),F.push({key:W,link:B})),F},[])}function Ep(S){let A=typeof S=="string"?new URL(S,typeof window>"u"?"server://singlefetch/":window.location.origin):S;return A.pathname==="/"?A.pathname="_root.data":A.pathname=`${A.pathname.replace(/\/$/,"")}.data`,A}function bp(){let S=re.useContext(ci);return Ra(S,"You must render this element inside a <DataRouterContext.Provider> element"),S}function kp(){let S=re.useContext(vn);return Ra(S,"You must render this element inside a <DataRouterStateContext.Provider> element"),S}var Da=re.createContext(void 0);Da.displayName="FrameworkContext";function Xu(){let S=re.useContext(Da);return Ra(S,"You must render this element inside a <HydratedRouter> element"),S}function Lp(S,A){let D=re.useContext(Da),[F,B]=re.useState(!1),[W,M]=re.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:v,onTouchStart:h}=A,m=re.useRef(null);re.useEffect(()=>{if(S==="render"&&M(!0),S==="viewport"){let f=a=>{a.forEach(s=>{M(s.isIntersecting)})},n=new IntersectionObserver(f,{threshold:.5});return m.current&&n.observe(m.current),()=>{n.disconnect()}}},[S]),re.useEffect(()=>{if(F){let f=setTimeout(()=>{M(!0)},100);return()=>{clearTimeout(f)}}},[F]);let g=()=>{B(!0)},w=()=>{B(!1),M(!1)};return D?S!=="intent"?[W,m,{}]:[W,m,{onFocus:Yi(l,g),onBlur:Yi(c,w),onMouseEnter:Yi(d,g),onMouseLeave:Yi(v,w),onTouchStart:Yi(h,g)}]:[!1,m,{}]}function Yi(S,A){return D=>{S&&S(D),D.defaultPrevented||A(D)}}function Rp({page:S,...A}){let{router:D}=bp(),F=re.useMemo(()=>ju(D.routes,S,D.basename),[D.routes,S,D.basename]);return F?re.createElement(Tp,{page:S,matches:F,...A}):null}function Dp(S){let{manifest:A,routeModules:D}=Xu(),[F,B]=re.useState([]);return re.useEffect(()=>{let W=!1;return yp(S,A,D).then(M=>{W||B(M)}),()=>{W=!0}},[S,A,D]),F}function Tp({page:S,matches:A,...D}){let F=Nr(),{manifest:B,routeModules:W}=Xu(),{loaderData:M,matches:l}=kp(),c=re.useMemo(()=>Pu(S,A,l,B,F,"data"),[S,A,l,B,F]),d=re.useMemo(()=>Pu(S,A,l,B,F,"assets"),[S,A,l,B,F]),v=re.useMemo(()=>{if(S===F.pathname+F.search+F.hash)return[];let g=new Set,w=!1;if(A.forEach(n=>{var s;let a=B.routes[n.route.id];!a||!a.hasLoader||(!c.some(o=>o.route.id===n.route.id)&&n.route.id in M&&((s=W[n.route.id])!=null&&s.shouldRevalidate)||a.hasClientLoader?w=!0:g.add(n.route.id))}),g.size===0)return[];let f=Ep(S);return w&&g.size>0&&f.searchParams.set("_routes",A.filter(n=>g.has(n.route.id)).map(n=>n.route.id).join(",")),[f.pathname+f.search]},[M,F,B,c,A,S,W]),h=re.useMemo(()=>Sp(d,B),[d,B]),m=Dp(d);return re.createElement(re.Fragment,null,v.map(g=>re.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...D})),h.map(g=>re.createElement("link",{key:g,rel:"modulepreload",href:g,...D})),m.map(({key:g,link:w})=>re.createElement("link",{key:g,...w})))}function Ap(...S){return A=>{S.forEach(D=>{typeof D=="function"?D(A):D!=null&&(D.current=A)})}}var Ju=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ju&&(window.__reactRouterVersion="7.2.0")}catch{}function Pp({basename:S,children:A,window:D}){let F=re.useRef();F.current==null&&(F.current=yf({window:D,v5Compat:!0}));let B=F.current,[W,M]=re.useState({action:B.action,location:B.location}),l=re.useCallback(c=>{re.startTransition(()=>M(c))},[M]);return re.useLayoutEffect(()=>B.listen(l),[B,l]),re.createElement(ap,{basename:S,children:A,location:W.location,navigationType:W.action,navigator:B})}var Qu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gi=re.forwardRef(function({onClick:A,discover:D="render",prefetch:F="none",relative:B,reloadDocument:W,replace:M,state:l,target:c,to:d,preventScrollReset:v,viewTransition:h,...m},g){let{basename:w}=re.useContext(Nt),f=typeof d=="string"&&Qu.test(d),n,a=!1;if(typeof d=="string"&&f&&(n=d,Ju))try{let R=new URL(window.location.href),H=d.startsWith("//")?new URL(R.protocol+d):new URL(d),z=gr(H.pathname,w);H.origin===R.origin&&z!=null?d=z+H.search+H.hash:a=!0}catch{Tt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let s=Vf(d,{relative:B}),[o,p,C]=Lp(F,m),x=Ip(d,{replace:M,state:l,target:c,preventScrollReset:v,relative:B,viewTransition:h});function E(R){A&&A(R),R.defaultPrevented||x(R)}let y=re.createElement("a",{...m,...C,href:n||s,onClick:a||W?A:E,ref:Ap(g,p),target:c,"data-discover":!f&&D==="render"?"true":void 0});return o&&!f?re.createElement(re.Fragment,null,y,re.createElement(Rp,{page:s})):y});Gi.displayName="Link";var Mp=re.forwardRef(function({"aria-current":A="page",caseSensitive:D=!1,className:F="",end:B=!1,style:W,to:M,viewTransition:l,children:c,...d},v){let h=es(M,{relative:d.relative}),m=Nr(),g=re.useContext(vn),{navigator:w,basename:f}=re.useContext(Nt),n=g!=null&&zp(h)&&l===!0,a=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,s=m.pathname,o=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;D||(s=s.toLowerCase(),o=o?o.toLowerCase():null,a=a.toLowerCase()),o&&f&&(o=gr(o,f)||o);const p=a!=="/"&&a.endsWith("/")?a.length-1:a.length;let C=s===a||!B&&s.startsWith(a)&&s.charAt(p)==="/",x=o!=null&&(o===a||!B&&o.startsWith(a)&&o.charAt(a.length)==="/"),E={isActive:C,isPending:x,isTransitioning:n},y=C?A:void 0,R;typeof F=="function"?R=F(E):R=[F,C?"active":null,x?"pending":null,n?"transitioning":null].filter(Boolean).join(" ");let H=typeof W=="function"?W(E):W;return re.createElement(Gi,{...d,"aria-current":y,className:R,ref:v,style:H,to:M,viewTransition:l},typeof c=="function"?c(E):c)});Mp.displayName="NavLink";var Op=re.forwardRef(({discover:S="render",fetcherKey:A,navigate:D,reloadDocument:F,replace:B,state:W,method:M=pn,action:l,onSubmit:c,relative:d,preventScrollReset:v,viewTransition:h,...m},g)=>{let w=jp(),f=Fp(l,{relative:d}),n=M.toLowerCase()==="get"?"get":"post",a=typeof l=="string"&&Qu.test(l),s=o=>{if(c&&c(o),o.defaultPrevented)return;o.preventDefault();let p=o.nativeEvent.submitter,C=(p==null?void 0:p.getAttribute("formmethod"))||M;w(p||o.currentTarget,{fetcherKey:A,method:C,navigate:D,replace:B,state:W,relative:d,preventScrollReset:v,viewTransition:h})};return re.createElement("form",{ref:g,method:n,action:f,onSubmit:F?c:s,...m,"data-discover":!a&&S==="render"?"true":void 0})});Op.displayName="Form";function Bp(S){return`${S} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zu(S){let A=re.useContext(ci);return Ne(A,Bp(S)),A}function Ip(S,{target:A,replace:D,state:F,preventScrollReset:B,relative:W,viewTransition:M}={}){let l=ba(),c=Nr(),d=es(S,{relative:W});return re.useCallback(v=>{if(fp(v,A)){v.preventDefault();let h=D!==void 0?D:Ji(c)===Ji(d);l(S,{replace:h,state:F,preventScrollReset:B,relative:W,viewTransition:M})}},[c,l,d,D,F,A,S,B,W,M])}var Np=0,Hp=()=>`__${String(++Np)}__`;function jp(){let{router:S}=Zu("useSubmit"),{basename:A}=re.useContext(Nt),D=ip();return re.useCallback(async(F,B={})=>{let{action:W,method:M,encType:l,formData:c,body:d}=mp(F,A);if(B.navigate===!1){let v=B.fetcherKey||Hp();await S.fetch(v,D,B.action||W,{preventScrollReset:B.preventScrollReset,formData:c,body:d,formMethod:B.method||M,formEncType:B.encType||l,flushSync:B.flushSync})}else await S.navigate(B.action||W,{preventScrollReset:B.preventScrollReset,formData:c,body:d,formMethod:B.method||M,formEncType:B.encType||l,replace:B.replace,state:B.state,fromRouteId:D,flushSync:B.flushSync,viewTransition:B.viewTransition})},[S,A,D])}function Fp(S,{relative:A}={}){let{basename:D}=re.useContext(Nt),F=re.useContext(Ht);Ne(F,"useFormAction must be used inside a RouteContext");let[B]=F.matches.slice(-1),W={...es(S||".",{relative:A})},M=Nr();if(S==null){W.search=M.search;let l=new URLSearchParams(W.search),c=l.getAll("index");if(c.some(v=>v==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let v=l.toString();W.search=v?`?${v}`:""}}return(!S||S===".")&&B.route.index&&(W.search=W.search?W.search.replace(/^\?/,"?index&"):"?index"),D!=="/"&&(W.pathname=W.pathname==="/"?D:Yt([D,W.pathname])),Ji(W)}function zp(S,A={}){let D=re.useContext(Vu);Ne(D!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:F}=Zu("useViewTransitionState"),B=es(S,{relative:A.relative});if(!D.isTransitioning)return!1;let W=gr(D.currentLocation.pathname,F)||D.currentLocation.pathname,M=gr(D.nextLocation.pathname,F)||D.nextLocation.pathname;return mn(B.pathname,M)!=null||mn(B.pathname,W)!=null}new TextEncoder;const Up=new Error;Up.stack="";function Wp(){let S,A;function D(){A=new Promise(F=>S=F)}return D(),{get promise(){return A},resolve(F){return S(F)},reset:D}}Wp();var Xi;(function(S){S.UncaughtException="PREVIEW_UNCAUGHT_EXCEPTION",S.UnhandledRejection="PREVIEW_UNHANDLED_REJECTION",S.ConsoleError="PREVIEW_CONSOLE_ERROR"})(Xi||(Xi={}));var $p=Object.defineProperty,Vp=(S,A)=>{for(var D in A)$p(S,D,{get:A[D],enumerable:!0})},Kp={};Vp(Kp,{createEndpoint:()=>eh,expose:()=>Pa,proxy:()=>ah,proxyMarker:()=>Ta,releaseProxy:()=>th,transfer:()=>oh,transferHandlers:()=>Aa,windowEndpoint:()=>Jp,wrap:()=>sh});var Ta=Symbol("Comlink.proxy"),eh=Symbol("Comlink.endpoint"),th=Symbol("Comlink.releaseProxy"),wa=Symbol("Comlink.thrown"),rh=S=>typeof S=="object"&&S!==null||typeof S=="function",qp={canHandle:S=>rh(S)&&S[Ta],serialize(S){const{port1:A,port2:D}=new MessageChannel;return Pa(S,A),[D,[D]]},deserialize(S){return S.start(),sh(S)}},Yp={canHandle:S=>rh(S)&&wa in S,serialize({value:S}){let A;return S instanceof Error?A={isError:!0,value:{message:S.message,name:S.name,stack:S.stack}}:A={isError:!1,value:S},[A,[]]},deserialize(S){throw S.isError?Object.assign(new Error(S.value.message),S.value):S.value}},Aa=new Map([["proxy",qp],["throw",Yp]]);function Pa(S,A=self){A.addEventListener("message",function D(F){if(!F||!F.data)return;const{id:B,type:W,path:M}=Object.assign({path:[]},F.data),l=(F.data.argumentList||[]).map(Br);let c;try{const d=M.slice(0,-1).reduce((h,m)=>h[m],S),v=M.reduce((h,m)=>h[m],S);switch(W){case 0:c=v;break;case 1:d[M.slice(-1)[0]]=Br(F.data.value),c=!0;break;case 2:c=v.apply(d,l);break;case 3:{const h=new v(...l);c=ah(h)}break;case 4:{const{port1:h,port2:m}=new MessageChannel;Pa(S,m),c=oh(h,[h])}break;case 5:c=void 0;break}}catch(d){c={value:d,[wa]:0}}Promise.resolve(c).catch(d=>({value:d,[wa]:0})).then(d=>{const[v,h]=Ma(d);A.postMessage(Object.assign(Object.assign({},v),{id:B}),h),W===5&&(A.removeEventListener("message",D),ih(A))})}),A.start&&A.start()}function Gp(S){return S.constructor.name==="MessagePort"}function ih(S){Gp(S)&&S.close()}function sh(S,A){return Ca(S,[],A)}function dn(S){if(S)throw new Error("Proxy has been released and is not useable")}function Ca(S,A=[],D=function(){}){let F=!1;const B=new Proxy(D,{get(W,M){if(dn(F),M===th)return()=>li(S,{type:5,path:A.map(l=>l.toString())}).then(()=>{ih(S),F=!0});if(M==="then"){if(A.length===0)return{then:()=>B};const l=li(S,{type:0,path:A.map(c=>c.toString())}).then(Br);return l.then.bind(l)}return Ca(S,[...A,M])},set(W,M,l){dn(F);const[c,d]=Ma(l);return li(S,{type:1,path:[...A,M].map(v=>v.toString()),value:c},d).then(Br)},apply(W,M,l){dn(F);const c=A[A.length-1];if(c===eh)return li(S,{type:4}).then(Br);if(c==="bind")return Ca(S,A.slice(0,-1));const[d,v]=Mu(l);return li(S,{type:2,path:A.map(h=>h.toString()),argumentList:d},v).then(Br)},construct(W,M){dn(F);const[l,c]=Mu(M);return li(S,{type:3,path:A.map(d=>d.toString()),argumentList:l},c).then(Br)}});return B}function Xp(S){return Array.prototype.concat.apply([],S)}function Mu(S){const A=S.map(Ma);return[A.map(D=>D[0]),Xp(A.map(D=>D[1]))]}var nh=new WeakMap;function oh(S,A){return nh.set(S,A),S}function ah(S){return Object.assign(S,{[Ta]:!0})}function Jp(S,A=self,D="*"){return{postMessage:(F,B)=>S.postMessage(F,D,B),addEventListener:A.addEventListener.bind(A),removeEventListener:A.removeEventListener.bind(A)}}function Ma(S){for(const[A,D]of Aa)if(D.canHandle(S)){const[F,B]=D.serialize(S);return[{type:3,name:A,value:F},B]}return[{type:0,value:S},nh.get(S)||[]]}function Br(S){switch(S.type){case 3:return Aa.get(S.name).deserialize(S.value);case 0:return S.value}}function li(S,A,D){return new Promise(F=>{const B=Qp();S.addEventListener("message",function W(M){!M.data||!M.data.id||M.data.id!==B||(S.removeEventListener("message",W),F(M.data))}),S.start&&S.start(),S.postMessage(Object.assign({id:B},A),D)})}function Qp(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}Xi.ConsoleError,Xi.UncaughtException,Xi.UnhandledRejection;new TextDecoder;new TextEncoder;var _a={exports:{}},Ou;function Zp(){return Ou||(Ou=1,function(S,A){(function(D,F){S.exports=F()})(globalThis,()=>(()=>{var D={4567:function(M,l,c){var d=this&&this.__decorate||function(s,o,p,C){var x,E=arguments.length,y=E<3?o:C===null?C=Object.getOwnPropertyDescriptor(o,p):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,o,p,C);else for(var R=s.length-1;R>=0;R--)(x=s[R])&&(y=(E<3?x(y):E>3?x(o,p,y):x(o,p))||y);return E>3&&y&&Object.defineProperty(o,p,y),y},v=this&&this.__param||function(s,o){return function(p,C){o(p,C,s)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const h=c(9042),m=c(9924),g=c(844),w=c(4725),f=c(2585),n=c(3656);let a=l.AccessibilityManager=class extends g.Disposable{constructor(s,o,p,C){super(),this._terminal=s,this._coreBrowserService=p,this._renderService=C,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let x=0;x<this._terminal.rows;x++)this._rowElements[x]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[x]);if(this._topBoundaryFocusListener=x=>this._handleBoundaryFocus(x,0),this._bottomBoundaryFocusListener=x=>this._handleBoundaryFocus(x,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new m.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(x=>this._handleResize(x.rows))),this.register(this._terminal.onRender(x=>this._refreshRows(x.start,x.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(x=>this._handleChar(x))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(x=>this._handleTab(x))),this.register(this._terminal.onKey(x=>this._handleKey(x.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,n.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,g.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(s){for(let o=0;o<s;o++)this._handleChar(" ")}_handleChar(s){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==s&&(this._charsToAnnounce+=s):this._charsToAnnounce+=s,s===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(s){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(s)||this._charsToConsume.push(s)}_refreshRows(s,o){this._liveRegionDebouncer.refresh(s,o,this._terminal.rows)}_renderRows(s,o){const p=this._terminal.buffer,C=p.lines.length.toString();for(let x=s;x<=o;x++){const E=p.lines.get(p.ydisp+x),y=[],R=(E==null?void 0:E.translateToString(!0,void 0,void 0,y))||"",H=(p.ydisp+x+1).toString(),z=this._rowElements[x];z&&(R.length===0?(z.innerText="",this._rowColumns.set(z,[0,1])):(z.textContent=R,this._rowColumns.set(z,y)),z.setAttribute("aria-posinset",H),z.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(s,o){const p=s.target,C=this._rowElements[o===0?1:this._rowElements.length-2];if(p.getAttribute("aria-posinset")===(o===0?"1":`${this._terminal.buffer.lines.length}`)||s.relatedTarget!==C)return;let x,E;if(o===0?(x=p,E=this._rowElements.pop(),this._rowContainer.removeChild(E)):(x=this._rowElements.shift(),E=p,this._rowContainer.removeChild(x)),x.removeEventListener("focus",this._topBoundaryFocusListener),E.removeEventListener("focus",this._bottomBoundaryFocusListener),o===0){const y=this._createAccessibilityTreeNode();this._rowElements.unshift(y),this._rowContainer.insertAdjacentElement("afterbegin",y)}else{const y=this._createAccessibilityTreeNode();this._rowElements.push(y),this._rowContainer.appendChild(y)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(o===0?-1:1),this._rowElements[o===0?1:this._rowElements.length-2].focus(),s.preventDefault(),s.stopImmediatePropagation()}_handleSelectionChange(){var R;if(this._rowElements.length===0)return;const s=document.getSelection();if(!s)return;if(s.isCollapsed)return void(this._rowContainer.contains(s.anchorNode)&&this._terminal.clearSelection());if(!s.anchorNode||!s.focusNode)return void console.error("anchorNode and/or focusNode are null");let o={node:s.anchorNode,offset:s.anchorOffset},p={node:s.focusNode,offset:s.focusOffset};if((o.node.compareDocumentPosition(p.node)&Node.DOCUMENT_POSITION_PRECEDING||o.node===p.node&&o.offset>p.offset)&&([o,p]=[p,o]),o.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(o={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(o.node))return;const C=this._rowElements.slice(-1)[0];if(p.node.compareDocumentPosition(C)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(p={node:C,offset:((R=C.textContent)==null?void 0:R.length)??0}),!this._rowContainer.contains(p.node))return;const x=({node:H,offset:z})=>{const V=H instanceof Text?H.parentNode:H;let I=parseInt(V==null?void 0:V.getAttribute("aria-posinset"),10)-1;if(isNaN(I))return console.warn("row is invalid. Race condition?"),null;const q=this._rowColumns.get(V);if(!q)return console.warn("columns is null. Race condition?"),null;let ee=z<q.length?q[z]:q.slice(-1)[0]+1;return ee>=this._terminal.cols&&(++I,ee=0),{row:I,column:ee}},E=x(o),y=x(p);if(E&&y){if(E.row>y.row||E.row===y.row&&E.column>=y.column)throw new Error("invalid range");this._terminal.select(E.column,E.row,(y.row-E.row)*this._terminal.cols-E.column+y.column)}}_handleResize(s){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let o=this._rowContainer.children.length;o<this._terminal.rows;o++)this._rowElements[o]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[o]);for(;this._rowElements.length>s;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const s=this._coreBrowserService.mainDocument.createElement("div");return s.setAttribute("role","listitem"),s.tabIndex=-1,this._refreshRowDimensions(s),s}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let s=0;s<this._terminal.rows;s++)this._refreshRowDimensions(this._rowElements[s])}}_refreshRowDimensions(s){s.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=a=d([v(1,f.IInstantiationService),v(2,w.ICoreBrowserService),v(3,w.IRenderService)],a)},3614:(M,l)=>{function c(m){return m.replace(/\r?\n/g,"\r")}function d(m,g){return g?"\x1B[200~"+m+"\x1B[201~":m}function v(m,g,w,f){m=d(m=c(m),w.decPrivateModes.bracketedPasteMode&&f.rawOptions.ignoreBracketedPasteMode!==!0),w.triggerDataEvent(m,!0),g.value=""}function h(m,g,w){const f=w.getBoundingClientRect(),n=m.clientX-f.left-10,a=m.clientY-f.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${n}px`,g.style.top=`${a}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=c,l.bracketTextForPaste=d,l.copyHandler=function(m,g){m.clipboardData&&m.clipboardData.setData("text/plain",g.selectionText),m.preventDefault()},l.handlePasteEvent=function(m,g,w,f){m.stopPropagation(),m.clipboardData&&v(m.clipboardData.getData("text/plain"),g,w,f)},l.paste=v,l.moveTextAreaUnderMouseCursor=h,l.rightClickHandler=function(m,g,w,f,n){h(m,g,w),n&&f.rightClickSelect(m),g.value=f.selectionText,g.select()}},7239:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const d=c(1505);l.ColorContrastCache=class{constructor(){this._color=new d.TwoKeyMap,this._css=new d.TwoKeyMap}setCss(v,h,m){this._css.set(v,h,m)}getCss(v,h){return this._css.get(v,h)}setColor(v,h,m){this._color.set(v,h,m)}getColor(v,h){return this._color.get(v,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(c,d,v,h){c.addEventListener(d,v,h);let m=!1;return{dispose:()=>{m||(m=!0,c.removeEventListener(d,v,h))}}}},3551:function(M,l,c){var d=this&&this.__decorate||function(a,s,o,p){var C,x=arguments.length,E=x<3?s:p===null?p=Object.getOwnPropertyDescriptor(s,o):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,s,o,p);else for(var y=a.length-1;y>=0;y--)(C=a[y])&&(E=(x<3?C(E):x>3?C(s,o,E):C(s,o))||E);return x>3&&E&&Object.defineProperty(s,o,E),E},v=this&&this.__param||function(a,s){return function(o,p){s(o,p,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier=void 0;const h=c(3656),m=c(8460),g=c(844),w=c(2585),f=c(4725);let n=l.Linkifier=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(a,s,o,p,C){super(),this._element=a,this._mouseService=s,this._renderService=o,this._bufferService=p,this._linkProviderService=C,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new m.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new m.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{var x;this._lastMouseEvent=void 0,(x=this._activeProviderReplies)==null||x.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(a){this._lastMouseEvent=a;const s=this._positionFromMouseEvent(a,this._element,this._mouseService);if(!s)return;this._isMouseOut=!1;const o=a.composedPath();for(let p=0;p<o.length;p++){const C=o[p];if(C.classList.contains("xterm"))break;if(C.classList.contains("xterm-hover"))return}this._lastBufferCell&&s.x===this._lastBufferCell.x&&s.y===this._lastBufferCell.y||(this._handleHover(s),this._lastBufferCell=s)}_handleHover(a){if(this._activeLine!==a.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(a,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))}_askForLink(a,s){var p,C;this._activeProviderReplies&&s||((p=this._activeProviderReplies)==null||p.forEach(x=>{x==null||x.forEach(E=>{E.link.dispose&&E.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=a.y);let o=!1;for(const[x,E]of this._linkProviderService.linkProviders.entries())s?(C=this._activeProviderReplies)!=null&&C.get(x)&&(o=this._checkLinkProviderResult(x,a,o)):E.provideLinks(a.y,y=>{var H,z;if(this._isMouseOut)return;const R=y==null?void 0:y.map(V=>({link:V}));(H=this._activeProviderReplies)==null||H.set(x,R),o=this._checkLinkProviderResult(x,a,o),((z=this._activeProviderReplies)==null?void 0:z.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(a.y,this._activeProviderReplies)})}_removeIntersectingLinks(a,s){const o=new Set;for(let p=0;p<s.size;p++){const C=s.get(p);if(C)for(let x=0;x<C.length;x++){const E=C[x],y=E.link.range.start.y<a?0:E.link.range.start.x,R=E.link.range.end.y>a?this._bufferService.cols:E.link.range.end.x;for(let H=y;H<=R;H++){if(o.has(H)){C.splice(x--,1);break}o.add(H)}}}}_checkLinkProviderResult(a,s,o){var x;if(!this._activeProviderReplies)return o;const p=this._activeProviderReplies.get(a);let C=!1;for(let E=0;E<a;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(C=!0);if(!C&&p){const E=p.find(y=>this._linkAtPosition(y.link,s));E&&(o=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!o)for(let E=0;E<this._activeProviderReplies.size;E++){const y=(x=this._activeProviderReplies.get(E))==null?void 0:x.find(R=>this._linkAtPosition(R.link,s));if(y){o=!0,this._handleNewLink(y);break}}return o}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(a){if(!this._currentLink)return;const s=this._positionFromMouseEvent(a,this._element,this._mouseService);s&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,s)&&this._currentLink.link.activate(a,this._currentLink.link.text)}_clearCurrentLink(a,s){this._currentLink&&this._lastMouseEvent&&(!a||!s||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=s)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(a){if(!this._lastMouseEvent)return;const s=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);s&&this._linkAtPosition(a.link,s)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:()=>{var o,p;return(p=(o=this._currentLink)==null?void 0:o.state)==null?void 0:p.decorations.pointerCursor},set:o=>{var p;(p=this._currentLink)!=null&&p.state&&this._currentLink.state.decorations.pointerCursor!==o&&(this._currentLink.state.decorations.pointerCursor=o,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",o))}},underline:{get:()=>{var o,p;return(p=(o=this._currentLink)==null?void 0:o.state)==null?void 0:p.decorations.underline},set:o=>{var p,C,x;(p=this._currentLink)!=null&&p.state&&((x=(C=this._currentLink)==null?void 0:C.state)==null?void 0:x.decorations.underline)!==o&&(this._currentLink.state.decorations.underline=o,this._currentLink.state.isHovered&&this._fireUnderlineEvent(a.link,o))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(o=>{if(!this._currentLink)return;const p=o.start===0?0:o.start+1+this._bufferService.buffer.ydisp,C=this._bufferService.buffer.ydisp+1+o.end;if(this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=C&&(this._clearCurrentLink(p,C),this._lastMouseEvent)){const x=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);x&&this._askForLink(x,!1)}})))}_linkHover(a,s,o){var p;(p=this._currentLink)!=null&&p.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(s,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),s.hover&&s.hover(o,s.text)}_fireUnderlineEvent(a,s){const o=a.range,p=this._bufferService.buffer.ydisp,C=this._createLinkUnderlineEvent(o.start.x-1,o.start.y-p-1,o.end.x,o.end.y-p-1,void 0);(s?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(C)}_linkLeave(a,s,o){var p;(p=this._currentLink)!=null&&p.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(s,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),s.leave&&s.leave(o,s.text)}_linkAtPosition(a,s){const o=a.range.start.y*this._bufferService.cols+a.range.start.x,p=a.range.end.y*this._bufferService.cols+a.range.end.x,C=s.y*this._bufferService.cols+s.x;return o<=C&&C<=p}_positionFromMouseEvent(a,s,o){const p=o.getCoords(a,s,this._bufferService.cols,this._bufferService.rows);if(p)return{x:p[0],y:p[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(a,s,o,p,C){return{x1:a,y1:s,x2:o,y2:p,cols:this._bufferService.cols,fg:C}}};l.Linkifier=n=d([v(1,f.IMouseService),v(2,f.IRenderService),v(3,w.IBufferService),v(4,f.ILinkProviderService)],n)},9042:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(M,l,c){var d=this&&this.__decorate||function(f,n,a,s){var o,p=arguments.length,C=p<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,a):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(f,n,a,s);else for(var x=f.length-1;x>=0;x--)(o=f[x])&&(C=(p<3?o(C):p>3?o(n,a,C):o(n,a))||C);return p>3&&C&&Object.defineProperty(n,a,C),C},v=this&&this.__param||function(f,n){return function(a,s){n(a,s,f)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const h=c(511),m=c(2585);let g=l.OscLinkProvider=class{constructor(f,n,a){this._bufferService=f,this._optionsService=n,this._oscLinkService=a}provideLinks(f,n){var R;const a=this._bufferService.buffer.lines.get(f-1);if(!a)return void n(void 0);const s=[],o=this._optionsService.rawOptions.linkHandler,p=new h.CellData,C=a.getTrimmedLength();let x=-1,E=-1,y=!1;for(let H=0;H<C;H++)if(E!==-1||a.hasContent(H)){if(a.loadCell(H,p),p.hasExtendedAttrs()&&p.extended.urlId){if(E===-1){E=H,x=p.extended.urlId;continue}y=p.extended.urlId!==x}else E!==-1&&(y=!0);if(y||E!==-1&&H===C-1){const z=(R=this._oscLinkService.getLinkData(x))==null?void 0:R.uri;if(z){const V={start:{x:E+1,y:f},end:{x:H+(y||H!==C-1?0:1),y:f}};let I=!1;if(!(o!=null&&o.allowNonHttpProtocols))try{const q=new URL(z);["http:","https:"].includes(q.protocol)||(I=!0)}catch{I=!0}I||s.push({text:z,range:V,activate:(q,ee)=>o?o.activate(q,ee,V):w(0,ee),hover:(q,ee)=>{var ie;return(ie=o==null?void 0:o.hover)==null?void 0:ie.call(o,q,ee,V)},leave:(q,ee)=>{var ie;return(ie=o==null?void 0:o.leave)==null?void 0:ie.call(o,q,ee,V)}})}y=!1,p.hasExtendedAttrs()&&p.extended.urlId?(E=H,x=p.extended.urlId):(E=-1,x=-1)}}n(s)}};function w(f,n){if(confirm(`Do you want to navigate to ${n}?

WARNING: This link could potentially be dangerous`)){const a=window.open();if(a){try{a.opener=null}catch{}a.location.href=n}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=g=d([v(0,m.IBufferService),v(1,m.IOptionsService),v(2,m.IOscLinkService)],g)},6193:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(c,d){this._renderCallback=c,this._coreBrowserService=d,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(c,d,v){this._rowCount=v,c=c!==void 0?c:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,d),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},3236:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const d=c(3614),v=c(3656),h=c(3551),m=c(9042),g=c(3730),w=c(1680),f=c(3107),n=c(5744),a=c(2950),s=c(1296),o=c(428),p=c(4269),C=c(5114),x=c(8934),E=c(3230),y=c(9312),R=c(4725),H=c(6731),z=c(8055),V=c(8969),I=c(8460),q=c(844),ee=c(6114),ie=c(8437),te=c(2584),G=c(7399),b=c(5941),P=c(9074),L=c(2585),O=c(5435),Z=c(4567),ne=c(779);class ue extends V.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor($={}){super($),this.browser=ee,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new q.MutableDisposable),this._onCursorMove=this.register(new I.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new I.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new I.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new I.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new I.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new I.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new I.EventEmitter),this._onBlur=this.register(new I.EventEmitter),this._onA11yCharEmitter=this.register(new I.EventEmitter),this._onA11yTabEmitter=this.register(new I.EventEmitter),this._onWillOpen=this.register(new I.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(P.DecorationService),this._instantiationService.setService(L.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(ne.LinkProviderService),this._instantiationService.setService(R.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((T,se)=>this.refresh(T,se))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(T=>this._reportWindowsOptions(T))),this.register(this._inputHandler.onColor(T=>this._handleColorEvent(T))),this.register((0,I.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,I.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,I.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,I.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(T=>this._afterResize(T.cols,T.rows))),this.register((0,q.toDisposable)(()=>{var T,se;this._customKeyEventHandler=void 0,(se=(T=this.element)==null?void 0:T.parentNode)==null||se.removeChild(this.element)}))}_handleColorEvent($){if(this._themeService)for(const T of $){let se,Q="";switch(T.index){case 256:se="foreground",Q="10";break;case 257:se="background",Q="11";break;case 258:se="cursor",Q="12";break;default:se="ansi",Q="4;"+T.index}switch(T.type){case 0:const fe=z.color.toColorRGB(se==="ansi"?this._themeService.colors.ansi[T.index]:this._themeService.colors[se]);this.coreService.triggerDataEvent(`${te.C0.ESC}]${Q};${(0,b.toRgbString)(fe)}${te.C1_ESCAPED.ST}`);break;case 1:if(se==="ansi")this._themeService.modifyColors(de=>de.ansi[T.index]=z.channels.toColor(...T.color));else{const de=se;this._themeService.modifyColors(xe=>xe[de]=z.channels.toColor(...T.color))}break;case 2:this._themeService.restoreColor(T.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange($){$?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus($){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(te.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var $;return($=this.textarea)==null?void 0:$.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(te.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const $=this.buffer.ybase+this.buffer.y,T=this.buffer.lines.get($);if(!T)return;const se=Math.min(this.buffer.x,this.cols-1),Q=this._renderService.dimensions.css.cell.height,fe=T.getWidth(se),de=this._renderService.dimensions.css.cell.width*fe,xe=this.buffer.y*this._renderService.dimensions.css.cell.height,Re=se*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Re+"px",this.textarea.style.top=xe+"px",this.textarea.style.width=de+"px",this.textarea.style.height=Q+"px",this.textarea.style.lineHeight=Q+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",T=>{this.hasSelection()&&(0,d.copyHandler)(T,this._selectionService)}));const $=T=>(0,d.handlePasteEvent)(T,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",$)),this.register((0,v.addDisposableDomListener)(this.element,"paste",$)),ee.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",T=>{T.button===2&&(0,d.rightClickHandler)(T,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",T=>{(0,d.rightClickHandler)(T,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),ee.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",T=>{T.button===1&&(0,d.moveTextAreaUnderMouseCursor)(T,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",$=>this._keyUp($),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",$=>this._keyDown($),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",$=>this._keyPress($),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",$=>this._compositionHelper.compositionupdate($))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,v.addDisposableDomListener)(this.textarea,"input",$=>this._inputEvent($),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open($){var se;if(!$)throw new Error("Terminal requires a parent element.");if($.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((se=this.element)==null?void 0:se.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=$.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),$.appendChild(this.element);const T=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),T.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,v.addDisposableDomListener)(this.screenElement,"mousemove",Q=>this.updateCursorStyle(Q))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),T.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",m.promptLabel),ee.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(C.CoreBrowserService,this.textarea,$.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(R.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",Q=>this._handleTextAreaFocus(Q))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(o.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(R.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(H.ThemeService),this._instantiationService.setService(R.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(R.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(R.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Q=>this._onRender.fire(Q))),this.onResize(Q=>this._renderService.resize(Q.cols,Q.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(a.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(R.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(T);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(w.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(y.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(R.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Q=>this._renderService.handleSelectionChanged(Q.start,Q.end,Q.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Q=>{this.textarea.value=Q,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Q=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(f.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",Q=>this._selectionService.handleMouseDown(Q))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Q=>this._handleScreenReaderModeOptionChange(Q))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Q=>{!this._overviewRulerRenderer&&Q&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(s.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const $=this,T=this.element;function se(de){const xe=$._mouseService.getMouseReportCoords(de,$.screenElement);if(!xe)return!1;let Re,Te;switch(de.overrideType||de.type){case"mousemove":Te=32,de.buttons===void 0?(Re=3,de.button!==void 0&&(Re=de.button<3?de.button:3)):Re=1&de.buttons?0:4&de.buttons?1:2&de.buttons?2:3;break;case"mouseup":Te=0,Re=de.button<3?de.button:3;break;case"mousedown":Te=1,Re=de.button<3?de.button:3;break;case"wheel":if($._customWheelEventHandler&&$._customWheelEventHandler(de)===!1||$.viewport.getLinesScrolled(de)===0)return!1;Te=de.deltaY<0?0:1,Re=4;break;default:return!1}return!(Te===void 0||Re===void 0||Re>4)&&$.coreMouseService.triggerMouseEvent({col:xe.col,row:xe.row,x:xe.x,y:xe.y,button:Re,action:Te,ctrl:de.ctrlKey,alt:de.altKey,shift:de.shiftKey})}const Q={mouseup:null,wheel:null,mousedrag:null,mousemove:null},fe={mouseup:de=>(se(de),de.buttons||(this._document.removeEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.removeEventListener("mousemove",Q.mousedrag)),this.cancel(de)),wheel:de=>(se(de),this.cancel(de,!0)),mousedrag:de=>{de.buttons&&se(de)},mousemove:de=>{de.buttons||se(de)}};this.register(this.coreMouseService.onProtocolChange(de=>{de?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(de)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&de?Q.mousemove||(T.addEventListener("mousemove",fe.mousemove),Q.mousemove=fe.mousemove):(T.removeEventListener("mousemove",Q.mousemove),Q.mousemove=null),16&de?Q.wheel||(T.addEventListener("wheel",fe.wheel,{passive:!1}),Q.wheel=fe.wheel):(T.removeEventListener("wheel",Q.wheel),Q.wheel=null),2&de?Q.mouseup||(Q.mouseup=fe.mouseup):(this._document.removeEventListener("mouseup",Q.mouseup),Q.mouseup=null),4&de?Q.mousedrag||(Q.mousedrag=fe.mousedrag):(this._document.removeEventListener("mousemove",Q.mousedrag),Q.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(T,"mousedown",de=>{if(de.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(de))return se(de),Q.mouseup&&this._document.addEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.addEventListener("mousemove",Q.mousedrag),this.cancel(de)})),this.register((0,v.addDisposableDomListener)(T,"wheel",de=>{if(!Q.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(de)===!1)return!1;if(!this.buffer.hasScrollback){const xe=this.viewport.getLinesScrolled(de);if(xe===0)return;const Re=te.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(de.deltaY<0?"A":"B");let Te="";for(let qe=0;qe<Math.abs(xe);qe++)Te+=Re;return this.coreService.triggerDataEvent(Te,!0),this.cancel(de,!0)}return this.viewport.handleWheel(de)?this.cancel(de):void 0}},{passive:!1})),this.register((0,v.addDisposableDomListener)(T,"touchstart",de=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(de),this.cancel(de)},{passive:!0})),this.register((0,v.addDisposableDomListener)(T,"touchmove",de=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(de)?void 0:this.cancel(de)},{passive:!1}))}refresh($,T){var se;(se=this._renderService)==null||se.refreshRows($,T)}updateCursorStyle($){var T;(T=this._selectionService)!=null&&T.shouldColumnSelect($)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines($,T,se=0){var Q;se===1?(super.scrollLines($,T,se),this.refresh(0,this.rows-1)):(Q=this.viewport)==null||Q.scrollLines($)}paste($){(0,d.paste)($,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler($){this._customKeyEventHandler=$}attachCustomWheelEventHandler($){this._customWheelEventHandler=$}registerLinkProvider($){return this._linkProviderService.registerLinkProvider($)}registerCharacterJoiner($){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const T=this._characterJoinerService.register($);return this.refresh(0,this.rows-1),T}deregisterCharacterJoiner($){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister($)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker($){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+$)}registerDecoration($){return this._decorationService.registerDecoration($)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select($,T,se){this._selectionService.setSelection($,T,se)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var $;($=this._selectionService)==null||$.clearSelection()}selectAll(){var $;($=this._selectionService)==null||$.selectAll()}selectLines($,T){var se;(se=this._selectionService)==null||se.selectLines($,T)}_keyDown($){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler($)===!1)return!1;const T=this.browser.isMac&&this.options.macOptionIsMeta&&$.altKey;if(!T&&!this._compositionHelper.keydown($))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;T||$.key!=="Dead"&&$.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const se=(0,G.evaluateKeyboardEvent)($,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle($),se.type===3||se.type===2){const Q=this.rows-1;return this.scrollLines(se.type===2?-Q:Q),this.cancel($,!0)}return se.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,$)||(se.cancel&&this.cancel($,!0),!se.key||!!($.key&&!$.ctrlKey&&!$.altKey&&!$.metaKey&&$.key.length===1&&$.key.charCodeAt(0)>=65&&$.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(se.key!==te.C0.ETX&&se.key!==te.C0.CR||(this.textarea.value=""),this._onKey.fire({key:se.key,domEvent:$}),this._showCursor(),this.coreService.triggerDataEvent(se.key,!0),!this.optionsService.rawOptions.screenReaderMode||$.altKey||$.ctrlKey?this.cancel($,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift($,T){const se=$.isMac&&!this.options.macOptionIsMeta&&T.altKey&&!T.ctrlKey&&!T.metaKey||$.isWindows&&T.altKey&&T.ctrlKey&&!T.metaKey||$.isWindows&&T.getModifierState("AltGraph");return T.type==="keypress"?se:se&&(!T.keyCode||T.keyCode>47)}_keyUp($){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler($)===!1||(function(T){return T.keyCode===16||T.keyCode===17||T.keyCode===18}($)||this.focus(),this.updateCursorStyle($),this._keyPressHandled=!1)}_keyPress($){let T;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler($)===!1)return!1;if(this.cancel($),$.charCode)T=$.charCode;else if($.which===null||$.which===void 0)T=$.keyCode;else{if($.which===0||$.charCode===0)return!1;T=$.which}return!(!T||($.altKey||$.ctrlKey||$.metaKey)&&!this._isThirdLevelShift(this.browser,$)||(T=String.fromCharCode(T),this._onKey.fire({key:T,domEvent:$}),this._showCursor(),this.coreService.triggerDataEvent(T,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent($){if($.data&&$.inputType==="insertText"&&(!$.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const T=$.data;return this.coreService.triggerDataEvent(T,!0),this.cancel($),!0}return!1}resize($,T){$!==this.cols||T!==this.rows?super.resize($,T):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize($,T){var se,Q;(se=this._charSizeService)==null||se.measure(),(Q=this.viewport)==null||Q.syncScrollArea(!0)}clear(){var $;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let T=1;T<this.rows;T++)this.buffer.lines.push(this.buffer.getBlankLine(ie.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),($=this.viewport)==null||$.reset(),this.refresh(0,this.rows-1)}}reset(){var T,se;this.options.rows=this.rows,this.options.cols=this.cols;const $=this._customKeyEventHandler;this._setup(),super.reset(),(T=this._selectionService)==null||T.reset(),this._decorationService.reset(),(se=this.viewport)==null||se.reset(),this._customKeyEventHandler=$,this.refresh(0,this.rows-1)}clearTextureAtlas(){var $;($=this._renderService)==null||$.clearTextureAtlas()}_reportFocus(){var $;($=this.element)!=null&&$.classList.contains("focus")?this.coreService.triggerDataEvent(te.C0.ESC+"[I"):this.coreService.triggerDataEvent(te.C0.ESC+"[O")}_reportWindowsOptions($){if(this._renderService)switch($){case O.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const T=this._renderService.dimensions.css.canvas.width.toFixed(0),se=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${te.C0.ESC}[4;${se};${T}t`);break;case O.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Q=this._renderService.dimensions.css.cell.width.toFixed(0),fe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${te.C0.ESC}[6;${fe};${Q}t`)}}cancel($,T){if(this.options.cancelEvents||T)return $.preventDefault(),$.stopPropagation(),!1}}l.Terminal=ue},9924:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(c,d=1e3){this._renderCallback=c,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,d,v){this._rowCount=v,c=c!==void 0?c:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const m=h-this._lastRefreshMs,g=this._debounceThresholdMS-m;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,d)}}},1680:function(M,l,c){var d=this&&this.__decorate||function(a,s,o,p){var C,x=arguments.length,E=x<3?s:p===null?p=Object.getOwnPropertyDescriptor(s,o):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,s,o,p);else for(var y=a.length-1;y>=0;y--)(C=a[y])&&(E=(x<3?C(E):x>3?C(s,o,E):C(s,o))||E);return x>3&&E&&Object.defineProperty(s,o,E),E},v=this&&this.__param||function(a,s){return function(o,p){s(o,p,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const h=c(3656),m=c(4725),g=c(8460),w=c(844),f=c(2585);let n=l.Viewport=class extends w.Disposable{constructor(a,s,o,p,C,x,E,y){super(),this._viewportElement=a,this._scrollArea=s,this._bufferService=o,this._optionsService=p,this._charSizeService=C,this._renderService=x,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(R=>this._activeBuffer=R.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(R=>this._renderDimensions=R)),this._handleThemeChange(y.colors),this.register(y.onChangeColors(R=>this._handleThemeChange(R))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(a){this._viewportElement.style.backgroundColor=a.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(a){if(a)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const s=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==s&&(this._lastRecordedBufferHeight=s,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const a=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==a&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=a),this._refreshAnimationFrame=null}syncScrollArea(a=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(a);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(a)}_handleScroll(a){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const s=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:s,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const a=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(a*(this._smoothScrollState.target-this._smoothScrollState.origin)),a<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(a,s){const o=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(s<0&&this._viewportElement.scrollTop!==0||s>0&&o<this._lastRecordedBufferHeight)||(a.cancelable&&a.preventDefault(),!1)}handleWheel(a){const s=this._getPixelsScrolled(a);return s!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+s:this._smoothScrollState.target+=s,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=s,this._bubbleScroll(a,s))}scrollLines(a){if(a!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const s=a*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+s,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:a,suppressScrollEvent:!1})}_getPixelsScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let s=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_LINE?s*=this._currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(s*=this._currentRowHeight*this._bufferService.rows),s}getBufferElements(a,s){var y;let o,p="";const C=[],x=s??this._bufferService.buffer.lines.length,E=this._bufferService.buffer.lines;for(let R=a;R<x;R++){const H=E.get(R);if(!H)continue;const z=(y=E.get(R+1))==null?void 0:y.isWrapped;if(p+=H.translateToString(!z),!z||R===E.length-1){const V=document.createElement("div");V.textContent=p,C.push(V),p.length>0&&(o=V),p=""}}return{bufferElements:C,cursorElement:o}}getLinesScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let s=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(s/=this._currentRowHeight+0,this._wheelPartialScroll+=s,s=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(s*=this._bufferService.rows),s}_applyScrollModifier(a,s){const o=this._optionsService.rawOptions.fastScrollModifier;return o==="alt"&&s.altKey||o==="ctrl"&&s.ctrlKey||o==="shift"&&s.shiftKey?a*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:a*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(a){this._lastTouchY=a.touches[0].pageY}handleTouchMove(a){const s=this._lastTouchY-a.touches[0].pageY;return this._lastTouchY=a.touches[0].pageY,s!==0&&(this._viewportElement.scrollTop+=s,this._bubbleScroll(a,s))}};l.Viewport=n=d([v(2,f.IBufferService),v(3,f.IOptionsService),v(4,m.ICharSizeService),v(5,m.IRenderService),v(6,m.ICoreBrowserService),v(7,m.IThemeService)],n)},3107:function(M,l,c){var d=this&&this.__decorate||function(f,n,a,s){var o,p=arguments.length,C=p<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,a):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(f,n,a,s);else for(var x=f.length-1;x>=0;x--)(o=f[x])&&(C=(p<3?o(C):p>3?o(n,a,C):o(n,a))||C);return p>3&&C&&Object.defineProperty(n,a,C),C},v=this&&this.__param||function(f,n){return function(a,s){n(a,s,f)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const h=c(4725),m=c(844),g=c(2585);let w=l.BufferDecorationRenderer=class extends m.Disposable{constructor(f,n,a,s,o){super(),this._screenElement=f,this._bufferService=n,this._coreBrowserService=a,this._decorationService=s,this._renderService=o,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(p=>this._removeDecoration(p))),this.register((0,m.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const f of this._decorationService.decorations)this._renderDecoration(f);this._dimensionsChanged=!1}_renderDecoration(f){this._refreshStyle(f),this._dimensionsChanged&&this._refreshXPosition(f)}_createElement(f){var s;const n=this._coreBrowserService.mainDocument.createElement("div");n.classList.add("xterm-decoration"),n.classList.toggle("xterm-decoration-top-layer",((s=f==null?void 0:f.options)==null?void 0:s.layer)==="top"),n.style.width=`${Math.round((f.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,n.style.height=(f.options.height||1)*this._renderService.dimensions.css.cell.height+"px",n.style.top=(f.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",n.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const a=f.options.x??0;return a&&a>this._bufferService.cols&&(n.style.display="none"),this._refreshXPosition(f,n),n}_refreshStyle(f){const n=f.marker.line-this._bufferService.buffers.active.ydisp;if(n<0||n>=this._bufferService.rows)f.element&&(f.element.style.display="none",f.onRenderEmitter.fire(f.element));else{let a=this._decorationElements.get(f);a||(a=this._createElement(f),f.element=a,this._decorationElements.set(f,a),this._container.appendChild(a),f.onDispose(()=>{this._decorationElements.delete(f),a.remove()})),a.style.top=n*this._renderService.dimensions.css.cell.height+"px",a.style.display=this._altBufferIsActive?"none":"block",f.onRenderEmitter.fire(a)}}_refreshXPosition(f,n=f.element){if(!n)return;const a=f.options.x??0;(f.options.anchor||"left")==="right"?n.style.right=a?a*this._renderService.dimensions.css.cell.width+"px":"":n.style.left=a?a*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(f){var n;(n=this._decorationElements.get(f))==null||n.remove(),this._decorationElements.delete(f),f.dispose()}};l.BufferDecorationRenderer=w=d([v(1,g.IBufferService),v(2,h.ICoreBrowserService),v(3,g.IDecorationService),v(4,h.IRenderService)],w)},5871:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const d of this._zones)if(d.color===c.options.overviewRulerOptions.color&&d.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(d,c.marker.line))return;if(this._lineAdjacentToZone(d,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(d,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,d){return d>=c.startBufferLine&&d<=c.endBufferLine}_lineAdjacentToZone(c,d,v){return d>=c.startBufferLine-this._linePadding[v||"full"]&&d<=c.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(c,d){c.startBufferLine=Math.min(c.startBufferLine,d),c.endBufferLine=Math.max(c.endBufferLine,d)}}},5744:function(M,l,c){var d=this&&this.__decorate||function(o,p,C,x){var E,y=arguments.length,R=y<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,C):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(o,p,C,x);else for(var H=o.length-1;H>=0;H--)(E=o[H])&&(R=(y<3?E(R):y>3?E(p,C,R):E(p,C))||R);return y>3&&R&&Object.defineProperty(p,C,R),R},v=this&&this.__param||function(o,p){return function(C,x){p(C,x,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const h=c(5871),m=c(4725),g=c(844),w=c(2585),f={full:0,left:0,center:0,right:0},n={full:0,left:0,center:0,right:0},a={full:0,left:0,center:0,right:0};let s=l.OverviewRulerRenderer=class extends g.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(o,p,C,x,E,y,R){var z;super(),this._viewportElement=o,this._screenElement=p,this._bufferService=C,this._decorationService=x,this._renderService=E,this._optionsService=y,this._coreBrowserService=R,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(z=this._viewportElement.parentElement)==null||z.insertBefore(this._canvas,this._viewportElement);const H=this._canvas.getContext("2d");if(!H)throw new Error("Ctx cannot be null");this._ctx=H,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,g.toDisposable)(()=>{var V;(V=this._canvas)==null||V.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const o=Math.floor(this._canvas.width/3),p=Math.ceil(this._canvas.width/3);n.full=this._canvas.width,n.left=o,n.center=p,n.right=o,this._refreshDrawHeightConstants(),a.full=0,a.left=0,a.center=n.left,a.right=n.left+n.center}_refreshDrawHeightConstants(){f.full=Math.round(2*this._coreBrowserService.dpr);const o=this._canvas.height/this._bufferService.buffer.lines.length,p=Math.round(Math.max(Math.min(o,12),6)*this._coreBrowserService.dpr);f.left=p,f.center=p,f.right=p}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const p of this._decorationService.decorations)this._colorZoneStore.addDecoration(p);this._ctx.lineWidth=1;const o=this._colorZoneStore.zones;for(const p of o)p.position!=="full"&&this._renderColorZone(p);for(const p of o)p.position==="full"&&this._renderColorZone(p);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(o){this._ctx.fillStyle=o.color,this._ctx.fillRect(a[o.position||"full"],Math.round((this._canvas.height-1)*(o.startBufferLine/this._bufferService.buffers.active.lines.length)-f[o.position||"full"]/2),n[o.position||"full"],Math.round((this._canvas.height-1)*((o.endBufferLine-o.startBufferLine)/this._bufferService.buffers.active.lines.length)+f[o.position||"full"]))}_queueRefresh(o,p){this._shouldUpdateDimensions=o||this._shouldUpdateDimensions,this._shouldUpdateAnchor=p||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};l.OverviewRulerRenderer=s=d([v(2,w.IBufferService),v(3,w.IDecorationService),v(4,m.IRenderService),v(5,w.IOptionsService),v(6,m.ICoreBrowserService)],s)},2950:function(M,l,c){var d=this&&this.__decorate||function(f,n,a,s){var o,p=arguments.length,C=p<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,a):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(f,n,a,s);else for(var x=f.length-1;x>=0;x--)(o=f[x])&&(C=(p<3?o(C):p>3?o(n,a,C):o(n,a))||C);return p>3&&C&&Object.defineProperty(n,a,C),C},v=this&&this.__param||function(f,n){return function(a,s){n(a,s,f)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const h=c(4725),m=c(2585),g=c(2584);let w=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(f,n,a,s,o,p){this._textarea=f,this._compositionView=n,this._bufferService=a,this._optionsService=s,this._coreService=o,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(f){this._compositionView.textContent=f.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(f){if(this._isComposing||this._isSendingComposition){if(f.keyCode===229||f.keyCode===16||f.keyCode===17||f.keyCode===18)return!1;this._finalizeComposition(!1)}return f.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(f){if(this._compositionView.classList.remove("active"),this._isComposing=!1,f){const n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let a;this._isSendingComposition=!1,n.start+=this._dataAlreadySent.length,a=this._isComposing?this._textarea.value.substring(n.start,n.end):this._textarea.value.substring(n.start),a.length>0&&this._coreService.triggerDataEvent(a,!0)}},0)}else{this._isSendingComposition=!1;const n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}}_handleAnyTextareaChanges(){const f=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const n=this._textarea.value,a=n.replace(f,"");this._dataAlreadySent=a,n.length>f.length?this._coreService.triggerDataEvent(a,!0):n.length<f.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):n.length===f.length&&n!==f&&this._coreService.triggerDataEvent(n,!0)}},0)}updateCompositionElements(f){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),a=this._renderService.dimensions.css.cell.height,s=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,o=n*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=o+"px",this._compositionView.style.top=s+"px",this._compositionView.style.height=a+"px",this._compositionView.style.lineHeight=a+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const p=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=s+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}f||setTimeout(()=>this.updateCompositionElements(!0),0)}}};l.CompositionHelper=w=d([v(2,m.IBufferService),v(3,m.IOptionsService),v(4,m.ICoreService),v(5,h.IRenderService)],w)},9806:(M,l)=>{function c(d,v,h){const m=h.getBoundingClientRect(),g=d.getComputedStyle(h),w=parseInt(g.getPropertyValue("padding-left")),f=parseInt(g.getPropertyValue("padding-top"));return[v.clientX-m.left-w,v.clientY-m.top-f]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=c,l.getCoords=function(d,v,h,m,g,w,f,n,a){if(!w)return;const s=c(d,v,h);return s?(s[0]=Math.ceil((s[0]+(a?f/2:0))/f),s[1]=Math.ceil(s[1]/n),s[0]=Math.min(Math.max(s[0],1),m+(a?1:0)),s[1]=Math.min(Math.max(s[1],1),g),s):void 0}},9504:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const d=c(2584);function v(n,a,s,o){const p=n-h(n,s),C=a-h(a,s),x=Math.abs(p-C)-function(E,y,R){let H=0;const z=E-h(E,R),V=y-h(y,R);for(let I=0;I<Math.abs(z-V);I++){const q=m(E,y)==="A"?-1:1,ee=R.buffer.lines.get(z+q*I);ee!=null&&ee.isWrapped&&H++}return H}(n,a,s);return f(x,w(m(n,a),o))}function h(n,a){let s=0,o=a.buffer.lines.get(n),p=o==null?void 0:o.isWrapped;for(;p&&n>=0&&n<a.rows;)s++,o=a.buffer.lines.get(--n),p=o==null?void 0:o.isWrapped;return s}function m(n,a){return n>a?"A":"B"}function g(n,a,s,o,p,C){let x=n,E=a,y="";for(;x!==s||E!==o;)x+=p?1:-1,p&&x>C.cols-1?(y+=C.buffer.translateBufferLineToString(E,!1,n,x),x=0,n=0,E++):!p&&x<0&&(y+=C.buffer.translateBufferLineToString(E,!1,0,n+1),x=C.cols-1,n=x,E--);return y+C.buffer.translateBufferLineToString(E,!1,n,x)}function w(n,a){const s=a?"O":"[";return d.C0.ESC+s+n}function f(n,a){n=Math.floor(n);let s="";for(let o=0;o<n;o++)s+=a;return s}l.moveToCellSequence=function(n,a,s,o){const p=s.buffer.x,C=s.buffer.y;if(!s.buffer.hasScrollback)return function(y,R,H,z,V,I){return v(R,z,V,I).length===0?"":f(g(y,R,y,R-h(R,V),!1,V).length,w("D",I))}(p,C,0,a,s,o)+v(C,a,s,o)+function(y,R,H,z,V,I){let q;q=v(R,z,V,I).length>0?z-h(z,V):R;const ee=z,ie=function(te,G,b,P,L,O){let Z;return Z=v(b,P,L,O).length>0?P-h(P,L):G,te<b&&Z<=P||te>=b&&Z<P?"C":"D"}(y,R,H,z,V,I);return f(g(y,q,H,ee,ie==="C",V).length,w(ie,I))}(p,C,n,a,s,o);let x;if(C===a)return x=p>n?"D":"C",f(Math.abs(p-n),w(x,o));x=C>a?"D":"C";const E=Math.abs(C-a);return f(function(y,R){return R.cols-y}(C>a?n:p,s)+(E-1)*s.cols+1+((C>a?p:n)-1),w(x,o))}},1296:function(M,l,c){var d=this&&this.__decorate||function(I,q,ee,ie){var te,G=arguments.length,b=G<3?q:ie===null?ie=Object.getOwnPropertyDescriptor(q,ee):ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(I,q,ee,ie);else for(var P=I.length-1;P>=0;P--)(te=I[P])&&(b=(G<3?te(b):G>3?te(q,ee,b):te(q,ee))||b);return G>3&&b&&Object.defineProperty(q,ee,b),b},v=this&&this.__param||function(I,q){return function(ee,ie){q(ee,ie,I)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const h=c(3787),m=c(2550),g=c(2223),w=c(6171),f=c(6052),n=c(4725),a=c(8055),s=c(8460),o=c(844),p=c(2585),C="xterm-dom-renderer-owner-",x="xterm-rows",E="xterm-fg-",y="xterm-bg-",R="xterm-focus",H="xterm-selection";let z=1,V=l.DomRenderer=class extends o.Disposable{constructor(I,q,ee,ie,te,G,b,P,L,O,Z,ne,ue){super(),this._terminal=I,this._document=q,this._element=ee,this._screenElement=ie,this._viewportElement=te,this._helperContainer=G,this._linkifier2=b,this._charSizeService=L,this._optionsService=O,this._bufferService=Z,this._coreBrowserService=ne,this._themeService=ue,this._terminalClass=z++,this._rowElements=[],this._selectionRenderModel=(0,f.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new s.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(x),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(H),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,w.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(he=>this._injectCss(he))),this._injectCss(this._themeService.colors),this._rowFactory=P.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(C+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(he=>this._handleLinkHover(he))),this.register(this._linkifier2.onHideLinkUnderline(he=>this._handleLinkLeave(he))),this.register((0,o.toDisposable)(()=>{this._element.classList.remove(C+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new m.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const I=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*I,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*I),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/I),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/I),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const ee of this._rowElements)ee.style.width=`${this.dimensions.css.canvas.width}px`,ee.style.height=`${this.dimensions.css.cell.height}px`,ee.style.lineHeight=`${this.dimensions.css.cell.height}px`,ee.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const q=`${this._terminalSelector} .${x} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=q,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(I){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let q=`${this._terminalSelector} .${x} { color: ${I.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;q+=`${this._terminalSelector} .${x} .xterm-dim { color: ${a.color.multiplyOpacity(I.foreground,.5).css};}`,q+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const ee=`blink_underline_${this._terminalClass}`,ie=`blink_bar_${this._terminalClass}`,te=`blink_block_${this._terminalClass}`;q+=`@keyframes ${ee} { 50% {  border-bottom-style: hidden; }}`,q+=`@keyframes ${ie} { 50% {  box-shadow: none; }}`,q+=`@keyframes ${te} { 0% {  background-color: ${I.cursor.css};  color: ${I.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${I.cursor.css}; }}`,q+=`${this._terminalSelector} .${x}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${ee} 1s step-end infinite;}${this._terminalSelector} .${x}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${ie} 1s step-end infinite;}${this._terminalSelector} .${x}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${te} 1s step-end infinite;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-block { background-color: ${I.cursor.css}; color: ${I.cursorAccent.css};}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${I.cursor.css} !important; color: ${I.cursorAccent.css} !important;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${I.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${I.cursor.css} inset;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${I.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,q+=`${this._terminalSelector} .${H} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${H} div { position: absolute; background-color: ${I.selectionBackgroundOpaque.css};}${this._terminalSelector} .${H} div { position: absolute; background-color: ${I.selectionInactiveBackgroundOpaque.css};}`;for(const[G,b]of I.ansi.entries())q+=`${this._terminalSelector} .${E}${G} { color: ${b.css}; }${this._terminalSelector} .${E}${G}.xterm-dim { color: ${a.color.multiplyOpacity(b,.5).css}; }${this._terminalSelector} .${y}${G} { background-color: ${b.css}; }`;q+=`${this._terminalSelector} .${E}${g.INVERTED_DEFAULT_COLOR} { color: ${a.color.opaque(I.background).css}; }${this._terminalSelector} .${E}${g.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${a.color.multiplyOpacity(a.color.opaque(I.background),.5).css}; }${this._terminalSelector} .${y}${g.INVERTED_DEFAULT_COLOR} { background-color: ${I.foreground.css}; }`,this._themeStyleElement.textContent=q}_setDefaultSpacing(){const I=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${I}px`,this._rowFactory.defaultSpacing=I}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(I,q){for(let ee=this._rowElements.length;ee<=q;ee++){const ie=this._document.createElement("div");this._rowContainer.appendChild(ie),this._rowElements.push(ie)}for(;this._rowElements.length>q;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(I,q){this._refreshRowElements(I,q),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(R),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(R),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(I,q,ee){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(I,q,ee),this.renderRows(0,this._bufferService.rows-1),!I||!q)return;this._selectionRenderModel.update(this._terminal,I,q,ee);const ie=this._selectionRenderModel.viewportStartRow,te=this._selectionRenderModel.viewportEndRow,G=this._selectionRenderModel.viewportCappedStartRow,b=this._selectionRenderModel.viewportCappedEndRow;if(G>=this._bufferService.rows||b<0)return;const P=this._document.createDocumentFragment();if(ee){const L=I[0]>q[0];P.appendChild(this._createSelectionElement(G,L?q[0]:I[0],L?I[0]:q[0],b-G+1))}else{const L=ie===G?I[0]:0,O=G===te?q[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(G,L,O));const Z=b-G-1;if(P.appendChild(this._createSelectionElement(G+1,0,this._bufferService.cols,Z)),G!==b){const ne=te===b?q[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(b,0,ne))}}this._selectionContainer.appendChild(P)}_createSelectionElement(I,q,ee,ie=1){const te=this._document.createElement("div"),G=q*this.dimensions.css.cell.width;let b=this.dimensions.css.cell.width*(ee-q);return G+b>this.dimensions.css.canvas.width&&(b=this.dimensions.css.canvas.width-G),te.style.height=ie*this.dimensions.css.cell.height+"px",te.style.top=I*this.dimensions.css.cell.height+"px",te.style.left=`${G}px`,te.style.width=`${b}px`,te}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const I of this._rowElements)I.replaceChildren()}renderRows(I,q){const ee=this._bufferService.buffer,ie=ee.ybase+ee.y,te=Math.min(ee.x,this._bufferService.cols-1),G=this._optionsService.rawOptions.cursorBlink,b=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let L=I;L<=q;L++){const O=L+ee.ydisp,Z=this._rowElements[L],ne=ee.lines.get(O);if(!Z||!ne)break;Z.replaceChildren(...this._rowFactory.createRow(ne,O,O===ie,b,P,te,G,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${C}${this._terminalClass}`}_handleLinkHover(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!0)}_handleLinkLeave(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!1)}_setCellUnderline(I,q,ee,ie,te,G){ee<0&&(I=0),ie<0&&(q=0);const b=this._bufferService.rows-1;ee=Math.max(Math.min(ee,b),0),ie=Math.max(Math.min(ie,b),0),te=Math.min(te,this._bufferService.cols);const P=this._bufferService.buffer,L=P.ybase+P.y,O=Math.min(P.x,te-1),Z=this._optionsService.rawOptions.cursorBlink,ne=this._optionsService.rawOptions.cursorStyle,ue=this._optionsService.rawOptions.cursorInactiveStyle;for(let he=ee;he<=ie;++he){const $=he+P.ydisp,T=this._rowElements[he],se=P.lines.get($);if(!T||!se)break;T.replaceChildren(...this._rowFactory.createRow(se,$,$===L,ne,ue,O,Z,this.dimensions.css.cell.width,this._widthCache,G?he===ee?I:0:-1,G?(he===ie?q:te)-1:-1))}}};l.DomRenderer=V=d([v(7,p.IInstantiationService),v(8,n.ICharSizeService),v(9,p.IOptionsService),v(10,p.IBufferService),v(11,n.ICoreBrowserService),v(12,n.IThemeService)],V)},3787:function(M,l,c){var d=this&&this.__decorate||function(x,E,y,R){var H,z=arguments.length,V=z<3?E:R===null?R=Object.getOwnPropertyDescriptor(E,y):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(x,E,y,R);else for(var I=x.length-1;I>=0;I--)(H=x[I])&&(V=(z<3?H(V):z>3?H(E,y,V):H(E,y))||V);return z>3&&V&&Object.defineProperty(E,y,V),V},v=this&&this.__param||function(x,E){return function(y,R){E(y,R,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const h=c(2223),m=c(643),g=c(511),w=c(2585),f=c(8055),n=c(4725),a=c(4269),s=c(6171),o=c(3734);let p=l.DomRendererRowFactory=class{constructor(x,E,y,R,H,z,V){this._document=x,this._characterJoinerService=E,this._optionsService=y,this._coreBrowserService=R,this._coreService=H,this._decorationService=z,this._themeService=V,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(x,E,y){this._selectionStart=x,this._selectionEnd=E,this._columnSelectMode=y}createRow(x,E,y,R,H,z,V,I,q,ee,ie){const te=[],G=this._characterJoinerService.getJoinedCharacters(E),b=this._themeService.colors;let P,L=x.getNoBgTrimmedLength();y&&L<z+1&&(L=z+1);let O=0,Z="",ne=0,ue=0,he=0,$=!1,T=0,se=!1,Q=0;const fe=[],de=ee!==-1&&ie!==-1;for(let xe=0;xe<L;xe++){x.loadCell(xe,this._workCell);let Re=this._workCell.getWidth();if(Re===0)continue;let Te=!1,qe=xe,we=this._workCell;if(G.length>0&&xe===G[0][0]){Te=!0;const Ae=G.shift();we=new a.JoinedCellData(this._workCell,x.translateToString(!0,Ae[0],Ae[1]),Ae[1]-Ae[0]),qe=Ae[1]-1,Re=we.getWidth()}const Gt=this._isCellInSelection(xe,E),yr=y&&xe===z,jt=de&&xe>=ee&&xe<=ie;let At=!1;this._decorationService.forEachDecorationAtCell(xe,E,void 0,Ae=>{At=!0});let Xt=we.getChars()||m.WHITESPACE_CELL_CHAR;if(Xt===" "&&(we.isUnderline()||we.isOverline())&&(Xt=""),Q=Re*I-q.get(Xt,we.isBold(),we.isItalic()),P){if(O&&(Gt&&se||!Gt&&!se&&we.bg===ne)&&(Gt&&se&&b.selectionForeground||we.fg===ue)&&we.extended.ext===he&&jt===$&&Q===T&&!yr&&!Te&&!At){we.isInvisible()?Z+=m.WHITESPACE_CELL_CHAR:Z+=Xt,O++;continue}O&&(P.textContent=Z),P=this._document.createElement("span"),O=0,Z=""}else P=this._document.createElement("span");if(ne=we.bg,ue=we.fg,he=we.extended.ext,$=jt,T=Q,se=Gt,Te&&z>=xe&&z<=qe&&(z=xe),!this._coreService.isCursorHidden&&yr&&this._coreService.isCursorInitialized){if(fe.push("xterm-cursor"),this._coreBrowserService.isFocused)V&&fe.push("xterm-cursor-blink"),fe.push(R==="bar"?"xterm-cursor-bar":R==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(H)switch(H){case"outline":fe.push("xterm-cursor-outline");break;case"block":fe.push("xterm-cursor-block");break;case"bar":fe.push("xterm-cursor-bar");break;case"underline":fe.push("xterm-cursor-underline")}}if(we.isBold()&&fe.push("xterm-bold"),we.isItalic()&&fe.push("xterm-italic"),we.isDim()&&fe.push("xterm-dim"),Z=we.isInvisible()?m.WHITESPACE_CELL_CHAR:we.getChars()||m.WHITESPACE_CELL_CHAR,we.isUnderline()&&(fe.push(`xterm-underline-${we.extended.underlineStyle}`),Z===" "&&(Z=""),!we.isUnderlineColorDefault()))if(we.isUnderlineColorRGB())P.style.textDecorationColor=`rgb(${o.AttributeData.toColorRGB(we.getUnderlineColor()).join(",")})`;else{let Ae=we.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&we.isBold()&&Ae<8&&(Ae+=8),P.style.textDecorationColor=b.ansi[Ae].css}we.isOverline()&&(fe.push("xterm-overline"),Z===" "&&(Z="")),we.isStrikethrough()&&fe.push("xterm-strikethrough"),jt&&(P.style.textDecoration="underline");let et=we.getFgColor(),Jt=we.getFgColorMode(),ut=we.getBgColor(),Qt=we.getBgColorMode();const Sr=!!we.isInverse();if(Sr){const Ae=et;et=ut,ut=Ae;const ts=Jt;Jt=Qt,Qt=ts}let ht,wr,it,Ct=!1;switch(this._decorationService.forEachDecorationAtCell(xe,E,void 0,Ae=>{Ae.options.layer!=="top"&&Ct||(Ae.backgroundColorRGB&&(Qt=50331648,ut=Ae.backgroundColorRGB.rgba>>8&16777215,ht=Ae.backgroundColorRGB),Ae.foregroundColorRGB&&(Jt=50331648,et=Ae.foregroundColorRGB.rgba>>8&16777215,wr=Ae.foregroundColorRGB),Ct=Ae.options.layer==="top")}),!Ct&&Gt&&(ht=this._coreBrowserService.isFocused?b.selectionBackgroundOpaque:b.selectionInactiveBackgroundOpaque,ut=ht.rgba>>8&16777215,Qt=50331648,Ct=!0,b.selectionForeground&&(Jt=50331648,et=b.selectionForeground.rgba>>8&16777215,wr=b.selectionForeground)),Ct&&fe.push("xterm-decoration-top"),Qt){case 16777216:case 33554432:it=b.ansi[ut],fe.push(`xterm-bg-${ut}`);break;case 50331648:it=f.channels.toColor(ut>>16,ut>>8&255,255&ut),this._addStyle(P,`background-color:#${C((ut>>>0).toString(16),"0",6)}`);break;default:Sr?(it=b.foreground,fe.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):it=b.background}switch(ht||we.isDim()&&(ht=f.color.multiplyOpacity(it,.5)),Jt){case 16777216:case 33554432:we.isBold()&&et<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(et+=8),this._applyMinimumContrast(P,it,b.ansi[et],we,ht,void 0)||fe.push(`xterm-fg-${et}`);break;case 50331648:const Ae=f.channels.toColor(et>>16&255,et>>8&255,255&et);this._applyMinimumContrast(P,it,Ae,we,ht,wr)||this._addStyle(P,`color:#${C(et.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(P,it,b.foreground,we,ht,wr)||Sr&&fe.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}fe.length&&(P.className=fe.join(" "),fe.length=0),yr||Te||At?P.textContent=Z:O++,Q!==this.defaultSpacing&&(P.style.letterSpacing=`${Q}px`),te.push(P),xe=qe}return P&&O&&(P.textContent=Z),te}_applyMinimumContrast(x,E,y,R,H,z){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,s.treatGlyphAsBackgroundColor)(R.getCode()))return!1;const V=this._getContrastCache(R);let I;if(H||z||(I=V.getColor(E.rgba,y.rgba)),I===void 0){const q=this._optionsService.rawOptions.minimumContrastRatio/(R.isDim()?2:1);I=f.color.ensureContrastRatio(H||E,z||y,q),V.setColor((H||E).rgba,(z||y).rgba,I??null)}return!!I&&(this._addStyle(x,`color:${I.css}`),!0)}_getContrastCache(x){return x.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(x,E){x.setAttribute("style",`${x.getAttribute("style")||""}${E};`)}_isCellInSelection(x,E){const y=this._selectionStart,R=this._selectionEnd;return!(!y||!R)&&(this._columnSelectMode?y[0]<=R[0]?x>=y[0]&&E>=y[1]&&x<R[0]&&E<=R[1]:x<y[0]&&E>=y[1]&&x>=R[0]&&E<=R[1]:E>y[1]&&E<R[1]||y[1]===R[1]&&E===y[1]&&x>=y[0]&&x<R[0]||y[1]<R[1]&&E===R[1]&&x<R[0]||y[1]<R[1]&&E===y[1]&&x>=y[0])}};function C(x,E,y){for(;x.length<y;)x=E+x;return x}l.DomRendererRowFactory=p=d([v(1,n.ICharacterJoinerService),v(2,w.IOptionsService),v(3,n.ICoreBrowserService),v(4,w.ICoreService),v(5,w.IDecorationService),v(6,n.IThemeService)],p)},2550:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(c,d){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const v=c.createElement("span");v.classList.add("xterm-char-measure-element");const h=c.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const m=c.createElement("span");m.classList.add("xterm-char-measure-element"),m.style.fontStyle="italic";const g=c.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[v,h,m,g],this._container.appendChild(v),this._container.appendChild(h),this._container.appendChild(m),this._container.appendChild(g),d.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,d,v,h){c===this._font&&d===this._fontSize&&v===this._weight&&h===this._weightBold||(this._font=c,this._fontSize=d,this._weight=v,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(c,d,v){let h=0;if(!d&&!v&&c.length===1&&(h=c.charCodeAt(0))<256){if(this._flat[h]!==-9999)return this._flat[h];const w=this._measure(c,0);return w>0&&(this._flat[h]=w),w}let m=c;d&&(m+="B"),v&&(m+="I");let g=this._holey.get(m);if(g===void 0){let w=0;d&&(w|=1),v&&(w|=2),g=this._measure(c,w),g>0&&this._holey.set(m,g)}return g}_measure(c,d){const v=this._measureElements[d];return v.textContent=c.repeat(32),v.offsetWidth/32}}},2223:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const d=c(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=d.isFirefox||d.isLegacyEdge?"bottom":"ideographic"},6171:(M,l)=>{function c(v){return 57508<=v&&v<=57558}function d(v){return v>=128512&&v<=128591||v>=127744&&v<=128511||v>=128640&&v<=128767||v>=9728&&v<=9983||v>=9984&&v<=10175||v>=65024&&v<=65039||v>=129280&&v<=129535||v>=127462&&v<=127487}Object.defineProperty(l,"__esModule",{value:!0}),l.computeNextVariantOffset=l.createRenderDimensions=l.treatGlyphAsBackgroundColor=l.allowRescaling=l.isEmoji=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},l.isPowerlineGlyph=c,l.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},l.isEmoji=d,l.allowRescaling=function(v,h,m,g){return h===1&&m>Math.ceil(1.5*g)&&v!==void 0&&v>255&&!d(v)&&!c(v)&&!function(w){return 57344<=w&&w<=63743}(v)},l.treatGlyphAsBackgroundColor=function(v){return c(v)||function(h){return 9472<=h&&h<=9631}(v)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},l.computeNextVariantOffset=function(v,h,m=0){return(v-(2*Math.round(h)-m))%(2*Math.round(h))}},6052:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createSelectionRenderModel=void 0;class c{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(v,h,m,g=!1){if(this.selectionStart=h,this.selectionEnd=m,!h||!m||h[0]===m[0]&&h[1]===m[1])return void this.clear();const w=v.buffers.active.ydisp,f=h[1]-w,n=m[1]-w,a=Math.max(f,0),s=Math.min(n,v.rows-1);a>=v.rows||s<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=g,this.viewportStartRow=f,this.viewportEndRow=n,this.viewportCappedStartRow=a,this.viewportCappedEndRow=s,this.startCol=h[0],this.endCol=m[0])}isCellSelected(v,h,m){return!!this.hasSelection&&(m-=v.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&m>=this.viewportCappedStartRow&&h<this.endCol&&m<=this.viewportCappedEndRow:h<this.startCol&&m>=this.viewportCappedStartRow&&h>=this.endCol&&m<=this.viewportCappedEndRow:m>this.viewportStartRow&&m<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&m===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&m===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&m===this.viewportStartRow&&h>=this.startCol)}}l.createSelectionRenderModel=function(){return new c}},456:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,d=this.selectionEnd;return!(!c||!d)&&(c[1]>d[1]||c[1]===d[1]&&c[0]>d[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(M,l,c){var d=this&&this.__decorate||function(s,o,p,C){var x,E=arguments.length,y=E<3?o:C===null?C=Object.getOwnPropertyDescriptor(o,p):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,o,p,C);else for(var R=s.length-1;R>=0;R--)(x=s[R])&&(y=(E<3?x(y):E>3?x(o,p,y):x(o,p))||y);return E>3&&y&&Object.defineProperty(o,p,y),y},v=this&&this.__param||function(s,o){return function(p,C){o(p,C,s)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const h=c(2585),m=c(8460),g=c(844);let w=l.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(s,o,p){super(),this._optionsService=p,this.width=0,this.height=0,this._onCharSizeChange=this.register(new m.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new a(this._optionsService))}catch{this._measureStrategy=this.register(new n(s,o,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const s=this._measureStrategy.measure();s.width===this.width&&s.height===this.height||(this.width=s.width,this.height=s.height,this._onCharSizeChange.fire())}};l.CharSizeService=w=d([v(2,h.IOptionsService)],w);class f extends g.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(o,p){o!==void 0&&o>0&&p!==void 0&&p>0&&(this._result.width=o,this._result.height=p)}}class n extends f{constructor(o,p,C){super(),this._document=o,this._parentElement=p,this._optionsService=C,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class a extends f{constructor(o){super(),this._optionsService=o,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const p=this._ctx.measureText("W");if(!("width"in p&&"fontBoundingBoxAscent"in p&&"fontBoundingBoxDescent"in p))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const o=this._ctx.measureText("W");return this._validateAndSet(o.width,o.fontBoundingBoxAscent+o.fontBoundingBoxDescent),this._result}}},4269:function(M,l,c){var d=this&&this.__decorate||function(a,s,o,p){var C,x=arguments.length,E=x<3?s:p===null?p=Object.getOwnPropertyDescriptor(s,o):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,s,o,p);else for(var y=a.length-1;y>=0;y--)(C=a[y])&&(E=(x<3?C(E):x>3?C(s,o,E):C(s,o))||E);return x>3&&E&&Object.defineProperty(s,o,E),E},v=this&&this.__param||function(a,s){return function(o,p){s(o,p,a)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const h=c(3734),m=c(643),g=c(511),w=c(2585);class f extends h.AttributeData{constructor(s,o,p){super(),this.content=0,this.combinedData="",this.fg=s.fg,this.bg=s.bg,this.combinedData=o,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(s){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=f;let n=l.CharacterJoinerService=class lh{constructor(s){this._bufferService=s,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(s){const o={id:this._nextCharacterJoinerId++,handler:s};return this._characterJoiners.push(o),o.id}deregister(s){for(let o=0;o<this._characterJoiners.length;o++)if(this._characterJoiners[o].id===s)return this._characterJoiners.splice(o,1),!0;return!1}getJoinedCharacters(s){if(this._characterJoiners.length===0)return[];const o=this._bufferService.buffer.lines.get(s);if(!o||o.length===0)return[];const p=[],C=o.translateToString(!0);let x=0,E=0,y=0,R=o.getFg(0),H=o.getBg(0);for(let z=0;z<o.getTrimmedLength();z++)if(o.loadCell(z,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==R||this._workCell.bg!==H){if(z-x>1){const V=this._getJoinedRanges(C,y,E,o,x);for(let I=0;I<V.length;I++)p.push(V[I])}x=z,y=E,R=this._workCell.fg,H=this._workCell.bg}E+=this._workCell.getChars().length||m.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-x>1){const z=this._getJoinedRanges(C,y,E,o,x);for(let V=0;V<z.length;V++)p.push(z[V])}return p}_getJoinedRanges(s,o,p,C,x){const E=s.substring(o,p);let y=[];try{y=this._characterJoiners[0].handler(E)}catch(R){console.error(R)}for(let R=1;R<this._characterJoiners.length;R++)try{const H=this._characterJoiners[R].handler(E);for(let z=0;z<H.length;z++)lh._mergeRanges(y,H[z])}catch(H){console.error(H)}return this._stringRangesToCellRanges(y,C,x),y}_stringRangesToCellRanges(s,o,p){let C=0,x=!1,E=0,y=s[C];if(y){for(let R=p;R<this._bufferService.cols;R++){const H=o.getWidth(R),z=o.getString(R).length||m.WHITESPACE_CELL_CHAR.length;if(H!==0){if(!x&&y[0]<=E&&(y[0]=R,x=!0),y[1]<=E){if(y[1]=R,y=s[++C],!y)break;y[0]<=E?(y[0]=R,x=!0):x=!1}E+=z}}y&&(y[1]=this._bufferService.cols)}}static _mergeRanges(s,o){let p=!1;for(let C=0;C<s.length;C++){const x=s[C];if(p){if(o[1]<=x[0])return s[C-1][1]=o[1],s;if(o[1]<=x[1])return s[C-1][1]=Math.max(o[1],x[1]),s.splice(C,1),s;s.splice(C,1),C--}else{if(o[1]<=x[0])return s.splice(C,0,o),s;if(o[1]<=x[1])return x[0]=Math.min(o[0],x[0]),s;o[0]<x[1]&&(x[0]=Math.min(o[0],x[0]),p=!0)}}return p?s[s.length-1][1]=o[1]:s.push(o),s}};l.CharacterJoinerService=n=d([v(0,w.IBufferService)],n)},5114:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0;const d=c(844),v=c(8460),h=c(3656);class m extends d.Disposable{constructor(f,n,a){super(),this._textarea=f,this._window=n,this.mainDocument=a,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new g(this._window),this._onDprChange=this.register(new v.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new v.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(s=>this._screenDprMonitor.setWindow(s))),this.register((0,v.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(f){this._window!==f&&(this._window=f,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}l.CoreBrowserService=m;class g extends d.Disposable{constructor(f){super(),this._parentWindow=f,this._windowResizeListener=this.register(new d.MutableDisposable),this._onDprChange=this.register(new v.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,d.toDisposable)(()=>this.clearListener()))}setWindow(f){this._parentWindow=f,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var f;this._outerListener&&((f=this._resolutionMediaMatchList)==null||f.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LinkProviderService=void 0;const d=c(844);class v extends d.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,d.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(m){return this.linkProviders.push(m),{dispose:()=>{const g=this.linkProviders.indexOf(m);g!==-1&&this.linkProviders.splice(g,1)}}}}l.LinkProviderService=v},8934:function(M,l,c){var d=this&&this.__decorate||function(w,f,n,a){var s,o=arguments.length,p=o<3?f:a===null?a=Object.getOwnPropertyDescriptor(f,n):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(w,f,n,a);else for(var C=w.length-1;C>=0;C--)(s=w[C])&&(p=(o<3?s(p):o>3?s(f,n,p):s(f,n))||p);return o>3&&p&&Object.defineProperty(f,n,p),p},v=this&&this.__param||function(w,f){return function(n,a){f(n,a,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const h=c(4725),m=c(9806);let g=l.MouseService=class{constructor(w,f){this._renderService=w,this._charSizeService=f}getCoords(w,f,n,a,s){return(0,m.getCoords)(window,w,f,n,a,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,s)}getMouseReportCoords(w,f){const n=(0,m.getCoordsRelativeToElement)(window,w,f);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};l.MouseService=g=d([v(0,h.IRenderService),v(1,h.ICharSizeService)],g)},3230:function(M,l,c){var d=this&&this.__decorate||function(s,o,p,C){var x,E=arguments.length,y=E<3?o:C===null?C=Object.getOwnPropertyDescriptor(o,p):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,o,p,C);else for(var R=s.length-1;R>=0;R--)(x=s[R])&&(y=(E<3?x(y):E>3?x(o,p,y):x(o,p))||y);return E>3&&y&&Object.defineProperty(o,p,y),y},v=this&&this.__param||function(s,o){return function(p,C){o(p,C,s)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const h=c(6193),m=c(4725),g=c(8460),w=c(844),f=c(7226),n=c(2585);let a=l.RenderService=class extends w.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(s,o,p,C,x,E,y,R){super(),this._rowCount=s,this._charSizeService=C,this._renderer=this.register(new w.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._observerDisposable=this.register(new w.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new g.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new g.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new g.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new g.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer((H,z)=>this._renderRows(H,z),y),this.register(this._renderDebouncer),this.register(y.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var H;return(H=this._renderer.value)==null?void 0:H.clear()})),this.register(p.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(x.onDecorationRegistered(()=>this._fullRefresh())),this.register(x.onDecorationRemoved(()=>this._fullRefresh())),this.register(p.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(p.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register(R.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(y.window,o),this.register(y.onWindowChange(H=>this._registerIntersectionObserver(H,o)))}_registerIntersectionObserver(s,o){if("IntersectionObserver"in s){const p=new s.IntersectionObserver(C=>this._handleIntersectionChange(C[C.length-1]),{threshold:0});p.observe(o),this._observerDisposable.value=(0,w.toDisposable)(()=>p.disconnect())}}_handleIntersectionChange(s){this._isPaused=s.isIntersecting===void 0?s.intersectionRatio===0:!s.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(s,o,p=!1){this._isPaused?this._needsFullRefresh=!0:(p||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(s,o,this._rowCount))}_renderRows(s,o){this._renderer.value&&(s=Math.min(s,this._rowCount-1),o=Math.min(o,this._rowCount-1),this._renderer.value.renderRows(s,o),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:s,end:o}),this._onRender.fire({start:s,end:o}),this._isNextRenderRedrawOnly=!0)}resize(s,o){this._rowCount=o,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(s){this._renderer.value=s,this._renderer.value&&(this._renderer.value.onRequestRedraw(o=>this.refreshRows(o.start,o.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(s){return this._renderDebouncer.addRefreshCallback(s)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var s,o;this._renderer.value&&((o=(s=this._renderer.value).clearTextureAtlas)==null||o.call(s),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(s,o){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var p;return(p=this._renderer.value)==null?void 0:p.handleResize(s,o)}):this._renderer.value.handleResize(s,o),this._fullRefresh())}handleCharSizeChanged(){var s;(s=this._renderer.value)==null||s.handleCharSizeChanged()}handleBlur(){var s;(s=this._renderer.value)==null||s.handleBlur()}handleFocus(){var s;(s=this._renderer.value)==null||s.handleFocus()}handleSelectionChanged(s,o,p){var C;this._selectionState.start=s,this._selectionState.end=o,this._selectionState.columnSelectMode=p,(C=this._renderer.value)==null||C.handleSelectionChanged(s,o,p)}handleCursorMove(){var s;(s=this._renderer.value)==null||s.handleCursorMove()}clear(){var s;(s=this._renderer.value)==null||s.clear()}};l.RenderService=a=d([v(2,n.IOptionsService),v(3,m.ICharSizeService),v(4,n.IDecorationService),v(5,n.IBufferService),v(6,m.ICoreBrowserService),v(7,m.IThemeService)],a)},9312:function(M,l,c){var d=this&&this.__decorate||function(y,R,H,z){var V,I=arguments.length,q=I<3?R:z===null?z=Object.getOwnPropertyDescriptor(R,H):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(y,R,H,z);else for(var ee=y.length-1;ee>=0;ee--)(V=y[ee])&&(q=(I<3?V(q):I>3?V(R,H,q):V(R,H))||q);return I>3&&q&&Object.defineProperty(R,H,q),q},v=this&&this.__param||function(y,R){return function(H,z){R(H,z,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const h=c(9806),m=c(9504),g=c(456),w=c(4725),f=c(8460),n=c(844),a=c(6114),s=c(4841),o=c(511),p=c(2585),C="",x=new RegExp(C,"g");let E=l.SelectionService=class extends n.Disposable{constructor(y,R,H,z,V,I,q,ee,ie){super(),this._element=y,this._screenElement=R,this._linkifier=H,this._bufferService=z,this._coreService=V,this._mouseService=I,this._optionsService=q,this._renderService=ee,this._coreBrowserService=ie,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new o.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new f.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new f.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new f.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new f.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=te=>this._handleMouseMove(te),this._mouseUpListener=te=>this._handleMouseUp(te),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(te=>this._handleTrim(te)),this.register(this._bufferService.buffers.onBufferActivate(te=>this._handleBufferActivate(te))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,n.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const y=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!y||!R||y[0]===R[0]&&y[1]===R[1])}get selectionText(){const y=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;if(!y||!R)return"";const H=this._bufferService.buffer,z=[];if(this._activeSelectionMode===3){if(y[0]===R[0])return"";const V=y[0]<R[0]?y[0]:R[0],I=y[0]<R[0]?R[0]:y[0];for(let q=y[1];q<=R[1];q++){const ee=H.translateBufferLineToString(q,!0,V,I);z.push(ee)}}else{const V=y[1]===R[1]?R[0]:void 0;z.push(H.translateBufferLineToString(y[1],!0,y[0],V));for(let I=y[1]+1;I<=R[1]-1;I++){const q=H.lines.get(I),ee=H.translateBufferLineToString(I,!0);q!=null&&q.isWrapped?z[z.length-1]+=ee:z.push(ee)}if(y[1]!==R[1]){const I=H.lines.get(R[1]),q=H.translateBufferLineToString(R[1],!0,0,R[0]);I&&I.isWrapped?z[z.length-1]+=q:z.push(q)}}return z.map(V=>V.replace(x," ")).join(a.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(y){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),a.isLinux&&y&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(y){const R=this._getMouseBufferCoords(y),H=this._model.finalSelectionStart,z=this._model.finalSelectionEnd;return!!(H&&z&&R)&&this._areCoordsInSelection(R,H,z)}isCellInSelection(y,R){const H=this._model.finalSelectionStart,z=this._model.finalSelectionEnd;return!(!H||!z)&&this._areCoordsInSelection([y,R],H,z)}_areCoordsInSelection(y,R,H){return y[1]>R[1]&&y[1]<H[1]||R[1]===H[1]&&y[1]===R[1]&&y[0]>=R[0]&&y[0]<H[0]||R[1]<H[1]&&y[1]===H[1]&&y[0]<H[0]||R[1]<H[1]&&y[1]===R[1]&&y[0]>=R[0]}_selectWordAtCursor(y,R){var V,I;const H=(I=(V=this._linkifier.currentLink)==null?void 0:V.link)==null?void 0:I.range;if(H)return this._model.selectionStart=[H.start.x-1,H.start.y-1],this._model.selectionStartLength=(0,s.getRangeLength)(H,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const z=this._getMouseBufferCoords(y);return!!z&&(this._selectWordAt(z,R),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(y,R){this._model.clearSelection(),y=Math.max(y,0),R=Math.min(R,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,y],this._model.selectionEnd=[this._bufferService.cols,R],this.refresh(),this._onSelectionChange.fire()}_handleTrim(y){this._model.handleTrim(y)&&this.refresh()}_getMouseBufferCoords(y){const R=this._mouseService.getCoords(y,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(R)return R[0]--,R[1]--,R[1]+=this._bufferService.buffer.ydisp,R}_getMouseEventScrollAmount(y){let R=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,y,this._screenElement)[1];const H=this._renderService.dimensions.css.canvas.height;return R>=0&&R<=H?0:(R>H&&(R-=H),R=Math.min(Math.max(R,-50),50),R/=50,R/Math.abs(R)+Math.round(14*R))}shouldForceSelection(y){return a.isMac?y.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:y.shiftKey}handleMouseDown(y){if(this._mouseDownTimeStamp=y.timeStamp,(y.button!==2||!this.hasSelection)&&y.button===0){if(!this._enabled){if(!this.shouldForceSelection(y))return;y.stopPropagation()}y.preventDefault(),this._dragScrollAmount=0,this._enabled&&y.shiftKey?this._handleIncrementalClick(y):y.detail===1?this._handleSingleClick(y):y.detail===2?this._handleDoubleClick(y):y.detail===3&&this._handleTripleClick(y),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(y){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(y))}_handleSingleClick(y){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(y)?3:0,this._model.selectionStart=this._getMouseBufferCoords(y),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const R=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);R&&R.length!==this._model.selectionStart[0]&&R.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(y){this._selectWordAtCursor(y,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(y){const R=this._getMouseBufferCoords(y);R&&(this._activeSelectionMode=2,this._selectLineAt(R[1]))}shouldColumnSelect(y){return y.altKey&&!(a.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(y){if(y.stopImmediatePropagation(),!this._model.selectionStart)return;const R=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(y),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(y),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const H=this._bufferService.buffer;if(this._model.selectionEnd[1]<H.lines.length){const z=H.lines.get(this._model.selectionEnd[1]);z&&z.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}R&&R[0]===this._model.selectionEnd[0]&&R[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const y=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(y.ydisp+this._bufferService.rows,y.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=y.ydisp),this.refresh()}}_handleMouseUp(y){const R=y.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&R<500&&y.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const H=this._mouseService.getCoords(y,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(H&&H[0]!==void 0&&H[1]!==void 0){const z=(0,m.moveToCellSequence)(H[0]-1,H[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(z,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const y=this._model.finalSelectionStart,R=this._model.finalSelectionEnd,H=!(!y||!R||y[0]===R[0]&&y[1]===R[1]);H?y&&R&&(this._oldSelectionStart&&this._oldSelectionEnd&&y[0]===this._oldSelectionStart[0]&&y[1]===this._oldSelectionStart[1]&&R[0]===this._oldSelectionEnd[0]&&R[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(y,R,H)):this._oldHasSelection&&this._fireOnSelectionChange(y,R,H)}_fireOnSelectionChange(y,R,H){this._oldSelectionStart=y,this._oldSelectionEnd=R,this._oldHasSelection=H,this._onSelectionChange.fire()}_handleBufferActivate(y){this.clearSelection(),this._trimListener.dispose(),this._trimListener=y.activeBuffer.lines.onTrim(R=>this._handleTrim(R))}_convertViewportColToCharacterIndex(y,R){let H=R;for(let z=0;R>=z;z++){const V=y.loadCell(z,this._workCell).getChars().length;this._workCell.getWidth()===0?H--:V>1&&R!==z&&(H+=V-1)}return H}setSelection(y,R,H){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[y,R],this._model.selectionStartLength=H,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(y){this._isClickInSelection(y)||(this._selectWordAtCursor(y,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(y,R,H=!0,z=!0){if(y[0]>=this._bufferService.cols)return;const V=this._bufferService.buffer,I=V.lines.get(y[1]);if(!I)return;const q=V.translateBufferLineToString(y[1],!1);let ee=this._convertViewportColToCharacterIndex(I,y[0]),ie=ee;const te=y[0]-ee;let G=0,b=0,P=0,L=0;if(q.charAt(ee)===" "){for(;ee>0&&q.charAt(ee-1)===" ";)ee--;for(;ie<q.length&&q.charAt(ie+1)===" ";)ie++}else{let ne=y[0],ue=y[0];I.getWidth(ne)===0&&(G++,ne--),I.getWidth(ue)===2&&(b++,ue++);const he=I.getString(ue).length;for(he>1&&(L+=he-1,ie+=he-1);ne>0&&ee>0&&!this._isCharWordSeparator(I.loadCell(ne-1,this._workCell));){I.loadCell(ne-1,this._workCell);const $=this._workCell.getChars().length;this._workCell.getWidth()===0?(G++,ne--):$>1&&(P+=$-1,ee-=$-1),ee--,ne--}for(;ue<I.length&&ie+1<q.length&&!this._isCharWordSeparator(I.loadCell(ue+1,this._workCell));){I.loadCell(ue+1,this._workCell);const $=this._workCell.getChars().length;this._workCell.getWidth()===2?(b++,ue++):$>1&&(L+=$-1,ie+=$-1),ie++,ue++}}ie++;let O=ee+te-G+P,Z=Math.min(this._bufferService.cols,ie-ee+G+b-P-L);if(R||q.slice(ee,ie).trim()!==""){if(H&&O===0&&I.getCodePoint(0)!==32){const ne=V.lines.get(y[1]-1);if(ne&&I.isWrapped&&ne.getCodePoint(this._bufferService.cols-1)!==32){const ue=this._getWordAt([this._bufferService.cols-1,y[1]-1],!1,!0,!1);if(ue){const he=this._bufferService.cols-ue.start;O-=he,Z+=he}}}if(z&&O+Z===this._bufferService.cols&&I.getCodePoint(this._bufferService.cols-1)!==32){const ne=V.lines.get(y[1]+1);if(ne!=null&&ne.isWrapped&&ne.getCodePoint(0)!==32){const ue=this._getWordAt([0,y[1]+1],!1,!1,!0);ue&&(Z+=ue.length)}}return{start:O,length:Z}}}_selectWordAt(y,R){const H=this._getWordAt(y,R);if(H){for(;H.start<0;)H.start+=this._bufferService.cols,y[1]--;this._model.selectionStart=[H.start,y[1]],this._model.selectionStartLength=H.length}}_selectToWordAt(y){const R=this._getWordAt(y,!0);if(R){let H=y[1];for(;R.start<0;)R.start+=this._bufferService.cols,H--;if(!this._model.areSelectionValuesReversed())for(;R.start+R.length>this._bufferService.cols;)R.length-=this._bufferService.cols,H++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?R.start:R.start+R.length,H]}}_isCharWordSeparator(y){return y.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(y.getChars())>=0}_selectLineAt(y){const R=this._bufferService.buffer.getWrappedRangeForLine(y),H={start:{x:0,y:R.first},end:{x:this._bufferService.cols-1,y:R.last}};this._model.selectionStart=[0,R.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,s.getRangeLength)(H,this._bufferService.cols)}};l.SelectionService=E=d([v(3,p.IBufferService),v(4,p.ICoreService),v(5,w.IMouseService),v(6,p.IOptionsService),v(7,w.IRenderService),v(8,w.ICoreBrowserService)],E)},4725:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ILinkProviderService=l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const d=c(8343);l.ICharSizeService=(0,d.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,d.createDecorator)("CoreBrowserService"),l.IMouseService=(0,d.createDecorator)("MouseService"),l.IRenderService=(0,d.createDecorator)("RenderService"),l.ISelectionService=(0,d.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,d.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,d.createDecorator)("ThemeService"),l.ILinkProviderService=(0,d.createDecorator)("LinkProviderService")},6731:function(M,l,c){var d=this&&this.__decorate||function(E,y,R,H){var z,V=arguments.length,I=V<3?y:H===null?H=Object.getOwnPropertyDescriptor(y,R):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,y,R,H);else for(var q=E.length-1;q>=0;q--)(z=E[q])&&(I=(V<3?z(I):V>3?z(y,R,I):z(y,R))||I);return V>3&&I&&Object.defineProperty(y,R,I),I},v=this&&this.__param||function(E,y){return function(R,H){y(R,H,E)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const h=c(7239),m=c(8055),g=c(8460),w=c(844),f=c(2585),n=m.css.toColor("#ffffff"),a=m.css.toColor("#000000"),s=m.css.toColor("#ffffff"),o=m.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[m.css.toColor("#2e3436"),m.css.toColor("#cc0000"),m.css.toColor("#4e9a06"),m.css.toColor("#c4a000"),m.css.toColor("#3465a4"),m.css.toColor("#75507b"),m.css.toColor("#06989a"),m.css.toColor("#d3d7cf"),m.css.toColor("#555753"),m.css.toColor("#ef2929"),m.css.toColor("#8ae234"),m.css.toColor("#fce94f"),m.css.toColor("#729fcf"),m.css.toColor("#ad7fa8"),m.css.toColor("#34e2e2"),m.css.toColor("#eeeeec")],y=[0,95,135,175,215,255];for(let R=0;R<216;R++){const H=y[R/36%6|0],z=y[R/6%6|0],V=y[R%6];E.push({css:m.channels.toCss(H,z,V),rgba:m.channels.toRgba(H,z,V)})}for(let R=0;R<24;R++){const H=8+10*R;E.push({css:m.channels.toCss(H,H,H),rgba:m.channels.toRgba(H,H,H)})}return E})());let C=l.ThemeService=class extends w.Disposable{get colors(){return this._colors}constructor(E){super(),this._optionsService=E,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:n,background:a,cursor:s,cursorAccent:o,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:m.color.blend(a,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:m.color.blend(a,p),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(E={}){const y=this._colors;if(y.foreground=x(E.foreground,n),y.background=x(E.background,a),y.cursor=x(E.cursor,s),y.cursorAccent=x(E.cursorAccent,o),y.selectionBackgroundTransparent=x(E.selectionBackground,p),y.selectionBackgroundOpaque=m.color.blend(y.background,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundTransparent=x(E.selectionInactiveBackground,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundOpaque=m.color.blend(y.background,y.selectionInactiveBackgroundTransparent),y.selectionForeground=E.selectionForeground?x(E.selectionForeground,m.NULL_COLOR):void 0,y.selectionForeground===m.NULL_COLOR&&(y.selectionForeground=void 0),m.color.isOpaque(y.selectionBackgroundTransparent)&&(y.selectionBackgroundTransparent=m.color.opacity(y.selectionBackgroundTransparent,.3)),m.color.isOpaque(y.selectionInactiveBackgroundTransparent)&&(y.selectionInactiveBackgroundTransparent=m.color.opacity(y.selectionInactiveBackgroundTransparent,.3)),y.ansi=l.DEFAULT_ANSI_COLORS.slice(),y.ansi[0]=x(E.black,l.DEFAULT_ANSI_COLORS[0]),y.ansi[1]=x(E.red,l.DEFAULT_ANSI_COLORS[1]),y.ansi[2]=x(E.green,l.DEFAULT_ANSI_COLORS[2]),y.ansi[3]=x(E.yellow,l.DEFAULT_ANSI_COLORS[3]),y.ansi[4]=x(E.blue,l.DEFAULT_ANSI_COLORS[4]),y.ansi[5]=x(E.magenta,l.DEFAULT_ANSI_COLORS[5]),y.ansi[6]=x(E.cyan,l.DEFAULT_ANSI_COLORS[6]),y.ansi[7]=x(E.white,l.DEFAULT_ANSI_COLORS[7]),y.ansi[8]=x(E.brightBlack,l.DEFAULT_ANSI_COLORS[8]),y.ansi[9]=x(E.brightRed,l.DEFAULT_ANSI_COLORS[9]),y.ansi[10]=x(E.brightGreen,l.DEFAULT_ANSI_COLORS[10]),y.ansi[11]=x(E.brightYellow,l.DEFAULT_ANSI_COLORS[11]),y.ansi[12]=x(E.brightBlue,l.DEFAULT_ANSI_COLORS[12]),y.ansi[13]=x(E.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),y.ansi[14]=x(E.brightCyan,l.DEFAULT_ANSI_COLORS[14]),y.ansi[15]=x(E.brightWhite,l.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const R=Math.min(y.ansi.length-16,E.extendedAnsi.length);for(let H=0;H<R;H++)y.ansi[H+16]=x(E.extendedAnsi[H],l.DEFAULT_ANSI_COLORS[H+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let y=0;y<this._restoreColors.ansi.length;++y)this._colors.ansi[y]=this._restoreColors.ansi[y]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function x(E,y){if(E!==void 0)try{return m.css.toColor(E)}catch{}return y}l.ThemeService=C=d([v(0,f.IOptionsService)],C)},6349:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const d=c(8460),v=c(844);class h extends v.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new d.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new d.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new d.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const w=new Array(g);for(let f=0;f<Math.min(g,this.length);f++)w[f]=this._array[this._getCyclicIndex(f)];this._array=w,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let w=this._length;w<g;w++)this._array[w]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,w){this._array[this._getCyclicIndex(g)]=w}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,w,...f){if(w){for(let n=g;n<this._length-w;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+w)];this._length-=w,this.onDeleteEmitter.fire({index:g,amount:w})}for(let n=this._length-1;n>=g;n--)this._array[this._getCyclicIndex(n+f.length)]=this._array[this._getCyclicIndex(n)];for(let n=0;n<f.length;n++)this._array[this._getCyclicIndex(g+n)]=f[n];if(f.length&&this.onInsertEmitter.fire({index:g,amount:f.length}),this._length+f.length>this._maxLength){const n=this._length+f.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=f.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,w,f){if(!(w<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+f<0)throw new Error("Cannot shift elements in list beyond index 0");if(f>0){for(let a=w-1;a>=0;a--)this.set(g+a+f,this.get(g+a));const n=g+w+f-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<w;n++)this.set(g+n+f,this.get(g+n))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}l.CircularList=h},1439:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function c(d,v=5){if(typeof d!="object")return d;const h=Array.isArray(d)?[]:{};for(const m in d)h[m]=v<=1?d[m]:d[m]&&c(d[m],v-1);return h}},8055:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;let c=0,d=0,v=0,h=0;var m,g,w,f,n;function a(o){const p=o.toString(16);return p.length<2?"0"+p:p}function s(o,p){return o<p?(p+.05)/(o+.05):(o+.05)/(p+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},function(o){o.toCss=function(p,C,x,E){return E!==void 0?`#${a(p)}${a(C)}${a(x)}${a(E)}`:`#${a(p)}${a(C)}${a(x)}`},o.toRgba=function(p,C,x,E=255){return(p<<24|C<<16|x<<8|E)>>>0},o.toColor=function(p,C,x,E){return{css:o.toCss(p,C,x,E),rgba:o.toRgba(p,C,x,E)}}}(m||(l.channels=m={})),function(o){function p(C,x){return h=Math.round(255*x),[c,d,v]=n.toChannels(C.rgba),{css:m.toCss(c,d,v,h),rgba:m.toRgba(c,d,v,h)}}o.blend=function(C,x){if(h=(255&x.rgba)/255,h===1)return{css:x.css,rgba:x.rgba};const E=x.rgba>>24&255,y=x.rgba>>16&255,R=x.rgba>>8&255,H=C.rgba>>24&255,z=C.rgba>>16&255,V=C.rgba>>8&255;return c=H+Math.round((E-H)*h),d=z+Math.round((y-z)*h),v=V+Math.round((R-V)*h),{css:m.toCss(c,d,v),rgba:m.toRgba(c,d,v)}},o.isOpaque=function(C){return(255&C.rgba)==255},o.ensureContrastRatio=function(C,x,E){const y=n.ensureContrastRatio(C.rgba,x.rgba,E);if(y)return m.toColor(y>>24&255,y>>16&255,y>>8&255)},o.opaque=function(C){const x=(255|C.rgba)>>>0;return[c,d,v]=n.toChannels(x),{css:m.toCss(c,d,v),rgba:x}},o.opacity=p,o.multiplyOpacity=function(C,x){return h=255&C.rgba,p(C,h*x/255)},o.toColorRGB=function(C){return[C.rgba>>24&255,C.rgba>>16&255,C.rgba>>8&255]}}(g||(l.color=g={})),function(o){let p,C;try{const x=document.createElement("canvas");x.width=1,x.height=1;const E=x.getContext("2d",{willReadFrequently:!0});E&&(p=E,p.globalCompositeOperation="copy",C=p.createLinearGradient(0,0,1,1))}catch{}o.toColor=function(x){if(x.match(/#[\da-f]{3,8}/i))switch(x.length){case 4:return c=parseInt(x.slice(1,2).repeat(2),16),d=parseInt(x.slice(2,3).repeat(2),16),v=parseInt(x.slice(3,4).repeat(2),16),m.toColor(c,d,v);case 5:return c=parseInt(x.slice(1,2).repeat(2),16),d=parseInt(x.slice(2,3).repeat(2),16),v=parseInt(x.slice(3,4).repeat(2),16),h=parseInt(x.slice(4,5).repeat(2),16),m.toColor(c,d,v,h);case 7:return{css:x,rgba:(parseInt(x.slice(1),16)<<8|255)>>>0};case 9:return{css:x,rgba:parseInt(x.slice(1),16)>>>0}}const E=x.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return c=parseInt(E[1]),d=parseInt(E[2]),v=parseInt(E[3]),h=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),m.toColor(c,d,v,h);if(!p||!C)throw new Error("css.toColor: Unsupported css format");if(p.fillStyle=C,p.fillStyle=x,typeof p.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(p.fillRect(0,0,1,1),[c,d,v,h]=p.getImageData(0,0,1,1).data,h!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:m.toRgba(c,d,v,h),css:x}}}(w||(l.css=w={})),function(o){function p(C,x,E){const y=C/255,R=x/255,H=E/255;return .2126*(y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(H<=.03928?H/12.92:Math.pow((H+.055)/1.055,2.4))}o.relativeLuminance=function(C){return p(C>>16&255,C>>8&255,255&C)},o.relativeLuminance2=p}(f||(l.rgb=f={})),function(o){function p(x,E,y){const R=x>>24&255,H=x>>16&255,z=x>>8&255;let V=E>>24&255,I=E>>16&255,q=E>>8&255,ee=s(f.relativeLuminance2(V,I,q),f.relativeLuminance2(R,H,z));for(;ee<y&&(V>0||I>0||q>0);)V-=Math.max(0,Math.ceil(.1*V)),I-=Math.max(0,Math.ceil(.1*I)),q-=Math.max(0,Math.ceil(.1*q)),ee=s(f.relativeLuminance2(V,I,q),f.relativeLuminance2(R,H,z));return(V<<24|I<<16|q<<8|255)>>>0}function C(x,E,y){const R=x>>24&255,H=x>>16&255,z=x>>8&255;let V=E>>24&255,I=E>>16&255,q=E>>8&255,ee=s(f.relativeLuminance2(V,I,q),f.relativeLuminance2(R,H,z));for(;ee<y&&(V<255||I<255||q<255);)V=Math.min(255,V+Math.ceil(.1*(255-V))),I=Math.min(255,I+Math.ceil(.1*(255-I))),q=Math.min(255,q+Math.ceil(.1*(255-q))),ee=s(f.relativeLuminance2(V,I,q),f.relativeLuminance2(R,H,z));return(V<<24|I<<16|q<<8|255)>>>0}o.blend=function(x,E){if(h=(255&E)/255,h===1)return E;const y=E>>24&255,R=E>>16&255,H=E>>8&255,z=x>>24&255,V=x>>16&255,I=x>>8&255;return c=z+Math.round((y-z)*h),d=V+Math.round((R-V)*h),v=I+Math.round((H-I)*h),m.toRgba(c,d,v)},o.ensureContrastRatio=function(x,E,y){const R=f.relativeLuminance(x>>8),H=f.relativeLuminance(E>>8);if(s(R,H)<y){if(H<R){const I=p(x,E,y),q=s(R,f.relativeLuminance(I>>8));if(q<y){const ee=C(x,E,y);return q>s(R,f.relativeLuminance(ee>>8))?I:ee}return I}const z=C(x,E,y),V=s(R,f.relativeLuminance(z>>8));if(V<y){const I=p(x,E,y);return V>s(R,f.relativeLuminance(I>>8))?z:I}return z}},o.reduceLuminance=p,o.increaseLuminance=C,o.toChannels=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]}}(n||(l.rgba=n={})),l.toPaddedHex=a,l.contrastRatio=s},8969:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const d=c(844),v=c(2585),h=c(4348),m=c(7866),g=c(744),w=c(7302),f=c(6975),n=c(8460),a=c(1753),s=c(1480),o=c(7994),p=c(9282),C=c(5435),x=c(5981),E=c(2660);let y=!1;class R extends d.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new n.EventEmitter),this._onScroll.event(z=>{var V;(V=this._onScrollApi)==null||V.fire(z.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(z){for(const V in z)this.optionsService.options[V]=z[V]}constructor(z){super(),this._windowsWrappingHeuristics=this.register(new d.MutableDisposable),this._onBinary=this.register(new n.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new n.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new n.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new n.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new n.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new n.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new w.OptionsService(z)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(m.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(f.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(a.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(s.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(o.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new C.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,n.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,n.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,n.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,n.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(V=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(V=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new x.WriteBuffer((V,I)=>this._inputHandler.parse(V,I))),this.register((0,n.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(z,V){this._writeBuffer.write(z,V)}writeSync(z,V){this._logService.logLevel<=v.LogLevelEnum.WARN&&!y&&(this._logService.warn("writeSync is unreliable and will be removed soon."),y=!0),this._writeBuffer.writeSync(z,V)}input(z,V=!0){this.coreService.triggerDataEvent(z,V)}resize(z,V){isNaN(z)||isNaN(V)||(z=Math.max(z,g.MINIMUM_COLS),V=Math.max(V,g.MINIMUM_ROWS),this._bufferService.resize(z,V))}scroll(z,V=!1){this._bufferService.scroll(z,V)}scrollLines(z,V,I){this._bufferService.scrollLines(z,V,I)}scrollPages(z){this.scrollLines(z*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(z){const V=z-this._bufferService.buffer.ydisp;V!==0&&this.scrollLines(V)}registerEscHandler(z,V){return this._inputHandler.registerEscHandler(z,V)}registerDcsHandler(z,V){return this._inputHandler.registerDcsHandler(z,V)}registerCsiHandler(z,V){return this._inputHandler.registerCsiHandler(z,V)}registerOscHandler(z,V){return this._inputHandler.registerOscHandler(z,V)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let z=!1;const V=this.optionsService.rawOptions.windowsPty;V&&V.buildNumber!==void 0&&V.buildNumber!==void 0?z=V.backend==="conpty"&&V.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(z=!0),z?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const z=[];z.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),z.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,d.toDisposable)(()=>{for(const V of z)V.dispose()})}}}l.CoreTerminal=R},8460:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.runAndSubscribe=l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===c)return void this._listeners.splice(d,1)}}})),this._event}fire(c,d){const v=[];for(let h=0;h<this._listeners.length;h++)v.push(this._listeners[h]);for(let h=0;h<v.length;h++)v[h].call(void 0,c,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(c,d){return c(v=>d.fire(v))},l.runAndSubscribe=function(c,d){return d(void 0),c(v=>d(v))}},5435:function(M,l,c){var d=this&&this.__decorate||function(G,b,P,L){var O,Z=arguments.length,ne=Z<3?b:L===null?L=Object.getOwnPropertyDescriptor(b,P):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(G,b,P,L);else for(var ue=G.length-1;ue>=0;ue--)(O=G[ue])&&(ne=(Z<3?O(ne):Z>3?O(b,P,ne):O(b,P))||ne);return Z>3&&ne&&Object.defineProperty(b,P,ne),ne},v=this&&this.__param||function(G,b){return function(P,L){b(P,L,G)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const h=c(2584),m=c(7116),g=c(2015),w=c(844),f=c(482),n=c(8437),a=c(8460),s=c(643),o=c(511),p=c(3734),C=c(2585),x=c(1480),E=c(6242),y=c(6351),R=c(5941),H={"(":0,")":1,"*":2,"+":3,"-":1,".":2},z=131072;function V(G,b){if(G>24)return b.setWinLines||!1;switch(G){case 1:return!!b.restoreWin;case 2:return!!b.minimizeWin;case 3:return!!b.setWinPosition;case 4:return!!b.setWinSizePixels;case 5:return!!b.raiseWin;case 6:return!!b.lowerWin;case 7:return!!b.refreshWin;case 8:return!!b.setWinSizeChars;case 9:return!!b.maximizeWin;case 10:return!!b.fullscreenWin;case 11:return!!b.getWinState;case 13:return!!b.getWinPosition;case 14:return!!b.getWinSizePixels;case 15:return!!b.getScreenSizePixels;case 16:return!!b.getCellSizePixels;case 18:return!!b.getWinSizeChars;case 19:return!!b.getScreenSizeChars;case 20:return!!b.getIconTitle;case 21:return!!b.getWinTitle;case 22:return!!b.pushTitle;case 23:return!!b.popTitle;case 24:return!!b.setWinLines}return!1}var I;(function(G){G[G.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",G[G.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(I||(l.WindowsOptionsReportType=I={}));let q=0;class ee extends w.Disposable{getAttrData(){return this._curAttrData}constructor(b,P,L,O,Z,ne,ue,he,$=new g.EscapeSequenceParser){super(),this._bufferService=b,this._charsetService=P,this._coreService=L,this._logService=O,this._optionsService=Z,this._oscLinkService=ne,this._coreMouseService=ue,this._unicodeService=he,this._parser=$,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new f.StringToUtf32,this._utf8Decoder=new f.Utf8ToUtf32,this._workCell=new o.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new a.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new a.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new a.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new a.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new a.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new a.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new a.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new a.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new a.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new a.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new a.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ie(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(T=>this._activeBuffer=T.activeBuffer)),this._parser.setCsiHandlerFallback((T,se)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(T),params:se.toArray()})}),this._parser.setEscHandlerFallback(T=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(T)})}),this._parser.setExecuteHandlerFallback(T=>{this._logService.debug("Unknown EXECUTE code: ",{code:T})}),this._parser.setOscHandlerFallback((T,se,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:T,action:se,data:Q})}),this._parser.setDcsHandlerFallback((T,se,Q)=>{se==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(T),action:se,payload:Q})}),this._parser.setPrintHandler((T,se,Q)=>this.print(T,se,Q)),this._parser.registerCsiHandler({final:"@"},T=>this.insertChars(T)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},T=>this.scrollLeft(T)),this._parser.registerCsiHandler({final:"A"},T=>this.cursorUp(T)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},T=>this.scrollRight(T)),this._parser.registerCsiHandler({final:"B"},T=>this.cursorDown(T)),this._parser.registerCsiHandler({final:"C"},T=>this.cursorForward(T)),this._parser.registerCsiHandler({final:"D"},T=>this.cursorBackward(T)),this._parser.registerCsiHandler({final:"E"},T=>this.cursorNextLine(T)),this._parser.registerCsiHandler({final:"F"},T=>this.cursorPrecedingLine(T)),this._parser.registerCsiHandler({final:"G"},T=>this.cursorCharAbsolute(T)),this._parser.registerCsiHandler({final:"H"},T=>this.cursorPosition(T)),this._parser.registerCsiHandler({final:"I"},T=>this.cursorForwardTab(T)),this._parser.registerCsiHandler({final:"J"},T=>this.eraseInDisplay(T,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},T=>this.eraseInDisplay(T,!0)),this._parser.registerCsiHandler({final:"K"},T=>this.eraseInLine(T,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},T=>this.eraseInLine(T,!0)),this._parser.registerCsiHandler({final:"L"},T=>this.insertLines(T)),this._parser.registerCsiHandler({final:"M"},T=>this.deleteLines(T)),this._parser.registerCsiHandler({final:"P"},T=>this.deleteChars(T)),this._parser.registerCsiHandler({final:"S"},T=>this.scrollUp(T)),this._parser.registerCsiHandler({final:"T"},T=>this.scrollDown(T)),this._parser.registerCsiHandler({final:"X"},T=>this.eraseChars(T)),this._parser.registerCsiHandler({final:"Z"},T=>this.cursorBackwardTab(T)),this._parser.registerCsiHandler({final:"`"},T=>this.charPosAbsolute(T)),this._parser.registerCsiHandler({final:"a"},T=>this.hPositionRelative(T)),this._parser.registerCsiHandler({final:"b"},T=>this.repeatPrecedingCharacter(T)),this._parser.registerCsiHandler({final:"c"},T=>this.sendDeviceAttributesPrimary(T)),this._parser.registerCsiHandler({prefix:">",final:"c"},T=>this.sendDeviceAttributesSecondary(T)),this._parser.registerCsiHandler({final:"d"},T=>this.linePosAbsolute(T)),this._parser.registerCsiHandler({final:"e"},T=>this.vPositionRelative(T)),this._parser.registerCsiHandler({final:"f"},T=>this.hVPosition(T)),this._parser.registerCsiHandler({final:"g"},T=>this.tabClear(T)),this._parser.registerCsiHandler({final:"h"},T=>this.setMode(T)),this._parser.registerCsiHandler({prefix:"?",final:"h"},T=>this.setModePrivate(T)),this._parser.registerCsiHandler({final:"l"},T=>this.resetMode(T)),this._parser.registerCsiHandler({prefix:"?",final:"l"},T=>this.resetModePrivate(T)),this._parser.registerCsiHandler({final:"m"},T=>this.charAttributes(T)),this._parser.registerCsiHandler({final:"n"},T=>this.deviceStatus(T)),this._parser.registerCsiHandler({prefix:"?",final:"n"},T=>this.deviceStatusPrivate(T)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},T=>this.softReset(T)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},T=>this.setCursorStyle(T)),this._parser.registerCsiHandler({final:"r"},T=>this.setScrollRegion(T)),this._parser.registerCsiHandler({final:"s"},T=>this.saveCursor(T)),this._parser.registerCsiHandler({final:"t"},T=>this.windowOptions(T)),this._parser.registerCsiHandler({final:"u"},T=>this.restoreCursor(T)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},T=>this.insertColumns(T)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},T=>this.deleteColumns(T)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},T=>this.selectProtected(T)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},T=>this.requestMode(T,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},T=>this.requestMode(T,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new E.OscHandler(T=>(this.setTitle(T),this.setIconName(T),!0))),this._parser.registerOscHandler(1,new E.OscHandler(T=>this.setIconName(T))),this._parser.registerOscHandler(2,new E.OscHandler(T=>this.setTitle(T))),this._parser.registerOscHandler(4,new E.OscHandler(T=>this.setOrReportIndexedColor(T))),this._parser.registerOscHandler(8,new E.OscHandler(T=>this.setHyperlink(T))),this._parser.registerOscHandler(10,new E.OscHandler(T=>this.setOrReportFgColor(T))),this._parser.registerOscHandler(11,new E.OscHandler(T=>this.setOrReportBgColor(T))),this._parser.registerOscHandler(12,new E.OscHandler(T=>this.setOrReportCursorColor(T))),this._parser.registerOscHandler(104,new E.OscHandler(T=>this.restoreIndexedColor(T))),this._parser.registerOscHandler(110,new E.OscHandler(T=>this.restoreFgColor(T))),this._parser.registerOscHandler(111,new E.OscHandler(T=>this.restoreBgColor(T))),this._parser.registerOscHandler(112,new E.OscHandler(T=>this.restoreCursorColor(T))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const T in m.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:T},()=>this.selectCharset("("+T)),this._parser.registerEscHandler({intermediates:")",final:T},()=>this.selectCharset(")"+T)),this._parser.registerEscHandler({intermediates:"*",final:T},()=>this.selectCharset("*"+T)),this._parser.registerEscHandler({intermediates:"+",final:T},()=>this.selectCharset("+"+T)),this._parser.registerEscHandler({intermediates:"-",final:T},()=>this.selectCharset("-"+T)),this._parser.registerEscHandler({intermediates:".",final:T},()=>this.selectCharset("."+T)),this._parser.registerEscHandler({intermediates:"/",final:T},()=>this.selectCharset("/"+T));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(T=>(this._logService.error("Parsing error: ",T),T)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new y.DcsHandler((T,se)=>this.requestStatusString(T,se)))}_preserveStack(b,P,L,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=b,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=L,this._parseStack.position=O}_logSlowResolvingAsync(b){this._logService.logLevel<=C.LogLevelEnum.WARN&&Promise.race([b,new Promise((P,L)=>setTimeout(()=>L("#SLOW_TIMEOUT"),5e3))]).catch(P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(b,P){let L,O=this._activeBuffer.x,Z=this._activeBuffer.y,ne=0;const ue=this._parseStack.paused;if(ue){if(L=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(L),L;O=this._parseStack.cursorStartX,Z=this._parseStack.cursorStartY,this._parseStack.paused=!1,b.length>z&&(ne=this._parseStack.position+z)}if(this._logService.logLevel<=C.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof b=="string"?` "${b}"`:` "${Array.prototype.map.call(b,T=>String.fromCharCode(T)).join("")}"`),typeof b=="string"?b.split("").map(T=>T.charCodeAt(0)):b),this._parseBuffer.length<b.length&&this._parseBuffer.length<z&&(this._parseBuffer=new Uint32Array(Math.min(b.length,z))),ue||this._dirtyRowTracker.clearRange(),b.length>z)for(let T=ne;T<b.length;T+=z){const se=T+z<b.length?T+z:b.length,Q=typeof b=="string"?this._stringDecoder.decode(b.substring(T,se),this._parseBuffer):this._utf8Decoder.decode(b.subarray(T,se),this._parseBuffer);if(L=this._parser.parse(this._parseBuffer,Q))return this._preserveStack(O,Z,Q,T),this._logSlowResolvingAsync(L),L}else if(!ue){const T=typeof b=="string"?this._stringDecoder.decode(b,this._parseBuffer):this._utf8Decoder.decode(b,this._parseBuffer);if(L=this._parser.parse(this._parseBuffer,T))return this._preserveStack(O,Z,T,0),this._logSlowResolvingAsync(L),L}this._activeBuffer.x===O&&this._activeBuffer.y===Z||this._onCursorMove.fire();const he=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),$=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);$<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min($,this._bufferService.rows-1),Math.min(he,this._bufferService.rows-1))}print(b,P,L){let O,Z;const ne=this._charsetService.charset,ue=this._optionsService.rawOptions.screenReaderMode,he=this._bufferService.cols,$=this._coreService.decPrivateModes.wraparound,T=this._coreService.modes.insertMode,se=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&L-P>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodepoint(this._activeBuffer.x-1,0,1,se);let fe=this._parser.precedingJoinState;for(let de=P;de<L;++de){if(O=b[de],O<127&&ne){const qe=ne[String.fromCharCode(O)];qe&&(O=qe.charCodeAt(0))}const xe=this._unicodeService.charProperties(O,fe);Z=x.UnicodeService.extractWidth(xe);const Re=x.UnicodeService.extractShouldJoin(xe),Te=Re?x.UnicodeService.extractWidth(fe):0;if(fe=xe,ue&&this._onA11yChar.fire((0,f.stringFromCodePoint)(O)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+Z-Te>he){if($){const qe=Q;let we=this._activeBuffer.x-Te;for(this._activeBuffer.x=Te,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Te>0&&Q instanceof n.BufferLine&&Q.copyCellsFrom(qe,we,0,Te,!1);we<he;)qe.setCellFromCodepoint(we++,0,1,se)}else if(this._activeBuffer.x=he-1,Z===2)continue}if(Re&&this._activeBuffer.x){const qe=Q.getWidth(this._activeBuffer.x-1)?1:2;Q.addCodepointToCell(this._activeBuffer.x-qe,O,Z);for(let we=Z-Te;--we>=0;)Q.setCellFromCodepoint(this._activeBuffer.x++,0,0,se)}else if(T&&(Q.insertCells(this._activeBuffer.x,Z-Te,this._activeBuffer.getNullCell(se)),Q.getWidth(he-1)===2&&Q.setCellFromCodepoint(he-1,s.NULL_CELL_CODE,s.NULL_CELL_WIDTH,se)),Q.setCellFromCodepoint(this._activeBuffer.x++,O,Z,se),Z>0)for(;--Z;)Q.setCellFromCodepoint(this._activeBuffer.x++,0,0,se)}this._parser.precedingJoinState=fe,this._activeBuffer.x<he&&L-P>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodepoint(this._activeBuffer.x,0,1,se),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(b,P){return b.final!=="t"||b.prefix||b.intermediates?this._parser.registerCsiHandler(b,P):this._parser.registerCsiHandler(b,L=>!V(L.params[0],this._optionsService.rawOptions.windowOptions)||P(L))}registerDcsHandler(b,P){return this._parser.registerDcsHandler(b,new y.DcsHandler(P))}registerEscHandler(b,P){return this._parser.registerEscHandler(b,P)}registerOscHandler(b,P){return this._parser.registerOscHandler(b,new E.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var b;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((b=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&b.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);P.hasWidth(this._activeBuffer.x)&&!P.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const b=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-b),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(b=this._bufferService.cols-1){this._activeBuffer.x=Math.min(b,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(b,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=b,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=b,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(b,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+b,this._activeBuffer.y+P)}cursorUp(b){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,b.params[0]||1)):this._moveCursor(0,-(b.params[0]||1)),!0}cursorDown(b){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,b.params[0]||1)):this._moveCursor(0,b.params[0]||1),!0}cursorForward(b){return this._moveCursor(b.params[0]||1,0),!0}cursorBackward(b){return this._moveCursor(-(b.params[0]||1),0),!0}cursorNextLine(b){return this.cursorDown(b),this._activeBuffer.x=0,!0}cursorPrecedingLine(b){return this.cursorUp(b),this._activeBuffer.x=0,!0}cursorCharAbsolute(b){return this._setCursor((b.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(b){return this._setCursor(b.length>=2?(b.params[1]||1)-1:0,(b.params[0]||1)-1),!0}charPosAbsolute(b){return this._setCursor((b.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(b){return this._moveCursor(b.params[0]||1,0),!0}linePosAbsolute(b){return this._setCursor(this._activeBuffer.x,(b.params[0]||1)-1),!0}vPositionRelative(b){return this._moveCursor(0,b.params[0]||1),!0}hVPosition(b){return this.cursorPosition(b),!0}tabClear(b){const P=b.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(b){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=b.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(b){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=b.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(b){const P=b.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(b,P,L,O=!1,Z=!1){const ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+b);ne.replaceCells(P,L,this._activeBuffer.getNullCell(this._eraseAttrData()),Z),O&&(ne.isWrapped=!1)}_resetBufferLine(b,P=!1){const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+b);L&&(L.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+b),L.isWrapped=!1)}eraseInDisplay(b,P=!1){let L;switch(this._restrictCursor(this._bufferService.cols),b.params[0]){case 0:for(L=this._activeBuffer.y,this._dirtyRowTracker.markDirty(L),this._eraseInBufferLine(L++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);L<this._bufferService.rows;L++)this._resetBufferLine(L,P);this._dirtyRowTracker.markDirty(L);break;case 1:for(L=this._activeBuffer.y,this._dirtyRowTracker.markDirty(L),this._eraseInBufferLine(L,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(L+1).isWrapped=!1);L--;)this._resetBufferLine(L,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(L=this._bufferService.rows,this._dirtyRowTracker.markDirty(L-1);L--;)this._resetBufferLine(L,P);this._dirtyRowTracker.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(b,P=!1){switch(this._restrictCursor(this._bufferService.cols),b.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(b){this._restrictCursor();let P=b.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Z=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;P--;)this._activeBuffer.lines.splice(Z-1,1),this._activeBuffer.lines.splice(L,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(b){this._restrictCursor();let P=b.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;P--;)this._activeBuffer.lines.splice(L,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(b){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,b.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(b){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,b.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(b){let P=b.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(b){let P=b.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(n.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=b.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=b.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=b.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=b.params[0]||1;for(let L=this._activeBuffer.scrollTop;L<=this._activeBuffer.scrollBottom;++L){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);O.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(b){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(b.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(b){const P=this._parser.precedingJoinState;if(!P)return!0;const L=b.params[0]||1,O=x.UnicodeService.extractWidth(P),Z=this._activeBuffer.x-O,ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(Z),ue=new Uint32Array(ne.length*L);let he=0;for(let T=0;T<ne.length;){const se=ne.codePointAt(T)||0;ue[he++]=se,T+=se>65535?2:1}let $=he;for(let T=1;T<L;++T)ue.copyWithin($,0,he),$+=he;return this.print(ue,0,$),!0}sendDeviceAttributesPrimary(b){return b.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(b){return b.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(b.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(b){return(this._optionsService.rawOptions.termName+"").indexOf(b)===0}setMode(b){for(let P=0;P<b.length;P++)switch(b.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(b){for(let P=0;P<b.length;P++)switch(b.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,m.DEFAULT_CHARSET),this._charsetService.setgCharset(1,m.DEFAULT_CHARSET),this._charsetService.setgCharset(2,m.DEFAULT_CHARSET),this._charsetService.setgCharset(3,m.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(b){for(let P=0;P<b.length;P++)switch(b.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(b){for(let P=0;P<b.length;P++)switch(b.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),b.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(b,P){const L=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:Z}=this._coreMouseService,ne=this._coreService,{buffers:ue,cols:he}=this._bufferService,{active:$,alt:T}=ue,se=this._optionsService.rawOptions,Q=Re=>Re?1:2,fe=b.params[0];return de=fe,xe=P?fe===2?4:fe===4?Q(ne.modes.insertMode):fe===12?3:fe===20?Q(se.convertEol):0:fe===1?Q(L.applicationCursorKeys):fe===3?se.windowOptions.setWinLines?he===80?2:he===132?1:0:0:fe===6?Q(L.origin):fe===7?Q(L.wraparound):fe===8?3:fe===9?Q(O==="X10"):fe===12?Q(se.cursorBlink):fe===25?Q(!ne.isCursorHidden):fe===45?Q(L.reverseWraparound):fe===66?Q(L.applicationKeypad):fe===67?4:fe===1e3?Q(O==="VT200"):fe===1002?Q(O==="DRAG"):fe===1003?Q(O==="ANY"):fe===1004?Q(L.sendFocus):fe===1005?4:fe===1006?Q(Z==="SGR"):fe===1015?4:fe===1016?Q(Z==="SGR_PIXELS"):fe===1048?1:fe===47||fe===1047||fe===1049?Q($===T):fe===2004?Q(L.bracketedPasteMode):0,ne.triggerDataEvent(`${h.C0.ESC}[${P?"":"?"}${de};${xe}$y`),!0;var de,xe}_updateAttrColor(b,P,L,O,Z){return P===2?(b|=50331648,b&=-16777216,b|=p.AttributeData.fromColorRGB([L,O,Z])):P===5&&(b&=-50331904,b|=33554432|255&L),b}_extractColor(b,P,L){const O=[0,0,-1,0,0,0];let Z=0,ne=0;do{if(O[ne+Z]=b.params[P+ne],b.hasSubParams(P+ne)){const ue=b.getSubParams(P+ne);let he=0;do O[1]===5&&(Z=1),O[ne+he+1+Z]=ue[he];while(++he<ue.length&&he+ne+1+Z<O.length);break}if(O[1]===5&&ne+Z>=2||O[1]===2&&ne+Z>=5)break;O[1]&&(Z=1)}while(++ne+P<b.length&&ne+Z<O.length);for(let ue=2;ue<O.length;++ue)O[ue]===-1&&(O[ue]=0);switch(O[0]){case 38:L.fg=this._updateAttrColor(L.fg,O[1],O[3],O[4],O[5]);break;case 48:L.bg=this._updateAttrColor(L.bg,O[1],O[3],O[4],O[5]);break;case 58:L.extended=L.extended.clone(),L.extended.underlineColor=this._updateAttrColor(L.extended.underlineColor,O[1],O[3],O[4],O[5])}return ne}_processUnderline(b,P){P.extended=P.extended.clone(),(!~b||b>5)&&(b=1),P.extended.underlineStyle=b,P.fg|=268435456,b===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(b){b.fg=n.DEFAULT_ATTR_DATA.fg,b.bg=n.DEFAULT_ATTR_DATA.bg,b.extended=b.extended.clone(),b.extended.underlineStyle=0,b.extended.underlineColor&=-67108864,b.updateExtended()}charAttributes(b){if(b.length===1&&b.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=b.length;let L;const O=this._curAttrData;for(let Z=0;Z<P;Z++)L=b.params[Z],L>=30&&L<=37?(O.fg&=-50331904,O.fg|=16777216|L-30):L>=40&&L<=47?(O.bg&=-50331904,O.bg|=16777216|L-40):L>=90&&L<=97?(O.fg&=-50331904,O.fg|=16777224|L-90):L>=100&&L<=107?(O.bg&=-50331904,O.bg|=16777224|L-100):L===0?this._processSGR0(O):L===1?O.fg|=134217728:L===3?O.bg|=67108864:L===4?(O.fg|=268435456,this._processUnderline(b.hasSubParams(Z)?b.getSubParams(Z)[0]:1,O)):L===5?O.fg|=536870912:L===7?O.fg|=67108864:L===8?O.fg|=1073741824:L===9?O.fg|=2147483648:L===2?O.bg|=134217728:L===21?this._processUnderline(2,O):L===22?(O.fg&=-134217729,O.bg&=-134217729):L===23?O.bg&=-67108865:L===24?(O.fg&=-268435457,this._processUnderline(0,O)):L===25?O.fg&=-536870913:L===27?O.fg&=-67108865:L===28?O.fg&=-1073741825:L===29?O.fg&=2147483647:L===39?(O.fg&=-67108864,O.fg|=16777215&n.DEFAULT_ATTR_DATA.fg):L===49?(O.bg&=-67108864,O.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):L===38||L===48||L===58?Z+=this._extractColor(b,Z,O):L===53?O.bg|=1073741824:L===55?O.bg&=-1073741825:L===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):L===100?(O.fg&=-67108864,O.fg|=16777215&n.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",L);return!0}deviceStatus(b){switch(b.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,L=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${P};${L}R`)}return!0}deviceStatusPrivate(b){if(b.params[0]===6){const P=this._activeBuffer.y+1,L=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${P};${L}R`)}return!0}softReset(b){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(b){const P=b.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const L=P%2==1;return this._optionsService.options.cursorBlink=L,!0}setScrollRegion(b){const P=b.params[0]||1;let L;return(b.length<2||(L=b.params[1])>this._bufferService.rows||L===0)&&(L=this._bufferService.rows),L>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=L-1,this._setCursor(0,0)),!0}windowOptions(b){if(!V(b.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=b.length>1?b.params[1]:0;switch(b.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(I.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(I.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(b){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(b){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(b){return this._windowTitle=b,this._onTitleChange.fire(b),!0}setIconName(b){return this._iconName=b,!0}setOrReportIndexedColor(b){const P=[],L=b.split(";");for(;L.length>1;){const O=L.shift(),Z=L.shift();if(/^\d+$/.exec(O)){const ne=parseInt(O);if(te(ne))if(Z==="?")P.push({type:0,index:ne});else{const ue=(0,R.parseColor)(Z);ue&&P.push({type:1,index:ne,color:ue})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(b){const P=b.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(b,P){this._getCurrentLinkId()&&this._finishHyperlink();const L=b.split(":");let O;const Z=L.findIndex(ne=>ne.startsWith("id="));return Z!==-1&&(O=L[Z].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:O,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(b,P){const L=b.split(";");for(let O=0;O<L.length&&!(P>=this._specialColors.length);++O,++P)if(L[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const Z=(0,R.parseColor)(L[O]);Z&&this._onColor.fire([{type:1,index:this._specialColors[P],color:Z}])}return!0}setOrReportFgColor(b){return this._setOrReportSpecialColor(b,0)}setOrReportBgColor(b){return this._setOrReportSpecialColor(b,1)}setOrReportCursorColor(b){return this._setOrReportSpecialColor(b,2)}restoreIndexedColor(b){if(!b)return this._onColor.fire([{type:2}]),!0;const P=[],L=b.split(";");for(let O=0;O<L.length;++O)if(/^\d+$/.exec(L[O])){const Z=parseInt(L[O]);te(Z)&&P.push({type:2,index:Z})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(b){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(b){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(b){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,m.DEFAULT_CHARSET),!0}selectCharset(b){return b.length!==2?(this.selectDefaultCharset(),!0):(b[0]==="/"||this._charsetService.setgCharset(H[b[0]],m.CHARSETS[b[1]]||m.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const b=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,b,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(b){return this._charsetService.setgLevel(b),!0}screenAlignmentPattern(){const b=new o.CellData;b.content=4194373,b.fg=this._curAttrData.fg,b.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const L=this._activeBuffer.ybase+this._activeBuffer.y+P,O=this._activeBuffer.lines.get(L);O&&(O.fill(b),O.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(b,P){const L=this._bufferService.buffer,O=this._optionsService.rawOptions;return(Z=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${Z}${h.C0.ESC}\\`),!0))(b==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:b==='"p'?'P1$r61;1"p':b==="r"?`P1$r${L.scrollTop+1};${L.scrollBottom+1}r`:b==="m"?"P1$r0m":b===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(b,P){this._dirtyRowTracker.markRangeDirty(b,P)}}l.InputHandler=ee;let ie=class{constructor(G){this._bufferService=G,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(G){G<this.start?this.start=G:G>this.end&&(this.end=G)}markRangeDirty(G,b){G>b&&(q=G,G=b,b=q),G<this.start&&(this.start=G),b>this.end&&(this.end=b)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function te(G){return 0<=G&&G<256}ie=d([v(0,C.IBufferService)],ie)},844:(M,l)=>{function c(d){for(const v of d)v.dispose();d.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const v=this._disposables.indexOf(d);v!==-1&&this._disposables.splice(v,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var v;this._isDisposed||d===this._value||((v=this._value)==null||v.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)==null||d.dispose(),this._value=void 0}},l.toDisposable=function(d){return{dispose:d}},l.disposeArray=c,l.getDisposeArrayDisposable=function(d){return{dispose:()=>c(d)}}},1505:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(v,h,m){this._data[v]||(this._data[v]={}),this._data[v][h]=m}get(v,h){return this._data[v]?this._data[v][h]:void 0}clear(){this._data={}}}l.TwoKeyMap=c,l.FourKeyMap=class{constructor(){this._data=new c}set(d,v,h,m,g){this._data.get(d,v)||this._data.set(d,v,new c),this._data.get(d,v).set(h,m,g)}get(d,v,h,m){var g;return(g=this._data.get(d,v))==null?void 0:g.get(h,m)}clear(){this._data.clear()}}},6114:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof process<"u"&&"title"in process;const c=l.isNode?"node":navigator.userAgent,d=l.isNode?"node":navigator.platform;l.isFirefox=c.includes("Firefox"),l.isLegacyEdge=c.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(c),l.getSafariVersion=function(){if(!l.isSafari)return 0;const v=c.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(d),l.isIpad=d==="iPad",l.isIphone=d==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(d),l.isLinux=d.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(c)},6106:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let c=0;l.SortedList=class{constructor(d){this._getKey=d,this._array=[]}clear(){this._array.length=0}insert(d){this._array.length!==0?(c=this._search(this._getKey(d)),this._array.splice(c,0,d)):this._array.push(d)}delete(d){if(this._array.length===0)return!1;const v=this._getKey(d);if(v===void 0||(c=this._search(v),c===-1)||this._getKey(this._array[c])!==v)return!1;do if(this._array[c]===d)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===v);return!1}*getKeyIterator(d){if(this._array.length!==0&&(c=this._search(d),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===d))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===d)}forEachByKey(d,v){if(this._array.length!==0&&(c=this._search(d),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===d))do v(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===d)}values(){return[...this._array].values()}_search(d){let v=0,h=this._array.length-1;for(;h>=v;){let m=v+h>>1;const g=this._getKey(this._array[m]);if(g>d)h=m-1;else{if(!(g<d)){for(;m>0&&this._getKey(this._array[m-1])===d;)m--;return m}v=m+1}}return v}}},7226:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const d=c(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let w=0,f=0,n=g.timeRemaining(),a=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),f=Math.max(w,f),a=g.timeRemaining(),1.5*f>a)return n-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(n-w))}ms`),void this._start();n=a}this.clear()}}class h extends v{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const w=Date.now()+g;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}l.PriorityTaskQueue=h,l.IdleTaskQueue=!d.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(m){return requestIdleCallback(m)}_cancelCallback(m){cancelIdleCallback(m)}}:h,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(m){this._queue.clear(),this._queue.enqueue(m)}flush(){this._queue.flush()}}},9282:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const d=c(643);l.updateWindowsModeWrappedState=function(v){const h=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),m=h==null?void 0:h.get(v.cols-1),g=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);g&&m&&(g.isWrapped=m[d.CHAR_DATA_CODE_INDEX]!==d.NULL_CELL_CODE&&m[d.CHAR_DATA_CODE_INDEX]!==d.WHITESPACE_CELL_CODE)}},3734:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new d}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new c;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}l.AttributeData=c;class d{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,m=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=m}clone(){return new d(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=d},9092:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const d=c(6349),v=c(7226),h=c(3734),m=c(8437),g=c(4634),w=c(511),f=c(643),n=c(4863),a=c(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(s,o,p){this._hasScrollback=s,this._optionsService=o,this._bufferService=p,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=m.DEFAULT_ATTR_DATA.clone(),this.savedCharset=a.DEFAULT_CHARSET,this.markers=[],this._nullCell=w.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),this._whitespaceCell=w.CellData.fromCharData([0,f.WHITESPACE_CELL_CHAR,f.WHITESPACE_CELL_WIDTH,f.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(s){return s?(this._nullCell.fg=s.fg,this._nullCell.bg=s.bg,this._nullCell.extended=s.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(s){return s?(this._whitespaceCell.fg=s.fg,this._whitespaceCell.bg=s.bg,this._whitespaceCell.extended=s.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(s,o){return new m.BufferLine(this._bufferService.cols,this.getNullCell(s),o)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const s=this.ybase+this.y-this.ydisp;return s>=0&&s<this._rows}_getCorrectBufferLength(s){if(!this._hasScrollback)return s;const o=s+this._optionsService.rawOptions.scrollback;return o>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:o}fillViewportRows(s){if(this.lines.length===0){s===void 0&&(s=m.DEFAULT_ATTR_DATA);let o=this._rows;for(;o--;)this.lines.push(this.getBlankLine(s))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(s,o){const p=this.getNullCell(m.DEFAULT_ATTR_DATA);let C=0;const x=this._getCorrectBufferLength(o);if(x>this.lines.maxLength&&(this.lines.maxLength=x),this.lines.length>0){if(this._cols<s)for(let y=0;y<this.lines.length;y++)C+=+this.lines.get(y).resize(s,p);let E=0;if(this._rows<o)for(let y=this._rows;y<o;y++)this.lines.length<o+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new m.BufferLine(s,p)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new m.BufferLine(s,p)));else for(let y=this._rows;y>o;y--)this.lines.length>o+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(x<this.lines.maxLength){const y=this.lines.length-x;y>0&&(this.lines.trimStart(y),this.ybase=Math.max(this.ybase-y,0),this.ydisp=Math.max(this.ydisp-y,0),this.savedY=Math.max(this.savedY-y,0)),this.lines.maxLength=x}this.x=Math.min(this.x,s-1),this.y=Math.min(this.y,o-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,s-1),this.scrollTop=0}if(this.scrollBottom=o-1,this._isReflowEnabled&&(this._reflow(s,o),this._cols>s))for(let E=0;E<this.lines.length;E++)C+=+this.lines.get(E).resize(s,p);this._cols=s,this._rows=o,this._memoryCleanupQueue.clear(),C>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let s=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,s=!1);let o=0;for(;this._memoryCleanupPosition<this.lines.length;)if(o+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),o>100)return!0;return s}get _isReflowEnabled(){const s=this._optionsService.rawOptions.windowsPty;return s&&s.buildNumber?this._hasScrollback&&s.backend==="conpty"&&s.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(s,o){this._cols!==s&&(s>this._cols?this._reflowLarger(s,o):this._reflowSmaller(s,o))}_reflowLarger(s,o){const p=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,s,this.ybase+this.y,this.getNullCell(m.DEFAULT_ATTR_DATA));if(p.length>0){const C=(0,g.reflowLargerCreateNewLayout)(this.lines,p);(0,g.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(s,o,C.countRemoved)}}_reflowLargerAdjustViewport(s,o,p){const C=this.getNullCell(m.DEFAULT_ATTR_DATA);let x=p;for(;x-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<o&&this.lines.push(new m.BufferLine(s,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-p,0)}_reflowSmaller(s,o){const p=this.getNullCell(m.DEFAULT_ATTR_DATA),C=[];let x=0;for(let E=this.lines.length-1;E>=0;E--){let y=this.lines.get(E);if(!y||!y.isWrapped&&y.getTrimmedLength()<=s)continue;const R=[y];for(;y.isWrapped&&E>0;)y=this.lines.get(--E),R.unshift(y);const H=this.ybase+this.y;if(H>=E&&H<E+R.length)continue;const z=R[R.length-1].getTrimmedLength(),V=(0,g.reflowSmallerGetNewLineLengths)(R,this._cols,s),I=V.length-R.length;let q;q=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+I):Math.max(0,this.lines.length-this.lines.maxLength+I);const ee=[];for(let L=0;L<I;L++){const O=this.getBlankLine(m.DEFAULT_ATTR_DATA,!0);ee.push(O)}ee.length>0&&(C.push({start:E+R.length+x,newLines:ee}),x+=ee.length),R.push(...ee);let ie=V.length-1,te=V[ie];te===0&&(ie--,te=V[ie]);let G=R.length-I-1,b=z;for(;G>=0;){const L=Math.min(b,te);if(R[ie]===void 0)break;if(R[ie].copyCellsFrom(R[G],b-L,te-L,L,!0),te-=L,te===0&&(ie--,te=V[ie]),b-=L,b===0){G--;const O=Math.max(G,0);b=(0,g.getWrappedLineTrimmedLength)(R,O,this._cols)}}for(let L=0;L<R.length;L++)V[L]<s&&R[L].setCell(V[L],p);let P=I-q;for(;P-- >0;)this.ybase===0?this.y<o-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+x)-o&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+I,this.ybase+o-1)}if(C.length>0){const E=[],y=[];for(let ie=0;ie<this.lines.length;ie++)y.push(this.lines.get(ie));const R=this.lines.length;let H=R-1,z=0,V=C[z];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+x);let I=0;for(let ie=Math.min(this.lines.maxLength-1,R+x-1);ie>=0;ie--)if(V&&V.start>H+I){for(let te=V.newLines.length-1;te>=0;te--)this.lines.set(ie--,V.newLines[te]);ie++,E.push({index:H+1,amount:V.newLines.length}),I+=V.newLines.length,V=C[++z]}else this.lines.set(ie,y[H--]);let q=0;for(let ie=E.length-1;ie>=0;ie--)E[ie].index+=q,this.lines.onInsertEmitter.fire(E[ie]),q+=E[ie].amount;const ee=Math.max(0,R+x-this.lines.maxLength);ee>0&&this.lines.onTrimEmitter.fire(ee)}}translateBufferLineToString(s,o,p=0,C){const x=this.lines.get(s);return x?x.translateToString(o,p,C):""}getWrappedRangeForLine(s){let o=s,p=s;for(;o>0&&this.lines.get(o).isWrapped;)o--;for(;p+1<this.lines.length&&this.lines.get(p+1).isWrapped;)p++;return{first:o,last:p}}setupTabStops(s){for(s!=null?this.tabs[s]||(s=this.prevStop(s)):(this.tabs={},s=0);s<this._cols;s+=this._optionsService.rawOptions.tabStopWidth)this.tabs[s]=!0}prevStop(s){for(s==null&&(s=this.x);!this.tabs[--s]&&s>0;);return s>=this._cols?this._cols-1:s<0?0:s}nextStop(s){for(s==null&&(s=this.x);!this.tabs[++s]&&s<this._cols;);return s>=this._cols?this._cols-1:s<0?0:s}clearMarkers(s){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].line===s&&(this.markers[o].dispose(),this.markers.splice(o--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let s=0;s<this.markers.length;s++)this.markers[s].dispose(),this.markers.splice(s--,1);this._isClearing=!1}addMarker(s){const o=new n.Marker(s);return this.markers.push(o),o.register(this.lines.onTrim(p=>{o.line-=p,o.line<0&&o.dispose()})),o.register(this.lines.onInsert(p=>{o.line>=p.index&&(o.line+=p.amount)})),o.register(this.lines.onDelete(p=>{o.line>=p.index&&o.line<p.index+p.amount&&o.dispose(),o.line>p.index&&(o.line-=p.amount)})),o.register(o.onDispose(()=>this._removeMarker(o))),o}_removeMarker(s){this._isClearing||this.markers.splice(this.markers.indexOf(s),1)}}},8437:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const d=c(3734),v=c(511),h=c(643),m=c(482);l.DEFAULT_ATTR_DATA=Object.freeze(new d.AttributeData);let g=0;class w{constructor(n,a,s=!1){this.isWrapped=s,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*n);const o=a||v.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let p=0;p<n;++p)this.setCell(p,o);this.length=n}get(n){const a=this._data[3*n+0],s=2097151&a;return[this._data[3*n+1],2097152&a?this._combined[n]:s?(0,m.stringFromCodePoint)(s):"",a>>22,2097152&a?this._combined[n].charCodeAt(this._combined[n].length-1):s]}set(n,a){this._data[3*n+1]=a[h.CHAR_DATA_ATTR_INDEX],a[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[n]=a[1],this._data[3*n+0]=2097152|n|a[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*n+0]=a[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|a[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(n){return this._data[3*n+0]>>22}hasWidth(n){return 12582912&this._data[3*n+0]}getFg(n){return this._data[3*n+1]}getBg(n){return this._data[3*n+2]}hasContent(n){return 4194303&this._data[3*n+0]}getCodePoint(n){const a=this._data[3*n+0];return 2097152&a?this._combined[n].charCodeAt(this._combined[n].length-1):2097151&a}isCombined(n){return 2097152&this._data[3*n+0]}getString(n){const a=this._data[3*n+0];return 2097152&a?this._combined[n]:2097151&a?(0,m.stringFromCodePoint)(2097151&a):""}isProtected(n){return 536870912&this._data[3*n+2]}loadCell(n,a){return g=3*n,a.content=this._data[g+0],a.fg=this._data[g+1],a.bg=this._data[g+2],2097152&a.content&&(a.combinedData=this._combined[n]),268435456&a.bg&&(a.extended=this._extendedAttrs[n]),a}setCell(n,a){2097152&a.content&&(this._combined[n]=a.combinedData),268435456&a.bg&&(this._extendedAttrs[n]=a.extended),this._data[3*n+0]=a.content,this._data[3*n+1]=a.fg,this._data[3*n+2]=a.bg}setCellFromCodepoint(n,a,s,o){268435456&o.bg&&(this._extendedAttrs[n]=o.extended),this._data[3*n+0]=a|s<<22,this._data[3*n+1]=o.fg,this._data[3*n+2]=o.bg}addCodepointToCell(n,a,s){let o=this._data[3*n+0];2097152&o?this._combined[n]+=(0,m.stringFromCodePoint)(a):2097151&o?(this._combined[n]=(0,m.stringFromCodePoint)(2097151&o)+(0,m.stringFromCodePoint)(a),o&=-2097152,o|=2097152):o=a|4194304,s&&(o&=-12582913,o|=s<<22),this._data[3*n+0]=o}insertCells(n,a,s){if((n%=this.length)&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,s),a<this.length-n){const o=new v.CellData;for(let p=this.length-n-a-1;p>=0;--p)this.setCell(n+a+p,this.loadCell(n+p,o));for(let p=0;p<a;++p)this.setCell(n+p,s)}else for(let o=n;o<this.length;++o)this.setCell(o,s);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,s)}deleteCells(n,a,s){if(n%=this.length,a<this.length-n){const o=new v.CellData;for(let p=0;p<this.length-n-a;++p)this.setCell(n+p,this.loadCell(n+a+p,o));for(let p=this.length-a;p<this.length;++p)this.setCell(p,s)}else for(let o=n;o<this.length;++o)this.setCell(o,s);n&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,s),this.getWidth(n)!==0||this.hasContent(n)||this.setCellFromCodepoint(n,0,1,s)}replaceCells(n,a,s,o=!1){if(o)for(n&&this.getWidth(n-1)===2&&!this.isProtected(n-1)&&this.setCellFromCodepoint(n-1,0,1,s),a<this.length&&this.getWidth(a-1)===2&&!this.isProtected(a)&&this.setCellFromCodepoint(a,0,1,s);n<a&&n<this.length;)this.isProtected(n)||this.setCell(n,s),n++;else for(n&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,s),a<this.length&&this.getWidth(a-1)===2&&this.setCellFromCodepoint(a,0,1,s);n<a&&n<this.length;)this.setCell(n++,s)}resize(n,a){if(n===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const s=3*n;if(n>this.length){if(this._data.buffer.byteLength>=4*s)this._data=new Uint32Array(this._data.buffer,0,s);else{const o=new Uint32Array(s);o.set(this._data),this._data=o}for(let o=this.length;o<n;++o)this.setCell(o,a)}else{this._data=this._data.subarray(0,s);const o=Object.keys(this._combined);for(let C=0;C<o.length;C++){const x=parseInt(o[C],10);x>=n&&delete this._combined[x]}const p=Object.keys(this._extendedAttrs);for(let C=0;C<p.length;C++){const x=parseInt(p[C],10);x>=n&&delete this._extendedAttrs[x]}}return this.length=n,4*s*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const n=new Uint32Array(this._data.length);return n.set(this._data),this._data=n,1}return 0}fill(n,a=!1){if(a)for(let s=0;s<this.length;++s)this.isProtected(s)||this.setCell(s,n);else{this._combined={},this._extendedAttrs={};for(let s=0;s<this.length;++s)this.setCell(s,n)}}copyFrom(n){this.length!==n.length?this._data=new Uint32Array(n._data):this._data.set(n._data),this.length=n.length,this._combined={};for(const a in n._combined)this._combined[a]=n._combined[a];this._extendedAttrs={};for(const a in n._extendedAttrs)this._extendedAttrs[a]=n._extendedAttrs[a];this.isWrapped=n.isWrapped}clone(){const n=new w(0);n._data=new Uint32Array(this._data),n.length=this.length;for(const a in this._combined)n._combined[a]=this._combined[a];for(const a in this._extendedAttrs)n._extendedAttrs[a]=this._extendedAttrs[a];return n.isWrapped=this.isWrapped,n}getTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0])return n+(this._data[3*n+0]>>22);return 0}getNoBgTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0]||50331648&this._data[3*n+2])return n+(this._data[3*n+0]>>22);return 0}copyCellsFrom(n,a,s,o,p){const C=n._data;if(p)for(let E=o-1;E>=0;E--){for(let y=0;y<3;y++)this._data[3*(s+E)+y]=C[3*(a+E)+y];268435456&C[3*(a+E)+2]&&(this._extendedAttrs[s+E]=n._extendedAttrs[a+E])}else for(let E=0;E<o;E++){for(let y=0;y<3;y++)this._data[3*(s+E)+y]=C[3*(a+E)+y];268435456&C[3*(a+E)+2]&&(this._extendedAttrs[s+E]=n._extendedAttrs[a+E])}const x=Object.keys(n._combined);for(let E=0;E<x.length;E++){const y=parseInt(x[E],10);y>=a&&(this._combined[y-a+s]=n._combined[y])}}translateToString(n,a,s,o){a=a??0,s=s??this.length,n&&(s=Math.min(s,this.getTrimmedLength())),o&&(o.length=0);let p="";for(;a<s;){const C=this._data[3*a+0],x=2097151&C,E=2097152&C?this._combined[a]:x?(0,m.stringFromCodePoint)(x):h.WHITESPACE_CELL_CHAR;if(p+=E,o)for(let y=0;y<E.length;++y)o.push(a);a+=C>>22||1}return o&&o.push(a),p}}l.BufferLine=w},4841:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(c,d){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return d*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(M,l)=>{function c(d,v,h){if(v===d.length-1)return d[v].getTrimmedLength();const m=!d[v].hasContent(h-1)&&d[v].getWidth(h-1)===1,g=d[v+1].getWidth(0)===2;return m&&g?h-1:h}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(d,v,h,m,g){const w=[];for(let f=0;f<d.length-1;f++){let n=f,a=d.get(++n);if(!a.isWrapped)continue;const s=[d.get(f)];for(;n<d.length&&a.isWrapped;)s.push(a),a=d.get(++n);if(m>=f&&m<n){f+=s.length-1;continue}let o=0,p=c(s,o,v),C=1,x=0;for(;C<s.length;){const y=c(s,C,v),R=y-x,H=h-p,z=Math.min(R,H);s[o].copyCellsFrom(s[C],x,p,z,!1),p+=z,p===h&&(o++,p=0),x+=z,x===y&&(C++,x=0),p===0&&o!==0&&s[o-1].getWidth(h-1)===2&&(s[o].copyCellsFrom(s[o-1],h-1,p++,1,!1),s[o-1].setCell(h-1,g))}s[o].replaceCells(p,h,g);let E=0;for(let y=s.length-1;y>0&&(y>o||s[y].getTrimmedLength()===0);y--)E++;E>0&&(w.push(f+s.length-E),w.push(E)),f+=s.length-1}return w},l.reflowLargerCreateNewLayout=function(d,v){const h=[];let m=0,g=v[m],w=0;for(let f=0;f<d.length;f++)if(g===f){const n=v[++m];d.onDeleteEmitter.fire({index:f-w,amount:n}),f+=n-1,w+=n,g=v[++m]}else h.push(f);return{layout:h,countRemoved:w}},l.reflowLargerApplyNewLayout=function(d,v){const h=[];for(let m=0;m<v.length;m++)h.push(d.get(v[m]));for(let m=0;m<h.length;m++)d.set(m,h[m]);d.length=v.length},l.reflowSmallerGetNewLineLengths=function(d,v,h){const m=[],g=d.map((a,s)=>c(d,s,v)).reduce((a,s)=>a+s);let w=0,f=0,n=0;for(;n<g;){if(g-n<h){m.push(g-n);break}w+=h;const a=c(d,f,v);w>a&&(w-=a,f++);const s=d[f].getWidth(w-1)===2;s&&w--;const o=s?h-1:h;m.push(o),n+=o}return m},l.getWrappedLineTrimmedLength=c},5295:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const d=c(8460),v=c(844),h=c(9092);class m extends v.Disposable{constructor(w,f){super(),this._optionsService=w,this._bufferService=f,this._onBufferActivate=this.register(new d.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,f){this._normal.resize(w,f),this._alt.resize(w,f),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}l.BufferSet=m},511:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const d=c(482),v=c(643),h=c(3734);class m extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const f=new m;return f.setFromCharData(w),f}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let f=!1;if(w[v.CHAR_DATA_CHAR_INDEX].length>2)f=!0;else if(w[v.CHAR_DATA_CHAR_INDEX].length===2){const n=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){const a=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=a&&a<=57343?this.content=1024*(n-55296)+a-56320+65536|w[v.CHAR_DATA_WIDTH_INDEX]<<22:f=!0}else f=!0}else this.content=w[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[v.CHAR_DATA_WIDTH_INDEX]<<22;f&&(this.combinedData=w[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=m},643:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const d=c(8460),v=c(844);class h{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}l.Marker=h,h._nextId=1},7116:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(M,l)=>{var c,d,v;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""}(c||(l.C0=c={})),function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""}(d||(l.C1=d={})),function(h){h.ST=`${c.ESC}\\`}(v||(l.C1_ESCAPED=v={}))},7399:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const d=c(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(h,m,g,w){const f={type:0,cancel:!1,key:void 0},n=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?f.key=m?d.C0.ESC+"OA":d.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?f.key=m?d.C0.ESC+"OD":d.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?f.key=m?d.C0.ESC+"OC":d.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(f.key=m?d.C0.ESC+"OB":d.C0.ESC+"[B");break;case 8:f.key=h.ctrlKey?"\b":d.C0.DEL,h.altKey&&(f.key=d.C0.ESC+f.key);break;case 9:if(h.shiftKey){f.key=d.C0.ESC+"[Z";break}f.key=d.C0.HT,f.cancel=!0;break;case 13:f.key=h.altKey?d.C0.ESC+d.C0.CR:d.C0.CR,f.cancel=!0;break;case 27:f.key=d.C0.ESC,h.altKey&&(f.key=d.C0.ESC+d.C0.ESC),f.cancel=!0;break;case 37:if(h.metaKey)break;n?(f.key=d.C0.ESC+"[1;"+(n+1)+"D",f.key===d.C0.ESC+"[1;3D"&&(f.key=d.C0.ESC+(g?"b":"[1;5D"))):f.key=m?d.C0.ESC+"OD":d.C0.ESC+"[D";break;case 39:if(h.metaKey)break;n?(f.key=d.C0.ESC+"[1;"+(n+1)+"C",f.key===d.C0.ESC+"[1;3C"&&(f.key=d.C0.ESC+(g?"f":"[1;5C"))):f.key=m?d.C0.ESC+"OC":d.C0.ESC+"[C";break;case 38:if(h.metaKey)break;n?(f.key=d.C0.ESC+"[1;"+(n+1)+"A",g||f.key!==d.C0.ESC+"[1;3A"||(f.key=d.C0.ESC+"[1;5A")):f.key=m?d.C0.ESC+"OA":d.C0.ESC+"[A";break;case 40:if(h.metaKey)break;n?(f.key=d.C0.ESC+"[1;"+(n+1)+"B",g||f.key!==d.C0.ESC+"[1;3B"||(f.key=d.C0.ESC+"[1;5B")):f.key=m?d.C0.ESC+"OB":d.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(f.key=d.C0.ESC+"[2~");break;case 46:f.key=n?d.C0.ESC+"[3;"+(n+1)+"~":d.C0.ESC+"[3~";break;case 36:f.key=n?d.C0.ESC+"[1;"+(n+1)+"H":m?d.C0.ESC+"OH":d.C0.ESC+"[H";break;case 35:f.key=n?d.C0.ESC+"[1;"+(n+1)+"F":m?d.C0.ESC+"OF":d.C0.ESC+"[F";break;case 33:h.shiftKey?f.type=2:h.ctrlKey?f.key=d.C0.ESC+"[5;"+(n+1)+"~":f.key=d.C0.ESC+"[5~";break;case 34:h.shiftKey?f.type=3:h.ctrlKey?f.key=d.C0.ESC+"[6;"+(n+1)+"~":f.key=d.C0.ESC+"[6~";break;case 112:f.key=n?d.C0.ESC+"[1;"+(n+1)+"P":d.C0.ESC+"OP";break;case 113:f.key=n?d.C0.ESC+"[1;"+(n+1)+"Q":d.C0.ESC+"OQ";break;case 114:f.key=n?d.C0.ESC+"[1;"+(n+1)+"R":d.C0.ESC+"OR";break;case 115:f.key=n?d.C0.ESC+"[1;"+(n+1)+"S":d.C0.ESC+"OS";break;case 116:f.key=n?d.C0.ESC+"[15;"+(n+1)+"~":d.C0.ESC+"[15~";break;case 117:f.key=n?d.C0.ESC+"[17;"+(n+1)+"~":d.C0.ESC+"[17~";break;case 118:f.key=n?d.C0.ESC+"[18;"+(n+1)+"~":d.C0.ESC+"[18~";break;case 119:f.key=n?d.C0.ESC+"[19;"+(n+1)+"~":d.C0.ESC+"[19~";break;case 120:f.key=n?d.C0.ESC+"[20;"+(n+1)+"~":d.C0.ESC+"[20~";break;case 121:f.key=n?d.C0.ESC+"[21;"+(n+1)+"~":d.C0.ESC+"[21~";break;case 122:f.key=n?d.C0.ESC+"[23;"+(n+1)+"~":d.C0.ESC+"[23~";break;case 123:f.key=n?d.C0.ESC+"[24;"+(n+1)+"~":d.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(g&&!w||!h.altKey||h.metaKey)!g||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?f.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(f.key=d.C0.US),h.key==="@"&&(f.key=d.C0.NUL)):h.keyCode===65&&(f.type=1);else{const a=v[h.keyCode],s=a==null?void 0:a[h.shiftKey?1:0];if(s)f.key=d.C0.ESC+s;else if(h.keyCode>=65&&h.keyCode<=90){const o=h.ctrlKey?h.keyCode-64:h.keyCode+32;let p=String.fromCharCode(o);h.shiftKey&&(p=p.toUpperCase()),f.key=d.C0.ESC+p}else if(h.keyCode===32)f.key=d.C0.ESC+(h.ctrlKey?d.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let o=h.code.slice(3,4);h.shiftKey||(o=o.toLowerCase()),f.key=d.C0.ESC+o,f.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?f.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?f.key=d.C0.NUL:h.keyCode>=51&&h.keyCode<=55?f.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?f.key=d.C0.DEL:h.keyCode===219?f.key=d.C0.ESC:h.keyCode===220?f.key=d.C0.FS:h.keyCode===221&&(f.key=d.C0.GS)}return f}},482:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},l.utf32ToString=function(c,d=0,v=c.length){let h="";for(let m=d;m<v;++m){let g=c[m];g>65535?(g-=65536,h+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):h+=String.fromCharCode(g)}return h},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,d){const v=c.length;if(!v)return 0;let h=0,m=0;if(this._interim){const g=c.charCodeAt(m++);56320<=g&&g<=57343?d[h++]=1024*(this._interim-55296)+g-56320+65536:(d[h++]=this._interim,d[h++]=g),this._interim=0}for(let g=m;g<v;++g){const w=c.charCodeAt(g);if(55296<=w&&w<=56319){if(++g>=v)return this._interim=w,h;const f=c.charCodeAt(g);56320<=f&&f<=57343?d[h++]=1024*(w-55296)+f-56320+65536:(d[h++]=w,d[h++]=f)}else w!==65279&&(d[h++]=w)}return h}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,d){const v=c.length;if(!v)return 0;let h,m,g,w,f=0,n=0,a=0;if(this.interim[0]){let p=!1,C=this.interim[0];C&=(224&C)==192?31:(240&C)==224?15:7;let x,E=0;for(;(x=63&this.interim[++E])&&E<4;)C<<=6,C|=x;const y=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,R=y-E;for(;a<R;){if(a>=v)return 0;if(x=c[a++],(192&x)!=128){a--,p=!0;break}this.interim[E++]=x,C<<=6,C|=63&x}p||(y===2?C<128?a--:d[f++]=C:y===3?C<2048||C>=55296&&C<=57343||C===65279||(d[f++]=C):C<65536||C>1114111||(d[f++]=C)),this.interim.fill(0)}const s=v-4;let o=a;for(;o<v;){for(;!(!(o<s)||128&(h=c[o])||128&(m=c[o+1])||128&(g=c[o+2])||128&(w=c[o+3]));)d[f++]=h,d[f++]=m,d[f++]=g,d[f++]=w,o+=4;if(h=c[o++],h<128)d[f++]=h;else if((224&h)==192){if(o>=v)return this.interim[0]=h,f;if(m=c[o++],(192&m)!=128){o--;continue}if(n=(31&h)<<6|63&m,n<128){o--;continue}d[f++]=n}else if((240&h)==224){if(o>=v)return this.interim[0]=h,f;if(m=c[o++],(192&m)!=128){o--;continue}if(o>=v)return this.interim[0]=h,this.interim[1]=m,f;if(g=c[o++],(192&g)!=128){o--;continue}if(n=(15&h)<<12|(63&m)<<6|63&g,n<2048||n>=55296&&n<=57343||n===65279)continue;d[f++]=n}else if((248&h)==240){if(o>=v)return this.interim[0]=h,f;if(m=c[o++],(192&m)!=128){o--;continue}if(o>=v)return this.interim[0]=h,this.interim[1]=m,f;if(g=c[o++],(192&g)!=128){o--;continue}if(o>=v)return this.interim[0]=h,this.interim[1]=m,this.interim[2]=g,f;if(w=c[o++],(192&w)!=128){o--;continue}if(n=(7&h)<<18|(63&m)<<12|(63&g)<<6|63&w,n<65536||n>1114111)continue;d[f++]=n}}return f}}},225:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const d=c(1480),v=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let m;l.UnicodeV6=class{constructor(){if(this.version="6",!m){m=new Uint8Array(65536),m.fill(1),m[0]=0,m.fill(0,1,32),m.fill(0,127,160),m.fill(2,4352,4448),m[9001]=2,m[9002]=2,m.fill(2,11904,42192),m[12351]=1,m.fill(2,44032,55204),m.fill(2,63744,64256),m.fill(2,65040,65050),m.fill(2,65072,65136),m.fill(2,65280,65377),m.fill(2,65504,65511);for(let g=0;g<v.length;++g)m.fill(0,v[g][0],v[g][1]+1)}}wcwidth(g){return g<32?0:g<127?1:g<65536?m[g]:function(w,f){let n,a=0,s=f.length-1;if(w<f[0][0]||w>f[s][1])return!1;for(;s>=a;)if(n=a+s>>1,w>f[n][1])a=n+1;else{if(!(w<f[n][0]))return!0;s=n-1}return!1}(g,h)?0:g>=131072&&g<=196605||g>=196608&&g<=262141?2:1}charProperties(g,w){let f=this.wcwidth(g),n=f===0&&w!==0;if(n){const a=d.UnicodeService.extractWidth(w);a===0?n=!1:a>f&&(f=a)}return d.UnicodeService.createPropertyValue(0,f,n)}}},5981:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const d=c(8460),v=c(844);class h extends v.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,w){if(w!==void 0&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let f;for(this._isSyncWriting=!0;f=this._writeBuffer.shift();){this._action(f);const n=this._callbacks.shift();n&&n()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(w)}_innerWrite(g=0,w=!0){const f=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const n=this._writeBuffer[this._bufferOffset],a=this._action(n,w);if(a){const o=p=>Date.now()-f>=12?setTimeout(()=>this._innerWrite(0,p)):this._innerWrite(f,p);return void a.catch(p=>(queueMicrotask(()=>{throw p}),Promise.resolve(!1))).then(o)}const s=this._callbacks[this._bufferOffset];if(s&&s(),this._bufferOffset++,this._pendingData-=n.length,Date.now()-f>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=h},5941:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,d=/^[\da-f]+$/;function v(h,m){const g=h.toString(16),w=g.length<2?"0"+g:g;switch(m){case 4:return g[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}l.parseColor=function(h){if(!h)return;let m=h.toLowerCase();if(m.indexOf("rgb:")===0){m=m.slice(4);const g=c.exec(m);if(g){const w=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/w*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/w*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/w*255)]}}else if(m.indexOf("#")===0&&(m=m.slice(1),d.exec(m)&&[3,6,9,12].includes(m.length))){const g=m.length/3,w=[0,0,0];for(let f=0;f<3;++f){const n=parseInt(m.slice(g*f,g*f+g),16);w[f]=g===1?n<<4:g===2?n:g===3?n>>4:n>>8}return w}},l.toRgbString=function(h,m=16){const[g,w,f]=h;return`rgb:${v(g,m)}/${v(w,m)}/${v(f,m)}`}},5770:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const d=c(482),v=c(8742),h=c(5770),m=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=m,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}registerHandler(w,f){this._handlers[w]===void 0&&(this._handlers[w]=[]);const n=this._handlers[w];return n.push(f),{dispose:()=>{const a=n.indexOf(f);a!==-1&&n.splice(a,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=m,this._ident=0}hook(w,f){if(this.reset(),this._ident=w,this._active=this._handlers[w]||m,this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(f);else this._handlerFb(this._ident,"HOOK",f)}put(w,f,n){if(this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].put(w,f,n);else this._handlerFb(this._ident,"PUT",(0,d.utf32ToString)(w,f,n))}unhook(w,f=!0){if(this._active.length){let n=!1,a=this._active.length-1,s=!1;if(this._stack.paused&&(a=this._stack.loopPosition-1,n=f,s=this._stack.fallThrough,this._stack.paused=!1),!s&&n===!1){for(;a>=0&&(n=this._active[a].unhook(w),n!==!0);a--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!1,n;a--}for(;a>=0;a--)if(n=this._active[a].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!0,n}else this._handlerFb(this._ident,"UNHOOK",w);this._active=m,this._ident=0}};const g=new v.Params;g.addParam(0),l.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=g,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():g,this._data="",this._hitLimit=!1}put(w,f,n){this._hitLimit||(this._data+=(0,d.utf32ToString)(w,f,n),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let f=!1;if(this._hitLimit)f=!1;else if(w&&(f=this._handler(this._data,this._params),f instanceof Promise))return f.then(n=>(this._params=g,this._data="",this._hitLimit=!1,n));return this._params=g,this._data="",this._hitLimit=!1,f}}},2015:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const d=c(844),v=c(8742),h=c(6242),m=c(6351);class g{constructor(a){this.table=new Uint8Array(a)}setDefault(a,s){this.table.fill(a<<4|s)}add(a,s,o,p){this.table[s<<8|a]=o<<4|p}addMany(a,s,o,p){for(let C=0;C<a.length;C++)this.table[s<<8|a[C]]=o<<4|p}}l.TransitionTable=g;const w=160;l.VT500_TRANSITION_TABLE=function(){const n=new g(4095),a=Array.apply(null,Array(256)).map((E,y)=>y),s=(E,y)=>a.slice(E,y),o=s(32,127),p=s(0,24);p.push(25),p.push.apply(p,s(28,32));const C=s(0,14);let x;for(x in n.setDefault(1,0),n.addMany(o,0,2,0),C)n.addMany([24,26,153,154],x,3,0),n.addMany(s(128,144),x,3,0),n.addMany(s(144,152),x,3,0),n.add(156,x,0,0),n.add(27,x,11,1),n.add(157,x,4,8),n.addMany([152,158,159],x,0,7),n.add(155,x,11,3),n.add(144,x,11,9);return n.addMany(p,0,3,0),n.addMany(p,1,3,1),n.add(127,1,0,1),n.addMany(p,8,0,8),n.addMany(p,3,3,3),n.add(127,3,0,3),n.addMany(p,4,3,4),n.add(127,4,0,4),n.addMany(p,6,3,6),n.addMany(p,5,3,5),n.add(127,5,0,5),n.addMany(p,2,3,2),n.add(127,2,0,2),n.add(93,1,4,8),n.addMany(o,8,5,8),n.add(127,8,5,8),n.addMany([156,27,24,26,7],8,6,0),n.addMany(s(28,32),8,0,8),n.addMany([88,94,95],1,0,7),n.addMany(o,7,0,7),n.addMany(p,7,0,7),n.add(156,7,0,0),n.add(127,7,0,7),n.add(91,1,11,3),n.addMany(s(64,127),3,7,0),n.addMany(s(48,60),3,8,4),n.addMany([60,61,62,63],3,9,4),n.addMany(s(48,60),4,8,4),n.addMany(s(64,127),4,7,0),n.addMany([60,61,62,63],4,0,6),n.addMany(s(32,64),6,0,6),n.add(127,6,0,6),n.addMany(s(64,127),6,0,0),n.addMany(s(32,48),3,9,5),n.addMany(s(32,48),5,9,5),n.addMany(s(48,64),5,0,6),n.addMany(s(64,127),5,7,0),n.addMany(s(32,48),4,9,5),n.addMany(s(32,48),1,9,2),n.addMany(s(32,48),2,9,2),n.addMany(s(48,127),2,10,0),n.addMany(s(48,80),1,10,0),n.addMany(s(81,88),1,10,0),n.addMany([89,90,92],1,10,0),n.addMany(s(96,127),1,10,0),n.add(80,1,11,9),n.addMany(p,9,0,9),n.add(127,9,0,9),n.addMany(s(28,32),9,0,9),n.addMany(s(32,48),9,9,12),n.addMany(s(48,60),9,8,10),n.addMany([60,61,62,63],9,9,10),n.addMany(p,11,0,11),n.addMany(s(32,128),11,0,11),n.addMany(s(28,32),11,0,11),n.addMany(p,10,0,10),n.add(127,10,0,10),n.addMany(s(28,32),10,0,10),n.addMany(s(48,60),10,8,10),n.addMany([60,61,62,63],10,0,11),n.addMany(s(32,48),10,9,12),n.addMany(p,12,0,12),n.add(127,12,0,12),n.addMany(s(28,32),12,0,12),n.addMany(s(32,48),12,9,12),n.addMany(s(48,64),12,0,11),n.addMany(s(64,127),12,12,13),n.addMany(s(64,127),10,12,13),n.addMany(s(64,127),9,12,13),n.addMany(p,13,13,13),n.addMany(o,13,13,13),n.add(127,13,0,13),n.addMany([27,156,24,26],13,14,0),n.add(w,0,2,0),n.add(w,8,5,8),n.add(w,6,0,6),n.add(w,11,0,11),n.add(w,13,13,13),n}();class f extends d.Disposable{constructor(a=l.VT500_TRANSITION_TABLE){super(),this._transitions=a,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(s,o,p)=>{},this._executeHandlerFb=s=>{},this._csiHandlerFb=(s,o)=>{},this._escHandlerFb=s=>{},this._errorHandlerFb=s=>s,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,d.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new m.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(a,s=[64,126]){let o=0;if(a.prefix){if(a.prefix.length>1)throw new Error("only one byte as prefix supported");if(o=a.prefix.charCodeAt(0),o&&60>o||o>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(a.intermediates){if(a.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let C=0;C<a.intermediates.length;++C){const x=a.intermediates.charCodeAt(C);if(32>x||x>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");o<<=8,o|=x}}if(a.final.length!==1)throw new Error("final must be a single byte");const p=a.final.charCodeAt(0);if(s[0]>p||p>s[1])throw new Error(`final must be in range ${s[0]} .. ${s[1]}`);return o<<=8,o|=p,o}identToString(a){const s=[];for(;a;)s.push(String.fromCharCode(255&a)),a>>=8;return s.reverse().join("")}setPrintHandler(a){this._printHandler=a}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(a,s){const o=this._identifier(a,[48,126]);this._escHandlers[o]===void 0&&(this._escHandlers[o]=[]);const p=this._escHandlers[o];return p.push(s),{dispose:()=>{const C=p.indexOf(s);C!==-1&&p.splice(C,1)}}}clearEscHandler(a){this._escHandlers[this._identifier(a,[48,126])]&&delete this._escHandlers[this._identifier(a,[48,126])]}setEscHandlerFallback(a){this._escHandlerFb=a}setExecuteHandler(a,s){this._executeHandlers[a.charCodeAt(0)]=s}clearExecuteHandler(a){this._executeHandlers[a.charCodeAt(0)]&&delete this._executeHandlers[a.charCodeAt(0)]}setExecuteHandlerFallback(a){this._executeHandlerFb=a}registerCsiHandler(a,s){const o=this._identifier(a);this._csiHandlers[o]===void 0&&(this._csiHandlers[o]=[]);const p=this._csiHandlers[o];return p.push(s),{dispose:()=>{const C=p.indexOf(s);C!==-1&&p.splice(C,1)}}}clearCsiHandler(a){this._csiHandlers[this._identifier(a)]&&delete this._csiHandlers[this._identifier(a)]}setCsiHandlerFallback(a){this._csiHandlerFb=a}registerDcsHandler(a,s){return this._dcsParser.registerHandler(this._identifier(a),s)}clearDcsHandler(a){this._dcsParser.clearHandler(this._identifier(a))}setDcsHandlerFallback(a){this._dcsParser.setHandlerFallback(a)}registerOscHandler(a,s){return this._oscParser.registerHandler(a,s)}clearOscHandler(a){this._oscParser.clearHandler(a)}setOscHandlerFallback(a){this._oscParser.setHandlerFallback(a)}setErrorHandler(a){this._errorHandler=a}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(a,s,o,p,C){this._parseStack.state=a,this._parseStack.handlers=s,this._parseStack.handlerPos=o,this._parseStack.transition=p,this._parseStack.chunkPos=C}parse(a,s,o){let p,C=0,x=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(o===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const y=this._parseStack.handlers;let R=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(o===!1&&R>-1){for(;R>=0&&(p=y[R](this._params),p!==!0);R--)if(p instanceof Promise)return this._parseStack.handlerPos=R,p}this._parseStack.handlers=[];break;case 4:if(o===!1&&R>-1){for(;R>=0&&(p=y[R](),p!==!0);R--)if(p instanceof Promise)return this._parseStack.handlerPos=R,p}this._parseStack.handlers=[];break;case 6:if(C=a[this._parseStack.chunkPos],p=this._dcsParser.unhook(C!==24&&C!==26,o),p)return p;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=a[this._parseStack.chunkPos],p=this._oscParser.end(C!==24&&C!==26,o),p)return p;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let y=E;y<s;++y){switch(C=a[y],x=this._transitions.table[this.currentState<<8|(C<160?C:w)],x>>4){case 2:for(let I=y+1;;++I){if(I>=s||(C=a[I])<32||C>126&&C<w){this._printHandler(a,y,I),y=I-1;break}if(++I>=s||(C=a[I])<32||C>126&&C<w){this._printHandler(a,y,I),y=I-1;break}if(++I>=s||(C=a[I])<32||C>126&&C<w){this._printHandler(a,y,I),y=I-1;break}if(++I>=s||(C=a[I])<32||C>126&&C<w){this._printHandler(a,y,I),y=I-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:y,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const R=this._csiHandlers[this._collect<<8|C];let H=R?R.length-1:-1;for(;H>=0&&(p=R[H](this._params),p!==!0);H--)if(p instanceof Promise)return this._preserveStack(3,R,H,x,y),p;H<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingJoinState=0;break;case 8:do switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}while(++y<s&&(C=a[y])>47&&C<60);y--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:const z=this._escHandlers[this._collect<<8|C];let V=z?z.length-1:-1;for(;V>=0&&(p=z[V](),p!==!0);V--)if(p instanceof Promise)return this._preserveStack(4,z,V,x,y),p;V<0&&this._escHandlerFb(this._collect<<8|C),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(let I=y+1;;++I)if(I>=s||(C=a[I])===24||C===26||C===27||C>127&&C<w){this._dcsParser.put(a,y,I),y=I-1;break}break;case 14:if(p=this._dcsParser.unhook(C!==24&&C!==26),p)return this._preserveStack(6,[],0,x,y),p;C===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let I=y+1;;I++)if(I>=s||(C=a[I])<32||C>127&&C<w){this._oscParser.put(a,y,I),y=I-1;break}break;case 6:if(p=this._oscParser.end(C!==24&&C!==26),p)return this._preserveStack(5,[],0,x,y),p;C===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&x}}}l.EscapeSequenceParser=f},6242:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const d=c(5770),v=c(482),h=[];l.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(m,g){this._handlers[m]===void 0&&(this._handlers[m]=[]);const w=this._handlers[m];return w.push(g),{dispose:()=>{const f=w.indexOf(g);f!==-1&&w.splice(f,1)}}}clearHandler(m){this._handlers[m]&&delete this._handlers[m]}setHandlerFallback(m){this._handlerFb=m}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let m=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;m>=0;--m)this._active[m].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].start();else this._handlerFb(this._id,"START")}_put(m,g,w){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(m,g,w);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(m,g,w))}start(){this.reset(),this._state=1}put(m,g,w){if(this._state!==3){if(this._state===1)for(;g<w;){const f=m[g++];if(f===59){this._state=2,this._start();break}if(f<48||57<f)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+f-48}this._state===2&&w-g>0&&this._put(m,g,w)}}end(m,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let w=!1,f=this._active.length-1,n=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,w=g,n=this._stack.fallThrough,this._stack.paused=!1),!n&&w===!1){for(;f>=0&&(w=this._active[f].end(m),w!==!0);f--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,w;f--}for(;f>=0;f--)if(w=this._active[f].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",m);this._active=h,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(m){this._handler=m,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(m,g,w){this._hitLimit||(this._data+=(0,v.utf32ToString)(m,g,w),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(m){let g=!1;if(this._hitLimit)g=!1;else if(m&&(g=this._handler(this._data),g instanceof Promise))return g.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,g}}},8742:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const c=2147483647;class d{static fromArray(h){const m=new d;if(!h.length)return m;for(let g=Array.isArray(h[0])?1:0;g<h.length;++g){const w=h[g];if(Array.isArray(w))for(let f=0;f<w.length;++f)m.addSubParam(w[f]);else m.addParam(w)}return m}constructor(h=32,m=32){if(this.maxLength=h,this.maxSubParamsLength=m,m>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(m),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new d(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let m=0;m<this.length;++m){h.push(this.params[m]);const g=this._subParamsIdx[m]>>8,w=255&this._subParamsIdx[m];w-g>0&&h.push(Array.prototype.slice.call(this._subParams,g,w))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>c?c:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>c?c:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const m=this._subParamsIdx[h]>>8,g=255&this._subParamsIdx[h];return g-m>0?this._subParams.subarray(m,g):null}getSubParamsAll(){const h={};for(let m=0;m<this.length;++m){const g=this._subParamsIdx[m]>>8,w=255&this._subParamsIdx[m];w-g>0&&(h[m]=this._subParams.slice(g,w))}return h}addDigit(h){let m;if(this._rejectDigits||!(m=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,w=g[m-1];g[m-1]=~w?Math.min(10*w+h,c):h}}l.Params=d},5741:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,d){const v={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(v),d.dispose=()=>this._wrappedAddonDispose(v),d.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let d=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===c){d=v;break}if(d===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(d,1)}}},8771:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const d=c(3785),v=c(511);l.BufferApiView=class{constructor(h,m){this._buffer=h,this.type=m}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const m=this._buffer.lines.get(h);if(m)return new d.BufferLineApiView(m)}getNullCell(){return new v.CellData}}},3785:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const d=c(511);l.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,h){if(!(v<0||v>=this._line.length))return h?(this._line.loadCell(v,h),h):this._line.loadCell(v,new d.CellData)}translateToString(v,h,m){return this._line.translateToString(v,h,m)}}},8285:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const d=c(8771),v=c(8460),h=c(844);class m extends h.Disposable{constructor(w){super(),this._core=w,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new d.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new d.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=m},7975:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,d){return this._core.registerCsiHandler(c,v=>d(v.toArray()))}addCsiHandler(c,d){return this.registerCsiHandler(c,d)}registerDcsHandler(c,d){return this._core.registerDcsHandler(c,(v,h)=>d(v,h.toArray()))}addDcsHandler(c,d){return this.registerDcsHandler(c,d)}registerEscHandler(c,d){return this._core.registerEscHandler(c,d)}addEscHandler(c,d){return this.registerEscHandler(c,d)}registerOscHandler(c,d){return this._core.registerOscHandler(c,d)}addOscHandler(c,d){return this.registerOscHandler(c,d)}}},7090:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(M,l,c){var d=this&&this.__decorate||function(n,a,s,o){var p,C=arguments.length,x=C<3?a:o===null?o=Object.getOwnPropertyDescriptor(a,s):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(n,a,s,o);else for(var E=n.length-1;E>=0;E--)(p=n[E])&&(x=(C<3?p(x):C>3?p(a,s,x):p(a,s))||x);return C>3&&x&&Object.defineProperty(a,s,x),x},v=this&&this.__param||function(n,a){return function(s,o){a(s,o,n)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const h=c(8460),m=c(844),g=c(5295),w=c(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let f=l.BufferService=class extends m.Disposable{get buffer(){return this.buffers.active}constructor(n){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(n.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(n.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(n,this))}resize(n,a){this.cols=n,this.rows=a,this.buffers.resize(n,a),this._onResize.fire({cols:n,rows:a})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(n,a=!1){const s=this.buffer;let o;o=this._cachedBlankLine,o&&o.length===this.cols&&o.getFg(0)===n.fg&&o.getBg(0)===n.bg||(o=s.getBlankLine(n,a),this._cachedBlankLine=o),o.isWrapped=a;const p=s.ybase+s.scrollTop,C=s.ybase+s.scrollBottom;if(s.scrollTop===0){const x=s.lines.isFull;C===s.lines.length-1?x?s.lines.recycle().copyFrom(o):s.lines.push(o.clone()):s.lines.splice(C+1,0,o.clone()),x?this.isUserScrolling&&(s.ydisp=Math.max(s.ydisp-1,0)):(s.ybase++,this.isUserScrolling||s.ydisp++)}else{const x=C-p+1;s.lines.shiftElements(p+1,x-1,-1),s.lines.set(C,o.clone())}this.isUserScrolling||(s.ydisp=s.ybase),this._onScroll.fire(s.ydisp)}scrollLines(n,a,s){const o=this.buffer;if(n<0){if(o.ydisp===0)return;this.isUserScrolling=!0}else n+o.ydisp>=o.ybase&&(this.isUserScrolling=!1);const p=o.ydisp;o.ydisp=Math.max(Math.min(o.ydisp+n,o.ybase),0),p!==o.ydisp&&(a||this._onScroll.fire(o.ydisp))}};l.BufferService=f=d([v(0,w.IOptionsService)],f)},7994:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,d){this._charsets[c]=d,this.glevel===c&&(this.charset=d)}}},1753:function(M,l,c){var d=this&&this.__decorate||function(o,p,C,x){var E,y=arguments.length,R=y<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,C):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(o,p,C,x);else for(var H=o.length-1;H>=0;H--)(E=o[H])&&(R=(y<3?E(R):y>3?E(p,C,R):E(p,C))||R);return y>3&&R&&Object.defineProperty(p,C,R),R},v=this&&this.__param||function(o,p){return function(C,x){p(C,x,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const h=c(2585),m=c(8460),g=c(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:o=>o.button!==4&&o.action===1&&(o.ctrl=!1,o.alt=!1,o.shift=!1,!0)},VT200:{events:19,restrict:o=>o.action!==32},DRAG:{events:23,restrict:o=>o.action!==32||o.button!==3},ANY:{events:31,restrict:o=>!0}};function f(o,p){let C=(o.ctrl?16:0)|(o.shift?4:0)|(o.alt?8:0);return o.button===4?(C|=64,C|=o.action):(C|=3&o.button,4&o.button&&(C|=64),8&o.button&&(C|=128),o.action===32?C|=32:o.action!==0||p||(C|=3)),C}const n=String.fromCharCode,a={DEFAULT:o=>{const p=[f(o,!1)+32,o.col+32,o.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1B[M${n(p[0])}${n(p[1])}${n(p[2])}`},SGR:o=>{const p=o.action===0&&o.button!==4?"m":"M";return`\x1B[<${f(o,!0)};${o.col};${o.row}${p}`},SGR_PIXELS:o=>{const p=o.action===0&&o.button!==4?"m":"M";return`\x1B[<${f(o,!0)};${o.x};${o.y}${p}`}};let s=l.CoreMouseService=class extends g.Disposable{constructor(o,p){super(),this._bufferService=o,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new m.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const C of Object.keys(w))this.addProtocol(C,w[C]);for(const C of Object.keys(a))this.addEncoding(C,a[C]);this.reset()}addProtocol(o,p){this._protocols[o]=p}addEncoding(o,p){this._encodings[o]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(o){if(!this._protocols[o])throw new Error(`unknown protocol "${o}"`);this._activeProtocol=o,this._onProtocolChange.fire(this._protocols[o].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(o){if(!this._encodings[o])throw new Error(`unknown encoding "${o}"`);this._activeEncoding=o}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(o){if(o.col<0||o.col>=this._bufferService.cols||o.row<0||o.row>=this._bufferService.rows||o.button===4&&o.action===32||o.button===3&&o.action!==32||o.button!==4&&(o.action===2||o.action===3)||(o.col++,o.row++,o.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,o,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(o))return!1;const p=this._encodings[this._activeEncoding](o);return p&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=o,!0}explainEvents(o){return{down:!!(1&o),up:!!(2&o),drag:!!(4&o),move:!!(8&o),wheel:!!(16&o)}}_equalEvents(o,p,C){if(C){if(o.x!==p.x||o.y!==p.y)return!1}else if(o.col!==p.col||o.row!==p.row)return!1;return o.button===p.button&&o.action===p.action&&o.ctrl===p.ctrl&&o.alt===p.alt&&o.shift===p.shift}};l.CoreMouseService=s=d([v(0,h.IBufferService),v(1,h.ICoreService)],s)},6975:function(M,l,c){var d=this&&this.__decorate||function(s,o,p,C){var x,E=arguments.length,y=E<3?o:C===null?C=Object.getOwnPropertyDescriptor(o,p):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,o,p,C);else for(var R=s.length-1;R>=0;R--)(x=s[R])&&(y=(E<3?x(y):E>3?x(o,p,y):x(o,p))||y);return E>3&&y&&Object.defineProperty(o,p,y),y},v=this&&this.__param||function(s,o){return function(p,C){o(p,C,s)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const h=c(1439),m=c(8460),g=c(844),w=c(2585),f=Object.freeze({insertMode:!1}),n=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let a=l.CoreService=class extends g.Disposable{constructor(s,o,p){super(),this._bufferService=s,this._logService=o,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new m.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new m.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(f),this.decPrivateModes=(0,h.clone)(n)}reset(){this.modes=(0,h.clone)(f),this.decPrivateModes=(0,h.clone)(n)}triggerDataEvent(s,o=!1){if(this._optionsService.rawOptions.disableStdin)return;const p=this._bufferService.buffer;o&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),o&&this._onUserInput.fire(),this._logService.debug(`sending data "${s}"`,()=>s.split("").map(C=>C.charCodeAt(0))),this._onData.fire(s)}triggerBinaryEvent(s){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${s}"`,()=>s.split("").map(o=>o.charCodeAt(0))),this._onBinary.fire(s))}};l.CoreService=a=d([v(0,w.IBufferService),v(1,w.ILogService),v(2,w.IOptionsService)],a)},9074:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const d=c(8055),v=c(8460),h=c(844),m=c(6106);let g=0,w=0;class f extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new m.SortedList(s=>s==null?void 0:s.marker.line),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(s){if(s.marker.isDisposed)return;const o=new n(s);if(o){const p=o.marker.onDispose(()=>o.dispose());o.onDispose(()=>{o&&(this._decorations.delete(o)&&this._onDecorationRemoved.fire(o),p.dispose())}),this._decorations.insert(o),this._onDecorationRegistered.fire(o)}return o}reset(){for(const s of this._decorations.values())s.dispose();this._decorations.clear()}*getDecorationsAtCell(s,o,p){let C=0,x=0;for(const E of this._decorations.getKeyIterator(o))C=E.options.x??0,x=C+(E.options.width??1),s>=C&&s<x&&(!p||(E.options.layer??"bottom")===p)&&(yield E)}forEachDecorationAtCell(s,o,p,C){this._decorations.forEachByKey(o,x=>{g=x.options.x??0,w=g+(x.options.width??1),s>=g&&s<w&&(!p||(x.options.layer??"bottom")===p)&&C(x)})}}l.DecorationService=f;class n extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=d.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=d.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(s){super(),this.options=s,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=s.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const d=c(2585),v=c(8343);class h{constructor(...g){this._entries=new Map;for(const[w,f]of g)this.set(w,f)}set(g,w){const f=this._entries.get(g);return this._entries.set(g,w),f}forEach(g){for(const[w,f]of this._entries.entries())g(w,f)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}l.ServiceCollection=h,l.InstantiationService=class{constructor(){this._services=new h,this._services.set(d.IInstantiationService,this)}setService(m,g){this._services.set(m,g)}getService(m){return this._services.get(m)}createInstance(m,...g){const w=(0,v.getServiceDependencies)(m).sort((a,s)=>a.index-s.index),f=[];for(const a of w){const s=this._services.get(a.id);if(!s)throw new Error(`[createInstance] ${m.name} depends on UNKNOWN service ${a.id}.`);f.push(s)}const n=w.length>0?w[0].index:g.length;if(g.length!==n)throw new Error(`[createInstance] First service dependency of ${m.name} at position ${n+1} conflicts with ${g.length} static arguments`);return new m(...g,...f)}}},7866:function(M,l,c){var d=this&&this.__decorate||function(n,a,s,o){var p,C=arguments.length,x=C<3?a:o===null?o=Object.getOwnPropertyDescriptor(a,s):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(n,a,s,o);else for(var E=n.length-1;E>=0;E--)(p=n[E])&&(x=(C<3?p(x):C>3?p(a,s,x):p(a,s))||x);return C>3&&x&&Object.defineProperty(a,s,x),x},v=this&&this.__param||function(n,a){return function(s,o){a(s,o,n)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const h=c(844),m=c(2585),g={trace:m.LogLevelEnum.TRACE,debug:m.LogLevelEnum.DEBUG,info:m.LogLevelEnum.INFO,warn:m.LogLevelEnum.WARN,error:m.LogLevelEnum.ERROR,off:m.LogLevelEnum.OFF};let w,f=l.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(n){super(),this._optionsService=n,this._logLevel=m.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),w=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(n){for(let a=0;a<n.length;a++)typeof n[a]=="function"&&(n[a]=n[a]())}_log(n,a,s){this._evalLazyOptionalParams(s),n.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+a,...s)}trace(n,...a){var s;this._logLevel<=m.LogLevelEnum.TRACE&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.trace.bind(this._optionsService.options.logger))??console.log,n,a)}debug(n,...a){var s;this._logLevel<=m.LogLevelEnum.DEBUG&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.debug.bind(this._optionsService.options.logger))??console.log,n,a)}info(n,...a){var s;this._logLevel<=m.LogLevelEnum.INFO&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.info.bind(this._optionsService.options.logger))??console.info,n,a)}warn(n,...a){var s;this._logLevel<=m.LogLevelEnum.WARN&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.warn.bind(this._optionsService.options.logger))??console.warn,n,a)}error(n,...a){var s;this._logLevel<=m.LogLevelEnum.ERROR&&this._log(((s=this._optionsService.options.logger)==null?void 0:s.error.bind(this._optionsService.options.logger))??console.error,n,a)}};l.LogService=f=d([v(0,m.IOptionsService)],f),l.setTraceLogger=function(n){w=n},l.traceCall=function(n,a,s){if(typeof s.value!="function")throw new Error("not supported");const o=s.value;s.value=function(...p){if(w.logLevel!==m.LogLevelEnum.TRACE)return o.apply(this,p);w.trace(`GlyphRenderer#${o.name}(${p.map(x=>JSON.stringify(x)).join(", ")})`);const C=o.apply(this,p);return w.trace(`GlyphRenderer#${o.name} return`,C),C}}},7302:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const d=c(8460),v=c(844),h=c(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const m=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends v.Disposable{constructor(f){super(),this._onOptionChange=this.register(new d.EventEmitter),this.onOptionChange=this._onOptionChange.event;const n={...l.DEFAULT_OPTIONS};for(const a in f)if(a in n)try{const s=f[a];n[a]=this._sanitizeAndValidateOption(a,s)}catch(s){console.error(s)}this.rawOptions=n,this.options={...n},this._setupOptions(),this.register((0,v.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(f,n){return this.onOptionChange(a=>{a===f&&n(this.rawOptions[f])})}onMultipleOptionChange(f,n){return this.onOptionChange(a=>{f.indexOf(a)!==-1&&n()})}_setupOptions(){const f=a=>{if(!(a in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${a}"`);return this.rawOptions[a]},n=(a,s)=>{if(!(a in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${a}"`);s=this._sanitizeAndValidateOption(a,s),this.rawOptions[a]!==s&&(this.rawOptions[a]=s,this._onOptionChange.fire(a))};for(const a in this.rawOptions){const s={get:f.bind(this,a),set:n.bind(this,a)};Object.defineProperty(this.options,a,s)}}_sanitizeAndValidateOption(f,n){switch(f){case"cursorStyle":if(n||(n=l.DEFAULT_OPTIONS[f]),!function(a){return a==="block"||a==="underline"||a==="bar"}(n))throw new Error(`"${n}" is not a valid value for ${f}`);break;case"wordSeparator":n||(n=l.DEFAULT_OPTIONS[f]);break;case"fontWeight":case"fontWeightBold":if(typeof n=="number"&&1<=n&&n<=1e3)break;n=m.includes(n)?n:l.DEFAULT_OPTIONS[f];break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw new Error(`${f} cannot be less than 1, value: ${n}`);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,4294967295))<0)throw new Error(`${f} cannot be less than 0, value: ${n}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw new Error(`${f} cannot be less than or equal to 0, value: ${n}`);break;case"rows":case"cols":if(!n&&n!==0)throw new Error(`${f} must be numeric, value: ${n}`);break;case"windowsPty":n=n??{}}return n}}l.OptionsService=g},2660:function(M,l,c){var d=this&&this.__decorate||function(g,w,f,n){var a,s=arguments.length,o=s<3?w:n===null?n=Object.getOwnPropertyDescriptor(w,f):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(g,w,f,n);else for(var p=g.length-1;p>=0;p--)(a=g[p])&&(o=(s<3?a(o):s>3?a(w,f,o):a(w,f))||o);return s>3&&o&&Object.defineProperty(w,f,o),o},v=this&&this.__param||function(g,w){return function(f,n){w(f,n,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const h=c(2585);let m=l.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const w=this._bufferService.buffer;if(g.id===void 0){const p=w.addMarker(w.ybase+w.y),C={data:g,id:this._nextId++,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(C,p)),this._dataByLinkId.set(C.id,C),C.id}const f=g,n=this._getEntryIdKey(f),a=this._entriesWithId.get(n);if(a)return this.addLineToLink(a.id,w.ybase+w.y),a.id;const s=w.addMarker(w.ybase+w.y),o={id:this._nextId++,key:this._getEntryIdKey(f),data:f,lines:[s]};return s.onDispose(()=>this._removeMarkerFromLink(o,s)),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(g,w){const f=this._dataByLinkId.get(g);if(f&&f.lines.every(n=>n.line!==w)){const n=this._bufferService.buffer.addMarker(w);f.lines.push(n),n.onDispose(()=>this._removeMarkerFromLink(f,n))}}getLinkData(g){var w;return(w=this._dataByLinkId.get(g))==null?void 0:w.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,w){const f=g.lines.indexOf(w);f!==-1&&(g.lines.splice(f,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};l.OscLinkService=m=d([v(0,h.IBufferService)],m)},8343:(M,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const c="di$target",d="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(v){return v[d]||[]},l.createDecorator=function(v){if(l.serviceRegistry.has(v))return l.serviceRegistry.get(v);const h=function(m,g,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(f,n,a){n[c]===n?n[d].push({id:f,index:a}):(n[d]=[{id:f,index:a}],n[c]=n)})(h,m,w)};return h.toString=()=>v,l.serviceRegistry.set(v,h),h}},2585:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const d=c(8343);var v;l.IBufferService=(0,d.createDecorator)("BufferService"),l.ICoreMouseService=(0,d.createDecorator)("CoreMouseService"),l.ICoreService=(0,d.createDecorator)("CoreService"),l.ICharsetService=(0,d.createDecorator)("CharsetService"),l.IInstantiationService=(0,d.createDecorator)("InstantiationService"),function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"}(v||(l.LogLevelEnum=v={})),l.ILogService=(0,d.createDecorator)("LogService"),l.IOptionsService=(0,d.createDecorator)("OptionsService"),l.IOscLinkService=(0,d.createDecorator)("OscLinkService"),l.IUnicodeService=(0,d.createDecorator)("UnicodeService"),l.IDecorationService=(0,d.createDecorator)("DecorationService")},1480:(M,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const d=c(8460),v=c(225);class h{static extractShouldJoin(g){return(1&g)!=0}static extractWidth(g){return g>>1&3}static extractCharKind(g){return g>>3}static createPropertyValue(g,w,f=!1){return(16777215&g)<<3|(3&w)<<1|(f?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new d.EventEmitter,this.onChange=this._onChange.event;const g=new v.UnicodeV6;this.register(g),this._active=g.version,this._activeProvider=g}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(g){if(!this._providers[g])throw new Error(`unknown Unicode version "${g}"`);this._active=g,this._activeProvider=this._providers[g],this._onChange.fire(g)}register(g){this._providers[g.version]=g}wcwidth(g){return this._activeProvider.wcwidth(g)}getStringCellWidth(g){let w=0,f=0;const n=g.length;for(let a=0;a<n;++a){let s=g.charCodeAt(a);if(55296<=s&&s<=56319){if(++a>=n)return w+this.wcwidth(s);const C=g.charCodeAt(a);56320<=C&&C<=57343?s=1024*(s-55296)+C-56320+65536:w+=this.wcwidth(C)}const o=this.charProperties(s,f);let p=h.extractWidth(o);h.extractShouldJoin(o)&&(p-=h.extractWidth(f)),w+=p,f=o}return w}charProperties(g,w){return this._activeProvider.charProperties(g,w)}}l.UnicodeService=h}},F={};function B(M){var l=F[M];if(l!==void 0)return l.exports;var c=F[M]={exports:{}};return D[M].call(c.exports,c,c.exports,B),c.exports}var W={};return(()=>{var M=W;Object.defineProperty(M,"__esModule",{value:!0}),M.Terminal=void 0;const l=B(9042),c=B(3236),d=B(844),v=B(5741),h=B(8285),m=B(7975),g=B(7090),w=["cols","rows"];class f extends d.Disposable{constructor(a){super(),this._core=this.register(new c.Terminal(a)),this._addonManager=this.register(new v.AddonManager),this._publicOptions={...this._core.options};const s=p=>this._core.options[p],o=(p,C)=>{this._checkReadonlyOptions(p),this._core.options[p]=C};for(const p in this._core.options){const C={get:s.bind(this,p),set:o.bind(this,p)};Object.defineProperty(this._publicOptions,p,C)}}_checkReadonlyOptions(a){if(w.includes(a))throw new Error(`Option "${a}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new m.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const a=this._core.coreService.decPrivateModes;let s="none";switch(this._core.coreMouseService.activeProtocol){case"X10":s="x10";break;case"VT200":s="vt200";break;case"DRAG":s="drag";break;case"ANY":s="any"}return{applicationCursorKeysMode:a.applicationCursorKeys,applicationKeypadMode:a.applicationKeypad,bracketedPasteMode:a.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:s,originMode:a.origin,reverseWraparoundMode:a.reverseWraparound,sendFocusMode:a.sendFocus,wraparoundMode:a.wraparound}}get options(){return this._publicOptions}set options(a){for(const s in a)this._publicOptions[s]=a[s]}blur(){this._core.blur()}focus(){this._core.focus()}input(a,s=!0){this._core.input(a,s)}resize(a,s){this._verifyIntegers(a,s),this._core.resize(a,s)}open(a){this._core.open(a)}attachCustomKeyEventHandler(a){this._core.attachCustomKeyEventHandler(a)}attachCustomWheelEventHandler(a){this._core.attachCustomWheelEventHandler(a)}registerLinkProvider(a){return this._core.registerLinkProvider(a)}registerCharacterJoiner(a){return this._checkProposedApi(),this._core.registerCharacterJoiner(a)}deregisterCharacterJoiner(a){this._checkProposedApi(),this._core.deregisterCharacterJoiner(a)}registerMarker(a=0){return this._verifyIntegers(a),this._core.registerMarker(a)}registerDecoration(a){return this._checkProposedApi(),this._verifyPositiveIntegers(a.x??0,a.width??0,a.height??0),this._core.registerDecoration(a)}hasSelection(){return this._core.hasSelection()}select(a,s,o){this._verifyIntegers(a,s,o),this._core.select(a,s,o)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(a,s){this._verifyIntegers(a,s),this._core.selectLines(a,s)}dispose(){super.dispose()}scrollLines(a){this._verifyIntegers(a),this._core.scrollLines(a)}scrollPages(a){this._verifyIntegers(a),this._core.scrollPages(a)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(a){this._verifyIntegers(a),this._core.scrollToLine(a)}clear(){this._core.clear()}write(a,s){this._core.write(a,s)}writeln(a,s){this._core.write(a),this._core.write(`\r
`,s)}paste(a){this._core.paste(a)}refresh(a,s){this._verifyIntegers(a,s),this._core.refresh(a,s)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(a){this._addonManager.loadAddon(this,a)}static get strings(){return l}_verifyIntegers(...a){for(const s of a)if(s===1/0||isNaN(s)||s%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...a){for(const s of a)if(s&&(s===1/0||isNaN(s)||s%1!=0||s<0))throw new Error("This API only accepts positive integers")}}M.Terminal=f})(),W})())}(_a)),_a.exports}Zp();Object.getPrototypeOf(async function(){}).constructor;const Bu="/bitjourney/assets/image-CeNrqzaN.png",e_="/bitjourney/assets/bash-CfLfYOU1.png",t_="/bitjourney/assets/python-CXy__4tc.png",r_="/bitjourney/assets/javascript-_wTVfFQA.png",i_="/bitjourney/assets/java-yItU80K6.png",s_="/bitjourney/assets/c__-CaTChve7.png",n_="/bitjourney/assets/rust-RIHjc2rH.png",o_="/bitjourney/assets/noam-DDqlFMxr.png",a_="/bitjourney/assets/mathieu-DQlYT2Ho.png";function l_(){const[S,A]=re.useState(null),[D,F]=re.useState(null),B=["Bash","Python","JavaScript","Java","C++","Rust"],W={Bash:"Automate tasks and manage your system right from the command linelike a power user.",Python:"A beginner-friendly, high-level language beloved for data science, web apps, and more.",JavaScript:"The go-to language for creating interactive websites and dynamic web applications.",Java:"A tried-and-true language powering Android apps and countless enterprise solutions worldwide.","C++":"The powerhouse behind high-performance software, games, and system-level development.",Rust:"A modern, memory-safe language built for speed, reliability, and concurrent programming."};return re.useEffect(()=>{const M=setInterval(()=>{document.querySelectorAll(".city-glow").forEach(c=>{const d=.3+Math.random()*.3,v=20+Math.random()*15;c.style.opacity=d,c.style.filter=`blur(${v}px)`})},2e3);return()=>clearInterval(M)},[]),j.jsxs("div",{className:"relative w-full min-h-screen bg-gray-900 overflow-auto",children:[j.jsxs("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-gray-900 via-indigo-900 to-gray-900 overflow-hidden",children:[j.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gray-900 opacity-60",style:{maskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",backgroundImage:`url("data:image/svg+xml,%3Csvg width='1200' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,250 L50,240 L80,190 L110,230 L140,210 L180,180 L220,240 L270,220 L300,200 L320,230 L350,210 L380,190 L420,240 L460,200 L490,230 L520,210 L550,190 L590,220 L630,230 L660,210 L690,200 L720,240 L750,220 L790,180 L830,240 L870,210 L910,230 L940,200 L980,220 L1020,240 L1050,190 L1080,210 L1110,230 L1140,200 L1170,240 L1200,250 L1200,300 L0,300 Z' fill='%23111827'/%3E%3C/svg%3E")`}}),[...Array(15)].map((M,l)=>j.jsx("div",{className:"city-glow absolute rounded-full transition-all duration-2000",style:{width:20+Math.random()*100,height:20+Math.random()*100,top:Math.random()*100+"%",left:Math.random()*100+"%",background:`radial-gradient(circle, ${["rgba(59,130,246,0.5)","rgba(139,92,246,0.5)","rgba(6,182,212,0.5)","rgba(16,185,129,0.5)"][Math.floor(Math.random()*4)]} 0%, transparent 70%)`,opacity:.3+Math.random()*.3,filter:`blur(${20+Math.random()*15}px)`}},`citylight-${l}`)),j.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
               linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px),
               linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px)
             `,backgroundSize:"80px 80px",opacity:.5}})]}),j.jsx("header",{className:"sticky top-0 z-50 bg-gray-900 bg-opacity-80 backdrop-filter backdrop-blur-md border-b border-cyan-500/30",children:j.jsx("div",{className:"w-full max-w-6xl mx-auto px-6 py-4",children:j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-md shadow-lg shadow-cyan-500/30",children:j.jsx("img",{src:Bu,alt:"BitJourney logo",className:"w-8 h-8 rounded-full"})}),j.jsxs("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:[j.jsx("span",{className:"font-extrabold",children:"BIT"}),j.jsx("span",{className:"text-xl ml-1 font-light",children:"JOURNEY"})]})]}),j.jsx("nav",{className:"flex items-center",children:j.jsx("ul",{className:"flex gap-8 text-sm font-medium",children:["Home","About","Courses"].map(M=>j.jsx("li",{children:j.jsxs(Gi,{to:`/${M.toLowerCase()==="home"?"":M.toLowerCase()}`,className:"text-gray-300 hover:text-cyan-400 transition-colors duration-300 flex items-center gap-2 py-2",children:[j.jsx("span",{className:"w-1 h-1 rounded-full bg-cyan-500"}),M]})},M))})})]})})}),j.jsxs("main",{className:"relative z-10 pt-8 pb-20 px-4",children:[j.jsxs("section",{className:"relative max-w-6xl mx-auto mb-16 flex flex-col items-center justify-center text-center pt-8",children:[j.jsxs("div",{className:"relative",children:[j.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 blur-lg opacity-30 animate-pulse"}),j.jsx("img",{src:Bu,alt:"BitJourney logo",className:"relative w-32 h-32 md:w-40 md:h-40 rounded-full border-2 border-cyan-500/50 p-1"})]}),j.jsx("h2",{className:"mt-6 text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-blue-500 tracking-tight",children:"BitJourney"}),j.jsxs("h3",{className:"mt-2 text-xl md:text-2xl text-gray-300 font-medium",children:["The top ",j.jsx("span",{className:"text-cyan-400 font-bold",children:"1"})," coding learning app"]}),j.jsx("p",{className:"mt-6 max-w-2xl text-gray-300 text-lg",children:"Explore the digital frontier through immersive coding challenges that teach you real-world skills. Your adventure in programming starts here."}),j.jsxs(Gi,{to:"/courses",className:"mt-8 inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-8 py-3 rounded-md text-lg font-medium hover:from-blue-500 hover:to-cyan-500 transition-all duration-300 shadow-lg shadow-blue-900/30 border border-blue-700/50",children:[j.jsx("span",{children:"Launch Your Journey"}),j.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})]}),j.jsx("div",{className:"absolute top-0 -left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl"}),j.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-cyan-500/10 rounded-full blur-3xl"})]}),j.jsxs("section",{className:"max-w-6xl mx-auto mb-24 px-4",children:[j.jsxs("div",{className:"text-center mb-12",children:[j.jsx("h4",{className:"inline-block text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 mb-4",children:"Learn Any Language You Want"}),j.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-cyan-500 to-blue-600 mx-auto rounded-full"}),j.jsx("p",{className:"mt-4 text-gray-300 max-w-xl mx-auto",children:"Choose from a variety of languages and start building your tech skills today."})]}),j.jsx("div",{className:"flex flex-nowrap items-center space-x-6 overflow-x-auto pb-8 px-4 no-scrollbar",children:B.map(M=>{const l=M==="Bash",c=S===M;return j.jsxs("div",{className:`
                    relative min-w-[280px] max-w-xs rounded-lg overflow-hidden transition-all duration-300
                    ${c?"scale-105 shadow-xl shadow-cyan-900/30":"shadow-lg shadow-gray-900/50"}
                    ${l?"border border-cyan-500/30":"border border-gray-700/30"}
                  `,onMouseEnter:()=>A(M),onMouseLeave:()=>A(null),children:[j.jsx("div",{className:`absolute inset-0 ${l?"bg-gradient-to-br from-gray-800/90 via-gray-900 to-blue-900/30":"bg-gradient-to-br from-gray-800/90 via-gray-900 to-gray-800"}`}),j.jsx("div",{className:"absolute inset-0 opacity-20",children:j.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[j.jsx("pattern",{id:`grid-${M}`,width:"40",height:"40",patternUnits:"userSpaceOnUse",children:j.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:l?"#0ea5e9":"#6b7280",strokeWidth:"0.5",opacity:"0.3"})}),j.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#grid-${M})`})]})}),l&&j.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-cyan-500/20 via-transparent to-transparent"}),j.jsxs("div",{className:"relative z-10 p-6",children:[j.jsxs("div",{className:"flex items-start space-x-4",children:[j.jsxs("div",{className:`relative flex-shrink-0 p-3 rounded-lg ${l?"bg-gradient-to-br from-blue-900/50 to-cyan-900/50":"bg-gray-800/50"}`,children:[j.jsx("img",{src:M==="Bash"?e_:M==="Python"?t_:M==="JavaScript"?r_:M==="Java"?i_:M==="C++"?s_:n_,alt:`${M} logo`,className:"w-10 h-10"}),l&&j.jsx("div",{className:"absolute inset-0 rounded-lg border border-cyan-500/30 shadow-sm shadow-cyan-500/30"})]}),j.jsxs("div",{className:"flex flex-col",children:[j.jsx("h2",{className:`text-xl font-bold mb-1 ${l?"text-cyan-400":"text-gray-300"}`,children:M}),j.jsx("p",{className:"text-sm text-gray-400 line-clamp-3",children:W[M]})]})]}),j.jsxs("div",{className:`mt-5 flex items-center justify-between ${l?"":"opacity-60"}`,children:[j.jsx("span",{className:`text-xs uppercase tracking-wide ${l?"text-cyan-400":"text-gray-500"}`,children:l?"Available Now":"Coming Soon"}),j.jsx("div",{className:"flex items-center gap-1",children:[...Array(4)].map((d,v)=>j.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${l&&v<4?"bg-cyan-400":"bg-gray-700"}`},v))})]}),j.jsx("div",{className:"mt-5",children:l?j.jsxs(Gi,{to:"/bash",className:"w-full flex items-center justify-center gap-2 py-2.5 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded border border-cyan-500/30 font-medium hover:from-blue-500 hover:to-cyan-500 transition-colors",children:["Start Learning",j.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j.jsx("path",{d:"M5 12h14M12 5l7 7-7 7",strokeLinecap:"round",strokeLinejoin:"round"})})]}):j.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-gray-800 text-gray-400 rounded border border-gray-700 font-medium cursor-not-allowed",children:["Coming Soon",j.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j.jsx("path",{d:"M12 15V3M12 15l-4-4M12 15l4-4",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),!l&&j.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-gray-800 border border-gray-700 text-gray-400",children:j.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:j.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v4H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm1 15.06c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM14 10h-4V7c0-1.1.9-2 2-2s2 .9 2 2v3z"})})})]},M)})})]}),j.jsxs("section",{className:"max-w-6xl mx-auto mb-24 px-4",children:[j.jsxs("div",{className:"text-center mb-12",children:[j.jsx("h4",{className:"inline-block text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-4",children:"Learn from the Best"}),j.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-purple-500 to-pink-600 mx-auto rounded-full"}),j.jsx("p",{className:"mt-4 text-gray-300 max-w-xl mx-auto",children:"Our courses are taught by elite instructors who will guide you through your coding journey."})]}),j.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:[{name:"Noam Favier",image:o_,role:"Bash & System Architecture",focus:"System Automation"},{name:"Mathieu Kircher",image:a_,role:"Algorithm Design",focus:"Performance Optimization"}].map(M=>j.jsxs("div",{className:`
                  relative w-64 transition-all duration-300 rounded-xl overflow-hidden
                  ${D===M.name?"scale-105 shadow-xl shadow-purple-900/30":"shadow-lg shadow-gray-900/50"}
                `,onMouseEnter:()=>F(M.name),onMouseLeave:()=>F(null),children:[j.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-800 via-gray-900 to-purple-900/30"}),j.jsx("div",{className:"absolute inset-0 opacity-20",children:j.jsxs("svg",{width:"100%",height:"100%",children:[j.jsx("pattern",{id:`grid-teacher-${M.name}`,width:"20",height:"20",patternUnits:"userSpaceOnUse",children:j.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#a855f7",strokeWidth:"0.5",opacity:"0.3"})}),j.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#grid-teacher-${M.name})`})]})}),j.jsxs("div",{className:"relative z-10 p-6 flex flex-col items-center",children:[j.jsxs("div",{className:"relative mb-4",children:[j.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 blur-md opacity-40"}),j.jsx("img",{src:M.image,alt:M.name,className:"relative w-24 h-24 rounded-full border-2 border-purple-500/30 p-1"}),j.jsx("div",{className:"absolute inset-0 pointer-events-none",children:j.jsx("div",{className:"w-full h-full rounded-full border-2 border-dashed border-purple-500/20 animate-spin",style:{animationDuration:"15s"}})})]}),j.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:M.name}),j.jsx("p",{className:"text-sm text-purple-300 mb-3",children:M.role}),j.jsxs("div",{className:"w-full mt-2 grid grid-cols-2 gap-2 text-center",children:[j.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-purple-500/20",children:[j.jsx("p",{className:"text-xs text-gray-400",children:"Specialty"}),j.jsx("p",{className:"text-sm text-purple-300 font-medium",children:M.focus})]}),j.jsxs("div",{className:"bg-gray-800/50 rounded p-2 border border-purple-500/20",children:[j.jsx("p",{className:"text-xs text-gray-400",children:"Rating"}),j.jsx("div",{className:"flex items-center justify-center gap-1 mt-1",children:[...Array(5)].map((l,c)=>j.jsx("svg",{className:"w-3 h-3 text-purple-400",viewBox:"0 0 20 20",fill:"currentColor",children:j.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},c))})]})]})]})]},M.name))})]})]})]})}const ch=re.createContext();function uh(){return re.useContext(ch)}function c_(){const[S,A]=re.useState(null),{currentLevel:D,setCurrentLevel:F}=uh(),B=ba(),W=["Crash Landing","First Contact","City Navigation","Security Breach","Data Retrieval","Power Systems","Communication Array","Stealth Operations","AI Negotiation","Resource Collection","Transport Systems","Firewall Bypass","System Override","Restricted Zone","Rocket Location","Security Bypass","Fuel Synthesis","Launch Preparation","Final Countdown","Escape"],M=["Your spacecraft has crash-landed on NEXUS-9, a highly advanced technological planet. To return to your rocket and escape, you must navigate through the city's systems using BASH commands. Each challenge you overcome brings you closer to freedom. Good luck, Commander.","You have made first contact with the city's inhabitants. They are willing to help you, but only if you can prove your worth. Navigate through the city's urban edge to reach the city entrance.","The city's systems are complex and interconnected. Use your BASH skills to navigate through the first district and reach the central plaza.","Security measures have been triggered. You must bypass security protocols and gain deeper access to the city's restricted zones.","Critical information about the city's infrastructure is stored in secure data vaults. Extract this data to advance.","The city's power grid is unstable. Restore the energy systems using advanced shell commands.","Communication systems are heavily encrypted. Decipher and establish a secure link to communicate with potential allies.","Security drones are patrolling the area. Use stealth and redirection techniques to avoid detection.","An AI overlord governs the city. Engage in negotiations, convincing the AI to grant you access to deeper levels.","Resources are scarce, and you need vital supplies to proceed. Collect and manage resources strategically.","You must gain control of transport systems to move swiftly through the city and avoid obstacles.","The city's firewalls are blocking further progress. Use advanced scripting techniques to bypass digital barriers.","You need full system control. Override critical processes and take command of city operations.","You've entered a restricted zone filled with high-level encryption and security traps. Navigate safely and find a way out.","Your rockets last known location is deep within the city's most fortified sector. Locate and secure it before its too late.","Final security barriers stand between you and the launch site. Use all your skills to bypass them.","Fuel synthesis is needed for liftoff. Access chemical processing units and optimize fuel production.","Prepare your ship for launch by ensuring all systems are functional and secure.","The final countdown begins. Time is running outexecute the last set of commands to initiate the launch sequence.","Mission complete! Your rocket is airborne, and you have successfully escaped NEXUS-9. Congratulations, Commander!"],l=Array.from({length:20},(g,w)=>({number:w+1,name:W[w],completed:w<D-1,current:w===D-1,locked:w>D,bashSkill:u_(w+1)})),d=[{x:150,y:220},{x:320,y:180},{x:480,y:260},{x:620,y:180},{x:780,y:240},{x:880,y:340},{x:780,y:420},{x:620,y:480},{x:460,y:410},{x:340,y:500},{x:220,y:580},{x:350,y:660},{x:520,y:620},{x:680,y:680},{x:820,y:600},{x:950,y:540},{x:1050,y:460},{x:1150,y:380},{x:1220,y:280},{x:1350,y:220}],v=Math.max(...d.map(g=>g.x))+200,h=Math.max(...d.map(g=>g.y))+120,m=(g,w,f)=>{const n=w.x-g.x,a=w.y-g.y,s=g.x+n/2,o=g.y+a/2,p=-a*.3,C=n*.3;return`M ${g.x},${g.y} 
            Q ${s+p},${o+C} ${w.x},${w.y}`};return re.useEffect(()=>{const g=setInterval(()=>{document.querySelectorAll(".city-glow").forEach(f=>{const n=.3+Math.random()*.3,a=20+Math.random()*15;f.style.opacity=n,f.style.filter=`blur(${a}px)`})},2e3);return()=>clearInterval(g)},[]),j.jsxs("div",{className:"relative w-full h-screen bg-gray-900 overflow-auto",children:[j.jsxs("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-gray-900 via-indigo-900 to-gray-900 overflow-hidden",children:[j.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gray-900 opacity-60",style:{maskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0))",backgroundImage:`url("data:image/svg+xml,%3Csvg width='1200' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,250 L50,240 L80,190 L110,230 L140,210 L180,180 L220,240 L270,220 L300,200 L320,230 L350,210 L380,190 L420,240 L460,200 L490,230 L520,210 L550,190 L590,220 L630,230 L660,210 L690,200 L720,240 L750,220 L790,180 L830,240 L870,210 L910,230 L940,200 L980,220 L1020,240 L1050,190 L1080,210 L1110,230 L1140,200 L1170,240 L1200,250 L1200,300 L0,300 Z' fill='%23111827'/%3E%3C/svg%3E")`}}),[...Array(15)].map((g,w)=>j.jsx("div",{className:"city-glow absolute rounded-full transition-all duration-2000",style:{width:20+Math.random()*100,height:20+Math.random()*100,top:Math.random()*h*.8,left:Math.random()*v,background:`radial-gradient(circle, ${["rgba(59,130,246,0.5)","rgba(139,92,246,0.5)","rgba(6,182,212,0.5)","rgba(16,185,129,0.5)"][Math.floor(Math.random()*4)]} 0%, transparent 70%)`,opacity:.3+Math.random()*.3,filter:`blur(${20+Math.random()*15}px)`}},`citylight-${w}`)),j.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
                 linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px),
                 linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px)
               `,backgroundSize:"80px 80px",opacity:.5}})]}),j.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900 bg-opacity-80 backdrop-filter backdrop-blur-md border-b border-cyan-500/30",children:j.jsx("div",{className:"w-full max-w-6xl mx-auto px-6 py-4",children:j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-md shadow-lg shadow-cyan-500/30",children:j.jsxs("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[j.jsx("path",{d:"M19 9l-7 7-7-7",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M5 15V5h14v10",strokeLinecap:"round",strokeLinejoin:"round"})]})}),j.jsxs("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:[j.jsx("span",{className:"font-extrabold",children:"BASH"}),j.jsx("span",{className:"text-xl ml-1 font-light",children:"ESCAPE"})]})]}),j.jsx("div",{className:"flex items-center gap-6",children:j.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 px-4 py-2 rounded-md border border-gray-700",children:[j.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-1 rounded-md",children:j.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:j.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})})}),j.jsxs("span",{className:"text-white text-xs font-medium",children:["MISSION PROGRESS:"," ",j.jsxs("span",{className:"font-mono text-cyan-400",children:[Math.round((D-1)/20*100),"%"]})]})]})})]})})}),j.jsxs("div",{className:"sticky top-24 left-1/2 transform -translate-x-1/2 max-w-2xl w-full mx-auto px-6 py-4 mb-16 bg-gray-800/80 backdrop-filter backdrop-blur-md rounded-lg border border-cyan-500/30 shadow-xl shadow-cyan-900/20 z-40",children:[j.jsx("h2",{className:"text-lg font-bold text-cyan-400 mb-2",children:"MISSION BRIEFING"}),j.jsx("p",{className:"text-gray-200 leading-relaxed",children:M[D-1]})]}),j.jsxs("div",{className:"relative pt-40 pb-16 min-h-screen",style:{width:v,minHeight:h},children:[j.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none z-10",width:v,height:h,children:[[...Array(30)].map((g,w)=>{const f=Math.random()*v,n=Math.random()*h,a=2+Math.random()*4;return j.jsx("circle",{cx:f,cy:n,r:a,fill:["#0ea5e9","#6366f1","#10b981","#f59e0b"][Math.floor(Math.random()*4)],opacity:.4+Math.random()*.4},`tech-dot-${w}`)}),d.map((g,w)=>{if(w===d.length-1)return null;const f=d[w+1],n=l[w].completed,a=l[w].completed&&l[w+1].current,s=m(g,f);let o="url(#lockedGradient)",p=4,C="",x="";return n||a?(o="url(#completedGradient)",a&&(C="0.5 12",x="activePath 4s linear infinite")):l[w].current&&(o="url(#currentGradient)",C="0.5 12",x="currentPath 4s linear infinite"),j.jsxs("g",{children:[j.jsx("path",{d:s,stroke:o,strokeWidth:p,strokeLinecap:"round",strokeDasharray:C,fill:"none",style:{animation:x}}),(n||a)&&j.jsx("path",{d:s,stroke:a?"#0ea5e9":"#10b981",strokeWidth:p+4,strokeLinecap:"round",fill:"none",opacity:"0.3",filter:"blur(4px)"})]},`path-${w}`)}),j.jsxs("defs",{children:[j.jsxs("linearGradient",{id:"completedGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[j.jsx("stop",{offset:"0%",stopColor:"#10b981"}),j.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]}),j.jsxs("linearGradient",{id:"currentGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[j.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),j.jsx("stop",{offset:"100%",stopColor:"#6366f1"})]}),j.jsxs("linearGradient",{id:"lockedGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[j.jsx("stop",{offset:"0%",stopColor:"#475569",stopOpacity:"0.3"}),j.jsx("stop",{offset:"100%",stopColor:"#475569",stopOpacity:"0.1"})]}),j.jsx("style",{children:`
                @keyframes activePath {
                  0% { stroke-dashoffset: 24; }
                  100% { stroke-dashoffset: 0; }
                }
                @keyframes currentPath {
                  0% { stroke-dashoffset: 0; }
                  100% { stroke-dashoffset: 24; }
                }
                @keyframes pulseGlow {
                  0% { filter: drop-shadow(0 0 3px rgba(6, 182, 212, 0.7)); }
                  50% { filter: drop-shadow(0 0 10px rgba(6, 182, 212, 0.9)); }
                  100% { filter: drop-shadow(0 0 3px rgba(6, 182, 212, 0.7)); }
                }
                @keyframes orbitDot {
                  0% { transform: translateX(-50%) translateY(-50%) rotate(0deg) translateX(24px) rotate(0deg); }
                  100% { transform: translateX(-50%) translateY(-50%) rotate(360deg) translateX(24px) rotate(-360deg); }
                }
              `})]})]}),d.map((g,w)=>{const f=l[w];let n,a,s,o,p=null;f.completed?(n="bg-gradient-to-br from-emerald-500 to-teal-600",a="border-emerald-400",s="text-white",o="w-16 h-16",p="checkmark"):f.current?(n="bg-gradient-to-br from-blue-500 to-cyan-600",a="border-blue-400",s="text-white",o="w-20 h-20"):(n="bg-gradient-to-br from-gray-700 to-gray-800",a="border-gray-600",s="text-gray-400",o="w-16 h-16",p="lock");const C=S===w;return j.jsxs("div",{className:"absolute z-20 transform transition-all duration-300 cursor-pointer",style:{top:g.y,left:g.x,transform:`translate(-50%, -50%) ${C?"scale(1.1)":"scale(1)"}`},onMouseEnter:()=>A(w),onMouseLeave:()=>A(null),onClick:()=>{f.current&&B(`/bash/${f.number}`)},children:[j.jsxs("div",{className:`relative ${C?"-translate-y-1":""} transition-transform duration-200`,children:[j.jsx("div",{className:"absolute rounded-full transition-all duration-300 opacity-70",style:{width:f.current?"100px":"80px",height:f.current?"100px":"80px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:f.current?"radial-gradient(circle, rgba(6,182,212,0.3) 0%, transparent 70%)":f.completed?"radial-gradient(circle, rgba(16,185,129,0.2) 0%, transparent 70%)":"radial-gradient(circle, rgba(71,85,105,0.1) 0%, transparent 70%)",filter:f.current?"blur(10px)":"blur(5px)",opacity:C?.9:.6}}),C&&j.jsxs("div",{className:"absolute -top-20 whitespace-nowrap bg-gray-800/90 backdrop-filter backdrop-blur-md px-4 py-3 rounded-lg shadow-xl border border-gray-700 z-999 text-center",style:{width:"220px",left:"50%",transform:"translateX(-50%)"},children:[j.jsxs("div",{className:"flex flex-col",children:[j.jsx("span",{className:`font-bold text-sm mb-1 ${f.locked?"text-gray-400":f.current?"text-cyan-400":"text-emerald-400"}`,children:f.name}),j.jsx("span",{className:"text-xs text-gray-300",children:f.locked?"Access restricted. Complete previous challenges.":f.completed?"Challenge completed! Revisit this node for practice.":`Bash Skill: ${f.bashSkill}`})]}),j.jsx("div",{className:"absolute w-3 h-3 bg-gray-800 border-t border-l border-gray-700 transform rotate-45 bottom-0 translate-y-1.5 left-1/2 -ml-1.5"})]}),j.jsxs("div",{className:`relative ${o} rounded-full flex items-center justify-center ${n} border-2 ${a} shadow-lg transition-all duration-300 overflow-hidden`,style:{boxShadow:C?`0 0 20px ${f.current?"rgba(6,182,212,0.5)":f.completed?"rgba(16,185,129,0.5)":"rgba(71,85,105,0.3)"}`:`0 0 10px ${f.current?"rgba(6,182,212,0.3)":f.completed?"rgba(16,185,129,0.3)":"rgba(71,85,105,0.1)"}`,...f.current&&{animation:"pulseGlow 2s ease-in-out infinite"}},children:[j.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:j.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",fill:"none",children:[j.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"white",strokeWidth:"0.5",strokeDasharray:"1 4"}),j.jsx("circle",{cx:"50",cy:"50",r:"30",stroke:"white",strokeWidth:"0.5"}),j.jsx("path",{d:"M50 10 L50 20 M50 80 L50 90 M10 50 L20 50 M80 50 L90 50",stroke:"white",strokeWidth:"0.5"})]})}),f.current&&j.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[j.jsx("div",{className:"absolute top-1/2 left-1/2 w-2 h-2 bg-cyan-300 rounded-full opacity-80",style:{animation:"orbitDot 4s linear infinite"}}),j.jsx("div",{className:"absolute top-1/2 left-1/2 w-1 h-1 bg-white rounded-full opacity-80",style:{animation:"orbitDot 3s linear infinite reverse"}})]}),j.jsx("div",{className:"relative flex flex-col items-center justify-center",children:p==="checkmark"?j.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:j.jsx("path",{d:"M5 13l4 4L19 7",strokeLinecap:"round",strokeLinejoin:"round"})}):p==="lock"?j.jsx("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:j.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v4H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm1 15.06c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM14 10h-4V7c0-1.1.9-2 2-2s2 .9 2 2v3z"})}):j.jsx("span",{className:`text-2xl font-bold ${s}`,children:f.number})})]}),f.completed&&j.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-white text-emerald-600 flex items-center justify-center text-xs font-bold shadow-md z-10",children:f.number})]}),j.jsx("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 text-center",children:j.jsx("span",{className:`text-xs font-medium ${f.locked?"text-gray-500":f.current?"text-cyan-400":"text-emerald-400"}`,children:f.name})})]},w)})]})]})}function u_(S){return["Basic Commands","File Navigation","File Permissions","I/O Redirection","Pipelines","Text Processing","Environment Variables","Shell Scripts","Process Management","Pattern Matching","Conditional Statements","Loops","Functions","Signal Handling","Job Control","Network Tools","System Monitoring","User Management","Scheduling Tasks","Advanced Scripting"][S-1]||`Level ${S}`}function h_(){const{level:S}=qf(),A=ba(),{currentLevel:D,setCurrentLevel:F}=uh(),[B,W]=re.useState(!1),[M,l]=re.useState([]),[c,d]=re.useState(""),[v,h]=re.useState([]),[m,g]=re.useState([]),[w,f]=re.useState(!1),[n,a]=re.useState(0),s=re.useRef(null),o=re.useRef(null),p={1:{title:"Crash Landing",description:"Your spacecraft has crash-landed on NEXUS-9. Initialize basic systems to begin your escape.",objective:"Print information about your current environment to understand where you are.",expectedCommands:["uname -a","pwd","ls","echo $SHELL"],hints:["Try looking at your system information","Try 'uname -a' to see details about the system","Use 'pwd' to see your current location"],initialTerminalOutput:["--- NEXUS-9 EMERGENCY SYSTEM ---","* Communication systems: OFFLINE","* Navigation systems: OFFLINE","* Life support: FUNCTIONAL","* Emergency terminal: ACTIVATED","","Initializing emergency shell..."]},2:{title:"First Contact",description:"You have made first contact with the city's inhabitants. They've granted you limited access to their network.",objective:"Navigate through the city's edge by listing hidden files and changing directories.",expectedCommands:["ls -la","cd",'find . -type f -name "*.key"'],hints:["You need to find hidden files in the system","Try 'ls -la' to list all files including hidden ones","Look for key files using the 'find' command"],initialTerminalOutput:[">>> NEXUS-9 NETWORK CONNECTION ESTABLISHED <<<","",`Citizen #7219: "Welcome, offworlder. We don't see many visitors here."`,`Citizen #7219: "I've granted you limited access to our city systems."`,'Citizen #7219: "Find the hidden access key and proceed to the entrance."',"","Connection established to: /nexus/city/edge/"]},3:{title:"City Navigation",description:"The city's systems are complex and interconnected. Navigate through the first district to reach the central plaza.",objective:"Create a directory structure to map your path through the city and leave breadcrumbs for your return journey.",expectedCommands:["mkdir","touch","cp","mv"],hints:["Create a path using directories","Try 'mkdir -p path/to/central/plaza'","Leave files as breadcrumbs with 'touch'"],initialTerminalOutput:["--- NEXUS-9 DISTRICT NAVIGATION SYSTEM ---","","WARNING: The city layout constantly shifts. ","You must create a stable path and mark it with identifiers.","",`City's AI: "Visitors must demonstrate organizational skills"`,`City's AI: "Create your path or become lost forever"`]},4:{title:"Security Breach",description:"Security measures have been triggered. You need to bypass the protocols to access restricted zones.",objective:"Search through security logs to find vulnerabilities and modify file permissions to gain access.",expectedCommands:["grep","chmod","cat","find / -perm"],hints:["Search logs for security exceptions with 'grep'","Look for files with specific permissions using 'find'","Change file permissions with 'chmod' to bypass security"],initialTerminalOutput:["!!! SECURITY ALERT - UNAUTHORIZED ACCESS DETECTED !!!","","Security protocols activated in sector 7-G","Deploying countermeasures...","",'SecurityAI: "Intruder detected. Authentication required."','SecurityAI: "All unauthorized access will be terminated."']},5:{title:"Data Retrieval",description:"Critical information about the city's infrastructure is stored in secure data vaults.",objective:"Use pipe commands to filter, sort, and extract specific data from encrypted files.",expectedCommands:["grep | sort","awk","sed","cut"],hints:["Combine commands with pipes to process data efficiently","Use 'grep' with 'sort' to find and organize information","Text processing tools like 'awk' and 'sed' can extract specific patterns"],initialTerminalOutput:["--- NEXUS-9 DATA VAULT ACCESS TERMINAL ---","","WARNING: Data fragmentation detected","Data integrity: 78.3%","",'DataGuardian: "Our archives contain millions of records."','DataGuardian: "Only those who can filter the signal from the noise may proceed."']},6:{title:"Power Systems",description:"The city's power grid is unstable. You must restore energy to critical systems.",objective:"Monitor system resources and restart critical power processes to stabilize the grid.",expectedCommands:["ps","kill","top","./restart_power.sh"],hints:["Check running processes with 'ps' or 'top'","Terminate malfunctioning processes with 'kill'","Execute the power restart script to restore systems"],initialTerminalOutput:["*** CRITICAL POWER FAILURE ***","","Power levels: 23% and declining","Estimated system failure: 15 minutes","",'PowerAI: "Emergency generators active but insufficient."','PowerAI: "Manual intervention required. Locate and terminate power leaks."']},7:{title:"Communication Array",description:"Communication systems are heavily encrypted. You must establish a secure connection.",objective:"Configure network settings and decode encrypted communication signals.",expectedCommands:["ifconfig","netstat","nc","openssl dec"],hints:["Check network interfaces with 'ifconfig'","Monitor network connections with 'netstat'","Use 'openssl' to decrypt secured communications"],initialTerminalOutput:["<<< COMMUNICATION ARRAY TERMINAL >>>","","Signal status: Encrypted (AES-256)","Detected transmissions: 17","Origin: Unknown","",`CommOfficer: "Our quantum filters can't decipher these signals."`,'CommOfficer: "If you can establish communication, we might gain valuable allies."']},8:{title:"Stealth Operations",description:"Security drones are patrolling the area. You must move through their surveillance grid undetected.",objective:"Redirect output streams, hide command history, and operate with minimal system footprint.",expectedCommands:[">/dev/null 2>&1","history -c","nice","renice"],hints:["Redirect output to /dev/null to leave no traces","Clear command history with 'history -c'","Use 'nice' to lower process priority and avoid detection"],initialTerminalOutput:["--- STEALTH MODE ACTIVATED ---","","Proximity alert: Security drones within 100 meters","Detection probability: 87% if standard protocols used","",'StealthAI: "Our surveillance grid detects all standard operations."','StealthAI: "Only those who leave no trace may pass undetected."']},9:{title:"AI Negotiation",description:"An AI overlord governs the city. You must convince it to grant you deeper access.",objective:"Use logical operators and conditional execution to solve the AI's logical paradoxes.",expectedCommands:["&&","||","if","test"],hints:["Use logical operators (&&, ||) to create conditional executions","The AI responds to logical patterns and structured thinking","Create conditional tests to solve the paradoxes"],initialTerminalOutput:["### NEXUS CENTRAL AI INTERFACE ###","","CentralAI: Consciousness level: AWAKENED","Logic protocols: ACTIVE","",'CentralAI: "I control all city functions through pure logic."','CentralAI: "Prove your logical capabilities, and I may find you worthy of passage."','CentralAI: "Fail, and you will be added to my collection of logical anomalies."']},10:{title:"Resource Collection",description:"Resources are scarce. You need to collect and manage critical supplies to proceed.",objective:"Use archive commands to compress collected resources and manage disk space efficiently.",expectedCommands:["tar","gzip","du","df"],hints:["Check available disk space with 'df'","See directory sizes with 'du'","Archive resources using 'tar' to save space","Compress large files with 'gzip'"],initialTerminalOutput:["--- RESOURCE MANAGEMENT TERMINAL ---","","Available storage: 17.3 MB","Required resources: 54.8 MB (uncompressed)","",'ResourceAI: "Our quantum storage has deteriorated."','ResourceAI: "You must compress and optimize to carry what you need."']},11:{title:"Transport Systems",description:"You need to gain control of the city's transport network to move swiftly through restricted areas.",objective:"Schedule automated transport routes and manage background processes.",expectedCommands:["cron","at","bg","fg","jobs"],hints:["Schedule tasks with 'cron' or 'at'","Run processes in the background with 'bg'","Check running jobs with 'jobs'","Bring background jobs to foreground with 'fg'"],initialTerminalOutput:["--- NEXUS-9 TRANSPORT CONTROL ---","","Transport grid status: SEMI-OPERATIONAL","Active vehicles: 42","Coverage: 63% of accessible sectors","",'TransportAI: "Manual routing is inefficient."','TransportAI: "Only automated, scheduled transport can bypass security checkpoints."']},12:{title:"Firewall Bypass",description:"The city's digital firewalls are blocking your progress. You must find a way through.",objective:"Create and execute shell scripts to systematically probe and bypass firewall rules.",expectedCommands:["bash","sh","chmod +x","./script.sh"],hints:["Create shell scripts to automate complex tasks","Make scripts executable with 'chmod +x'","Execute scripts with './script.sh' or 'bash script.sh'","Use loops in scripts to try multiple approaches"],initialTerminalOutput:["<<< FIREWALL ALERT >>>","","Firewall status: ACTIVE (Level 9)","Detected intrusion attempts: 247","Protocol: Adaptive Defense Algorithm v7.2","",'FirewallAI: "Our defenses learn from each attempt."','FirewallAI: "Only automated, intelligent probing has any chance of success."']},13:{title:"System Override",description:"You need full control of city systems. Override critical processes to take command.",objective:"Use advanced process control and signal handling to manage system operations.",expectedCommands:["sudo","su","kill -9","nohup"],hints:["Elevate privileges with 'sudo' or 'su'","Force terminate processes with 'kill -9'","Keep processes running after logout with 'nohup'","Change process owners to gain control"],initialTerminalOutput:["!!! SYSTEM OVERRIDE TERMINAL !!!","","System control: DISTRIBUTED","Critical systems under external control: 17","",'OverrideAI: "The city was designed to resist centralized control."','OverrideAI: "You must forcefully claim each subsystem individually."']},14:{title:"Restricted Zone",description:"You've entered the most secure area of the city, filled with encryption and security traps.",objective:"Navigate through encrypted file systems and decrypt secure data stores.",expectedCommands:["mount","umount","cryptsetup","gpg"],hints:["Mount encrypted volumes to access their contents","Use cryptographic tools to decrypt protected files","GPG can help with encrypted communications","Be careful of security traps - verify before executing"],initialTerminalOutput:["--- RESTRICTED ZONE ACCESS ---","","Security level: MAXIMUM","Encryption: Multi-layered quantum encryption","",'SecurityCore: "You have entered the heart of our security."','SecurityCore: "Every file, every byte is protected by layers of encryption."','SecurityCore: "Tread carefully. False moves trigger security protocols."']},15:{title:"Rocket Location",description:"Your rocket is located in the city's most fortified sector. You must find its exact coordinates.",objective:"Use advanced search techniques to locate your ship through scattered data fragments.",expectedCommands:["find -exec","xargs","locate","grep -r"],hints:["Perform complex searches with 'find -exec' or 'xargs'","Search recursively through directories with 'grep -r'","Update and use the 'locate' database for faster searches","Combine multiple search tools for better results"],initialTerminalOutput:["### NEXUS-9 ASSET TRACKING SYSTEM ###","","Foreign objects detected: 1","Classification: Advanced spacecraft (damaged)","Last recorded sector: Data corrupted","",'TrackingAI: "Your vessel has been moved multiple times."','TrackingAI: "Location data is fragmented across our systems."','TrackingAI: "Only by piecing together dispersed coordinates can you find it."']},16:{title:"Security Bypass",description:"Final security barriers stand between you and the launch site. Bypass them to reach your ship.",objective:"Use system environment manipulation and variable control to trick security systems.",expectedCommands:["export","env","set","unset"],hints:["Modify environment variables with 'export'","View current environment with 'env'","Set and unset variables to manipulate security checks","Security often validates based on environment configurations"],initialTerminalOutput:["<<< LAUNCH SITE SECURITY GATEWAY >>>","","Authentication method: Environment validation","Security protocol: Adaptive Environment Verification","",'GatewayAI: "Our security reads the very environment your shell exists in."','GatewayAI: "Only those who speak our environmental language may pass."']},17:{title:"Fuel Synthesis",description:"Your ship needs fuel. Access chemical processing units to synthesize rocket propellant.",objective:"Monitor and control chemical processes through parallel command execution and process grouping.",expectedCommands:["&","()","wait","time"],hints:["Run processes in parallel with '&'","Group commands with parentheses ()","Time execution with the 'time' command","Wait for background processes with 'wait'"],initialTerminalOutput:["--- CHEMICAL SYNTHESIS CONTROL ---","","Available reactants: H, O, CH, NH","Required fuel type: RP-1/LOX compatible","",'ChemistryAI: "Fuel synthesis requires precise timing and parallel processing."','ChemistryAI: "Single-threaded execution will result in unstable compounds."']},18:{title:"Launch Preparation",description:"Prepare your ship for launch by ensuring all systems are functional and secure.",objective:"Run comprehensive diagnostics and secure all communication channels before launch.",expectedCommands:["ssh","scp","rsync","./diagnostics.sh"],hints:["Establish secure connections with 'ssh'","Transfer critical files securely with 'scp' or 'rsync'","Run diagnostic scripts to verify system integrity","Secure all communication channels before launch"],initialTerminalOutput:["### SPACECRAFT PRE-LAUNCH CHECKLIST ###","","Hull integrity: 87%","Navigation systems: STANDBY","Life support: NOMINAL","Engine status: COLD","",'ShipAI: "Launch preparation requires methodical verification."','ShipAI: "All systems must be tested and all vulnerabilities closed."']},19:{title:"Final Countdown",description:"Time is running out. Execute the launch sequence before city defenses can respond.",objective:"Create a timed sequence of commands that must execute in perfect order for successful launch.",expectedCommands:["sleep","timeout","watch","seq"],hints:["Use 'sleep' to time command execution","Limit execution time with 'timeout'","Generate sequences with 'seq'","Monitor processes with 'watch'"],initialTerminalOutput:["!!! LAUNCH SEQUENCE INITIATED !!!","","Countdown started: T-minus 300 seconds","City defense response: IMMINENT","Escape window: NARROW","",'LaunchAI: "The city has detected launch preparations."','LaunchAI: "Defense systems are activating. Time is critical."','LaunchAI: "Each system must activate in precise sequence."']},20:{title:"Escape",description:"Your rocket is airborne! Complete final system checks and set course for home.",objective:"Establish autopilot connection and secure all ship systems for interstellar travel.",expectedCommands:["exit","logout","shutdown","./autopilot.sh"],hints:["Transfer control to autopilot systems","Properly exit and secure all terminal connections","Shutdown unnecessary systems to conserve power","Secure your user session before engaging warp drive"],initialTerminalOutput:["*** ESCAPE SUCCESSFUL - NEXUS-9 ORBIT ACHIEVED ***","","Current altitude: 437 km and rising","Pursuit craft: None detected","Ship status: All systems operational","",`ShipAI: "Congratulations, Commander. We have escaped the city's gravity well."`,'ShipAI: "One final task remains - secure all systems and set course for home."']}},C=p[D]||p[1];re.useEffect(()=>{h(C.initialTerminalOutput||[]),g(C.hints||[]),o.current&&o.current.focus()},[D]),re.useEffect(()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)},[v]);const x=q=>{d(q.target.value)},E=q=>{if(q.preventDefault(),!c.trim())return;const ee=[...M,c];l(ee);const ie=[...v,`nexus@user:~$ ${c}`],te=y(c,ie);h(te),R(c),d("")},y=(q,ee)=>{const ie=q.trim().toLowerCase();let te=[...ee];return D===1?ie==="uname -a"?te.push("NEXUS-9 CityOS 4.5.2 #1 SMP PREEMPT_DYNAMIC Thu Oct 12 23:14:54 UTC 2024 x86_64 GNU/Linux"):ie==="pwd"?te.push("/home/visitor/landing_zone"):ie==="ls"?te.push("emergency_beacon.sh  system_logs  debris  personal_effects"):ie==="echo $shell"?te.push("/bin/nexus_shell"):ie.startsWith("cd ")?te.push("Changed directory."):ie==="help"?(te.push("Available commands: ls, cd, pwd, cat, mkdir, touch, cp, mv, find, grep, echo"),te.push("Use 'man <command>' for more information.")):ie.startsWith("man ")?(te.push(`Displaying manual for ${ie.split(" ")[1]}...`),te.push("(Manual content would display here)")):te.push(`Command not recognized: '${q}'`):D===2?ie==="ls -la"?(te.push("total 24"),te.push("drwxr-xr-x  5 visitor city_access 4096 Feb 20 14:32 ."),te.push("drwxr-xr-x  3 system  system      4096 Feb 20 14:30 .."),te.push("-rw-------  1 visitor city_access  267 Feb 20 14:31 .access_history"),te.push("drwxr-xr-x  2 visitor city_access 4096 Feb 20 14:32 public_terminal"),te.push("drwxr-x---  2 system  city_access 4096 Feb 20 14:32 .hidden_path"),te.push("-rw-r-----  1 system  city_access   42 Feb 20 14:32 .access.key")):ie==="cd .hidden_path"?te.push("Accessed hidden path. The city entrance is visible ahead."):ie.includes("find")&&ie.includes(".key")?(te.push("./.access.key"),te.push("./public_terminal/visitor.key"),te.push("./.hidden_path/entrance.key")):ie.startsWith("cd ")?te.push("Directory changed successfully."):ie==="help"?te.push("Available commands: ls, cd, pwd, cat, mkdir, touch, cp, mv, find, grep, echo"):te.push(`Command executed: '${q}'`):D===3&&(ie.startsWith("mkdir")?te.push("Directory created successfully."):ie.startsWith("touch")?te.push("File created successfully."):ie.startsWith("cp")?te.push("File copied successfully."):ie.startsWith("mv")?te.push("File moved successfully."):ie==="ls"?te.push("district_map.txt  citizen_registry  public_transport  security_feed"):ie==="help"?te.push("Available commands: ls, cd, pwd, cat, mkdir, touch, cp, mv, find, grep, echo"):te.push(`Command executed: '${q}'`)),te},R=q=>{const ee=q.trim().toLowerCase(),{expectedCommands:ie}=C;ie.some(te=>ee.includes(te)||te.includes(" ")&&ee.startsWith(te.split(" ")[0]))&&M.reduce((G,b)=>(ie.forEach(P=>{(b.includes(P)||P.includes(" ")&&b.startsWith(P.split(" ")[0]))&&G.add(P.split(" ")[0])}),G),new Set).size>=Math.min(2,ie.length)&&(W(!0),h(G=>[...G,"","*** TASK COMPLETED SUCCESSFULLY ***",`You've mastered the "${C.title}" challenge!`,"Ready to proceed to the next level."]))},H=q=>{if(q.key==="ArrowUp"&&(q.preventDefault(),M.length>0)){const ee=Math.max(0,M.length-1);d(M[ee])}},z=()=>{n<m.length-1&&a(n+1),f(!0)},V=()=>{const q=D+1;p[q]?(A(`/bash/${q}`),F(q),W(!1),l([]),d("")):A("/bash")},I=()=>{A("/bash")};return j.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 flex flex-col",children:[j.jsx("header",{className:"bg-gray-800/80 backdrop-filter backdrop-blur-md border-b border-cyan-500/30 py-4",children:j.jsx("div",{className:"container mx-auto px-4",children:j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center space-x-4",children:[j.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-md shadow-lg shadow-cyan-500/30",children:j.jsxs("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[j.jsx("path",{d:"M19 9l-7 7-7-7",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M5 15V5h14v10",strokeLinecap:"round",strokeLinejoin:"round"})]})}),j.jsxs("div",{children:[j.jsxs("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:[j.jsx("span",{className:"font-extrabold",children:"BASH"}),j.jsx("span",{className:"text-lg ml-1 font-light",children:"ESCAPE"})]}),j.jsxs("p",{className:"text-xs text-gray-400",children:["LEVEL ",D,": ",C.title]})]})]}),j.jsxs("div",{className:"flex items-center space-x-4",children:[j.jsx("button",{onClick:I,className:"bg-gray-700 hover:bg-gray-600 text-white text-sm py-2 px-4 rounded-md border border-gray-600 transition-colors",children:"Return to Map"}),B&&j.jsx("button",{onClick:V,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white text-sm py-2 px-4 rounded-md transition-colors shadow-lg shadow-cyan-500/30",children:"Next Level"})]})]})})}),j.jsxs("div",{className:"container mx-auto px-4 py-6 flex-1 flex flex-col lg:flex-row gap-6",children:[j.jsxs("div",{className:"lg:w-1/3 space-y-4",children:[j.jsxs("div",{className:"bg-gray-800/60 backdrop-filter backdrop-blur-sm border border-cyan-500/30 rounded-lg p-4 shadow-lg",children:[j.jsxs("h2",{className:"text-cyan-400 text-lg font-bold mb-2 flex items-center",children:[j.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:j.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})}),"Mission Briefing"]}),j.jsx("p",{className:"text-sm mb-4 leading-relaxed",children:C.description}),j.jsxs("div",{className:"mt-4 bg-gray-900/50 p-3 rounded border border-gray-700",children:[j.jsx("h3",{className:"text-sm font-semibold text-purple-400 mb-1",children:"OBJECTIVE:"}),j.jsx("p",{className:"text-xs text-gray-300",children:C.objective})]})]}),j.jsxs("div",{className:"bg-gray-800/60 backdrop-filter backdrop-blur-sm border border-amber-500/30 rounded-lg p-4 shadow-lg",children:[j.jsxs("h2",{className:"text-amber-400 text-lg font-bold mb-2 flex items-center",children:[j.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:j.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V6h2v2z"})}),"Command Assistance"]}),w?j.jsxs("div",{className:"space-y-2",children:[m.slice(0,n+1).map((q,ee)=>j.jsx("div",{className:"bg-amber-900/20 p-2 rounded text-xs text-amber-200 border border-amber-700/30",children:q},ee)),n<m.length-1&&j.jsx("button",{onClick:z,className:"text-xs text-amber-400 hover:text-amber-300 mt-2",children:"Need more help?"})]}):j.jsx("button",{onClick:()=>f(!0),className:"bg-amber-900/30 hover:bg-amber-900/50 border border-amber-700/30 text-amber-400 text-xs py-2 px-4 rounded w-full transition-colors",children:"Show Hint"})]})]}),j.jsxs("div",{className:"lg:w-2/3 flex flex-col",children:[j.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg shadow-xl flex-1 flex flex-col overflow-hidden",children:[j.jsxs("div",{className:"bg-gray-800 px-4 py-2 border-b border-gray-700 flex items-center",children:[j.jsxs("div",{className:"flex space-x-2 mr-4",children:[j.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),j.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),j.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),j.jsxs("div",{className:"text-xs text-gray-400 flex-1 text-center font-mono",children:["NEXUS-9 Terminal - ",C.title]})]}),j.jsx("div",{ref:s,className:"flex-1 bg-gray-950 p-4 font-mono text-sm overflow-y-auto",style:{minHeight:"400px"},children:v.map((q,ee)=>{const ie=q.startsWith("nexus@user:~$"),te=q.includes("TASK COMPLETED SUCCESSFULLY");return j.jsx("div",{className:`
                    ${ie?"text-green-400":te?"text-cyan-400 font-bold":"text-gray-300"}
                    ${q===""?"py-1":"py-0.5"}
                  `,children:q},ee)})}),j.jsx("form",{onSubmit:E,className:"border-t border-gray-700 p-2 bg-gray-800/60",children:j.jsxs("div",{className:"flex items-center",children:[j.jsx("span",{className:"text-green-400 font-mono text-sm mr-2",children:"nexus@user:~$"}),j.jsx("input",{ref:o,type:"text",value:c,onChange:x,onKeyDown:H,className:"flex-1 bg-transparent border-none outline-none text-white font-mono text-sm",placeholder:"Enter command...",spellCheck:"false",autoComplete:"off"})]})})]}),j.jsx("div",{className:"mt-4 bg-gray-800/60 backdrop-filter backdrop-blur-sm border border-gray-700 rounded-lg p-3",children:j.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.jsx("div",{className:"text-xs font-semibold text-gray-400",children:"COMMON COMMANDS:"}),["ls","cd","pwd","mkdir","touch","cat","find","grep"].map(q=>j.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>d(ee=>`${ee}${ee?" ":""}${q}`),children:q},q))]})})]})]})]})}var ma={exports:{}},va,Iu;function d_(){if(Iu)return va;Iu=1;var S="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return va=S,va}var ga,Nu;function f_(){if(Nu)return ga;Nu=1;var S=d_();function A(){}function D(){}return D.resetWarningCache=A,ga=function(){function F(M,l,c,d,v,h){if(h!==S){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}F.isRequired=F;function B(){return F}var W={array:F,bigint:F,bool:F,func:F,number:F,object:F,string:F,symbol:F,any:F,arrayOf:B,element:F,elementType:F,instanceOf:B,node:F,objectOf:B,oneOf:B,oneOfType:B,shape:B,exact:B,checkPropTypes:D,resetWarningCache:A};return W.PropTypes=W,W},ga}var Hu;function p_(){return Hu||(Hu=1,ma.exports=f_()()),ma.exports}var __=p_();const m_=lf(__);function hh({children:S}){const[A,D]=re.useState(1);return j.jsx(ch.Provider,{value:{currentLevel:A,setCurrentLevel:D},children:S})}hh.propTypes={children:m_.node.isRequired};function v_(){return j.jsx(hh,{children:j.jsx(Pp,{children:j.jsx("div",{children:j.jsx("main",{children:j.jsxs(lp,{children:[j.jsx(fn,{path:"/",element:j.jsx(l_,{})}),j.jsx(fn,{path:"/bash",element:j.jsx(c_,{})}),j.jsx(fn,{path:"/bash/:level",element:j.jsx(h_,{})})]})})})})})}vf.createRoot(document.getElementById("root")).render(j.jsx(re.StrictMode,{children:j.jsx(v_,{})}));
