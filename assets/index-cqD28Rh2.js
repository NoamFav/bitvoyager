var Tg=Object.defineProperty;var Pg=(r,i,s)=>i in r?Tg(r,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[i]=s;var Le=(r,i,s)=>Pg(r,typeof i!="symbol"?i+"":i,s);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))c(_);new MutationObserver(_=>{for(const x of _)if(x.type==="childList")for(const S of x.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&c(S)}).observe(document,{childList:!0,subtree:!0});function s(_){const x={};return _.integrity&&(x.integrity=_.integrity),_.referrerPolicy&&(x.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?x.credentials="include":_.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function c(_){if(_.ep)return;_.ep=!0;const x=s(_);fetch(_.href,x)}})();var Ol={exports:{}},On={},Il={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function Dg(){if(Jd)return be;Jd=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),S=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,w={};function h(B,F,Z){this.props=B,this.context=F,this.refs=w,this.updater=Z||E}h.prototype.isReactComponent={},h.prototype.setState=function(B,F){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,F,"setState")},h.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function p(){}p.prototype=h.prototype;function u(B,F,Z){this.props=B,this.context=F,this.refs=w,this.updater=Z||E}var f=u.prototype=new p;f.constructor=u,R(f,h.prototype),f.isPureReactComponent=!0;var C=Array.isArray,L=Object.prototype.hasOwnProperty,T={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function k(B,F,Z){var re,ce={},ue=null,W=null;if(F!=null)for(re in F.ref!==void 0&&(W=F.ref),F.key!==void 0&&(ue=""+F.key),F)L.call(F,re)&&!P.hasOwnProperty(re)&&(ce[re]=F[re]);var O=arguments.length-2;if(O===1)ce.children=Z;else if(1<O){for(var ee=Array(O),Q=0;Q<O;Q++)ee[Q]=arguments[Q+2];ce.children=ee}if(B&&B.defaultProps)for(re in O=B.defaultProps,O)ce[re]===void 0&&(ce[re]=O[re]);return{$$typeof:r,type:B,key:ue,ref:W,props:ce,_owner:T.current}}function A(B,F){return{$$typeof:r,type:B.type,key:F,ref:B.ref,props:B.props,_owner:B._owner}}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function V(B){var F={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Z){return F[Z]})}var z=/\/+/g;function N(B,F){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):F.toString(36)}function Y(B,F,Z,re,ce){var ue=typeof B;(ue==="undefined"||ue==="boolean")&&(B=null);var W=!1;if(B===null)W=!0;else switch(ue){case"string":case"number":W=!0;break;case"object":switch(B.$$typeof){case r:case i:W=!0}}if(W)return W=B,ce=ce(W),B=re===""?"."+N(W,0):re,C(ce)?(Z="",B!=null&&(Z=B.replace(z,"$&/")+"/"),Y(ce,F,Z,"",function(Q){return Q})):ce!=null&&(H(ce)&&(ce=A(ce,Z+(!ce.key||W&&W.key===ce.key?"":(""+ce.key).replace(z,"$&/")+"/")+B)),F.push(ce)),1;if(W=0,re=re===""?".":re+":",C(B))for(var O=0;O<B.length;O++){ue=B[O];var ee=re+N(ue,O);W+=Y(ue,F,Z,ee,ce)}else if(ee=y(B),typeof ee=="function")for(B=ee.call(B),O=0;!(ue=B.next()).done;)ue=ue.value,ee=re+N(ue,O++),W+=Y(ue,F,Z,ee,ce);else if(ue==="object")throw F=String(B),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return W}function te(B,F,Z){if(B==null)return B;var re=[],ce=0;return Y(B,re,"","",function(ue){return F.call(Z,ue,ce++)}),re}function oe(B){if(B._status===-1){var F=B._result;F=F(),F.then(function(Z){(B._status===0||B._status===-1)&&(B._status=1,B._result=Z)},function(Z){(B._status===0||B._status===-1)&&(B._status=2,B._result=Z)}),B._status===-1&&(B._status=0,B._result=F)}if(B._status===1)return B._result.default;throw B._result}var ie={current:null},q={transition:null},D={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:q,ReactCurrentOwner:T};function I(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:te,forEach:function(B,F,Z){te(B,function(){F.apply(this,arguments)},Z)},count:function(B){var F=0;return te(B,function(){F++}),F},toArray:function(B){return te(B,function(F){return F})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},be.Component=h,be.Fragment=s,be.Profiler=_,be.PureComponent=u,be.StrictMode=c,be.Suspense=a,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,be.act=I,be.cloneElement=function(B,F,Z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var re=R({},B.props),ce=B.key,ue=B.ref,W=B._owner;if(F!=null){if(F.ref!==void 0&&(ue=F.ref,W=T.current),F.key!==void 0&&(ce=""+F.key),B.type&&B.type.defaultProps)var O=B.type.defaultProps;for(ee in F)L.call(F,ee)&&!P.hasOwnProperty(ee)&&(re[ee]=F[ee]===void 0&&O!==void 0?O[ee]:F[ee])}var ee=arguments.length-2;if(ee===1)re.children=Z;else if(1<ee){O=Array(ee);for(var Q=0;Q<ee;Q++)O[Q]=arguments[Q+2];re.children=O}return{$$typeof:r,type:B.type,key:ce,ref:ue,props:re,_owner:W}},be.createContext=function(B){return B={$$typeof:S,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:x,_context:B},B.Consumer=B},be.createElement=k,be.createFactory=function(B){var F=k.bind(null,B);return F.type=B,F},be.createRef=function(){return{current:null}},be.forwardRef=function(B){return{$$typeof:o,render:B}},be.isValidElement=H,be.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:oe}},be.memo=function(B,F){return{$$typeof:d,type:B,compare:F===void 0?null:F}},be.startTransition=function(B){var F=q.transition;q.transition={};try{B()}finally{q.transition=F}},be.unstable_act=I,be.useCallback=function(B,F){return ie.current.useCallback(B,F)},be.useContext=function(B){return ie.current.useContext(B)},be.useDebugValue=function(){},be.useDeferredValue=function(B){return ie.current.useDeferredValue(B)},be.useEffect=function(B,F){return ie.current.useEffect(B,F)},be.useId=function(){return ie.current.useId()},be.useImperativeHandle=function(B,F,Z){return ie.current.useImperativeHandle(B,F,Z)},be.useInsertionEffect=function(B,F){return ie.current.useInsertionEffect(B,F)},be.useLayoutEffect=function(B,F){return ie.current.useLayoutEffect(B,F)},be.useMemo=function(B,F){return ie.current.useMemo(B,F)},be.useReducer=function(B,F,Z){return ie.current.useReducer(B,F,Z)},be.useRef=function(B){return ie.current.useRef(B)},be.useState=function(B){return ie.current.useState(B)},be.useSyncExternalStore=function(B,F,Z){return ie.current.useSyncExternalStore(B,F,Z)},be.useTransition=function(){return ie.current.useTransition()},be.version="18.3.1",be}var Qd;function xc(){return Qd||(Qd=1,Il.exports=Dg()),Il.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd;function Ag(){if(Zd)return On;Zd=1;var r=xc(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,_=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function S(o,a,d){var v,m={},y=null,E=null;d!==void 0&&(y=""+d),a.key!==void 0&&(y=""+a.key),a.ref!==void 0&&(E=a.ref);for(v in a)c.call(a,v)&&!x.hasOwnProperty(v)&&(m[v]=a[v]);if(o&&o.defaultProps)for(v in a=o.defaultProps,a)m[v]===void 0&&(m[v]=a[v]);return{$$typeof:i,type:o,key:y,ref:E,props:m,_owner:_.current}}return On.Fragment=s,On.jsx=S,On.jsxs=S,On}var ef;function Mg(){return ef||(ef=1,Ol.exports=Ag()),Ol.exports}var ge=Mg(),X=xc(),mo={},Fl={exports:{}},yt={},Nl={exports:{}},Hl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf;function Bg(){return tf||(tf=1,function(r){function i(q,D){var I=q.length;q.push(D);e:for(;0<I;){var B=I-1>>>1,F=q[B];if(0<_(F,D))q[B]=D,q[I]=F,I=B;else break e}}function s(q){return q.length===0?null:q[0]}function c(q){if(q.length===0)return null;var D=q[0],I=q.pop();if(I!==D){q[0]=I;e:for(var B=0,F=q.length,Z=F>>>1;B<Z;){var re=2*(B+1)-1,ce=q[re],ue=re+1,W=q[ue];if(0>_(ce,I))ue<F&&0>_(W,ce)?(q[B]=W,q[ue]=I,B=ue):(q[B]=ce,q[re]=I,B=re);else if(ue<F&&0>_(W,I))q[B]=W,q[ue]=I,B=ue;else break e}}return D}function _(q,D){var I=q.sortIndex-D.sortIndex;return I!==0?I:q.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var S=Date,o=S.now();r.unstable_now=function(){return S.now()-o}}var a=[],d=[],v=1,m=null,y=3,E=!1,R=!1,w=!1,h=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(q){for(var D=s(d);D!==null;){if(D.callback===null)c(d);else if(D.startTime<=q)c(d),D.sortIndex=D.expirationTime,i(a,D);else break;D=s(d)}}function C(q){if(w=!1,f(q),!R)if(s(a)!==null)R=!0,oe(L);else{var D=s(d);D!==null&&ie(C,D.startTime-q)}}function L(q,D){R=!1,w&&(w=!1,p(k),k=-1),E=!0;var I=y;try{for(f(D),m=s(a);m!==null&&(!(m.expirationTime>D)||q&&!V());){var B=m.callback;if(typeof B=="function"){m.callback=null,y=m.priorityLevel;var F=B(m.expirationTime<=D);D=r.unstable_now(),typeof F=="function"?m.callback=F:m===s(a)&&c(a),f(D)}else c(a);m=s(a)}if(m!==null)var Z=!0;else{var re=s(d);re!==null&&ie(C,re.startTime-D),Z=!1}return Z}finally{m=null,y=I,E=!1}}var T=!1,P=null,k=-1,A=5,H=-1;function V(){return!(r.unstable_now()-H<A)}function z(){if(P!==null){var q=r.unstable_now();H=q;var D=!0;try{D=P(!0,q)}finally{D?N():(T=!1,P=null)}}else T=!1}var N;if(typeof u=="function")N=function(){u(z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,te=Y.port2;Y.port1.onmessage=z,N=function(){te.postMessage(null)}}else N=function(){h(z,0)};function oe(q){P=q,T||(T=!0,N())}function ie(q,D){k=h(function(){q(r.unstable_now())},D)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_continueExecution=function(){R||E||(R=!0,oe(L))},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return s(a)},r.unstable_next=function(q){switch(y){case 1:case 2:case 3:var D=3;break;default:D=y}var I=y;y=D;try{return q()}finally{y=I}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(q,D){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var I=y;y=q;try{return D()}finally{y=I}},r.unstable_scheduleCallback=function(q,D,I){var B=r.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?B+I:B):I=B,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=I+F,q={id:v++,callback:D,priorityLevel:q,startTime:I,expirationTime:F,sortIndex:-1},I>B?(q.sortIndex=I,i(d,q),s(a)===null&&q===s(d)&&(w?(p(k),k=-1):w=!0,ie(C,I-B))):(q.sortIndex=F,i(a,q),R||E||(R=!0,oe(L))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var D=y;return function(){var I=y;y=D;try{return q.apply(this,arguments)}finally{y=I}}}}(Hl)),Hl}var rf;function Og(){return rf||(rf=1,Nl.exports=Bg()),Nl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf;function Ig(){if(nf)return yt;nf=1;var r=xc(),i=Og();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,_={};function x(e,t){S(e,t),S(e+"Capture",t)}function S(e,t){for(_[e]=t,e=0;e<t.length;e++)c.add(t[e])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function y(e){return a.call(m,e)?!0:a.call(v,e)?!1:d.test(e)?m[e]=!0:(v[e]=!0,!1)}function E(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,n,l){if(t===null||typeof t>"u"||E(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function w(e,t,n,l,g,b,M){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=g,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=b,this.removeEmptyString=M}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];h[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var p=/[\-:]([a-z])/g;function u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p,u);h[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p,u);h[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p,u);h[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});function f(e,t,n,l){var g=h.hasOwnProperty(t)?h[t]:null;(g!==null?g.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,n,g,l)&&(n=null),l||g===null?y(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):g.mustUseProperty?e[g.propertyName]=n===null?g.type===3?!1:"":n:(t=g.attributeName,l=g.attributeNamespace,n===null?e.removeAttribute(t):(g=g.type,n=g===3||g===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),T=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),V=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),q=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var I=Object.assign,B;function F(e){if(B===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return`
`+B+e}var Z=!1;function re(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(J){var l=J}Reflect.construct(e,[],t)}else{try{t.call()}catch(J){l=J}e.call(t.prototype)}else{try{throw Error()}catch(J){l=J}e()}}catch(J){if(J&&l&&typeof J.stack=="string"){for(var g=J.stack.split(`
`),b=l.stack.split(`
`),M=g.length-1,j=b.length-1;1<=M&&0<=j&&g[M]!==b[j];)j--;for(;1<=M&&0<=j;M--,j--)if(g[M]!==b[j]){if(M!==1||j!==1)do if(M--,j--,0>j||g[M]!==b[j]){var U=`
`+g[M].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=M&&0<=j);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function ce(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case T:return"Portal";case A:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case Y:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function O(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q(e){var t=ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var g=n.get,b=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(M){l=""+M,b.call(this,M)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function de(e){e._valueTracker||(e._valueTracker=Q(e))}function he(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=ee(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function xe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pe(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Me(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=O(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ze(e,t){t=t.checked,t!=null&&f(e,"checked",t,!1)}function Ce(e,t){Ze(e,t);var n=O(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wr(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wr(e,t.type,O(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mr(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wr(e,t,n){(t!=="number"||xe(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tr=Array.isArray;function Kt(e,t,n,l){if(e=e.options,t){t={};for(var g=0;g<n.length;g++)t["$"+n[g]]=!0;for(n=0;n<e.length;n++)g=t.hasOwnProperty("$"+e[n].value),e[n].selected!==g&&(e[n].selected=g),g&&l&&(e[n].defaultSelected=!0)}else{for(n=""+O(n),t=null,g=0;g<e.length;g++){if(e[g].value===n){e[g].selected=!0,l&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function _r(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ct(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(tr(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:O(n)}}function vr(e,t){var n=O(t.value),l=O(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function St(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wt,$r=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,g){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,g)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Be=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(e){Be.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),It[t]=It[e]})});function os(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||It.hasOwnProperty(e)&&It[e]?(""+t).trim():t+"px"}function fu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,g=os(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,g):e[n]=g}}var B_=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(e,t){if(t){if(B_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Go(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=null;function Yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jo=null,pi=null,mi=null;function pu(e){if(e=Sn(e)){if(typeof Jo!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Ts(t),Jo(e.stateNode,e.type,t))}}function mu(e){pi?mi?mi.push(e):mi=[e]:pi=e}function _u(){if(pi){var e=pi,t=mi;if(mi=pi=null,pu(e),t)for(e=0;e<t.length;e++)pu(t[e])}}function vu(e,t){return e(t)}function gu(){}var Qo=!1;function yu(e,t,n){if(Qo)return e(t,n);Qo=!0;try{return vu(e,t,n)}finally{Qo=!1,(pi!==null||mi!==null)&&(gu(),_u())}}function Qi(e,t){var n=e.stateNode;if(n===null)return null;var l=Ts(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Zo=!1;if(o)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Zo=!1}function O_(e,t,n,l,g,b,M,j,U){var J=Array.prototype.slice.call(arguments,3);try{t.apply(n,J)}catch(se){this.onError(se)}}var en=!1,as=null,ls=!1,ea=null,I_={onError:function(e){en=!0,as=e}};function F_(e,t,n,l,g,b,M,j,U){en=!1,as=null,O_.apply(I_,arguments)}function N_(e,t,n,l,g,b,M,j,U){if(F_.apply(this,arguments),en){if(en){var J=as;en=!1,as=null}else throw Error(s(198));ls||(ls=!0,ea=J)}}function Kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Su(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wu(e){if(Kr(e)!==e)throw Error(s(188))}function H_(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,l=t;;){var g=n.return;if(g===null)break;var b=g.alternate;if(b===null){if(l=g.return,l!==null){n=l;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===n)return wu(g),e;if(b===l)return wu(g),t;b=b.sibling}throw Error(s(188))}if(n.return!==l.return)n=g,l=b;else{for(var M=!1,j=g.child;j;){if(j===n){M=!0,n=g,l=b;break}if(j===l){M=!0,l=g,n=b;break}j=j.sibling}if(!M){for(j=b.child;j;){if(j===n){M=!0,n=b,l=g;break}if(j===l){M=!0,l=b,n=g;break}j=j.sibling}if(!M)throw Error(s(189))}}if(n.alternate!==l)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Cu(e){return e=H_(e),e!==null?Eu(e):null}function Eu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eu(e);if(t!==null)return t;e=e.sibling}return null}var xu=i.unstable_scheduleCallback,bu=i.unstable_cancelCallback,j_=i.unstable_shouldYield,V_=i.unstable_requestPaint,ze=i.unstable_now,U_=i.unstable_getCurrentPriorityLevel,ta=i.unstable_ImmediatePriority,ku=i.unstable_UserBlockingPriority,cs=i.unstable_NormalPriority,W_=i.unstable_LowPriority,Ru=i.unstable_IdlePriority,us=null,qt=null;function z_(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(us,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:q_,$_=Math.log,K_=Math.LN2;function q_(e){return e>>>=0,e===0?32:31-($_(e)/K_|0)|0}var hs=64,ds=4194304;function tn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fs(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,g=e.suspendedLanes,b=e.pingedLanes,M=n&268435455;if(M!==0){var j=M&~g;j!==0?l=tn(j):(b&=M,b!==0&&(l=tn(b)))}else M=n&~g,M!==0?l=tn(M):b!==0&&(l=tn(b));if(l===0)return 0;if(t!==0&&t!==l&&(t&g)===0&&(g=l&-l,b=t&-t,g>=b||g===16&&(b&4194240)!==0))return t;if((l&4)!==0&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-Ft(t),g=1<<n,l|=e[n],t&=~g;return l}function G_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X_(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,g=e.expirationTimes,b=e.pendingLanes;0<b;){var M=31-Ft(b),j=1<<M,U=g[M];U===-1?((j&n)===0||(j&l)!==0)&&(g[M]=G_(j,t)):U<=t&&(e.expiredLanes|=j),b&=~j}}function ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lu(){var e=hs;return hs<<=1,(hs&4194240)===0&&(hs=64),e}function ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function Y_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var g=31-Ft(n),b=1<<g;t[g]=0,l[g]=-1,e[g]=-1,n&=~b}}function na(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ft(n),g=1<<l;g&t|e[l]&t&&(e[l]|=t),n&=~g}}var Te=0;function Tu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pu,sa,Du,Au,Mu,oa=!1,ps=[],yr=null,Sr=null,wr=null,nn=new Map,sn=new Map,Cr=[],J_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":nn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(t.pointerId)}}function on(e,t,n,l,g,b){return e===null||e.nativeEvent!==b?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:b,targetContainers:[g]},t!==null&&(t=Sn(t),t!==null&&sa(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function Q_(e,t,n,l,g){switch(t){case"focusin":return yr=on(yr,e,t,n,l,g),!0;case"dragenter":return Sr=on(Sr,e,t,n,l,g),!0;case"mouseover":return wr=on(wr,e,t,n,l,g),!0;case"pointerover":var b=g.pointerId;return nn.set(b,on(nn.get(b)||null,e,t,n,l,g)),!0;case"gotpointercapture":return b=g.pointerId,sn.set(b,on(sn.get(b)||null,e,t,n,l,g)),!0}return!1}function Ou(e){var t=qr(e.target);if(t!==null){var n=Kr(t);if(n!==null){if(t=n.tag,t===13){if(t=Su(n),t!==null){e.blockedOn=t,Mu(e.priority,function(){Du(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=la(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Xo=l,n.target.dispatchEvent(l),Xo=null}else return t=Sn(n),t!==null&&sa(t),e.blockedOn=n,!1;t.shift()}return!0}function Iu(e,t,n){ms(e)&&n.delete(t)}function Z_(){oa=!1,yr!==null&&ms(yr)&&(yr=null),Sr!==null&&ms(Sr)&&(Sr=null),wr!==null&&ms(wr)&&(wr=null),nn.forEach(Iu),sn.forEach(Iu)}function an(e,t){e.blockedOn===t&&(e.blockedOn=null,oa||(oa=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Z_)))}function ln(e){function t(g){return an(g,e)}if(0<ps.length){an(ps[0],e);for(var n=1;n<ps.length;n++){var l=ps[n];l.blockedOn===e&&(l.blockedOn=null)}}for(yr!==null&&an(yr,e),Sr!==null&&an(Sr,e),wr!==null&&an(wr,e),nn.forEach(t),sn.forEach(t),n=0;n<Cr.length;n++)l=Cr[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)Ou(n),n.blockedOn===null&&Cr.shift()}var _i=C.ReactCurrentBatchConfig,_s=!0;function ev(e,t,n,l){var g=Te,b=_i.transition;_i.transition=null;try{Te=1,aa(e,t,n,l)}finally{Te=g,_i.transition=b}}function tv(e,t,n,l){var g=Te,b=_i.transition;_i.transition=null;try{Te=4,aa(e,t,n,l)}finally{Te=g,_i.transition=b}}function aa(e,t,n,l){if(_s){var g=la(e,t,n,l);if(g===null)ba(e,t,l,vs,n),Bu(e,l);else if(Q_(g,e,t,n,l))l.stopPropagation();else if(Bu(e,l),t&4&&-1<J_.indexOf(e)){for(;g!==null;){var b=Sn(g);if(b!==null&&Pu(b),b=la(e,t,n,l),b===null&&ba(e,t,l,vs,n),b===g)break;g=b}g!==null&&l.stopPropagation()}else ba(e,t,l,null,n)}}var vs=null;function la(e,t,n,l){if(vs=null,e=Yo(l),e=qr(e),e!==null)if(t=Kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Su(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vs=e,null}function Fu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U_()){case ta:return 1;case ku:return 4;case cs:case W_:return 16;case Ru:return 536870912;default:return 16}default:return 16}}var Er=null,ca=null,gs=null;function Nu(){if(gs)return gs;var e,t=ca,n=t.length,l,g="value"in Er?Er.value:Er.textContent,b=g.length;for(e=0;e<n&&t[e]===g[e];e++);var M=n-e;for(l=1;l<=M&&t[n-l]===g[b-l];l++);return gs=g.slice(e,1<l?1-l:void 0)}function ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function Hu(){return!1}function Ct(e){function t(n,l,g,b,M){this._reactName=n,this._targetInst=g,this.type=l,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(n=e[j],this[j]=n?n(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ss:Hu,this.isPropagationStopped=Hu,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Ct(vi),cn=I({},vi,{view:0,detail:0}),rv=Ct(cn),ha,da,un,ws=I({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&e.type==="mousemove"?(ha=e.screenX-un.screenX,da=e.screenY-un.screenY):da=ha=0,un=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:da}}),ju=Ct(ws),iv=I({},ws,{dataTransfer:0}),nv=Ct(iv),sv=I({},cn,{relatedTarget:0}),fa=Ct(sv),ov=I({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),av=Ct(ov),lv=I({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cv=Ct(lv),uv=I({},vi,{data:0}),Vu=Ct(uv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fv[e])?!!t[e]:!1}function pa(){return pv}var mv=I({},cn,{key:function(e){if(e.key){var t=hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_v=Ct(mv),vv=I({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=Ct(vv),gv=I({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),yv=Ct(gv),Sv=I({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),wv=Ct(Sv),Cv=I({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=Ct(Cv),xv=[9,13,27,32],ma=o&&"CompositionEvent"in window,hn=null;o&&"documentMode"in document&&(hn=document.documentMode);var bv=o&&"TextEvent"in window&&!hn,Wu=o&&(!ma||hn&&8<hn&&11>=hn),zu=" ",$u=!1;function Ku(e,t){switch(e){case"keyup":return xv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gi=!1;function kv(e,t){switch(e){case"compositionend":return qu(t);case"keypress":return t.which!==32?null:($u=!0,zu);case"textInput":return e=t.data,e===zu&&$u?null:e;default:return null}}function Rv(e,t){if(gi)return e==="compositionend"||!ma&&Ku(e,t)?(e=Nu(),gs=ca=Er=null,gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wu&&t.locale!=="ko"?null:t.data;default:return null}}var Lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lv[e.type]:t==="textarea"}function Xu(e,t,n,l){mu(l),t=ks(t,"onChange"),0<t.length&&(n=new ua("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var dn=null,fn=null;function Tv(e){fh(e,0)}function Cs(e){var t=Ei(e);if(he(t))return e}function Pv(e,t){if(e==="change")return t}var Yu=!1;if(o){var _a;if(o){var va="oninput"in document;if(!va){var Ju=document.createElement("div");Ju.setAttribute("oninput","return;"),va=typeof Ju.oninput=="function"}_a=va}else _a=!1;Yu=_a&&(!document.documentMode||9<document.documentMode)}function Qu(){dn&&(dn.detachEvent("onpropertychange",Zu),fn=dn=null)}function Zu(e){if(e.propertyName==="value"&&Cs(fn)){var t=[];Xu(t,fn,e,Yo(e)),yu(Tv,t)}}function Dv(e,t,n){e==="focusin"?(Qu(),dn=t,fn=n,dn.attachEvent("onpropertychange",Zu)):e==="focusout"&&Qu()}function Av(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cs(fn)}function Mv(e,t){if(e==="click")return Cs(t)}function Bv(e,t){if(e==="input"||e==="change")return Cs(t)}function Ov(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Ov;function pn(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var g=n[l];if(!a.call(t,g)||!Nt(e[g],t[g]))return!1}return!0}function eh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function th(e,t){var n=eh(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eh(n)}}function rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ih(){for(var e=window,t=xe();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xe(e.document)}return t}function ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Iv(e){var t=ih(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rh(n.ownerDocument.documentElement,n)){if(l!==null&&ga(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var g=n.textContent.length,b=Math.min(l.start,g);l=l.end===void 0?b:Math.min(l.end,g),!e.extend&&b>l&&(g=l,l=b,b=g),g=th(n,b);var M=th(n,l);g&&M&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==M.node||e.focusOffset!==M.offset)&&(t=t.createRange(),t.setStart(g.node,g.offset),e.removeAllRanges(),b>l?(e.addRange(t),e.extend(M.node,M.offset)):(t.setEnd(M.node,M.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fv=o&&"documentMode"in document&&11>=document.documentMode,yi=null,ya=null,mn=null,Sa=!1;function nh(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sa||yi==null||yi!==xe(l)||(l=yi,"selectionStart"in l&&ga(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),mn&&pn(mn,l)||(mn=l,l=ks(ya,"onSelect"),0<l.length&&(t=new ua("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=yi)))}function Es(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},wa={},sh={};o&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function xs(e){if(wa[e])return wa[e];if(!Si[e])return e;var t=Si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sh)return wa[e]=t[n];return e}var oh=xs("animationend"),ah=xs("animationiteration"),lh=xs("animationstart"),ch=xs("transitionend"),uh=new Map,hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){uh.set(e,t),x(t,[e])}for(var Ca=0;Ca<hh.length;Ca++){var Ea=hh[Ca],Nv=Ea.toLowerCase(),Hv=Ea[0].toUpperCase()+Ea.slice(1);xr(Nv,"on"+Hv)}xr(oh,"onAnimationEnd"),xr(ah,"onAnimationIteration"),xr(lh,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(ch,"onTransitionEnd"),S("onMouseEnter",["mouseout","mouseover"]),S("onMouseLeave",["mouseout","mouseover"]),S("onPointerEnter",["pointerout","pointerover"]),S("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jv=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function dh(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,N_(l,t,void 0,e),e.currentTarget=null}function fh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],g=l.event;l=l.listeners;e:{var b=void 0;if(t)for(var M=l.length-1;0<=M;M--){var j=l[M],U=j.instance,J=j.currentTarget;if(j=j.listener,U!==b&&g.isPropagationStopped())break e;dh(g,j,J),b=U}else for(M=0;M<l.length;M++){if(j=l[M],U=j.instance,J=j.currentTarget,j=j.listener,U!==b&&g.isPropagationStopped())break e;dh(g,j,J),b=U}}}if(ls)throw e=ea,ls=!1,ea=null,e}function Oe(e,t){var n=t[Da];n===void 0&&(n=t[Da]=new Set);var l=e+"__bubble";n.has(l)||(ph(t,e,2,!1),n.add(l))}function xa(e,t,n){var l=0;t&&(l|=4),ph(n,e,l,t)}var bs="_reactListening"+Math.random().toString(36).slice(2);function vn(e){if(!e[bs]){e[bs]=!0,c.forEach(function(n){n!=="selectionchange"&&(jv.has(n)||xa(n,!1,e),xa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bs]||(t[bs]=!0,xa("selectionchange",!1,t))}}function ph(e,t,n,l){switch(Fu(t)){case 1:var g=ev;break;case 4:g=tv;break;default:g=aa}n=g.bind(null,t,n,e),g=void 0,!Zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),l?g!==void 0?e.addEventListener(t,n,{capture:!0,passive:g}):e.addEventListener(t,n,!0):g!==void 0?e.addEventListener(t,n,{passive:g}):e.addEventListener(t,n,!1)}function ba(e,t,n,l,g){var b=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var M=l.tag;if(M===3||M===4){var j=l.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(M===4)for(M=l.return;M!==null;){var U=M.tag;if((U===3||U===4)&&(U=M.stateNode.containerInfo,U===g||U.nodeType===8&&U.parentNode===g))return;M=M.return}for(;j!==null;){if(M=qr(j),M===null)return;if(U=M.tag,U===5||U===6){l=b=M;continue e}j=j.parentNode}}l=l.return}yu(function(){var J=b,se=Yo(n),ae=[];e:{var ne=uh.get(e);if(ne!==void 0){var fe=ua,me=e;switch(e){case"keypress":if(ys(n)===0)break e;case"keydown":case"keyup":fe=_v;break;case"focusin":me="focus",fe=fa;break;case"focusout":me="blur",fe=fa;break;case"beforeblur":case"afterblur":fe=fa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=nv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=yv;break;case oh:case ah:case lh:fe=av;break;case ch:fe=wv;break;case"scroll":fe=rv;break;case"wheel":fe=Ev;break;case"copy":case"cut":case"paste":fe=cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Uu}var _e=(t&4)!==0,$e=!_e&&e==="scroll",K=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var $=J,G;$!==null;){G=$;var le=G.stateNode;if(G.tag===5&&le!==null&&(G=le,K!==null&&(le=Qi($,K),le!=null&&_e.push(gn($,le,G)))),$e)break;$=$.return}0<_e.length&&(ne=new fe(ne,me,null,n,se),ae.push({event:ne,listeners:_e}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",ne&&n!==Xo&&(me=n.relatedTarget||n.fromElement)&&(qr(me)||me[rr]))break e;if((fe||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(me=n.relatedTarget||n.toElement,fe=J,me=me?qr(me):null,me!==null&&($e=Kr(me),me!==$e||me.tag!==5&&me.tag!==6)&&(me=null)):(fe=null,me=J),fe!==me)){if(_e=ju,le="onMouseLeave",K="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Uu,le="onPointerLeave",K="onPointerEnter",$="pointer"),$e=fe==null?ne:Ei(fe),G=me==null?ne:Ei(me),ne=new _e(le,$+"leave",fe,n,se),ne.target=$e,ne.relatedTarget=G,le=null,qr(se)===J&&(_e=new _e(K,$+"enter",me,n,se),_e.target=G,_e.relatedTarget=$e,le=_e),$e=le,fe&&me)t:{for(_e=fe,K=me,$=0,G=_e;G;G=wi(G))$++;for(G=0,le=K;le;le=wi(le))G++;for(;0<$-G;)_e=wi(_e),$--;for(;0<G-$;)K=wi(K),G--;for(;$--;){if(_e===K||K!==null&&_e===K.alternate)break t;_e=wi(_e),K=wi(K)}_e=null}else _e=null;fe!==null&&mh(ae,ne,fe,_e,!1),me!==null&&$e!==null&&mh(ae,$e,me,_e,!0)}}e:{if(ne=J?Ei(J):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var ve=Pv;else if(Gu(ne))if(Yu)ve=Bv;else{ve=Av;var ye=Dv}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ve=Mv);if(ve&&(ve=ve(e,J))){Xu(ae,ve,n,se);break e}ye&&ye(e,ne,J),e==="focusout"&&(ye=ne._wrapperState)&&ye.controlled&&ne.type==="number"&&Wr(ne,"number",ne.value)}switch(ye=J?Ei(J):window,e){case"focusin":(Gu(ye)||ye.contentEditable==="true")&&(yi=ye,ya=J,mn=null);break;case"focusout":mn=ya=yi=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,nh(ae,n,se);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":nh(ae,n,se)}var Se;if(ma)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else gi?Ku(e,n)&&(Ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ee="onCompositionStart");Ee&&(Wu&&n.locale!=="ko"&&(gi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&gi&&(Se=Nu()):(Er=se,ca="value"in Er?Er.value:Er.textContent,gi=!0)),ye=ks(J,Ee),0<ye.length&&(Ee=new Vu(Ee,e,null,n,se),ae.push({event:Ee,listeners:ye}),Se?Ee.data=Se:(Se=qu(n),Se!==null&&(Ee.data=Se)))),(Se=bv?kv(e,n):Rv(e,n))&&(J=ks(J,"onBeforeInput"),0<J.length&&(se=new Vu("onBeforeInput","beforeinput",null,n,se),ae.push({event:se,listeners:J}),se.data=Se))}fh(ae,t)})}function gn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ks(e,t){for(var n=t+"Capture",l=[];e!==null;){var g=e,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=Qi(e,n),b!=null&&l.unshift(gn(e,b,g)),b=Qi(e,t),b!=null&&l.push(gn(e,b,g))),e=e.return}return l}function wi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mh(e,t,n,l,g){for(var b=t._reactName,M=[];n!==null&&n!==l;){var j=n,U=j.alternate,J=j.stateNode;if(U!==null&&U===l)break;j.tag===5&&J!==null&&(j=J,g?(U=Qi(n,b),U!=null&&M.unshift(gn(n,U,j))):g||(U=Qi(n,b),U!=null&&M.push(gn(n,U,j)))),n=n.return}M.length!==0&&e.push({event:t,listeners:M})}var Vv=/\r\n?/g,Uv=/\u0000|\uFFFD/g;function _h(e){return(typeof e=="string"?e:""+e).replace(Vv,`
`).replace(Uv,"")}function Rs(e,t,n){if(t=_h(t),_h(e)!==t&&n)throw Error(s(425))}function Ls(){}var ka=null,Ra=null;function La(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ta=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,vh=typeof Promise=="function"?Promise:void 0,zv=typeof queueMicrotask=="function"?queueMicrotask:typeof vh<"u"?function(e){return vh.resolve(null).then(e).catch($v)}:Ta;function $v(e){setTimeout(function(){throw e})}function Pa(e,t){var n=t,l=0;do{var g=n.nextSibling;if(e.removeChild(n),g&&g.nodeType===8)if(n=g.data,n==="/$"){if(l===0){e.removeChild(g),ln(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=g}while(n);ln(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ci,yn="__reactProps$"+Ci,rr="__reactContainer$"+Ci,Da="__reactEvents$"+Ci,Kv="__reactListeners$"+Ci,qv="__reactHandles$"+Ci;function qr(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rr]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gh(e);e!==null;){if(n=e[Gt])return n;e=gh(e)}return t}e=n,n=e.parentNode}return null}function Sn(e){return e=e[Gt]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ts(e){return e[yn]||null}var Aa=[],xi=-1;function kr(e){return{current:e}}function Ie(e){0>xi||(e.current=Aa[xi],Aa[xi]=null,xi--)}function De(e,t){xi++,Aa[xi]=e.current,e.current=t}var Rr={},it=kr(Rr),pt=kr(!1),Gr=Rr;function bi(e,t){var n=e.type.contextTypes;if(!n)return Rr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in n)g[b]=t[b];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function mt(e){return e=e.childContextTypes,e!=null}function Ps(){Ie(pt),Ie(it)}function yh(e,t,n){if(it.current!==Rr)throw Error(s(168));De(it,t),De(pt,n)}function Sh(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var g in l)if(!(g in t))throw Error(s(108,W(e)||"Unknown",g));return I({},n,l)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rr,Gr=it.current,De(it,e),De(pt,pt.current),!0}function wh(e,t,n){var l=e.stateNode;if(!l)throw Error(s(169));n?(e=Sh(e,t,Gr),l.__reactInternalMemoizedMergedChildContext=e,Ie(pt),Ie(it),De(it,e)):Ie(pt),De(pt,n)}var ir=null,As=!1,Ma=!1;function Ch(e){ir===null?ir=[e]:ir.push(e)}function Gv(e){As=!0,Ch(e)}function Lr(){if(!Ma&&ir!==null){Ma=!0;var e=0,t=Te;try{var n=ir;for(Te=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}ir=null,As=!1}catch(g){throw ir!==null&&(ir=ir.slice(e+1)),xu(ta,Lr),g}finally{Te=t,Ma=!1}}return null}var ki=[],Ri=0,Ms=null,Bs=0,Lt=[],Tt=0,Xr=null,nr=1,sr="";function Yr(e,t){ki[Ri++]=Bs,ki[Ri++]=Ms,Ms=e,Bs=t}function Eh(e,t,n){Lt[Tt++]=nr,Lt[Tt++]=sr,Lt[Tt++]=Xr,Xr=e;var l=nr;e=sr;var g=32-Ft(l)-1;l&=~(1<<g),n+=1;var b=32-Ft(t)+g;if(30<b){var M=g-g%5;b=(l&(1<<M)-1).toString(32),l>>=M,g-=M,nr=1<<32-Ft(t)+g|n<<g|l,sr=b+e}else nr=1<<b|n<<g|l,sr=e}function Ba(e){e.return!==null&&(Yr(e,1),Eh(e,1,0))}function Oa(e){for(;e===Ms;)Ms=ki[--Ri],ki[Ri]=null,Bs=ki[--Ri],ki[Ri]=null;for(;e===Xr;)Xr=Lt[--Tt],Lt[Tt]=null,sr=Lt[--Tt],Lt[Tt]=null,nr=Lt[--Tt],Lt[Tt]=null}var Et=null,xt=null,Fe=!1,Ht=null;function xh(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,xt=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xr!==null?{id:nr,overflow:sr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,xt=null,!0):!1;default:return!1}}function Ia(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fa(e){if(Fe){var t=xt;if(t){var n=t;if(!bh(e,t)){if(Ia(e))throw Error(s(418));t=br(n.nextSibling);var l=Et;t&&bh(e,t)?xh(l,n):(e.flags=e.flags&-4097|2,Fe=!1,Et=e)}}else{if(Ia(e))throw Error(s(418));e.flags=e.flags&-4097|2,Fe=!1,Et=e}}}function kh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Os(e){if(e!==Et)return!1;if(!Fe)return kh(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!La(e.type,e.memoizedProps)),t&&(t=xt)){if(Ia(e))throw Rh(),Error(s(418));for(;t;)xh(e,t),t=br(t.nextSibling)}if(kh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=Et?br(e.stateNode.nextSibling):null;return!0}function Rh(){for(var e=xt;e;)e=br(e.nextSibling)}function Li(){xt=Et=null,Fe=!1}function Na(e){Ht===null?Ht=[e]:Ht.push(e)}var Xv=C.ReactCurrentBatchConfig;function wn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var l=n.stateNode}if(!l)throw Error(s(147,e));var g=l,b=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===b?t.ref:(t=function(M){var j=g.refs;M===null?delete j[b]:j[b]=M},t._stringRef=b,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Is(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lh(e){var t=e._init;return t(e._payload)}function Th(e){function t(K,$){if(e){var G=K.deletions;G===null?(K.deletions=[$],K.flags|=16):G.push($)}}function n(K,$){if(!e)return null;for(;$!==null;)t(K,$),$=$.sibling;return null}function l(K,$){for(K=new Map;$!==null;)$.key!==null?K.set($.key,$):K.set($.index,$),$=$.sibling;return K}function g(K,$){return K=Ir(K,$),K.index=0,K.sibling=null,K}function b(K,$,G){return K.index=G,e?(G=K.alternate,G!==null?(G=G.index,G<$?(K.flags|=2,$):G):(K.flags|=2,$)):(K.flags|=1048576,$)}function M(K){return e&&K.alternate===null&&(K.flags|=2),K}function j(K,$,G,le){return $===null||$.tag!==6?($=Tl(G,K.mode,le),$.return=K,$):($=g($,G),$.return=K,$)}function U(K,$,G,le){var ve=G.type;return ve===P?se(K,$,G.props.children,le,G.key):$!==null&&($.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===oe&&Lh(ve)===$.type)?(le=g($,G.props),le.ref=wn(K,$,G),le.return=K,le):(le=oo(G.type,G.key,G.props,null,K.mode,le),le.ref=wn(K,$,G),le.return=K,le)}function J(K,$,G,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=Pl(G,K.mode,le),$.return=K,$):($=g($,G.children||[]),$.return=K,$)}function se(K,$,G,le,ve){return $===null||$.tag!==7?($=ni(G,K.mode,le,ve),$.return=K,$):($=g($,G),$.return=K,$)}function ae(K,$,G){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Tl(""+$,K.mode,G),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return G=oo($.type,$.key,$.props,null,K.mode,G),G.ref=wn(K,null,$),G.return=K,G;case T:return $=Pl($,K.mode,G),$.return=K,$;case oe:var le=$._init;return ae(K,le($._payload),G)}if(tr($)||D($))return $=ni($,K.mode,G,null),$.return=K,$;Is(K,$)}return null}function ne(K,$,G,le){var ve=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ve!==null?null:j(K,$,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case L:return G.key===ve?U(K,$,G,le):null;case T:return G.key===ve?J(K,$,G,le):null;case oe:return ve=G._init,ne(K,$,ve(G._payload),le)}if(tr(G)||D(G))return ve!==null?null:se(K,$,G,le,null);Is(K,G)}return null}function fe(K,$,G,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number")return K=K.get(G)||null,j($,K,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case L:return K=K.get(le.key===null?G:le.key)||null,U($,K,le,ve);case T:return K=K.get(le.key===null?G:le.key)||null,J($,K,le,ve);case oe:var ye=le._init;return fe(K,$,G,ye(le._payload),ve)}if(tr(le)||D(le))return K=K.get(G)||null,se($,K,le,ve,null);Is($,le)}return null}function me(K,$,G,le){for(var ve=null,ye=null,Se=$,Ee=$=0,Qe=null;Se!==null&&Ee<G.length;Ee++){Se.index>Ee?(Qe=Se,Se=null):Qe=Se.sibling;var Re=ne(K,Se,G[Ee],le);if(Re===null){Se===null&&(Se=Qe);break}e&&Se&&Re.alternate===null&&t(K,Se),$=b(Re,$,Ee),ye===null?ve=Re:ye.sibling=Re,ye=Re,Se=Qe}if(Ee===G.length)return n(K,Se),Fe&&Yr(K,Ee),ve;if(Se===null){for(;Ee<G.length;Ee++)Se=ae(K,G[Ee],le),Se!==null&&($=b(Se,$,Ee),ye===null?ve=Se:ye.sibling=Se,ye=Se);return Fe&&Yr(K,Ee),ve}for(Se=l(K,Se);Ee<G.length;Ee++)Qe=fe(Se,K,Ee,G[Ee],le),Qe!==null&&(e&&Qe.alternate!==null&&Se.delete(Qe.key===null?Ee:Qe.key),$=b(Qe,$,Ee),ye===null?ve=Qe:ye.sibling=Qe,ye=Qe);return e&&Se.forEach(function(Fr){return t(K,Fr)}),Fe&&Yr(K,Ee),ve}function _e(K,$,G,le){var ve=D(G);if(typeof ve!="function")throw Error(s(150));if(G=ve.call(G),G==null)throw Error(s(151));for(var ye=ve=null,Se=$,Ee=$=0,Qe=null,Re=G.next();Se!==null&&!Re.done;Ee++,Re=G.next()){Se.index>Ee?(Qe=Se,Se=null):Qe=Se.sibling;var Fr=ne(K,Se,Re.value,le);if(Fr===null){Se===null&&(Se=Qe);break}e&&Se&&Fr.alternate===null&&t(K,Se),$=b(Fr,$,Ee),ye===null?ve=Fr:ye.sibling=Fr,ye=Fr,Se=Qe}if(Re.done)return n(K,Se),Fe&&Yr(K,Ee),ve;if(Se===null){for(;!Re.done;Ee++,Re=G.next())Re=ae(K,Re.value,le),Re!==null&&($=b(Re,$,Ee),ye===null?ve=Re:ye.sibling=Re,ye=Re);return Fe&&Yr(K,Ee),ve}for(Se=l(K,Se);!Re.done;Ee++,Re=G.next())Re=fe(Se,K,Ee,Re.value,le),Re!==null&&(e&&Re.alternate!==null&&Se.delete(Re.key===null?Ee:Re.key),$=b(Re,$,Ee),ye===null?ve=Re:ye.sibling=Re,ye=Re);return e&&Se.forEach(function(Lg){return t(K,Lg)}),Fe&&Yr(K,Ee),ve}function $e(K,$,G,le){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case L:e:{for(var ve=G.key,ye=$;ye!==null;){if(ye.key===ve){if(ve=G.type,ve===P){if(ye.tag===7){n(K,ye.sibling),$=g(ye,G.props.children),$.return=K,K=$;break e}}else if(ye.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===oe&&Lh(ve)===ye.type){n(K,ye.sibling),$=g(ye,G.props),$.ref=wn(K,ye,G),$.return=K,K=$;break e}n(K,ye);break}else t(K,ye);ye=ye.sibling}G.type===P?($=ni(G.props.children,K.mode,le,G.key),$.return=K,K=$):(le=oo(G.type,G.key,G.props,null,K.mode,le),le.ref=wn(K,$,G),le.return=K,K=le)}return M(K);case T:e:{for(ye=G.key;$!==null;){if($.key===ye)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){n(K,$.sibling),$=g($,G.children||[]),$.return=K,K=$;break e}else{n(K,$);break}else t(K,$);$=$.sibling}$=Pl(G,K.mode,le),$.return=K,K=$}return M(K);case oe:return ye=G._init,$e(K,$,ye(G._payload),le)}if(tr(G))return me(K,$,G,le);if(D(G))return _e(K,$,G,le);Is(K,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,$!==null&&$.tag===6?(n(K,$.sibling),$=g($,G),$.return=K,K=$):(n(K,$),$=Tl(G,K.mode,le),$.return=K,K=$),M(K)):n(K,$)}return $e}var Ti=Th(!0),Ph=Th(!1),Fs=kr(null),Ns=null,Pi=null,Ha=null;function ja(){Ha=Pi=Ns=null}function Va(e){var t=Fs.current;Ie(Fs),e._currentValue=t}function Ua(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Di(e,t){Ns=e,Ha=Pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_t=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Ha!==e)if(e={context:e,memoizedValue:t,next:null},Pi===null){if(Ns===null)throw Error(s(308));Pi=e,Ns.dependencies={lanes:0,firstContext:e}}else Pi=Pi.next=e;return t}var Jr=null;function Wa(e){Jr===null?Jr=[e]:Jr.push(e)}function Dh(e,t,n,l){var g=t.interleaved;return g===null?(n.next=n,Wa(t)):(n.next=g.next,g.next=n),t.interleaved=n,or(e,l)}function or(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tr=!1;function za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ah(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var g=l.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),l.pending=t,or(e,n)}return g=l.interleaved,g===null?(t.next=t,Wa(l)):(t.next=g.next,g.next=t),l.interleaved=t,or(e,n)}function Hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,na(e,n)}}function Mh(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var g=null,b=null;if(n=n.firstBaseUpdate,n!==null){do{var M={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};b===null?g=b=M:b=b.next=M,n=n.next}while(n!==null);b===null?g=b=t:b=b.next=t}else g=b=t;n={baseState:l.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,l){var g=e.updateQueue;Tr=!1;var b=g.firstBaseUpdate,M=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var U=j,J=U.next;U.next=null,M===null?b=J:M.next=J,M=U;var se=e.alternate;se!==null&&(se=se.updateQueue,j=se.lastBaseUpdate,j!==M&&(j===null?se.firstBaseUpdate=J:j.next=J,se.lastBaseUpdate=U))}if(b!==null){var ae=g.baseState;M=0,se=J=U=null,j=b;do{var ne=j.lane,fe=j.eventTime;if((l&ne)===ne){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var me=e,_e=j;switch(ne=t,fe=n,_e.tag){case 1:if(me=_e.payload,typeof me=="function"){ae=me.call(fe,ae,ne);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,ne=typeof me=="function"?me.call(fe,ae,ne):me,ne==null)break e;ae=I({},ae,ne);break e;case 2:Tr=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,ne=g.effects,ne===null?g.effects=[j]:ne.push(j))}else fe={eventTime:fe,lane:ne,tag:j.tag,payload:j.payload,callback:j.callback,next:null},se===null?(J=se=fe,U=ae):se=se.next=fe,M|=ne;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;ne=j,j=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(se===null&&(U=ae),g.baseState=U,g.firstBaseUpdate=J,g.lastBaseUpdate=se,t=g.shared.interleaved,t!==null){g=t;do M|=g.lane,g=g.next;while(g!==t)}else b===null&&(g.shared.lanes=0);ei|=M,e.lanes=M,e.memoizedState=ae}}function Bh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],g=l.callback;if(g!==null){if(l.callback=null,l=n,typeof g!="function")throw Error(s(191,g));g.call(l)}}}var Cn={},Xt=kr(Cn),En=kr(Cn),xn=kr(Cn);function Qr(e){if(e===Cn)throw Error(s(174));return e}function $a(e,t){switch(De(xn,t),De(En,e),De(Xt,Cn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zr(t,e)}Ie(Xt),De(Xt,t)}function Ai(){Ie(Xt),Ie(En),Ie(xn)}function Oh(e){Qr(xn.current);var t=Qr(Xt.current),n=zr(t,e.type);t!==n&&(De(En,e),De(Xt,n))}function Ka(e){En.current===e&&(Ie(Xt),Ie(En))}var Ne=kr(0);function Vs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qa=[];function Ga(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var Us=C.ReactCurrentDispatcher,Xa=C.ReactCurrentBatchConfig,Zr=0,He=null,Ge=null,Ye=null,Ws=!1,bn=!1,kn=0,Yv=0;function nt(){throw Error(s(321))}function Ya(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nt(e[n],t[n]))return!1;return!0}function Ja(e,t,n,l,g,b){if(Zr=b,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Us.current=e===null||e.memoizedState===null?eg:tg,e=n(l,g),bn){b=0;do{if(bn=!1,kn=0,25<=b)throw Error(s(301));b+=1,Ye=Ge=null,t.updateQueue=null,Us.current=rg,e=n(l,g)}while(bn)}if(Us.current=Ks,t=Ge!==null&&Ge.next!==null,Zr=0,Ye=Ge=He=null,Ws=!1,t)throw Error(s(300));return e}function Qa(){var e=kn!==0;return kn=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?He.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Dt(){if(Ge===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=Ye===null?He.memoizedState:Ye.next;if(t!==null)Ye=t,Ge=e;else{if(e===null)throw Error(s(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ye===null?He.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Rn(e,t){return typeof t=="function"?t(e):t}function Za(e){var t=Dt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var l=Ge,g=l.baseQueue,b=n.pending;if(b!==null){if(g!==null){var M=g.next;g.next=b.next,b.next=M}l.baseQueue=g=b,n.pending=null}if(g!==null){b=g.next,l=l.baseState;var j=M=null,U=null,J=b;do{var se=J.lane;if((Zr&se)===se)U!==null&&(U=U.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),l=J.hasEagerState?J.eagerState:e(l,J.action);else{var ae={lane:se,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};U===null?(j=U=ae,M=l):U=U.next=ae,He.lanes|=se,ei|=se}J=J.next}while(J!==null&&J!==b);U===null?M=l:U.next=j,Nt(l,t.memoizedState)||(_t=!0),t.memoizedState=l,t.baseState=M,t.baseQueue=U,n.lastRenderedState=l}if(e=n.interleaved,e!==null){g=e;do b=g.lane,He.lanes|=b,ei|=b,g=g.next;while(g!==e)}else g===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function el(e){var t=Dt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var l=n.dispatch,g=n.pending,b=t.memoizedState;if(g!==null){n.pending=null;var M=g=g.next;do b=e(b,M.action),M=M.next;while(M!==g);Nt(b,t.memoizedState)||(_t=!0),t.memoizedState=b,t.baseQueue===null&&(t.baseState=b),n.lastRenderedState=b}return[b,l]}function Ih(){}function Fh(e,t){var n=He,l=Dt(),g=t(),b=!Nt(l.memoizedState,g);if(b&&(l.memoizedState=g,_t=!0),l=l.queue,tl(jh.bind(null,n,l,e),[e]),l.getSnapshot!==t||b||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,Ln(9,Hh.bind(null,n,l,g,t),void 0,null),Je===null)throw Error(s(349));(Zr&30)!==0||Nh(n,t,g)}return g}function Nh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hh(e,t,n,l){t.value=n,t.getSnapshot=l,Vh(t)&&Uh(e)}function jh(e,t,n){return n(function(){Vh(t)&&Uh(e)})}function Vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nt(e,n)}catch{return!0}}function Uh(e){var t=or(e,1);t!==null&&Wt(t,e,1,-1)}function Wh(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},t.queue=e,e=e.dispatch=Zv.bind(null,He,e),[t.memoizedState,e]}function Ln(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function zh(){return Dt().memoizedState}function zs(e,t,n,l){var g=Yt();He.flags|=e,g.memoizedState=Ln(1|t,n,void 0,l===void 0?null:l)}function $s(e,t,n,l){var g=Dt();l=l===void 0?null:l;var b=void 0;if(Ge!==null){var M=Ge.memoizedState;if(b=M.destroy,l!==null&&Ya(l,M.deps)){g.memoizedState=Ln(t,n,b,l);return}}He.flags|=e,g.memoizedState=Ln(1|t,n,b,l)}function $h(e,t){return zs(8390656,8,e,t)}function tl(e,t){return $s(2048,8,e,t)}function Kh(e,t){return $s(4,2,e,t)}function qh(e,t){return $s(4,4,e,t)}function Gh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xh(e,t,n){return n=n!=null?n.concat([e]):null,$s(4,4,Gh.bind(null,t,e),n)}function rl(){}function Yh(e,t){var n=Dt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Ya(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Jh(e,t){var n=Dt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Ya(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function Qh(e,t,n){return(Zr&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n):(Nt(n,t)||(n=Lu(),He.lanes|=n,ei|=n,e.baseState=!0),t)}function Jv(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var l=Xa.transition;Xa.transition={};try{e(!1),t()}finally{Te=n,Xa.transition=l}}function Zh(){return Dt().memoizedState}function Qv(e,t,n){var l=Br(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},ed(e))td(t,n);else if(n=Dh(e,t,n,l),n!==null){var g=ht();Wt(n,e,l,g),rd(n,t,l)}}function Zv(e,t,n){var l=Br(e),g={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(ed(e))td(t,g);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=t.lastRenderedReducer,b!==null))try{var M=t.lastRenderedState,j=b(M,n);if(g.hasEagerState=!0,g.eagerState=j,Nt(j,M)){var U=t.interleaved;U===null?(g.next=g,Wa(t)):(g.next=U.next,U.next=g),t.interleaved=g;return}}catch{}finally{}n=Dh(e,t,g,l),n!==null&&(g=ht(),Wt(n,e,l,g),rd(n,t,l))}}function ed(e){var t=e.alternate;return e===He||t!==null&&t===He}function td(e,t){bn=Ws=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rd(e,t,n){if((n&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,na(e,n)}}var Ks={readContext:Pt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},eg={readContext:Pt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:$h,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zs(4194308,4,Gh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=Yt();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Qv.bind(null,He,e),[l.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Wh,useDebugValue:rl,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Wh(!1),t=e[0];return e=Jv.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=He,g=Yt();if(Fe){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Je===null)throw Error(s(349));(Zr&30)!==0||Nh(l,t,n)}g.memoizedState=n;var b={value:n,getSnapshot:t};return g.queue=b,$h(jh.bind(null,l,b,e),[e]),l.flags|=2048,Ln(9,Hh.bind(null,l,b,n,t),void 0,null),n},useId:function(){var e=Yt(),t=Je.identifierPrefix;if(Fe){var n=sr,l=nr;n=(l&~(1<<32-Ft(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=kn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tg={readContext:Pt,useCallback:Yh,useContext:Pt,useEffect:tl,useImperativeHandle:Xh,useInsertionEffect:Kh,useLayoutEffect:qh,useMemo:Jh,useReducer:Za,useRef:zh,useState:function(){return Za(Rn)},useDebugValue:rl,useDeferredValue:function(e){var t=Dt();return Qh(t,Ge.memoizedState,e)},useTransition:function(){var e=Za(Rn)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Ih,useSyncExternalStore:Fh,useId:Zh,unstable_isNewReconciler:!1},rg={readContext:Pt,useCallback:Yh,useContext:Pt,useEffect:tl,useImperativeHandle:Xh,useInsertionEffect:Kh,useLayoutEffect:qh,useMemo:Jh,useReducer:el,useRef:zh,useState:function(){return el(Rn)},useDebugValue:rl,useDeferredValue:function(e){var t=Dt();return Ge===null?t.memoizedState=e:Qh(t,Ge.memoizedState,e)},useTransition:function(){var e=el(Rn)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Ih,useSyncExternalStore:Fh,useId:Zh,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=I({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function il(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:I({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=ht(),g=Br(e),b=ar(l,g);b.payload=t,n!=null&&(b.callback=n),t=Pr(e,b,g),t!==null&&(Wt(t,e,g,l),Hs(t,e,g))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=ht(),g=Br(e),b=ar(l,g);b.tag=1,b.payload=t,n!=null&&(b.callback=n),t=Pr(e,b,g),t!==null&&(Wt(t,e,g,l),Hs(t,e,g))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),l=Br(e),g=ar(n,l);g.tag=2,t!=null&&(g.callback=t),t=Pr(e,g,l),t!==null&&(Wt(t,e,l,n),Hs(t,e,l))}};function id(e,t,n,l,g,b,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,b,M):t.prototype&&t.prototype.isPureReactComponent?!pn(n,l)||!pn(g,b):!0}function nd(e,t,n){var l=!1,g=Rr,b=t.contextType;return typeof b=="object"&&b!==null?b=Pt(b):(g=mt(t)?Gr:it.current,l=t.contextTypes,b=(l=l!=null)?bi(e,g):Rr),t=new t(n,b),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=b),t}function sd(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function nl(e,t,n,l){var g=e.stateNode;g.props=n,g.state=e.memoizedState,g.refs={},za(e);var b=t.contextType;typeof b=="object"&&b!==null?g.context=Pt(b):(b=mt(t)?Gr:it.current,g.context=bi(e,b)),g.state=e.memoizedState,b=t.getDerivedStateFromProps,typeof b=="function"&&(il(e,t,b,n),g.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(t=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),t!==g.state&&qs.enqueueReplaceState(g,g.state,null),js(e,n,g,l),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function Mi(e,t){try{var n="",l=t;do n+=ce(l),l=l.return;while(l);var g=n}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:e,source:t,stack:g,digest:null}}function sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ol(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ig=typeof WeakMap=="function"?WeakMap:Map;function od(e,t,n){n=ar(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){eo||(eo=!0,wl=l),ol(e,t)},n}function ad(e,t,n){n=ar(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var g=t.value;n.payload=function(){return l(g)},n.callback=function(){ol(e,t)}}var b=e.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){ol(e,t),typeof l!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var M=t.stack;this.componentDidCatch(t.value,{componentStack:M!==null?M:""})}),n}function ld(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new ig;var g=new Set;l.set(t,g)}else g=l.get(t),g===void 0&&(g=new Set,l.set(t,g));g.has(n)||(g.add(n),e=vg.bind(null,e,t,n),t.then(e,e))}function cd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ud(e,t,n,l,g){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ar(-1,1),t.tag=2,Pr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=g,e)}var ng=C.ReactCurrentOwner,_t=!1;function ut(e,t,n,l){t.child=e===null?Ph(t,null,n,l):Ti(t,e.child,n,l)}function hd(e,t,n,l,g){n=n.render;var b=t.ref;return Di(t,g),l=Ja(e,t,n,l,b,g),n=Qa(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,lr(e,t,g)):(Fe&&n&&Ba(t),t.flags|=1,ut(e,t,l,g),t.child)}function dd(e,t,n,l,g){if(e===null){var b=n.type;return typeof b=="function"&&!Ll(b)&&b.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=b,fd(e,t,b,l,g)):(e=oo(n.type,null,l,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(b=e.child,(e.lanes&g)===0){var M=b.memoizedProps;if(n=n.compare,n=n!==null?n:pn,n(M,l)&&e.ref===t.ref)return lr(e,t,g)}return t.flags|=1,e=Ir(b,l),e.ref=t.ref,e.return=t,t.child=e}function fd(e,t,n,l,g){if(e!==null){var b=e.memoizedProps;if(pn(b,l)&&e.ref===t.ref)if(_t=!1,t.pendingProps=l=b,(e.lanes&g)!==0)(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,lr(e,t,g)}return al(e,t,n,l,g)}function pd(e,t,n){var l=t.pendingProps,g=l.children,b=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Oi,bt),bt|=n;else{if((n&1073741824)===0)return e=b!==null?b.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(Oi,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=b!==null?b.baseLanes:n,De(Oi,bt),bt|=l}else b!==null?(l=b.baseLanes|n,t.memoizedState=null):l=n,De(Oi,bt),bt|=l;return ut(e,t,g,n),t.child}function md(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function al(e,t,n,l,g){var b=mt(n)?Gr:it.current;return b=bi(t,b),Di(t,g),n=Ja(e,t,n,l,b,g),l=Qa(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,lr(e,t,g)):(Fe&&l&&Ba(t),t.flags|=1,ut(e,t,n,g),t.child)}function _d(e,t,n,l,g){if(mt(n)){var b=!0;Ds(t)}else b=!1;if(Di(t,g),t.stateNode===null)Xs(e,t),nd(t,n,l),nl(t,n,l,g),l=!0;else if(e===null){var M=t.stateNode,j=t.memoizedProps;M.props=j;var U=M.context,J=n.contextType;typeof J=="object"&&J!==null?J=Pt(J):(J=mt(n)?Gr:it.current,J=bi(t,J));var se=n.getDerivedStateFromProps,ae=typeof se=="function"||typeof M.getSnapshotBeforeUpdate=="function";ae||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(j!==l||U!==J)&&sd(t,M,l,J),Tr=!1;var ne=t.memoizedState;M.state=ne,js(t,l,M,g),U=t.memoizedState,j!==l||ne!==U||pt.current||Tr?(typeof se=="function"&&(il(t,n,se,l),U=t.memoizedState),(j=Tr||id(t,n,j,l,ne,U,J))?(ae||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(t.flags|=4194308)):(typeof M.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=U),M.props=l,M.state=U,M.context=J,l=j):(typeof M.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{M=t.stateNode,Ah(e,t),j=t.memoizedProps,J=t.type===t.elementType?j:jt(t.type,j),M.props=J,ae=t.pendingProps,ne=M.context,U=n.contextType,typeof U=="object"&&U!==null?U=Pt(U):(U=mt(n)?Gr:it.current,U=bi(t,U));var fe=n.getDerivedStateFromProps;(se=typeof fe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(j!==ae||ne!==U)&&sd(t,M,l,U),Tr=!1,ne=t.memoizedState,M.state=ne,js(t,l,M,g);var me=t.memoizedState;j!==ae||ne!==me||pt.current||Tr?(typeof fe=="function"&&(il(t,n,fe,l),me=t.memoizedState),(J=Tr||id(t,n,J,l,ne,me,U)||!1)?(se||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(l,me,U),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(l,me,U)),typeof M.componentDidUpdate=="function"&&(t.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof M.componentDidUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=me),M.props=l,M.state=me,M.context=U,l=J):(typeof M.componentDidUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return ll(e,t,n,l,b,g)}function ll(e,t,n,l,g,b){md(e,t);var M=(t.flags&128)!==0;if(!l&&!M)return g&&wh(t,n,!1),lr(e,t,b);l=t.stateNode,ng.current=t;var j=M&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&M?(t.child=Ti(t,e.child,null,b),t.child=Ti(t,null,j,b)):ut(e,t,j,b),t.memoizedState=l.state,g&&wh(t,n,!0),t.child}function vd(e){var t=e.stateNode;t.pendingContext?yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yh(e,t.context,!1),$a(e,t.containerInfo)}function gd(e,t,n,l,g){return Li(),Na(g),t.flags|=256,ut(e,t,n,l),t.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function yd(e,t,n){var l=t.pendingProps,g=Ne.current,b=!1,M=(t.flags&128)!==0,j;if((j=M)||(j=e!==null&&e.memoizedState===null?!1:(g&2)!==0),j?(b=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),De(Ne,g&1),e===null)return Fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(M=l.children,e=l.fallback,b?(l=t.mode,b=t.child,M={mode:"hidden",children:M},(l&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=M):b=ao(M,l,0,null),e=ni(e,l,n,null),b.return=t,e.return=t,b.sibling=e,t.child=b,t.child.memoizedState=ul(n),t.memoizedState=cl,e):hl(t,M));if(g=e.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return sg(e,t,M,l,j,g,n);if(b){b=l.fallback,M=t.mode,g=e.child,j=g.sibling;var U={mode:"hidden",children:l.children};return(M&1)===0&&t.child!==g?(l=t.child,l.childLanes=0,l.pendingProps=U,t.deletions=null):(l=Ir(g,U),l.subtreeFlags=g.subtreeFlags&14680064),j!==null?b=Ir(j,b):(b=ni(b,M,n,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,l=b,b=t.child,M=e.child.memoizedState,M=M===null?ul(n):{baseLanes:M.baseLanes|n,cachePool:null,transitions:M.transitions},b.memoizedState=M,b.childLanes=e.childLanes&~n,t.memoizedState=cl,l}return b=e.child,e=b.sibling,l=Ir(b,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function hl(e,t){return t=ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,n,l){return l!==null&&Na(l),Ti(t,e.child,null,n),e=hl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sg(e,t,n,l,g,b,M){if(n)return t.flags&256?(t.flags&=-257,l=sl(Error(s(422))),Gs(e,t,M,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(b=l.fallback,g=t.mode,l=ao({mode:"visible",children:l.children},g,0,null),b=ni(b,g,M,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,(t.mode&1)!==0&&Ti(t,e.child,null,M),t.child.memoizedState=ul(M),t.memoizedState=cl,b);if((t.mode&1)===0)return Gs(e,t,M,null);if(g.data==="$!"){if(l=g.nextSibling&&g.nextSibling.dataset,l)var j=l.dgst;return l=j,b=Error(s(419)),l=sl(b,l,void 0),Gs(e,t,M,l)}if(j=(M&e.childLanes)!==0,_t||j){if(l=Je,l!==null){switch(M&-M){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(l.suspendedLanes|M))!==0?0:g,g!==0&&g!==b.retryLane&&(b.retryLane=g,or(e,g),Wt(l,e,g,-1))}return Rl(),l=sl(Error(s(421))),Gs(e,t,M,l)}return g.data==="$?"?(t.flags|=128,t.child=e.child,t=gg.bind(null,e),g._reactRetry=t,null):(e=b.treeContext,xt=br(g.nextSibling),Et=t,Fe=!0,Ht=null,e!==null&&(Lt[Tt++]=nr,Lt[Tt++]=sr,Lt[Tt++]=Xr,nr=e.id,sr=e.overflow,Xr=t),t=hl(t,l.children),t.flags|=4096,t)}function Sd(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ua(e.return,t,n)}function dl(e,t,n,l,g){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:g}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=n,b.tailMode=g)}function wd(e,t,n){var l=t.pendingProps,g=l.revealOrder,b=l.tail;if(ut(e,t,l.children,n),l=Ne.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,n,t);else if(e.tag===19)Sd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(De(Ne,l),(t.mode&1)===0)t.memoizedState=null;else switch(g){case"forwards":for(n=t.child,g=null;n!==null;)e=n.alternate,e!==null&&Vs(e)===null&&(g=n),n=n.sibling;n=g,n===null?(g=t.child,t.child=null):(g=n.sibling,n.sibling=null),dl(t,!1,g,n,b);break;case"backwards":for(n=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Vs(e)===null){t.child=g;break}e=g.sibling,g.sibling=n,n=g,g=e}dl(t,!0,n,null,b);break;case"together":dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ei|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function og(e,t,n){switch(t.tag){case 3:vd(t),Li();break;case 5:Oh(t);break;case 1:mt(t.type)&&Ds(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,g=t.memoizedProps.value;De(Fs,l._currentValue),l._currentValue=g;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(De(Ne,Ne.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?yd(e,t,n):(De(Ne,Ne.current&1),e=lr(e,t,n),e!==null?e.sibling:null);De(Ne,Ne.current&1);break;case 19:if(l=(n&t.childLanes)!==0,(e.flags&128)!==0){if(l)return wd(e,t,n);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),De(Ne,Ne.current),l)break;return null;case 22:case 23:return t.lanes=0,pd(e,t,n)}return lr(e,t,n)}var Cd,fl,Ed,xd;Cd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},fl=function(){},Ed=function(e,t,n,l){var g=e.memoizedProps;if(g!==l){e=t.stateNode,Qr(Xt.current);var b=null;switch(n){case"input":g=Pe(e,g),l=Pe(e,l),b=[];break;case"select":g=I({},g,{value:void 0}),l=I({},l,{value:void 0}),b=[];break;case"textarea":g=_r(e,g),l=_r(e,l),b=[];break;default:typeof g.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ls)}qo(n,l);var M;n=null;for(J in g)if(!l.hasOwnProperty(J)&&g.hasOwnProperty(J)&&g[J]!=null)if(J==="style"){var j=g[J];for(M in j)j.hasOwnProperty(M)&&(n||(n={}),n[M]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(_.hasOwnProperty(J)?b||(b=[]):(b=b||[]).push(J,null));for(J in l){var U=l[J];if(j=g!=null?g[J]:void 0,l.hasOwnProperty(J)&&U!==j&&(U!=null||j!=null))if(J==="style")if(j){for(M in j)!j.hasOwnProperty(M)||U&&U.hasOwnProperty(M)||(n||(n={}),n[M]="");for(M in U)U.hasOwnProperty(M)&&j[M]!==U[M]&&(n||(n={}),n[M]=U[M])}else n||(b||(b=[]),b.push(J,n)),n=U;else J==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,j=j?j.__html:void 0,U!=null&&j!==U&&(b=b||[]).push(J,U)):J==="children"?typeof U!="string"&&typeof U!="number"||(b=b||[]).push(J,""+U):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(_.hasOwnProperty(J)?(U!=null&&J==="onScroll"&&Oe("scroll",e),b||j===U||(b=[])):(b=b||[]).push(J,U))}n&&(b=b||[]).push("style",n);var J=b;(t.updateQueue=J)&&(t.flags|=4)}},xd=function(e,t,n,l){n!==l&&(t.flags|=4)};function Tn(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var g=e.child;g!==null;)n|=g.lanes|g.childLanes,l|=g.subtreeFlags&14680064,l|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)n|=g.lanes|g.childLanes,l|=g.subtreeFlags,l|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function ag(e,t,n){var l=t.pendingProps;switch(Oa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return mt(t.type)&&Ps(),st(t),null;case 3:return l=t.stateNode,Ai(),Ie(pt),Ie(it),Ga(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ht!==null&&(xl(Ht),Ht=null))),fl(e,t),st(t),null;case 5:Ka(t);var g=Qr(xn.current);if(n=t.type,e!==null&&t.stateNode!=null)Ed(e,t,n,l,g),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(s(166));return st(t),null}if(e=Qr(Xt.current),Os(t)){l=t.stateNode,n=t.type;var b=t.memoizedProps;switch(l[Gt]=t,l[yn]=b,e=(t.mode&1)!==0,n){case"dialog":Oe("cancel",l),Oe("close",l);break;case"iframe":case"object":case"embed":Oe("load",l);break;case"video":case"audio":for(g=0;g<_n.length;g++)Oe(_n[g],l);break;case"source":Oe("error",l);break;case"img":case"image":case"link":Oe("error",l),Oe("load",l);break;case"details":Oe("toggle",l);break;case"input":Me(l,b),Oe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!b.multiple},Oe("invalid",l);break;case"textarea":ct(l,b),Oe("invalid",l)}qo(n,b),g=null;for(var M in b)if(b.hasOwnProperty(M)){var j=b[M];M==="children"?typeof j=="string"?l.textContent!==j&&(b.suppressHydrationWarning!==!0&&Rs(l.textContent,j,e),g=["children",j]):typeof j=="number"&&l.textContent!==""+j&&(b.suppressHydrationWarning!==!0&&Rs(l.textContent,j,e),g=["children",""+j]):_.hasOwnProperty(M)&&j!=null&&M==="onScroll"&&Oe("scroll",l)}switch(n){case"input":de(l),mr(l,b,!0);break;case"textarea":de(l),St(l);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(l.onclick=Ls)}l=g,t.updateQueue=l,l!==null&&(t.flags|=4)}else{M=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gr(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=M.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=M.createElement(n,{is:l.is}):(e=M.createElement(n),n==="select"&&(M=e,l.multiple?M.multiple=!0:l.size&&(M.size=l.size))):e=M.createElementNS(e,n),e[Gt]=t,e[yn]=l,Cd(e,t,!1,!1),t.stateNode=e;e:{switch(M=Go(n,l),n){case"dialog":Oe("cancel",e),Oe("close",e),g=l;break;case"iframe":case"object":case"embed":Oe("load",e),g=l;break;case"video":case"audio":for(g=0;g<_n.length;g++)Oe(_n[g],e);g=l;break;case"source":Oe("error",e),g=l;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),g=l;break;case"details":Oe("toggle",e),g=l;break;case"input":Me(e,l),g=Pe(e,l),Oe("invalid",e);break;case"option":g=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},g=I({},l,{value:void 0}),Oe("invalid",e);break;case"textarea":ct(e,l),g=_r(e,l),Oe("invalid",e);break;default:g=l}qo(n,g),j=g;for(b in j)if(j.hasOwnProperty(b)){var U=j[b];b==="style"?fu(e,U):b==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&$r(e,U)):b==="children"?typeof U=="string"?(n!=="textarea"||U!=="")&&ft(e,U):typeof U=="number"&&ft(e,""+U):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(_.hasOwnProperty(b)?U!=null&&b==="onScroll"&&Oe("scroll",e):U!=null&&f(e,b,U,M))}switch(n){case"input":de(e),mr(e,l,!1);break;case"textarea":de(e),St(e);break;case"option":l.value!=null&&e.setAttribute("value",""+O(l.value));break;case"select":e.multiple=!!l.multiple,b=l.value,b!=null?Kt(e,!!l.multiple,b,!1):l.defaultValue!=null&&Kt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=Ls)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)xd(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(n=Qr(xn.current),Qr(Xt.current),Os(t)){if(l=t.stateNode,n=t.memoizedProps,l[Gt]=t,(b=l.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:Rs(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rs(l.nodeValue,n,(e.mode&1)!==0)}b&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[Gt]=t,t.stateNode=l}return st(t),null;case 13:if(Ie(Ne),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&xt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Rh(),Li(),t.flags|=98560,b=!1;else if(b=Os(t),l!==null&&l.dehydrated!==null){if(e===null){if(!b)throw Error(s(318));if(b=t.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(s(317));b[Gt]=t}else Li(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;st(t),b=!1}else Ht!==null&&(xl(Ht),Ht=null),b=!0;if(!b)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ne.current&1)!==0?Xe===0&&(Xe=3):Rl())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Ai(),fl(e,t),e===null&&vn(t.stateNode.containerInfo),st(t),null;case 10:return Va(t.type._context),st(t),null;case 17:return mt(t.type)&&Ps(),st(t),null;case 19:if(Ie(Ne),b=t.memoizedState,b===null)return st(t),null;if(l=(t.flags&128)!==0,M=b.rendering,M===null)if(l)Tn(b,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(M=Vs(e),M!==null){for(t.flags|=128,Tn(b,!1),l=M.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)b=n,e=l,b.flags&=14680066,M=b.alternate,M===null?(b.childLanes=0,b.lanes=e,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=M.childLanes,b.lanes=M.lanes,b.child=M.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=M.memoizedProps,b.memoizedState=M.memoizedState,b.updateQueue=M.updateQueue,b.type=M.type,e=M.dependencies,b.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Ne,Ne.current&1|2),t.child}e=e.sibling}b.tail!==null&&ze()>Ii&&(t.flags|=128,l=!0,Tn(b,!1),t.lanes=4194304)}else{if(!l)if(e=Vs(M),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tn(b,!0),b.tail===null&&b.tailMode==="hidden"&&!M.alternate&&!Fe)return st(t),null}else 2*ze()-b.renderingStartTime>Ii&&n!==1073741824&&(t.flags|=128,l=!0,Tn(b,!1),t.lanes=4194304);b.isBackwards?(M.sibling=t.child,t.child=M):(n=b.last,n!==null?n.sibling=M:t.child=M,b.last=M)}return b.tail!==null?(t=b.tail,b.rendering=t,b.tail=t.sibling,b.renderingStartTime=ze(),t.sibling=null,n=Ne.current,De(Ne,l?n&1|2:n&1),t):(st(t),null);case 22:case 23:return kl(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(bt&1073741824)!==0&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function lg(e,t){switch(Oa(t),t.tag){case 1:return mt(t.type)&&Ps(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ai(),Ie(pt),Ie(it),Ga(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ka(t),null;case 13:if(Ie(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Ne),null;case 4:return Ai(),null;case 10:return Va(t.type._context),null;case 22:case 23:return kl(),null;case 24:return null;default:return null}}var Ys=!1,ot=!1,cg=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Bi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){Ue(e,t,l)}else n.current=null}function pl(e,t,n){try{n()}catch(l){Ue(e,t,l)}}var bd=!1;function ug(e,t){if(ka=_s,e=ih(),ga(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var g=l.anchorOffset,b=l.focusNode;l=l.focusOffset;try{n.nodeType,b.nodeType}catch{n=null;break e}var M=0,j=-1,U=-1,J=0,se=0,ae=e,ne=null;t:for(;;){for(var fe;ae!==n||g!==0&&ae.nodeType!==3||(j=M+g),ae!==b||l!==0&&ae.nodeType!==3||(U=M+l),ae.nodeType===3&&(M+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)ne=ae,ae=fe;for(;;){if(ae===e)break t;if(ne===n&&++J===g&&(j=M),ne===b&&++se===l&&(U=M),(fe=ae.nextSibling)!==null)break;ae=ne,ne=ae.parentNode}ae=fe}n=j===-1||U===-1?null:{start:j,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ra={focusedElem:e,selectionRange:n},_s=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var _e=me.memoizedProps,$e=me.memoizedState,K=t.stateNode,$=K.getSnapshotBeforeUpdate(t.elementType===t.type?_e:jt(t.type,_e),$e);K.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var G=t.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(le){Ue(t,t.return,le)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return me=bd,bd=!1,me}function Pn(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&e)===e){var b=g.destroy;g.destroy=void 0,b!==void 0&&pl(t,n,b)}g=g.next}while(g!==l)}}function Js(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function ml(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kd(e){var t=e.alternate;t!==null&&(e.alternate=null,kd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[yn],delete t[Da],delete t[Kv],delete t[qv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rd(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _l(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ls));else if(l!==4&&(e=e.child,e!==null))for(_l(e,t,n),e=e.sibling;e!==null;)_l(e,t,n),e=e.sibling}function vl(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(vl(e,t,n),e=e.sibling;e!==null;)vl(e,t,n),e=e.sibling}var et=null,Vt=!1;function Dr(e,t,n){for(n=n.child;n!==null;)Td(e,t,n),n=n.sibling}function Td(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(us,n)}catch{}switch(n.tag){case 5:ot||Bi(n,t);case 6:var l=et,g=Vt;et=null,Dr(e,t,n),et=l,Vt=g,et!==null&&(Vt?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(Vt?(e=et,n=n.stateNode,e.nodeType===8?Pa(e.parentNode,n):e.nodeType===1&&Pa(e,n),ln(e)):Pa(et,n.stateNode));break;case 4:l=et,g=Vt,et=n.stateNode.containerInfo,Vt=!0,Dr(e,t,n),et=l,Vt=g;break;case 0:case 11:case 14:case 15:if(!ot&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){g=l=l.next;do{var b=g,M=b.destroy;b=b.tag,M!==void 0&&((b&2)!==0||(b&4)!==0)&&pl(n,t,M),g=g.next}while(g!==l)}Dr(e,t,n);break;case 1:if(!ot&&(Bi(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(j){Ue(n,t,j)}Dr(e,t,n);break;case 21:Dr(e,t,n);break;case 22:n.mode&1?(ot=(l=ot)||n.memoizedState!==null,Dr(e,t,n),ot=l):Dr(e,t,n);break;default:Dr(e,t,n)}}function Pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cg),t.forEach(function(l){var g=yg.bind(null,e,l);n.has(l)||(n.add(l),l.then(g,g))})}}function Ut(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var g=n[l];try{var b=e,M=t,j=M;e:for(;j!==null;){switch(j.tag){case 5:et=j.stateNode,Vt=!1;break e;case 3:et=j.stateNode.containerInfo,Vt=!0;break e;case 4:et=j.stateNode.containerInfo,Vt=!0;break e}j=j.return}if(et===null)throw Error(s(160));Td(b,M,g),et=null,Vt=!1;var U=g.alternate;U!==null&&(U.return=null),g.return=null}catch(J){Ue(g,t,J)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dd(t,e),t=t.sibling}function Dd(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Jt(e),l&4){try{Pn(3,e,e.return),Js(3,e)}catch(_e){Ue(e,e.return,_e)}try{Pn(5,e,e.return)}catch(_e){Ue(e,e.return,_e)}}break;case 1:Ut(t,e),Jt(e),l&512&&n!==null&&Bi(n,n.return);break;case 5:if(Ut(t,e),Jt(e),l&512&&n!==null&&Bi(n,n.return),e.flags&32){var g=e.stateNode;try{ft(g,"")}catch(_e){Ue(e,e.return,_e)}}if(l&4&&(g=e.stateNode,g!=null)){var b=e.memoizedProps,M=n!==null?n.memoizedProps:b,j=e.type,U=e.updateQueue;if(e.updateQueue=null,U!==null)try{j==="input"&&b.type==="radio"&&b.name!=null&&Ze(g,b),Go(j,M);var J=Go(j,b);for(M=0;M<U.length;M+=2){var se=U[M],ae=U[M+1];se==="style"?fu(g,ae):se==="dangerouslySetInnerHTML"?$r(g,ae):se==="children"?ft(g,ae):f(g,se,ae,J)}switch(j){case"input":Ce(g,b);break;case"textarea":vr(g,b);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!b.multiple;var fe=b.value;fe!=null?Kt(g,!!b.multiple,fe,!1):ne!==!!b.multiple&&(b.defaultValue!=null?Kt(g,!!b.multiple,b.defaultValue,!0):Kt(g,!!b.multiple,b.multiple?[]:"",!1))}g[yn]=b}catch(_e){Ue(e,e.return,_e)}}break;case 6:if(Ut(t,e),Jt(e),l&4){if(e.stateNode===null)throw Error(s(162));g=e.stateNode,b=e.memoizedProps;try{g.nodeValue=b}catch(_e){Ue(e,e.return,_e)}}break;case 3:if(Ut(t,e),Jt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ln(t.containerInfo)}catch(_e){Ue(e,e.return,_e)}break;case 4:Ut(t,e),Jt(e);break;case 13:Ut(t,e),Jt(e),g=e.child,g.flags&8192&&(b=g.memoizedState!==null,g.stateNode.isHidden=b,!b||g.alternate!==null&&g.alternate.memoizedState!==null||(Sl=ze())),l&4&&Pd(e);break;case 22:if(se=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(J=ot)||se,Ut(t,e),ot=J):Ut(t,e),Jt(e),l&8192){if(J=e.memoizedState!==null,(e.stateNode.isHidden=J)&&!se&&(e.mode&1)!==0)for(pe=e,se=e.child;se!==null;){for(ae=pe=se;pe!==null;){switch(ne=pe,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Pn(4,ne,ne.return);break;case 1:Bi(ne,ne.return);var me=ne.stateNode;if(typeof me.componentWillUnmount=="function"){l=ne,n=ne.return;try{t=l,me.props=t.memoizedProps,me.state=t.memoizedState,me.componentWillUnmount()}catch(_e){Ue(l,n,_e)}}break;case 5:Bi(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Bd(ae);continue}}fe!==null?(fe.return=ne,pe=fe):Bd(ae)}se=se.sibling}e:for(se=null,ae=e;;){if(ae.tag===5){if(se===null){se=ae;try{g=ae.stateNode,J?(b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(j=ae.stateNode,U=ae.memoizedProps.style,M=U!=null&&U.hasOwnProperty("display")?U.display:null,j.style.display=os("display",M))}catch(_e){Ue(e,e.return,_e)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(_e){Ue(e,e.return,_e)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===e)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===e)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===e)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Ut(t,e),Jt(e),l&4&&Pd(e);break;case 21:break;default:Ut(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rd(n)){var l=n;break e}n=n.return}throw Error(s(160))}switch(l.tag){case 5:var g=l.stateNode;l.flags&32&&(ft(g,""),l.flags&=-33);var b=Ld(e);vl(e,b,g);break;case 3:case 4:var M=l.stateNode.containerInfo,j=Ld(e);_l(e,j,M);break;default:throw Error(s(161))}}catch(U){Ue(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hg(e,t,n){pe=e,Ad(e)}function Ad(e,t,n){for(var l=(e.mode&1)!==0;pe!==null;){var g=pe,b=g.child;if(g.tag===22&&l){var M=g.memoizedState!==null||Ys;if(!M){var j=g.alternate,U=j!==null&&j.memoizedState!==null||ot;j=Ys;var J=ot;if(Ys=M,(ot=U)&&!J)for(pe=g;pe!==null;)M=pe,U=M.child,M.tag===22&&M.memoizedState!==null?Od(g):U!==null?(U.return=M,pe=U):Od(g);for(;b!==null;)pe=b,Ad(b),b=b.sibling;pe=g,Ys=j,ot=J}Md(e)}else(g.subtreeFlags&8772)!==0&&b!==null?(b.return=g,pe=b):Md(e)}}function Md(e){for(;pe!==null;){var t=pe;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||Js(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!ot)if(n===null)l.componentDidMount();else{var g=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);l.componentDidUpdate(g,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var b=t.updateQueue;b!==null&&Bh(t,b,l);break;case 3:var M=t.updateQueue;if(M!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bh(t,M,n)}break;case 5:var j=t.stateNode;if(n===null&&t.flags&4){n=j;var U=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&n.focus();break;case"img":U.src&&(n.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var J=t.alternate;if(J!==null){var se=J.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&ln(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ot||t.flags&512&&ml(t)}catch(ne){Ue(t,t.return,ne)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Bd(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Od(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Js(4,t)}catch(U){Ue(t,n,U)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var g=t.return;try{l.componentDidMount()}catch(U){Ue(t,g,U)}}var b=t.return;try{ml(t)}catch(U){Ue(t,b,U)}break;case 5:var M=t.return;try{ml(t)}catch(U){Ue(t,M,U)}}}catch(U){Ue(t,t.return,U)}if(t===e){pe=null;break}var j=t.sibling;if(j!==null){j.return=t.return,pe=j;break}pe=t.return}}var dg=Math.ceil,Qs=C.ReactCurrentDispatcher,gl=C.ReactCurrentOwner,At=C.ReactCurrentBatchConfig,ke=0,Je=null,qe=null,tt=0,bt=0,Oi=kr(0),Xe=0,Dn=null,ei=0,Zs=0,yl=0,An=null,vt=null,Sl=0,Ii=1/0,cr=null,eo=!1,wl=null,Ar=null,to=!1,Mr=null,ro=0,Mn=0,Cl=null,io=-1,no=0;function ht(){return(ke&6)!==0?ze():io!==-1?io:io=ze()}function Br(e){return(e.mode&1)===0?1:(ke&2)!==0&&tt!==0?tt&-tt:Xv.transition!==null?(no===0&&(no=Lu()),no):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Fu(e.type)),e)}function Wt(e,t,n,l){if(50<Mn)throw Mn=0,Cl=null,Error(s(185));rn(e,n,l),((ke&2)===0||e!==Je)&&(e===Je&&((ke&2)===0&&(Zs|=n),Xe===4&&Or(e,tt)),gt(e,l),n===1&&ke===0&&(t.mode&1)===0&&(Ii=ze()+500,As&&Lr()))}function gt(e,t){var n=e.callbackNode;X_(e,t);var l=fs(e,e===Je?tt:0);if(l===0)n!==null&&bu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&bu(n),t===1)e.tag===0?Gv(Fd.bind(null,e)):Ch(Fd.bind(null,e)),zv(function(){(ke&6)===0&&Lr()}),n=null;else{switch(Tu(l)){case 1:n=ta;break;case 4:n=ku;break;case 16:n=cs;break;case 536870912:n=Ru;break;default:n=cs}n=$d(n,Id.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Id(e,t){if(io=-1,no=0,(ke&6)!==0)throw Error(s(327));var n=e.callbackNode;if(Fi()&&e.callbackNode!==n)return null;var l=fs(e,e===Je?tt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=so(e,l);else{t=l;var g=ke;ke|=2;var b=Hd();(Je!==e||tt!==t)&&(cr=null,Ii=ze()+500,ri(e,t));do try{mg();break}catch(j){Nd(e,j)}while(!0);ja(),Qs.current=b,ke=g,qe!==null?t=0:(Je=null,tt=0,t=Xe)}if(t!==0){if(t===2&&(g=ra(e),g!==0&&(l=g,t=El(e,g))),t===1)throw n=Dn,ri(e,0),Or(e,l),gt(e,ze()),n;if(t===6)Or(e,l);else{if(g=e.current.alternate,(l&30)===0&&!fg(g)&&(t=so(e,l),t===2&&(b=ra(e),b!==0&&(l=b,t=El(e,b))),t===1))throw n=Dn,ri(e,0),Or(e,l),gt(e,ze()),n;switch(e.finishedWork=g,e.finishedLanes=l,t){case 0:case 1:throw Error(s(345));case 2:ii(e,vt,cr);break;case 3:if(Or(e,l),(l&130023424)===l&&(t=Sl+500-ze(),10<t)){if(fs(e,0)!==0)break;if(g=e.suspendedLanes,(g&l)!==l){ht(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=Ta(ii.bind(null,e,vt,cr),t);break}ii(e,vt,cr);break;case 4:if(Or(e,l),(l&4194240)===l)break;for(t=e.eventTimes,g=-1;0<l;){var M=31-Ft(l);b=1<<M,M=t[M],M>g&&(g=M),l&=~b}if(l=g,l=ze()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*dg(l/1960))-l,10<l){e.timeoutHandle=Ta(ii.bind(null,e,vt,cr),l);break}ii(e,vt,cr);break;case 5:ii(e,vt,cr);break;default:throw Error(s(329))}}}return gt(e,ze()),e.callbackNode===n?Id.bind(null,e):null}function El(e,t){var n=An;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=so(e,t),e!==2&&(t=vt,vt=n,t!==null&&xl(t)),e}function xl(e){vt===null?vt=e:vt.push.apply(vt,e)}function fg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var g=n[l],b=g.getSnapshot;g=g.value;try{if(!Nt(b(),g))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~yl,t&=~Zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),l=1<<n;e[n]=-1,t&=~l}}function Fd(e){if((ke&6)!==0)throw Error(s(327));Fi();var t=fs(e,0);if((t&1)===0)return gt(e,ze()),null;var n=so(e,t);if(e.tag!==0&&n===2){var l=ra(e);l!==0&&(t=l,n=El(e,l))}if(n===1)throw n=Dn,ri(e,0),Or(e,t),gt(e,ze()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ii(e,vt,cr),gt(e,ze()),null}function bl(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(Ii=ze()+500,As&&Lr())}}function ti(e){Mr!==null&&Mr.tag===0&&(ke&6)===0&&Fi();var t=ke;ke|=1;var n=At.transition,l=Te;try{if(At.transition=null,Te=1,e)return e()}finally{Te=l,At.transition=n,ke=t,(ke&6)===0&&Lr()}}function kl(){bt=Oi.current,Ie(Oi)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wv(n)),qe!==null)for(n=qe.return;n!==null;){var l=n;switch(Oa(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ps();break;case 3:Ai(),Ie(pt),Ie(it),Ga();break;case 5:Ka(l);break;case 4:Ai();break;case 13:Ie(Ne);break;case 19:Ie(Ne);break;case 10:Va(l.type._context);break;case 22:case 23:kl()}n=n.return}if(Je=e,qe=e=Ir(e.current,null),tt=bt=t,Xe=0,Dn=null,yl=Zs=ei=0,vt=An=null,Jr!==null){for(t=0;t<Jr.length;t++)if(n=Jr[t],l=n.interleaved,l!==null){n.interleaved=null;var g=l.next,b=n.pending;if(b!==null){var M=b.next;b.next=g,l.next=M}n.pending=l}Jr=null}return e}function Nd(e,t){do{var n=qe;try{if(ja(),Us.current=Ks,Ws){for(var l=He.memoizedState;l!==null;){var g=l.queue;g!==null&&(g.pending=null),l=l.next}Ws=!1}if(Zr=0,Ye=Ge=He=null,bn=!1,kn=0,gl.current=null,n===null||n.return===null){Xe=1,Dn=t,qe=null;break}e:{var b=e,M=n.return,j=n,U=t;if(t=tt,j.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var J=U,se=j,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=cd(M);if(fe!==null){fe.flags&=-257,ud(fe,M,j,b,t),fe.mode&1&&ld(b,J,t),t=fe,U=J;var me=t.updateQueue;if(me===null){var _e=new Set;_e.add(U),t.updateQueue=_e}else me.add(U);break e}else{if((t&1)===0){ld(b,J,t),Rl();break e}U=Error(s(426))}}else if(Fe&&j.mode&1){var $e=cd(M);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),ud($e,M,j,b,t),Na(Mi(U,j));break e}}b=U=Mi(U,j),Xe!==4&&(Xe=2),An===null?An=[b]:An.push(b),b=M;do{switch(b.tag){case 3:b.flags|=65536,t&=-t,b.lanes|=t;var K=od(b,U,t);Mh(b,K);break e;case 1:j=U;var $=b.type,G=b.stateNode;if((b.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ar===null||!Ar.has(G)))){b.flags|=65536,t&=-t,b.lanes|=t;var le=ad(b,j,t);Mh(b,le);break e}}b=b.return}while(b!==null)}Vd(n)}catch(ve){t=ve,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function Hd(){var e=Qs.current;return Qs.current=Ks,e===null?Ks:e}function Rl(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),Je===null||(ei&268435455)===0&&(Zs&268435455)===0||Or(Je,tt)}function so(e,t){var n=ke;ke|=2;var l=Hd();(Je!==e||tt!==t)&&(cr=null,ri(e,t));do try{pg();break}catch(g){Nd(e,g)}while(!0);if(ja(),ke=n,Qs.current=l,qe!==null)throw Error(s(261));return Je=null,tt=0,Xe}function pg(){for(;qe!==null;)jd(qe)}function mg(){for(;qe!==null&&!j_();)jd(qe)}function jd(e){var t=zd(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Vd(e):qe=t,gl.current=null}function Vd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=ag(n,t,bt),n!==null){qe=n;return}}else{if(n=lg(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Xe===0&&(Xe=5)}function ii(e,t,n){var l=Te,g=At.transition;try{At.transition=null,Te=1,_g(e,t,n,l)}finally{At.transition=g,Te=l}return null}function _g(e,t,n,l){do Fi();while(Mr!==null);if((ke&6)!==0)throw Error(s(327));n=e.finishedWork;var g=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var b=n.lanes|n.childLanes;if(Y_(e,b),e===Je&&(qe=Je=null,tt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||to||(to=!0,$d(cs,function(){return Fi(),null})),b=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||b){b=At.transition,At.transition=null;var M=Te;Te=1;var j=ke;ke|=4,gl.current=null,ug(e,n),Dd(n,e),Iv(Ra),_s=!!ka,Ra=ka=null,e.current=n,hg(n),V_(),ke=j,Te=M,At.transition=b}else e.current=n;if(to&&(to=!1,Mr=e,ro=g),b=e.pendingLanes,b===0&&(Ar=null),z_(n.stateNode),gt(e,ze()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)g=t[n],l(g.value,{componentStack:g.stack,digest:g.digest});if(eo)throw eo=!1,e=wl,wl=null,e;return(ro&1)!==0&&e.tag!==0&&Fi(),b=e.pendingLanes,(b&1)!==0?e===Cl?Mn++:(Mn=0,Cl=e):Mn=0,Lr(),null}function Fi(){if(Mr!==null){var e=Tu(ro),t=At.transition,n=Te;try{if(At.transition=null,Te=16>e?16:e,Mr===null)var l=!1;else{if(e=Mr,Mr=null,ro=0,(ke&6)!==0)throw Error(s(331));var g=ke;for(ke|=4,pe=e.current;pe!==null;){var b=pe,M=b.child;if((pe.flags&16)!==0){var j=b.deletions;if(j!==null){for(var U=0;U<j.length;U++){var J=j[U];for(pe=J;pe!==null;){var se=pe;switch(se.tag){case 0:case 11:case 15:Pn(8,se,b)}var ae=se.child;if(ae!==null)ae.return=se,pe=ae;else for(;pe!==null;){se=pe;var ne=se.sibling,fe=se.return;if(kd(se),se===J){pe=null;break}if(ne!==null){ne.return=fe,pe=ne;break}pe=fe}}}var me=b.alternate;if(me!==null){var _e=me.child;if(_e!==null){me.child=null;do{var $e=_e.sibling;_e.sibling=null,_e=$e}while(_e!==null)}}pe=b}}if((b.subtreeFlags&2064)!==0&&M!==null)M.return=b,pe=M;else e:for(;pe!==null;){if(b=pe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Pn(9,b,b.return)}var K=b.sibling;if(K!==null){K.return=b.return,pe=K;break e}pe=b.return}}var $=e.current;for(pe=$;pe!==null;){M=pe;var G=M.child;if((M.subtreeFlags&2064)!==0&&G!==null)G.return=M,pe=G;else e:for(M=$;pe!==null;){if(j=pe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Js(9,j)}}catch(ve){Ue(j,j.return,ve)}if(j===M){pe=null;break e}var le=j.sibling;if(le!==null){le.return=j.return,pe=le;break e}pe=j.return}}if(ke=g,Lr(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(us,e)}catch{}l=!0}return l}finally{Te=n,At.transition=t}}return!1}function Ud(e,t,n){t=Mi(n,t),t=od(e,t,1),e=Pr(e,t,1),t=ht(),e!==null&&(rn(e,1,t),gt(e,t))}function Ue(e,t,n){if(e.tag===3)Ud(e,e,n);else for(;t!==null;){if(t.tag===3){Ud(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){e=Mi(n,e),e=ad(t,e,1),t=Pr(t,e,1),e=ht(),t!==null&&(rn(t,1,e),gt(t,e));break}}t=t.return}}function vg(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(tt&n)===n&&(Xe===4||Xe===3&&(tt&130023424)===tt&&500>ze()-Sl?ri(e,0):yl|=n),gt(e,t)}function Wd(e,t){t===0&&((e.mode&1)===0?t=1:(t=ds,ds<<=1,(ds&130023424)===0&&(ds=4194304)));var n=ht();e=or(e,t),e!==null&&(rn(e,t,n),gt(e,n))}function gg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wd(e,n)}function yg(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,g=e.memoizedState;g!==null&&(n=g.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(t),Wd(e,n)}var zd;zd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)_t=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return _t=!1,og(e,t,n);_t=(e.flags&131072)!==0}else _t=!1,Fe&&(t.flags&1048576)!==0&&Eh(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Xs(e,t),e=t.pendingProps;var g=bi(t,it.current);Di(t,n),g=Ja(null,t,l,e,g,n);var b=Qa();return t.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(l)?(b=!0,Ds(t)):b=!1,t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,za(t),g.updater=qs,t.stateNode=g,g._reactInternals=t,nl(t,l,e,n),t=ll(null,t,l,!0,b,n)):(t.tag=0,Fe&&b&&Ba(t),ut(null,t,g,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,g=l._init,l=g(l._payload),t.type=l,g=t.tag=wg(l),e=jt(l,e),g){case 0:t=al(null,t,l,e,n);break e;case 1:t=_d(null,t,l,e,n);break e;case 11:t=hd(null,t,l,e,n);break e;case 14:t=dd(null,t,l,jt(l.type,e),n);break e}throw Error(s(306,l,""))}return t;case 0:return l=t.type,g=t.pendingProps,g=t.elementType===l?g:jt(l,g),al(e,t,l,g,n);case 1:return l=t.type,g=t.pendingProps,g=t.elementType===l?g:jt(l,g),_d(e,t,l,g,n);case 3:e:{if(vd(t),e===null)throw Error(s(387));l=t.pendingProps,b=t.memoizedState,g=b.element,Ah(e,t),js(t,l,null,n);var M=t.memoizedState;if(l=M.element,b.isDehydrated)if(b={element:l,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},t.updateQueue.baseState=b,t.memoizedState=b,t.flags&256){g=Mi(Error(s(423)),t),t=gd(e,t,l,n,g);break e}else if(l!==g){g=Mi(Error(s(424)),t),t=gd(e,t,l,n,g);break e}else for(xt=br(t.stateNode.containerInfo.firstChild),Et=t,Fe=!0,Ht=null,n=Ph(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Li(),l===g){t=lr(e,t,n);break e}ut(e,t,l,n)}t=t.child}return t;case 5:return Oh(t),e===null&&Fa(t),l=t.type,g=t.pendingProps,b=e!==null?e.memoizedProps:null,M=g.children,La(l,g)?M=null:b!==null&&La(l,b)&&(t.flags|=32),md(e,t),ut(e,t,M,n),t.child;case 6:return e===null&&Fa(t),null;case 13:return yd(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ti(t,null,l,n):ut(e,t,l,n),t.child;case 11:return l=t.type,g=t.pendingProps,g=t.elementType===l?g:jt(l,g),hd(e,t,l,g,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,g=t.pendingProps,b=t.memoizedProps,M=g.value,De(Fs,l._currentValue),l._currentValue=M,b!==null)if(Nt(b.value,M)){if(b.children===g.children&&!pt.current){t=lr(e,t,n);break e}}else for(b=t.child,b!==null&&(b.return=t);b!==null;){var j=b.dependencies;if(j!==null){M=b.child;for(var U=j.firstContext;U!==null;){if(U.context===l){if(b.tag===1){U=ar(-1,n&-n),U.tag=2;var J=b.updateQueue;if(J!==null){J=J.shared;var se=J.pending;se===null?U.next=U:(U.next=se.next,se.next=U),J.pending=U}}b.lanes|=n,U=b.alternate,U!==null&&(U.lanes|=n),Ua(b.return,n,t),j.lanes|=n;break}U=U.next}}else if(b.tag===10)M=b.type===t.type?null:b.child;else if(b.tag===18){if(M=b.return,M===null)throw Error(s(341));M.lanes|=n,j=M.alternate,j!==null&&(j.lanes|=n),Ua(M,n,t),M=b.sibling}else M=b.child;if(M!==null)M.return=b;else for(M=b;M!==null;){if(M===t){M=null;break}if(b=M.sibling,b!==null){b.return=M.return,M=b;break}M=M.return}b=M}ut(e,t,g.children,n),t=t.child}return t;case 9:return g=t.type,l=t.pendingProps.children,Di(t,n),g=Pt(g),l=l(g),t.flags|=1,ut(e,t,l,n),t.child;case 14:return l=t.type,g=jt(l,t.pendingProps),g=jt(l.type,g),dd(e,t,l,g,n);case 15:return fd(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,g=t.pendingProps,g=t.elementType===l?g:jt(l,g),Xs(e,t),t.tag=1,mt(l)?(e=!0,Ds(t)):e=!1,Di(t,n),nd(t,l,g),nl(t,l,g,n),ll(null,t,l,!0,e,n);case 19:return wd(e,t,n);case 22:return pd(e,t,n)}throw Error(s(156,t.tag))};function $d(e,t){return xu(e,t)}function Sg(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,l){return new Sg(e,t,n,l)}function Ll(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wg(e){if(typeof e=="function")return Ll(e)?1:0;if(e!=null){if(e=e.$$typeof,e===z)return 11;if(e===te)return 14}return 2}function Ir(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oo(e,t,n,l,g,b){var M=2;if(l=e,typeof e=="function")Ll(e)&&(M=1);else if(typeof e=="string")M=5;else e:switch(e){case P:return ni(n.children,g,b,t);case k:M=8,g|=8;break;case A:return e=Mt(12,n,t,g|2),e.elementType=A,e.lanes=b,e;case N:return e=Mt(13,n,t,g),e.elementType=N,e.lanes=b,e;case Y:return e=Mt(19,n,t,g),e.elementType=Y,e.lanes=b,e;case ie:return ao(n,g,b,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:M=10;break e;case V:M=9;break e;case z:M=11;break e;case te:M=14;break e;case oe:M=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Mt(M,n,t,g),t.elementType=e,t.type=l,t.lanes=b,t}function ni(e,t,n,l){return e=Mt(7,e,l,t),e.lanes=n,e}function ao(e,t,n,l){return e=Mt(22,e,l,t),e.elementType=ie,e.lanes=n,e.stateNode={isHidden:!1},e}function Tl(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function Pl(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cg(e,t,n,l,g){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=l,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Dl(e,t,n,l,g,b,M,j,U){return e=new Cg(e,t,n,j,U),t===1?(t=1,b===!0&&(t|=8)):t=0,b=Mt(3,null,null,t),e.current=b,b.stateNode=e,b.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},za(b),e}function Eg(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function Kd(e){if(!e)return Rr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(mt(n))return Sh(e,n,t)}return t}function qd(e,t,n,l,g,b,M,j,U){return e=Dl(n,l,!0,e,g,b,M,j,U),e.context=Kd(null),n=e.current,l=ht(),g=Br(n),b=ar(l,g),b.callback=t??null,Pr(n,b,g),e.current.lanes=g,rn(e,g,l),gt(e,l),e}function lo(e,t,n,l){var g=t.current,b=ht(),M=Br(g);return n=Kd(n),t.context===null?t.context=n:t.pendingContext=n,t=ar(b,M),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=Pr(g,t,M),e!==null&&(Wt(e,g,M,b),Hs(e,g,M)),M}function co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Al(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function xg(){return null}var Xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ml(e){this._internalRoot=e}uo.prototype.render=Ml.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));lo(e,t,null,null)},uo.prototype.unmount=Ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ti(function(){lo(null,e,null,null)}),t[rr]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Au();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cr.length&&t!==0&&t<Cr[n].priority;n++);Cr.splice(n,0,e),n===0&&Ou(e)}};function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yd(){}function bg(e,t,n,l,g){if(g){if(typeof l=="function"){var b=l;l=function(){var J=co(M);b.call(J)}}var M=qd(t,l,e,0,null,!1,!1,"",Yd);return e._reactRootContainer=M,e[rr]=M.current,vn(e.nodeType===8?e.parentNode:e),ti(),M}for(;g=e.lastChild;)e.removeChild(g);if(typeof l=="function"){var j=l;l=function(){var J=co(U);j.call(J)}}var U=Dl(e,0,!1,null,null,!1,!1,"",Yd);return e._reactRootContainer=U,e[rr]=U.current,vn(e.nodeType===8?e.parentNode:e),ti(function(){lo(t,U,n,l)}),U}function fo(e,t,n,l,g){var b=n._reactRootContainer;if(b){var M=b;if(typeof g=="function"){var j=g;g=function(){var U=co(M);j.call(U)}}lo(t,M,e,g)}else M=bg(n,t,e,g,l);return co(M)}Pu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tn(t.pendingLanes);n!==0&&(na(t,n|1),gt(t,ze()),(ke&6)===0&&(Ii=ze()+500,Lr()))}break;case 13:ti(function(){var l=or(e,1);if(l!==null){var g=ht();Wt(l,e,1,g)}}),Al(e,1)}},sa=function(e){if(e.tag===13){var t=or(e,134217728);if(t!==null){var n=ht();Wt(t,e,134217728,n)}Al(e,134217728)}},Du=function(e){if(e.tag===13){var t=Br(e),n=or(e,t);if(n!==null){var l=ht();Wt(n,e,t,l)}Al(e,t)}},Au=function(){return Te},Mu=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}},Jo=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var g=Ts(l);if(!g)throw Error(s(90));he(l),Ce(l,g)}}}break;case"textarea":vr(e,n);break;case"select":t=n.value,t!=null&&Kt(e,!!n.multiple,t,!1)}},vu=bl,gu=ti;var kg={usingClientEntryPoint:!1,Events:[Sn,Ei,Ts,mu,_u,bl]},Bn={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rg={bundleType:Bn.bundleType,version:Bn.version,rendererPackageName:Bn.rendererPackageName,rendererConfig:Bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cu(e),e===null?null:e.stateNode},findFiberByHostInstance:Bn.findFiberByHostInstance||xg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{us=po.inject(Rg),qt=po}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kg,yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bl(t))throw Error(s(200));return Eg(e,t,null,n)},yt.createRoot=function(e,t){if(!Bl(e))throw Error(s(299));var n=!1,l="",g=Xd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Dl(e,1,!1,null,null,n,!1,l,g),e[rr]=t.current,vn(e.nodeType===8?e.parentNode:e),new Ml(t)},yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Cu(t),e=e===null?null:e.stateNode,e},yt.flushSync=function(e){return ti(e)},yt.hydrate=function(e,t,n){if(!ho(t))throw Error(s(200));return fo(null,e,t,!0,n)},yt.hydrateRoot=function(e,t,n){if(!Bl(e))throw Error(s(405));var l=n!=null&&n.hydratedSources||null,g=!1,b="",M=Xd;if(n!=null&&(n.unstable_strictMode===!0&&(g=!0),n.identifierPrefix!==void 0&&(b=n.identifierPrefix),n.onRecoverableError!==void 0&&(M=n.onRecoverableError)),t=qd(t,null,e,1,n??null,g,!1,b,M),e[rr]=t.current,vn(e),l)for(e=0;e<l.length;e++)n=l[e],g=n._getVersion,g=g(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,g]:t.mutableSourceEagerHydrationData.push(n,g);return new uo(t)},yt.render=function(e,t,n){if(!ho(t))throw Error(s(200));return fo(null,e,t,!1,n)},yt.unmountComponentAtNode=function(e){if(!ho(e))throw Error(s(40));return e._reactRootContainer?(ti(function(){fo(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1},yt.unstable_batchedUpdates=bl,yt.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!ho(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return fo(e,t,n,!1,l)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var sf;function Fg(){if(sf)return Fl.exports;sf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Fl.exports=Ig(),Fl.exports}var of;function Ng(){if(of)return mo;of=1;var r=Fg();return mo.createRoot=r.createRoot,mo.hydrateRoot=r.hydrateRoot,mo}var Hg=Ng(),In={},af;function jg(){if(af)return In;af=1,Object.defineProperty(In,"__esModule",{value:!0}),In.parse=S,In.serialize=d;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/,_=Object.prototype.toString,x=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function S(y,E){const R=new x,w=y.length;if(w<2)return R;const h=(E==null?void 0:E.decode)||v;let p=0;do{const u=y.indexOf("=",p);if(u===-1)break;const f=y.indexOf(";",p),C=f===-1?w:f;if(u>C){p=y.lastIndexOf(";",u-1)+1;continue}const L=o(y,p,u),T=a(y,u,L),P=y.slice(L,T);if(R[P]===void 0){let k=o(y,u+1,C),A=a(y,C,k);const H=h(y.slice(k,A));R[P]=H}p=C+1}while(p<w);return R}function o(y,E,R){do{const w=y.charCodeAt(E);if(w!==32&&w!==9)return E}while(++E<R);return R}function a(y,E,R){for(;E>R;){const w=y.charCodeAt(--E);if(w!==32&&w!==9)return E+1}return R}function d(y,E,R){const w=(R==null?void 0:R.encode)||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const h=w(E);if(!i.test(h))throw new TypeError(`argument val is invalid: ${E}`);let p=y+"="+h;if(!R)return p;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);p+="; Max-Age="+R.maxAge}if(R.domain){if(!s.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);p+="; Domain="+R.domain}if(R.path){if(!c.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);p+="; Path="+R.path}if(R.expires){if(!m(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);p+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(p+="; HttpOnly"),R.secure&&(p+="; Secure"),R.partitioned&&(p+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":p+="; Priority=Low";break;case"medium":p+="; Priority=Medium";break;case"high":p+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":p+="; SameSite=Strict";break;case"lax":p+="; SameSite=Lax";break;case"none":p+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return p}function v(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return _.call(y)==="[object Date]"}return In}jg();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lf="popstate";function Vg(r={}){function i(_,x){let{pathname:S="/",search:o="",hash:a=""}=hi(_.location.hash.substring(1));return!S.startsWith("/")&&!S.startsWith(".")&&(S="/"+S),nc("",{pathname:S,search:o,hash:a},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function s(_,x){let S=_.document.querySelector("base"),o="";if(S&&S.getAttribute("href")){let a=_.location.href,d=a.indexOf("#");o=d===-1?a:a.slice(0,d)}return o+"#"+(typeof x=="string"?x:$n(x))}function c(_,x){$t(_.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(x)})`)}return Wg(i,s,c,r)}function Ve(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function $t(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Ug(){return Math.random().toString(36).substring(2,10)}function cf(r,i){return{usr:r.state,key:r.key,idx:i}}function nc(r,i,s=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?hi(i):i,state:s,key:i&&i.key||c||Ug()}}function $n({pathname:r="/",search:i="",hash:s=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function hi(r){let i={};if(r){let s=r.indexOf("#");s>=0&&(i.hash=r.substring(s),r=r.substring(0,s));let c=r.indexOf("?");c>=0&&(i.search=r.substring(c),r=r.substring(0,c)),r&&(i.pathname=r)}return i}function Wg(r,i,s,c={}){let{window:_=document.defaultView,v5Compat:x=!1}=c,S=_.history,o="POP",a=null,d=v();d==null&&(d=0,S.replaceState({...S.state,idx:d},""));function v(){return(S.state||{idx:null}).idx}function m(){o="POP";let h=v(),p=h==null?null:h-d;d=h,a&&a({action:o,location:w.location,delta:p})}function y(h,p){o="PUSH";let u=nc(w.location,h,p);s&&s(u,h),d=v()+1;let f=cf(u,d),C=w.createHref(u);try{S.pushState(f,"",C)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;_.location.assign(C)}x&&a&&a({action:o,location:w.location,delta:1})}function E(h,p){o="REPLACE";let u=nc(w.location,h,p);s&&s(u,h),d=v();let f=cf(u,d),C=w.createHref(u);S.replaceState(f,"",C),x&&a&&a({action:o,location:w.location,delta:0})}function R(h){let p=_.location.origin!=="null"?_.location.origin:_.location.href,u=typeof h=="string"?h:$n(h);return u=u.replace(/ $/,"%20"),Ve(p,`No window.location.(origin|href) available to create URL for href: ${u}`),new URL(u,p)}let w={get action(){return o},get location(){return r(_,S)},listen(h){if(a)throw new Error("A history only accepts one active listener");return _.addEventListener(lf,m),a=h,()=>{_.removeEventListener(lf,m),a=null}},createHref(h){return i(_,h)},createURL:R,encodeLocation(h){let p=R(h);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:y,replace:E,go(h){return S.go(h)}};return w}function Ap(r,i,s="/"){return zg(r,i,s,!1)}function zg(r,i,s,c){let _=typeof i=="string"?hi(i):i,x=Hr(_.pathname||"/",s);if(x==null)return null;let S=Mp(r);$g(S);let o=null;for(let a=0;o==null&&a<S.length;++a){let d=r0(x);o=e0(S[a],d,c)}return o}function Mp(r,i=[],s=[],c=""){let _=(x,S,o)=>{let a={relativePath:o===void 0?x.path||"":o,caseSensitive:x.caseSensitive===!0,childrenIndex:S,route:x};a.relativePath.startsWith("/")&&(Ve(a.relativePath.startsWith(c),`Absolute route path "${a.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(c.length));let d=ur([c,a.relativePath]),v=s.concat(a);x.children&&x.children.length>0&&(Ve(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Mp(x.children,i,v,d)),!(x.path==null&&!x.index)&&i.push({path:d,score:Qg(d,x.index),routesMeta:v})};return r.forEach((x,S)=>{var o;if(x.path===""||!((o=x.path)!=null&&o.includes("?")))_(x,S);else for(let a of Bp(x.path))_(x,S,a)}),i}function Bp(r){let i=r.split("/");if(i.length===0)return[];let[s,...c]=i,_=s.endsWith("?"),x=s.replace(/\?$/,"");if(c.length===0)return _?[x,""]:[x];let S=Bp(c.join("/")),o=[];return o.push(...S.map(a=>a===""?x:[x,a].join("/"))),_&&o.push(...S),o.map(a=>r.startsWith("/")&&a===""?"/":a)}function $g(r){r.sort((i,s)=>i.score!==s.score?s.score-i.score:Zg(i.routesMeta.map(c=>c.childrenIndex),s.routesMeta.map(c=>c.childrenIndex)))}var Kg=/^:[\w-]+$/,qg=3,Gg=2,Xg=1,Yg=10,Jg=-2,uf=r=>r==="*";function Qg(r,i){let s=r.split("/"),c=s.length;return s.some(uf)&&(c+=Jg),i&&(c+=Gg),s.filter(_=>!uf(_)).reduce((_,x)=>_+(Kg.test(x)?qg:x===""?Xg:Yg),c)}function Zg(r,i){return r.length===i.length&&r.slice(0,-1).every((c,_)=>c===i[_])?r[r.length-1]-i[i.length-1]:0}function e0(r,i,s=!1){let{routesMeta:c}=r,_={},x="/",S=[];for(let o=0;o<c.length;++o){let a=c[o],d=o===c.length-1,v=x==="/"?i:i.slice(x.length)||"/",m=Po({path:a.relativePath,caseSensitive:a.caseSensitive,end:d},v),y=a.route;if(!m&&d&&s&&!c[c.length-1].route.index&&(m=Po({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},v)),!m)return null;Object.assign(_,m.params),S.push({params:_,pathname:ur([x,m.pathname]),pathnameBase:o0(ur([x,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(x=ur([x,m.pathnameBase]))}return S}function Po(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,c]=t0(r.path,r.caseSensitive,r.end),_=i.match(s);if(!_)return null;let x=_[0],S=x.replace(/(.)\/+$/,"$1"),o=_.slice(1);return{params:c.reduce((d,{paramName:v,isOptional:m},y)=>{if(v==="*"){let R=o[y]||"";S=x.slice(0,x.length-R.length).replace(/(.)\/+$/,"$1")}const E=o[y];return m&&!E?d[v]=void 0:d[v]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:x,pathnameBase:S,pattern:r}}function t0(r,i=!1,s=!0){$t(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],_="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(S,o,a)=>(c.push({paramName:o,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),_+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?_+="\\/*$":r!==""&&r!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,i?void 0:"i"),c]}function r0(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return $t(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function Hr(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,c=r.charAt(s);return c&&c!=="/"?null:r.slice(s)||"/"}function i0(r,i="/"){let{pathname:s,search:c="",hash:_=""}=typeof r=="string"?hi(r):r;return{pathname:s?s.startsWith("/")?s:n0(s,i):i,search:a0(c),hash:l0(_)}}function n0(r,i){let s=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(_=>{_===".."?s.length>1&&s.pop():_!=="."&&s.push(_)}),s.length>1?s.join("/"):"/"}function jl(r,i,s,c){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s0(r){return r.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function Op(r){let i=s0(r);return i.map((s,c)=>c===i.length-1?s.pathname:s.pathnameBase)}function Ip(r,i,s,c=!1){let _;typeof r=="string"?_=hi(r):(_={...r},Ve(!_.pathname||!_.pathname.includes("?"),jl("?","pathname","search",_)),Ve(!_.pathname||!_.pathname.includes("#"),jl("#","pathname","hash",_)),Ve(!_.search||!_.search.includes("#"),jl("#","search","hash",_)));let x=r===""||_.pathname==="",S=x?"/":_.pathname,o;if(S==null)o=s;else{let m=i.length-1;if(!c&&S.startsWith("..")){let y=S.split("/");for(;y[0]==="..";)y.shift(),m-=1;_.pathname=y.join("/")}o=m>=0?i[m]:"/"}let a=i0(_,o),d=S&&S!=="/"&&S.endsWith("/"),v=(x||S===".")&&s.endsWith("/");return!a.pathname.endsWith("/")&&(d||v)&&(a.pathname+="/"),a}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),o0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),a0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,l0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function c0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Fp=["POST","PUT","PATCH","DELETE"];new Set(Fp);var u0=["GET",...Fp];new Set(u0);var Xi=X.createContext(null);Xi.displayName="DataRouter";var Vo=X.createContext(null);Vo.displayName="DataRouterState";var Np=X.createContext({isTransitioning:!1});Np.displayName="ViewTransition";var h0=X.createContext(new Map);h0.displayName="Fetchers";var d0=X.createContext(null);d0.displayName="Await";var er=X.createContext(null);er.displayName="Navigation";var Zn=X.createContext(null);Zn.displayName="Location";var pr=X.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var bc=X.createContext(null);bc.displayName="RouteError";function f0(r,{relative:i}={}){Ve(es(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:c}=X.useContext(er),{hash:_,pathname:x,search:S}=ts(r,{relative:i}),o=x;return s!=="/"&&(o=x==="/"?s:ur([s,x])),c.createHref({pathname:o,search:S,hash:_})}function es(){return X.useContext(Zn)!=null}function di(){return Ve(es(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Zn).location}var Hp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jp(r){X.useContext(er).static||X.useLayoutEffect(r)}function p0(){let{isDataRoute:r}=X.useContext(pr);return r?R0():m0()}function m0(){Ve(es(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(Xi),{basename:i,navigator:s}=X.useContext(er),{matches:c}=X.useContext(pr),{pathname:_}=di(),x=JSON.stringify(Op(c)),S=X.useRef(!1);return jp(()=>{S.current=!0}),X.useCallback((a,d={})=>{if($t(S.current,Hp),!S.current)return;if(typeof a=="number"){s.go(a);return}let v=Ip(a,JSON.parse(x),_,d.relative==="path");r==null&&i!=="/"&&(v.pathname=v.pathname==="/"?i:ur([i,v.pathname])),(d.replace?s.replace:s.push)(v,d.state,d)},[i,s,x,_,r])}X.createContext(null);function ts(r,{relative:i}={}){let{matches:s}=X.useContext(pr),{pathname:c}=di(),_=JSON.stringify(Op(s));return X.useMemo(()=>Ip(r,JSON.parse(_),c,i==="path"),[r,_,c,i])}function _0(r,i){return Vp(r,i)}function Vp(r,i,s,c){var u;Ve(es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:_,static:x}=X.useContext(er),{matches:S}=X.useContext(pr),o=S[S.length-1],a=o?o.params:{},d=o?o.pathname:"/",v=o?o.pathnameBase:"/",m=o&&o.route;{let f=m&&m.path||"";Up(d,!m||f.endsWith("*")||f.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${f}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${f}"> to <Route path="${f==="/"?"*":`${f}/*`}">.`)}let y=di(),E;if(i){let f=typeof i=="string"?hi(i):i;Ve(v==="/"||((u=f.pathname)==null?void 0:u.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${f.pathname}" was given in the \`location\` prop.`),E=f}else E=y;let R=E.pathname||"/",w=R;if(v!=="/"){let f=v.replace(/^\//,"").split("/");w="/"+R.replace(/^\//,"").split("/").slice(f.length).join("/")}let h=!x&&s&&s.matches&&s.matches.length>0?s.matches:Ap(r,{pathname:w});$t(m||h!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),$t(h==null||h[h.length-1].route.element!==void 0||h[h.length-1].route.Component!==void 0||h[h.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=w0(h&&h.map(f=>Object.assign({},f,{params:Object.assign({},a,f.params),pathname:ur([v,_.encodeLocation?_.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?v:ur([v,_.encodeLocation?_.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),S,s,c);return i&&p?X.createElement(Zn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},p):p}function v0(){let r=k0(),i=c0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",_={padding:"0.5rem",backgroundColor:c},x={padding:"2px 4px",backgroundColor:c},S=null;return console.error("Error handled by React Router default ErrorBoundary:",r),S=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:x},"ErrorBoundary")," or"," ",X.createElement("code",{style:x},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},i),s?X.createElement("pre",{style:_},s):null,S)}var g0=X.createElement(v0,null),y0=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?X.createElement(pr.Provider,{value:this.props.routeContext},X.createElement(bc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S0({routeContext:r,match:i,children:s}){let c=X.useContext(Xi);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),X.createElement(pr.Provider,{value:r},s)}function w0(r,i=[],s=null,c=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let _=r,x=s==null?void 0:s.errors;if(x!=null){let a=_.findIndex(d=>d.route.id&&(x==null?void 0:x[d.route.id])!==void 0);Ve(a>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),_=_.slice(0,Math.min(_.length,a+1))}let S=!1,o=-1;if(s)for(let a=0;a<_.length;a++){let d=_[a];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=a),d.route.id){let{loaderData:v,errors:m}=s,y=d.route.loader&&!v.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){S=!0,o>=0?_=_.slice(0,o+1):_=[_[0]];break}}}return _.reduceRight((a,d,v)=>{let m,y=!1,E=null,R=null;s&&(m=x&&d.route.id?x[d.route.id]:void 0,E=d.route.errorElement||g0,S&&(o<0&&v===0?(Up("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,R=null):o===v&&(y=!0,R=d.route.hydrateFallbackElement||null)));let w=i.concat(_.slice(0,v+1)),h=()=>{let p;return m?p=E:y?p=R:d.route.Component?p=X.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=a,X.createElement(S0,{match:d,routeContext:{outlet:a,matches:w,isDataRoute:s!=null},children:p})};return s&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?X.createElement(y0,{location:s.location,revalidation:s.revalidation,component:E,error:m,children:h(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):h()},null)}function kc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(r){let i=X.useContext(Xi);return Ve(i,kc(r)),i}function E0(r){let i=X.useContext(Vo);return Ve(i,kc(r)),i}function x0(r){let i=X.useContext(pr);return Ve(i,kc(r)),i}function Rc(r){let i=x0(r),s=i.matches[i.matches.length-1];return Ve(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function b0(){return Rc("useRouteId")}function k0(){var c;let r=X.useContext(bc),i=E0("useRouteError"),s=Rc("useRouteError");return r!==void 0?r:(c=i.errors)==null?void 0:c[s]}function R0(){let{router:r}=C0("useNavigate"),i=Rc("useNavigate"),s=X.useRef(!1);return jp(()=>{s.current=!0}),X.useCallback(async(_,x={})=>{$t(s.current,Hp),s.current&&(typeof _=="number"?r.navigate(_):await r.navigate(_,{fromRouteId:i,...x}))},[r,i])}var hf={};function Up(r,i,s){!i&&!hf[r]&&(hf[r]=!0,$t(!1,s))}X.memo(L0);function L0({routes:r,future:i,state:s}){return Vp(r,void 0,s,i)}function Wp(r){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T0({basename:r="/",children:i=null,location:s,navigationType:c="POP",navigator:_,static:x=!1}){Ve(!es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let S=r.replace(/^\/*/,"/"),o=X.useMemo(()=>({basename:S,navigator:_,static:x,future:{}}),[S,_,x]);typeof s=="string"&&(s=hi(s));let{pathname:a="/",search:d="",hash:v="",state:m=null,key:y="default"}=s,E=X.useMemo(()=>{let R=Hr(a,S);return R==null?null:{location:{pathname:R,search:d,hash:v,state:m,key:y},navigationType:c}},[S,a,d,v,m,y,c]);return $t(E!=null,`<Router basename="${S}"> is not able to match the URL "${a}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:X.createElement(er.Provider,{value:o},X.createElement(Zn.Provider,{children:i,value:E}))}function P0({children:r,location:i}){return _0(sc(r),i)}function sc(r,i=[]){let s=[];return X.Children.forEach(r,(c,_)=>{if(!X.isValidElement(c))return;let x=[...i,_];if(c.type===X.Fragment){s.push.apply(s,sc(c.props.children,x));return}Ve(c.type===Wp,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!c.props.index||!c.props.children,"An index route cannot have child routes.");let S={id:c.props.id||x.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(S.children=sc(c.props.children,x)),s.push(S)}),s}var xo="get",bo="application/x-www-form-urlencoded";function Uo(r){return r!=null&&typeof r.tagName=="string"}function D0(r){return Uo(r)&&r.tagName.toLowerCase()==="button"}function A0(r){return Uo(r)&&r.tagName.toLowerCase()==="form"}function M0(r){return Uo(r)&&r.tagName.toLowerCase()==="input"}function B0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function O0(r,i){return r.button===0&&(!i||i==="_self")&&!B0(r)}var _o=null;function I0(){if(_o===null)try{new FormData(document.createElement("form"),0),_o=!1}catch{_o=!0}return _o}var F0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vl(r){return r!=null&&!F0.has(r)?($t(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bo}"`),null):r}function N0(r,i){let s,c,_,x,S;if(A0(r)){let o=r.getAttribute("action");c=o?Hr(o,i):null,s=r.getAttribute("method")||xo,_=Vl(r.getAttribute("enctype"))||bo,x=new FormData(r)}else if(D0(r)||M0(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=r.getAttribute("formaction")||o.getAttribute("action");if(c=a?Hr(a,i):null,s=r.getAttribute("formmethod")||o.getAttribute("method")||xo,_=Vl(r.getAttribute("formenctype"))||Vl(o.getAttribute("enctype"))||bo,x=new FormData(o,r),!I0()){let{name:d,type:v,value:m}=r;if(v==="image"){let y=d?`${d}.`:"";x.append(`${y}x`,"0"),x.append(`${y}y`,"0")}else d&&x.append(d,m)}}else{if(Uo(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=xo,c=null,_=bo,S=r}return x&&_==="text/plain"&&(S=x,x=void 0),{action:c,method:s.toLowerCase(),encType:_,formData:x,body:S}}function Lc(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}async function H0(r,i){if(r.id in i)return i[r.id];try{let s=await import(r.module);return i[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function V0(r,i,s){let c=await Promise.all(r.map(async _=>{let x=i.routes[_.route.id];if(x){let S=await H0(x,s);return S.links?S.links():[]}return[]}));return $0(c.flat(1).filter(j0).filter(_=>_.rel==="stylesheet"||_.rel==="preload").map(_=>_.rel==="stylesheet"?{..._,rel:"prefetch",as:"style"}:{..._,rel:"prefetch"}))}function df(r,i,s,c,_,x){let S=(a,d)=>s[d]?a.route.id!==s[d].route.id:!0,o=(a,d)=>{var v;return s[d].pathname!==a.pathname||((v=s[d].route.path)==null?void 0:v.endsWith("*"))&&s[d].params["*"]!==a.params["*"]};return x==="assets"?i.filter((a,d)=>S(a,d)||o(a,d)):x==="data"?i.filter((a,d)=>{var m;let v=c.routes[a.route.id];if(!v||!v.hasLoader)return!1;if(S(a,d)||o(a,d))return!0;if(a.route.shouldRevalidate){let y=a.route.shouldRevalidate({currentUrl:new URL(_.pathname+_.search+_.hash,window.origin),currentParams:((m=s[0])==null?void 0:m.params)||{},nextUrl:new URL(r,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function U0(r,i,{includeHydrateFallback:s}={}){return W0(r.map(c=>{let _=i.routes[c.route.id];if(!_)return[];let x=[_.module];return _.clientActionModule&&(x=x.concat(_.clientActionModule)),_.clientLoaderModule&&(x=x.concat(_.clientLoaderModule)),s&&_.hydrateFallbackModule&&(x=x.concat(_.hydrateFallbackModule)),_.imports&&(x=x.concat(_.imports)),x}).flat(1))}function W0(r){return[...new Set(r)]}function z0(r){let i={},s=Object.keys(r).sort();for(let c of s)i[c]=r[c];return i}function $0(r,i){let s=new Set;return new Set(i),r.reduce((c,_)=>{let x=JSON.stringify(z0(_));return s.has(x)||(s.add(x),c.push({key:x,link:_})),c},[])}function K0(r){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function q0(){let r=X.useContext(Xi);return Lc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function G0(){let r=X.useContext(Vo);return Lc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Tc=X.createContext(void 0);Tc.displayName="FrameworkContext";function zp(){let r=X.useContext(Tc);return Lc(r,"You must render this element inside a <HydratedRouter> element"),r}function X0(r,i){let s=X.useContext(Tc),[c,_]=X.useState(!1),[x,S]=X.useState(!1),{onFocus:o,onBlur:a,onMouseEnter:d,onMouseLeave:v,onTouchStart:m}=i,y=X.useRef(null);X.useEffect(()=>{if(r==="render"&&S(!0),r==="viewport"){let w=p=>{p.forEach(u=>{S(u.isIntersecting)})},h=new IntersectionObserver(w,{threshold:.5});return y.current&&h.observe(y.current),()=>{h.disconnect()}}},[r]),X.useEffect(()=>{if(c){let w=setTimeout(()=>{S(!0)},100);return()=>{clearTimeout(w)}}},[c]);let E=()=>{_(!0)},R=()=>{_(!1),S(!1)};return s?r!=="intent"?[x,y,{}]:[x,y,{onFocus:Fn(o,E),onBlur:Fn(a,R),onMouseEnter:Fn(d,E),onMouseLeave:Fn(v,R),onTouchStart:Fn(m,E)}]:[!1,y,{}]}function Fn(r,i){return s=>{r&&r(s),s.defaultPrevented||i(s)}}function Y0({page:r,...i}){let{router:s}=q0(),c=X.useMemo(()=>Ap(s.routes,r,s.basename),[s.routes,r,s.basename]);return c?X.createElement(Q0,{page:r,matches:c,...i}):null}function J0(r){let{manifest:i,routeModules:s}=zp(),[c,_]=X.useState([]);return X.useEffect(()=>{let x=!1;return V0(r,i,s).then(S=>{x||_(S)}),()=>{x=!0}},[r,i,s]),c}function Q0({page:r,matches:i,...s}){let c=di(),{manifest:_,routeModules:x}=zp(),{loaderData:S,matches:o}=G0(),a=X.useMemo(()=>df(r,i,o,_,c,"data"),[r,i,o,_,c]),d=X.useMemo(()=>df(r,i,o,_,c,"assets"),[r,i,o,_,c]),v=X.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let E=new Set,R=!1;if(i.forEach(h=>{var u;let p=_.routes[h.route.id];!p||!p.hasLoader||(!a.some(f=>f.route.id===h.route.id)&&h.route.id in S&&((u=x[h.route.id])!=null&&u.shouldRevalidate)||p.hasClientLoader?R=!0:E.add(h.route.id))}),E.size===0)return[];let w=K0(r);return R&&E.size>0&&w.searchParams.set("_routes",i.filter(h=>E.has(h.route.id)).map(h=>h.route.id).join(",")),[w.pathname+w.search]},[S,c,_,a,i,r,x]),m=X.useMemo(()=>U0(d,_),[d,_]),y=J0(d);return X.createElement(X.Fragment,null,v.map(E=>X.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),m.map(E=>X.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),y.map(({key:E,link:R})=>X.createElement("link",{key:E,...R})))}function Z0(...r){return i=>{r.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var $p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$p&&(window.__reactRouterVersion="7.2.0")}catch{}function ey({basename:r,children:i,window:s}){let c=X.useRef();c.current==null&&(c.current=Vg({window:s,v5Compat:!0}));let _=c.current,[x,S]=X.useState({action:_.action,location:_.location}),o=X.useCallback(a=>{X.startTransition(()=>S(a))},[S]);return X.useLayoutEffect(()=>_.listen(o),[_,o]),X.createElement(T0,{basename:r,children:i,location:x.location,navigationType:x.action,navigator:_})}var Kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Do=X.forwardRef(function({onClick:i,discover:s="render",prefetch:c="none",relative:_,reloadDocument:x,replace:S,state:o,target:a,to:d,preventScrollReset:v,viewTransition:m,...y},E){let{basename:R}=X.useContext(er),w=typeof d=="string"&&Kp.test(d),h,p=!1;if(typeof d=="string"&&w&&(h=d,$p))try{let A=new URL(window.location.href),H=d.startsWith("//")?new URL(A.protocol+d):new URL(d),V=Hr(H.pathname,R);H.origin===A.origin&&V!=null?d=V+H.search+H.hash:p=!0}catch{$t(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let u=f0(d,{relative:_}),[f,C,L]=X0(c,y),T=ny(d,{replace:S,state:o,target:a,preventScrollReset:v,relative:_,viewTransition:m});function P(A){i&&i(A),A.defaultPrevented||T(A)}let k=X.createElement("a",{...y,...L,href:h||u,onClick:p||x?i:P,ref:Z0(E,C),target:a,"data-discover":!w&&s==="render"?"true":void 0});return f&&!w?X.createElement(X.Fragment,null,k,X.createElement(Y0,{page:u})):k});Do.displayName="Link";var ty=X.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:c="",end:_=!1,style:x,to:S,viewTransition:o,children:a,...d},v){let m=ts(S,{relative:d.relative}),y=di(),E=X.useContext(Vo),{navigator:R,basename:w}=X.useContext(er),h=E!=null&&cy(m)&&o===!0,p=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,u=y.pathname,f=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(u=u.toLowerCase(),f=f?f.toLowerCase():null,p=p.toLowerCase()),f&&w&&(f=Hr(f,w)||f);const C=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let L=u===p||!_&&u.startsWith(p)&&u.charAt(C)==="/",T=f!=null&&(f===p||!_&&f.startsWith(p)&&f.charAt(p.length)==="/"),P={isActive:L,isPending:T,isTransitioning:h},k=L?i:void 0,A;typeof c=="function"?A=c(P):A=[c,L?"active":null,T?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let H=typeof x=="function"?x(P):x;return X.createElement(Do,{...d,"aria-current":k,className:A,ref:v,style:H,to:S,viewTransition:o},typeof a=="function"?a(P):a)});ty.displayName="NavLink";var ry=X.forwardRef(({discover:r="render",fetcherKey:i,navigate:s,reloadDocument:c,replace:_,state:x,method:S=xo,action:o,onSubmit:a,relative:d,preventScrollReset:v,viewTransition:m,...y},E)=>{let R=ay(),w=ly(o,{relative:d}),h=S.toLowerCase()==="get"?"get":"post",p=typeof o=="string"&&Kp.test(o),u=f=>{if(a&&a(f),f.defaultPrevented)return;f.preventDefault();let C=f.nativeEvent.submitter,L=(C==null?void 0:C.getAttribute("formmethod"))||S;R(C||f.currentTarget,{fetcherKey:i,method:L,navigate:s,replace:_,state:x,relative:d,preventScrollReset:v,viewTransition:m})};return X.createElement("form",{ref:E,method:h,action:w,onSubmit:c?a:u,...y,"data-discover":!p&&r==="render"?"true":void 0})});ry.displayName="Form";function iy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qp(r){let i=X.useContext(Xi);return Ve(i,iy(r)),i}function ny(r,{target:i,replace:s,state:c,preventScrollReset:_,relative:x,viewTransition:S}={}){let o=p0(),a=di(),d=ts(r,{relative:x});return X.useCallback(v=>{if(O0(v,i)){v.preventDefault();let m=s!==void 0?s:$n(a)===$n(d);o(r,{replace:m,state:c,preventScrollReset:_,relative:x,viewTransition:S})}},[a,o,d,s,c,i,r,_,x,S])}var sy=0,oy=()=>`__${String(++sy)}__`;function ay(){let{router:r}=qp("useSubmit"),{basename:i}=X.useContext(er),s=b0();return X.useCallback(async(c,_={})=>{let{action:x,method:S,encType:o,formData:a,body:d}=N0(c,i);if(_.navigate===!1){let v=_.fetcherKey||oy();await r.fetch(v,s,_.action||x,{preventScrollReset:_.preventScrollReset,formData:a,body:d,formMethod:_.method||S,formEncType:_.encType||o,flushSync:_.flushSync})}else await r.navigate(_.action||x,{preventScrollReset:_.preventScrollReset,formData:a,body:d,formMethod:_.method||S,formEncType:_.encType||o,replace:_.replace,state:_.state,fromRouteId:s,flushSync:_.flushSync,viewTransition:_.viewTransition})},[r,i,s])}function ly(r,{relative:i}={}){let{basename:s}=X.useContext(er),c=X.useContext(pr);Ve(c,"useFormAction must be used inside a RouteContext");let[_]=c.matches.slice(-1),x={...ts(r||".",{relative:i})},S=di();if(r==null){x.search=S.search;let o=new URLSearchParams(x.search),a=o.getAll("index");if(a.some(v=>v==="")){o.delete("index"),a.filter(m=>m).forEach(m=>o.append("index",m));let v=o.toString();x.search=v?`?${v}`:""}}return(!r||r===".")&&_.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(x.pathname=x.pathname==="/"?s:ur([s,x.pathname])),$n(x)}function cy(r,i={}){let s=X.useContext(Np);Ve(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=qp("useViewTransitionState"),_=ts(r,{relative:i.relative});if(!s.isTransitioning)return!1;let x=Hr(s.currentLocation.pathname,c)||s.currentLocation.pathname,S=Hr(s.nextLocation.pathname,c)||s.nextLocation.pathname;return Po(_.pathname,S)!=null||Po(_.pathname,x)!=null}new TextEncoder;const Gp=X.createContext({});function uy(r){const i=X.useRef(null);return i.current===null&&(i.current=r()),i.current}const Pc=X.createContext(null),Xp=X.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function hy(r=!0){const i=X.useContext(Pc);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:c,register:_}=i,x=X.useId();X.useEffect(()=>{if(r)return _(x)},[r]);const S=X.useCallback(()=>r&&c&&c(x),[x,c,r]);return!s&&c?[!1,S]:[!0]}const Dc=typeof window<"u",dy=Dc?X.useLayoutEffect:X.useEffect,kt=r=>r;let Yp=kt;function Ac(r){let i;return()=>(i===void 0&&(i=r()),i)}const Ki=(r,i,s)=>{const c=i-r;return c===0?1:(s-r)/c},hr=r=>r*1e3,dr=r=>r/1e3,fy={useManualTiming:!1},vo=["read","resolveKeyframes","update","preRender","render","postRender"],ff={value:null};function py(r,i){let s=new Set,c=new Set,_=!1,x=!1;const S=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},a=0;function d(m){S.has(m)&&(v.schedule(m),r()),a++,m(o)}const v={schedule:(m,y=!1,E=!1)=>{const w=E&&_?s:c;return y&&S.add(m),w.has(m)||w.add(m),m},cancel:m=>{c.delete(m),S.delete(m)},process:m=>{if(o=m,_){x=!0;return}_=!0,[s,c]=[c,s],s.forEach(d),i&&ff.value&&ff.value.frameloop[i].push(a),a=0,s.clear(),_=!1,x&&(x=!1,v.process(m))}};return v}const my=40;function Jp(r,i){let s=!1,c=!0;const _={delta:0,timestamp:0,isProcessing:!1},x=()=>s=!0,S=vo.reduce((p,u)=>(p[u]=py(x,i?u:void 0),p),{}),{read:o,resolveKeyframes:a,update:d,preRender:v,render:m,postRender:y}=S,E=()=>{const p=performance.now();s=!1,_.delta=c?1e3/60:Math.max(Math.min(p-_.timestamp,my),1),_.timestamp=p,_.isProcessing=!0,o.process(_),a.process(_),d.process(_),v.process(_),m.process(_),y.process(_),_.isProcessing=!1,s&&i&&(c=!1,r(E))},R=()=>{s=!0,c=!0,_.isProcessing||r(E)};return{schedule:vo.reduce((p,u)=>{const f=S[u];return p[u]=(C,L=!1,T=!1)=>(s||R(),f.schedule(C,L,T)),p},{}),cancel:p=>{for(let u=0;u<vo.length;u++)S[vo[u]].cancel(p)},state:_,steps:S}}const{schedule:Ae,cancel:jr,state:rt,steps:Ul}=Jp(typeof requestAnimationFrame<"u"?requestAnimationFrame:kt,!0),Qp=X.createContext({strict:!1}),pf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qi={};for(const r in pf)qi[r]={isEnabled:i=>pf[r].some(s=>!!i[s])};function _y(r){for(const i in r)qi[i]={...qi[i],...r[i]}}const vy=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ao(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||vy.has(r)}let Zp=r=>!Ao(r);function gy(r){r&&(Zp=i=>i.startsWith("on")?!Ao(i):r(i))}try{gy(require("@emotion/is-prop-valid").default)}catch{}function yy(r,i,s){const c={};for(const _ in r)_==="values"&&typeof r.values=="object"||(Zp(_)||s===!0&&Ao(_)||!i&&!Ao(_)||r.draggable&&_.startsWith("onDrag"))&&(c[_]=r[_]);return c}function Sy(r){if(typeof Proxy>"u")return r;const i=new Map,s=(...c)=>r(...c);return new Proxy(s,{get:(c,_)=>_==="create"?r:(i.has(_)||i.set(_,r(_)),i.get(_))})}const Wo=X.createContext({});function zo(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Kn(r){return typeof r=="string"||Array.isArray(r)}const Mc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bc=["initial",...Mc];function $o(r){return zo(r.animate)||Bc.some(i=>Kn(r[i]))}function em(r){return!!($o(r)||r.variants)}function wy(r,i){if($o(r)){const{initial:s,animate:c}=r;return{initial:s===!1||Kn(s)?s:void 0,animate:Kn(c)?c:void 0}}return r.inherit!==!1?i:{}}function Cy(r){const{initial:i,animate:s}=wy(r,X.useContext(Wo));return X.useMemo(()=>({initial:i,animate:s}),[mf(i),mf(s)])}function mf(r){return Array.isArray(r)?r.join(" "):r}const Ey=Symbol.for("motionComponentSymbol");function ji(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function xy(r,i,s){return X.useCallback(c=>{c&&r.onMount&&r.onMount(c),i&&(c?i.mount(c):i.unmount()),s&&(typeof s=="function"?s(c):ji(s)&&(s.current=c))},[i])}const Oc=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),by="framerAppearId",tm="data-"+Oc(by),{schedule:Ic}=Jp(queueMicrotask,!1),rm=X.createContext({});function ky(r,i,s,c,_){var x,S;const{visualElement:o}=X.useContext(Wo),a=X.useContext(Qp),d=X.useContext(Pc),v=X.useContext(Xp).reducedMotion,m=X.useRef(null);c=c||a.renderer,!m.current&&c&&(m.current=c(r,{visualState:i,parent:o,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:v}));const y=m.current,E=X.useContext(rm);y&&!y.projection&&_&&(y.type==="html"||y.type==="svg")&&Ry(m.current,s,_,E);const R=X.useRef(!1);X.useInsertionEffect(()=>{y&&R.current&&y.update(s,d)});const w=s[tm],h=X.useRef(!!w&&!(!((x=window.MotionHandoffIsComplete)===null||x===void 0)&&x.call(window,w))&&((S=window.MotionHasOptimisedAnimation)===null||S===void 0?void 0:S.call(window,w)));return dy(()=>{y&&(R.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Ic.render(y.render),h.current&&y.animationState&&y.animationState.animateChanges())}),X.useEffect(()=>{y&&(!h.current&&y.animationState&&y.animationState.animateChanges(),h.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,w)}),h.current=!1))}),y}function Ry(r,i,s,c){const{layoutId:_,layout:x,drag:S,dragConstraints:o,layoutScroll:a,layoutRoot:d}=i;r.projection=new s(r.latestValues,i["data-framer-portal-id"]?void 0:im(r.parent)),r.projection.setOptions({layoutId:_,layout:x,alwaysMeasureLayout:!!S||o&&ji(o),visualElement:r,animationType:typeof x=="string"?x:"both",initialPromotionConfig:c,layoutScroll:a,layoutRoot:d})}function im(r){if(r)return r.options.allowProjection!==!1?r.projection:im(r.parent)}function Ly({preloadedFeatures:r,createVisualElement:i,useRender:s,useVisualState:c,Component:_}){var x,S;r&&_y(r);function o(d,v){let m;const y={...X.useContext(Xp),...d,layoutId:Ty(d)},{isStatic:E}=y,R=Cy(d),w=c(d,E);if(!E&&Dc){Py();const h=Dy(y);m=h.MeasureLayout,R.visualElement=ky(_,w,y,i,h.ProjectionNode)}return ge.jsxs(Wo.Provider,{value:R,children:[m&&R.visualElement?ge.jsx(m,{visualElement:R.visualElement,...y}):null,s(_,d,xy(w,R.visualElement,v),w,E,R.visualElement)]})}o.displayName=`motion.${typeof _=="string"?_:`create(${(S=(x=_.displayName)!==null&&x!==void 0?x:_.name)!==null&&S!==void 0?S:""})`}`;const a=X.forwardRef(o);return a[Ey]=_,a}function Ty({layoutId:r}){const i=X.useContext(Gp).id;return i&&r!==void 0?i+"-"+r:r}function Py(r,i){X.useContext(Qp).strict}function Dy(r){const{drag:i,layout:s}=qi;if(!i&&!s)return{};const c={...i,...s};return{MeasureLayout:i!=null&&i.isEnabled(r)||s!=null&&s.isEnabled(r)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}const nm=r=>i=>typeof i=="string"&&i.startsWith(r),Fc=nm("--"),Ay=nm("var(--"),Nc=r=>Ay(r)?My.test(r.split("/*")[0].trim()):!1,My=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qn={};function By(r){for(const i in r)qn[i]=r[i],Fc(i)&&(qn[i].isCSSVariable=!0)}const Yi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fi=new Set(Yi);function sm(r,{layout:i,layoutId:s}){return fi.has(r)||r.startsWith("origin")||(i||s!==void 0)&&(!!qn[r]||r==="opacity")}const lt=r=>!!(r&&r.getVelocity),om=(r,i)=>i&&typeof r=="number"?i.transform(r):r,fr=(r,i,s)=>s>i?i:s<r?r:s,Ji={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Gn={...Ji,transform:r=>fr(0,1,r)},go={...Ji,default:1},rs=r=>({test:i=>typeof i=="string"&&i.endsWith(r)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${r}`}),Nr=rs("deg"),Qt=rs("%"),we=rs("px"),Oy=rs("vh"),Iy=rs("vw"),_f={...Qt,parse:r=>Qt.parse(r)/100,transform:r=>Qt.transform(r*100)},Fy={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},Ny={rotate:Nr,rotateX:Nr,rotateY:Nr,rotateZ:Nr,scale:go,scaleX:go,scaleY:go,scaleZ:go,skew:Nr,skewX:Nr,skewY:Nr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Gn,originX:_f,originY:_f,originZ:we},vf={...Ji,transform:Math.round},Hc={...Fy,...Ny,zIndex:vf,size:we,fillOpacity:Gn,strokeOpacity:Gn,numOctaves:vf},Hy={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jy=Yi.length;function Vy(r,i,s){let c="",_=!0;for(let x=0;x<jy;x++){const S=Yi[x],o=r[S];if(o===void 0)continue;let a=!0;if(typeof o=="number"?a=o===(S.startsWith("scale")?1:0):a=parseFloat(o)===0,!a||s){const d=om(o,Hc[S]);if(!a){_=!1;const v=Hy[S]||S;c+=`${v}(${d}) `}s&&(i[S]=d)}}return c=c.trim(),s?c=s(i,_?"":c):_&&(c="none"),c}function jc(r,i,s){const{style:c,vars:_,transformOrigin:x}=r;let S=!1,o=!1;for(const a in i){const d=i[a];if(fi.has(a)){S=!0;continue}else if(Fc(a)){_[a]=d;continue}else{const v=om(d,Hc[a]);a.startsWith("origin")?(o=!0,x[a]=v):c[a]=v}}if(i.transform||(S||s?c.transform=Vy(i,r.transform,s):c.transform&&(c.transform="none")),o){const{originX:a="50%",originY:d="50%",originZ:v=0}=x;c.transformOrigin=`${a} ${d} ${v}`}}const Vc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function am(r,i,s){for(const c in i)!lt(i[c])&&!sm(c,s)&&(r[c]=i[c])}function Uy({transformTemplate:r},i){return X.useMemo(()=>{const s=Vc();return jc(s,i,r),Object.assign({},s.vars,s.style)},[i])}function Wy(r,i){const s=r.style||{},c={};return am(c,s,r),Object.assign(c,Uy(r,i)),c}function zy(r,i){const s={},c=Wy(r,i);return r.drag&&r.dragListener!==!1&&(s.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(s.tabIndex=0),s.style=c,s}const $y=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uc(r){return typeof r!="string"||r.includes("-")?!1:!!($y.indexOf(r)>-1||/[A-Z]/u.test(r))}const Ky={offset:"stroke-dashoffset",array:"stroke-dasharray"},qy={offset:"strokeDashoffset",array:"strokeDasharray"};function Gy(r,i,s=1,c=0,_=!0){r.pathLength=1;const x=_?Ky:qy;r[x.offset]=we.transform(-c);const S=we.transform(i),o=we.transform(s);r[x.array]=`${S} ${o}`}function gf(r,i,s){return typeof r=="string"?r:we.transform(i+s*r)}function Xy(r,i,s){const c=gf(i,r.x,r.width),_=gf(s,r.y,r.height);return`${c} ${_}`}function Wc(r,{attrX:i,attrY:s,attrScale:c,originX:_,originY:x,pathLength:S,pathSpacing:o=1,pathOffset:a=0,...d},v,m){if(jc(r,d,m),v){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:y,style:E,dimensions:R}=r;y.transform&&(R&&(E.transform=y.transform),delete y.transform),R&&(_!==void 0||x!==void 0||E.transform)&&(E.transformOrigin=Xy(R,_!==void 0?_:.5,x!==void 0?x:.5)),i!==void 0&&(y.x=i),s!==void 0&&(y.y=s),c!==void 0&&(y.scale=c),S!==void 0&&Gy(y,S,o,a,!1)}const lm=()=>({...Vc(),attrs:{}}),zc=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Yy(r,i,s,c){const _=X.useMemo(()=>{const x=lm();return Wc(x,i,zc(c),r.transformTemplate),{...x.attrs,style:{...x.style}}},[i]);if(r.style){const x={};am(x,r.style,r),_.style={...x,..._.style}}return _}function Jy(r=!1){return(s,c,_,{latestValues:x},S)=>{const a=(Uc(s)?Yy:zy)(c,x,S,s),d=yy(c,typeof s=="string",r),v=s!==X.Fragment?{...d,...a,ref:_}:{},{children:m}=c,y=X.useMemo(()=>lt(m)?m.get():m,[m]);return X.createElement(s,{...v,children:y})}}function yf(r){const i=[{},{}];return r==null||r.values.forEach((s,c)=>{i[0][c]=s.get(),i[1][c]=s.getVelocity()}),i}function $c(r,i,s,c){if(typeof i=="function"){const[_,x]=yf(c);i=i(s!==void 0?s:r.custom,_,x)}if(typeof i=="string"&&(i=r.variants&&r.variants[i]),typeof i=="function"){const[_,x]=yf(c);i=i(s!==void 0?s:r.custom,_,x)}return i}const oc=r=>Array.isArray(r),Qy=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),Zy=r=>oc(r)?r[r.length-1]||0:r;function ko(r){const i=lt(r)?r.get():r;return Qy(i)?i.toValue():i}function eS({scrapeMotionValuesFromProps:r,createRenderState:i,onUpdate:s},c,_,x){const S={latestValues:tS(c,_,x,r),renderState:i()};return s&&(S.onMount=o=>s({props:c,current:o,...S}),S.onUpdate=o=>s(o)),S}const cm=r=>(i,s)=>{const c=X.useContext(Wo),_=X.useContext(Pc),x=()=>eS(r,i,c,_);return s?x():uy(x)};function tS(r,i,s,c){const _={},x=c(r,{});for(const y in x)_[y]=ko(x[y]);let{initial:S,animate:o}=r;const a=$o(r),d=em(r);i&&d&&!a&&r.inherit!==!1&&(S===void 0&&(S=i.initial),o===void 0&&(o=i.animate));let v=s?s.initial===!1:!1;v=v||S===!1;const m=v?o:S;if(m&&typeof m!="boolean"&&!zo(m)){const y=Array.isArray(m)?m:[m];for(let E=0;E<y.length;E++){const R=$c(r,y[E]);if(R){const{transitionEnd:w,transition:h,...p}=R;for(const u in p){let f=p[u];if(Array.isArray(f)){const C=v?f.length-1:0;f=f[C]}f!==null&&(_[u]=f)}for(const u in w)_[u]=w[u]}}}return _}function Kc(r,i,s){var c;const{style:_}=r,x={};for(const S in _)(lt(_[S])||i.style&&lt(i.style[S])||sm(S,r)||((c=s==null?void 0:s.getValue(S))===null||c===void 0?void 0:c.liveStyle)!==void 0)&&(x[S]=_[S]);return x}const rS={useVisualState:cm({scrapeMotionValuesFromProps:Kc,createRenderState:Vc})};function um(r,i){try{i.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}function hm(r,{style:i,vars:s},c,_){Object.assign(r.style,i,_&&_.getProjectionStyles(c));for(const x in s)r.style.setProperty(x,s[x])}const dm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fm(r,i,s,c){hm(r,i,void 0,c);for(const _ in i.attrs)r.setAttribute(dm.has(_)?_:Oc(_),i.attrs[_])}function pm(r,i,s){const c=Kc(r,i,s);for(const _ in r)if(lt(r[_])||lt(i[_])){const x=Yi.indexOf(_)!==-1?"attr"+_.charAt(0).toUpperCase()+_.substring(1):_;c[x]=r[_]}return c}const Sf=["x","y","width","height","cx","cy","r"],iS={useVisualState:cm({scrapeMotionValuesFromProps:pm,createRenderState:lm,onUpdate:({props:r,prevProps:i,current:s,renderState:c,latestValues:_})=>{if(!s)return;let x=!!r.drag;if(!x){for(const o in _)if(fi.has(o)){x=!0;break}}if(!x)return;let S=!i;if(i)for(let o=0;o<Sf.length;o++){const a=Sf[o];r[a]!==i[a]&&(S=!0)}S&&Ae.read(()=>{um(s,c),Ae.render(()=>{Wc(c,_,zc(s.tagName),r.transformTemplate),fm(s,c)})})}})};function nS(r,i){return function(c,{forwardMotionProps:_}={forwardMotionProps:!1}){const S={...Uc(c)?iS:rS,preloadedFeatures:r,useRender:Jy(_),createVisualElement:i,Component:c};return Ly(S)}}function Xn(r,i,s){const c=r.getProps();return $c(c,i,s!==void 0?s:c.custom,r)}const sS=Ac(()=>window.ScrollTimeline!==void 0);class oS{constructor(i){this.stop=()=>this.runAll("stop"),this.animations=i.filter(Boolean)}get finished(){return Promise.all(this.animations.map(i=>"finished"in i?i.finished:i))}getAll(i){return this.animations[0][i]}setAll(i,s){for(let c=0;c<this.animations.length;c++)this.animations[c][i]=s}attachTimeline(i,s){const c=this.animations.map(_=>{if(sS()&&_.attachTimeline)return _.attachTimeline(i);if(typeof s=="function")return s(_)});return()=>{c.forEach((_,x)=>{_&&_(),this.animations[x].stop()})}}get time(){return this.getAll("time")}set time(i){this.setAll("time",i)}get speed(){return this.getAll("speed")}set speed(i){this.setAll("speed",i)}get startTime(){return this.getAll("startTime")}get duration(){let i=0;for(let s=0;s<this.animations.length;s++)i=Math.max(i,this.animations[s].duration);return i}runAll(i){this.animations.forEach(s=>s[i]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class aS extends oS{then(i,s){return Promise.all(this.animations).then(i).catch(s)}}function qc(r,i){return r?r[i]||r.default||r:void 0}const ac=2e4;function mm(r){let i=0;const s=50;let c=r.next(i);for(;!c.done&&i<ac;)i+=s,c=r.next(i);return i>=ac?1/0:i}function Gc(r){return typeof r=="function"}function wf(r,i){r.timeline=i,r.onfinish=null}const Xc=r=>Array.isArray(r)&&typeof r[0]=="number",lS={linearEasing:void 0};function cS(r,i){const s=Ac(r);return()=>{var c;return(c=lS[i])!==null&&c!==void 0?c:s()}}const Mo=cS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_m=(r,i,s=10)=>{let c="";const _=Math.max(Math.round(i/s),2);for(let x=0;x<_;x++)c+=r(Ki(0,_-1,x))+", ";return`linear(${c.substring(0,c.length-2)})`};function vm(r){return!!(typeof r=="function"&&Mo()||!r||typeof r=="string"&&(r in lc||Mo())||Xc(r)||Array.isArray(r)&&r.every(vm))}const Hn=([r,i,s,c])=>`cubic-bezier(${r}, ${i}, ${s}, ${c})`,lc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hn([0,.65,.55,1]),circOut:Hn([.55,0,1,.45]),backIn:Hn([.31,.01,.66,-.59]),backOut:Hn([.33,1.53,.69,.99])};function gm(r,i){if(r)return typeof r=="function"&&Mo()?_m(r,i):Xc(r)?Hn(r):Array.isArray(r)?r.map(s=>gm(s,i)||lc.easeOut):lc[r]}const zt={x:!1,y:!1};function ym(){return zt.x||zt.y}function uS(r,i,s){var c;if(r instanceof EventTarget)return[r];if(typeof r=="string"){let _=document;const x=(c=void 0)!==null&&c!==void 0?c:_.querySelectorAll(r);return x?Array.from(x):[]}return Array.from(r)}function Sm(r,i){const s=uS(r),c=new AbortController,_={passive:!0,...i,signal:c.signal};return[s,_,()=>c.abort()]}function Cf(r){return!(r.pointerType==="touch"||ym())}function hS(r,i,s={}){const[c,_,x]=Sm(r,s),S=o=>{if(!Cf(o))return;const{target:a}=o,d=i(a,o);if(typeof d!="function"||!a)return;const v=m=>{Cf(m)&&(d(m),a.removeEventListener("pointerleave",v))};a.addEventListener("pointerleave",v,_)};return c.forEach(o=>{o.addEventListener("pointerenter",S,_)}),x}function Bo(r,i){const s=`${i}PointerCapture`;if(r.target instanceof Element&&s in r.target&&r.pointerId!==void 0)try{r.target[s](r.pointerId)}catch{}}const wm=(r,i)=>i?r===i?!0:wm(r,i.parentElement):!1,Yc=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,dS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fS(r){return dS.has(r.tagName)||r.tabIndex!==-1}const jn=new WeakSet;function Ef(r){return i=>{i.key==="Enter"&&r(i)}}function Wl(r,i){r.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const pS=(r,i)=>{const s=r.currentTarget;if(!s)return;const c=Ef(()=>{if(jn.has(s))return;Wl(s,"down");const _=Ef(()=>{Wl(s,"up")}),x=()=>Wl(s,"cancel");s.addEventListener("keyup",_,i),s.addEventListener("blur",x,i)});s.addEventListener("keydown",c,i),s.addEventListener("blur",()=>s.removeEventListener("keydown",c),i)};function xf(r){return Yc(r)&&!ym()}function mS(r,i,s={}){const[c,_,x]=Sm(r,s),S=o=>{const a=o.currentTarget;if(!a||!xf(o)||jn.has(a))return;jn.add(a),Bo(o,"set");const d=i(a,o),v=(E,R)=>{a.removeEventListener("pointerup",m),a.removeEventListener("pointercancel",y),Bo(E,"release"),!(!xf(E)||!jn.has(a))&&(jn.delete(a),typeof d=="function"&&d(E,{success:R}))},m=E=>{(E.isTrusted?_S(E,a instanceof Element?a.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?v(E,!1):v(E,!(a instanceof Element)||wm(a,E.target))},y=E=>{v(E,!1)};a.addEventListener("pointerup",m,_),a.addEventListener("pointercancel",y,_),a.addEventListener("lostpointercapture",y,_)};return c.forEach(o=>{o=s.useGlobalTarget?window:o;let a=!1;o instanceof HTMLElement&&(a=!0,!fS(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0)),o.addEventListener("pointerdown",S,_),a&&o.addEventListener("focus",d=>pS(d,_),_)}),x}function _S(r,i){return r.clientX<i.left||r.clientX>i.right||r.clientY<i.top||r.clientY>i.bottom}function vS(r){return r==="x"||r==="y"?zt[r]?null:(zt[r]=!0,()=>{zt[r]=!1}):zt.x||zt.y?null:(zt.x=zt.y=!0,()=>{zt.x=zt.y=!1})}const Cm=new Set(["width","height","top","left","right","bottom",...Yi]);let Ro;function gS(){Ro=void 0}const Zt={now:()=>(Ro===void 0&&Zt.set(rt.isProcessing||fy.useManualTiming?rt.timestamp:performance.now()),Ro),set:r=>{Ro=r,queueMicrotask(gS)}};function Jc(r,i){r.indexOf(i)===-1&&r.push(i)}function Qc(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}class Zc{constructor(){this.subscriptions=[]}add(i){return Jc(this.subscriptions,i),()=>Qc(this.subscriptions,i)}notify(i,s,c){const _=this.subscriptions.length;if(_)if(_===1)this.subscriptions[0](i,s,c);else for(let x=0;x<_;x++){const S=this.subscriptions[x];S&&S(i,s,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Em(r,i){return i?r*(1e3/i):0}const bf=30,yS=r=>!isNaN(parseFloat(r));class SS{constructor(i,s={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(c,_=!0)=>{const x=Zt.now();this.updatedAt!==x&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(c),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),_&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.owner=s.owner}setCurrent(i){this.current=i,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=yS(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,s){this.events[i]||(this.events[i]=new Zc);const c=this.events[i].add(s);return i==="change"?()=>{c(),Ae.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,s){this.passiveEffect=i,this.stopPassiveEffect=s}set(i,s=!0){!s||!this.passiveEffect?this.updateAndNotify(i,s):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,s,c){this.set(s),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-c}jump(i,s=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>bf)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,bf);return Em(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(i){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=i(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yn(r,i){return new SS(r,i)}function wS(r,i,s){r.hasValue(i)?r.getValue(i).set(s):r.addValue(i,Yn(s))}function CS(r,i){const s=Xn(r,i);let{transitionEnd:c={},transition:_={},...x}=s||{};x={...x,...c};for(const S in x){const o=Zy(x[S]);wS(r,S,o)}}function ES(r){return!!(lt(r)&&r.add)}function cc(r,i){const s=r.getValue("willChange");if(ES(s))return s.add(i)}function xm(r){return r.props[tm]}const bm=(r,i,s)=>(((1-3*s+3*i)*r+(3*s-6*i))*r+3*i)*r,xS=1e-7,bS=12;function kS(r,i,s,c,_){let x,S,o=0;do S=i+(s-i)/2,x=bm(S,c,_)-r,x>0?s=S:i=S;while(Math.abs(x)>xS&&++o<bS);return S}function is(r,i,s,c){if(r===i&&s===c)return kt;const _=x=>kS(x,0,1,r,s);return x=>x===0||x===1?x:bm(_(x),i,c)}const km=r=>i=>i<=.5?r(2*i)/2:(2-r(2*(1-i)))/2,Rm=r=>i=>1-r(1-i),Lm=is(.33,1.53,.69,.99),eu=Rm(Lm),Tm=km(eu),Pm=r=>(r*=2)<1?.5*eu(r):.5*(2-Math.pow(2,-10*(r-1))),tu=r=>1-Math.sin(Math.acos(r)),Dm=Rm(tu),Am=km(tu),Mm=r=>/^0[^.\s]+$/u.test(r);function RS(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Mm(r):!0}const Vn=r=>Math.round(r*1e5)/1e5,ru=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LS(r){return r==null}const TS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iu=(r,i)=>s=>!!(typeof s=="string"&&TS.test(s)&&s.startsWith(r)||i&&!LS(s)&&Object.prototype.hasOwnProperty.call(s,i)),Bm=(r,i,s)=>c=>{if(typeof c!="string")return c;const[_,x,S,o]=c.match(ru);return{[r]:parseFloat(_),[i]:parseFloat(x),[s]:parseFloat(S),alpha:o!==void 0?parseFloat(o):1}},PS=r=>fr(0,255,r),zl={...Ji,transform:r=>Math.round(PS(r))},ci={test:iu("rgb","red"),parse:Bm("red","green","blue"),transform:({red:r,green:i,blue:s,alpha:c=1})=>"rgba("+zl.transform(r)+", "+zl.transform(i)+", "+zl.transform(s)+", "+Vn(Gn.transform(c))+")"};function DS(r){let i="",s="",c="",_="";return r.length>5?(i=r.substring(1,3),s=r.substring(3,5),c=r.substring(5,7),_=r.substring(7,9)):(i=r.substring(1,2),s=r.substring(2,3),c=r.substring(3,4),_=r.substring(4,5),i+=i,s+=s,c+=c,_+=_),{red:parseInt(i,16),green:parseInt(s,16),blue:parseInt(c,16),alpha:_?parseInt(_,16)/255:1}}const uc={test:iu("#"),parse:DS,transform:ci.transform},Vi={test:iu("hsl","hue"),parse:Bm("hue","saturation","lightness"),transform:({hue:r,saturation:i,lightness:s,alpha:c=1})=>"hsla("+Math.round(r)+", "+Qt.transform(Vn(i))+", "+Qt.transform(Vn(s))+", "+Vn(Gn.transform(c))+")"},at={test:r=>ci.test(r)||uc.test(r)||Vi.test(r),parse:r=>ci.test(r)?ci.parse(r):Vi.test(r)?Vi.parse(r):uc.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?ci.transform(r):Vi.transform(r)},AS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MS(r){var i,s;return isNaN(r)&&typeof r=="string"&&(((i=r.match(ru))===null||i===void 0?void 0:i.length)||0)+(((s=r.match(AS))===null||s===void 0?void 0:s.length)||0)>0}const Om="number",Im="color",BS="var",OS="var(",kf="${}",IS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jn(r){const i=r.toString(),s=[],c={color:[],number:[],var:[]},_=[];let x=0;const o=i.replace(IS,a=>(at.test(a)?(c.color.push(x),_.push(Im),s.push(at.parse(a))):a.startsWith(OS)?(c.var.push(x),_.push(BS),s.push(a)):(c.number.push(x),_.push(Om),s.push(parseFloat(a))),++x,kf)).split(kf);return{values:s,split:o,indexes:c,types:_}}function Fm(r){return Jn(r).values}function Nm(r){const{split:i,types:s}=Jn(r),c=i.length;return _=>{let x="";for(let S=0;S<c;S++)if(x+=i[S],_[S]!==void 0){const o=s[S];o===Om?x+=Vn(_[S]):o===Im?x+=at.transform(_[S]):x+=_[S]}return x}}const FS=r=>typeof r=="number"?0:r;function NS(r){const i=Fm(r);return Nm(r)(i.map(FS))}const Vr={test:MS,parse:Fm,createTransformer:Nm,getAnimatableNone:NS},HS=new Set(["brightness","contrast","saturate","opacity"]);function jS(r){const[i,s]=r.slice(0,-1).split("(");if(i==="drop-shadow")return r;const[c]=s.match(ru)||[];if(!c)return r;const _=s.replace(c,"");let x=HS.has(i)?1:0;return c!==s&&(x*=100),i+"("+x+_+")"}const VS=/\b([a-z-]*)\(.*?\)/gu,hc={...Vr,getAnimatableNone:r=>{const i=r.match(VS);return i?i.map(jS).join(" "):r}},US={...Hc,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:hc,WebkitFilter:hc},nu=r=>US[r];function Hm(r,i){let s=nu(r);return s!==hc&&(s=Vr),s.getAnimatableNone?s.getAnimatableNone(i):void 0}const WS=new Set(["auto","none","0"]);function zS(r,i,s){let c=0,_;for(;c<r.length&&!_;){const x=r[c];typeof x=="string"&&!WS.has(x)&&Jn(x).values.length&&(_=r[c]),c++}if(_&&s)for(const x of i)r[x]=Hm(s,_)}const Rf=r=>r===Ji||r===we,Lf=(r,i)=>parseFloat(r.split(", ")[i]),Tf=(r,i)=>(s,{transform:c})=>{if(c==="none"||!c)return 0;const _=c.match(/^matrix3d\((.+)\)$/u);if(_)return Lf(_[1],i);{const x=c.match(/^matrix\((.+)\)$/u);return x?Lf(x[1],r):0}},$S=new Set(["x","y","z"]),KS=Yi.filter(r=>!$S.has(r));function qS(r){const i=[];return KS.forEach(s=>{const c=r.getValue(s);c!==void 0&&(i.push([s,c.get()]),c.set(s.startsWith("scale")?1:0))}),i}const Gi={width:({x:r},{paddingLeft:i="0",paddingRight:s="0"})=>r.max-r.min-parseFloat(i)-parseFloat(s),height:({y:r},{paddingTop:i="0",paddingBottom:s="0"})=>r.max-r.min-parseFloat(i)-parseFloat(s),top:(r,{top:i})=>parseFloat(i),left:(r,{left:i})=>parseFloat(i),bottom:({y:r},{top:i})=>parseFloat(i)+(r.max-r.min),right:({x:r},{left:i})=>parseFloat(i)+(r.max-r.min),x:Tf(4,13),y:Tf(5,14)};Gi.translateX=Gi.x;Gi.translateY=Gi.y;const ui=new Set;let dc=!1,fc=!1;function jm(){if(fc){const r=Array.from(ui).filter(c=>c.needsMeasurement),i=new Set(r.map(c=>c.element)),s=new Map;i.forEach(c=>{const _=qS(c);_.length&&(s.set(c,_),c.render())}),r.forEach(c=>c.measureInitialState()),i.forEach(c=>{c.render();const _=s.get(c);_&&_.forEach(([x,S])=>{var o;(o=c.getValue(x))===null||o===void 0||o.set(S)})}),r.forEach(c=>c.measureEndState()),r.forEach(c=>{c.suspendedScrollY!==void 0&&window.scrollTo(0,c.suspendedScrollY)})}fc=!1,dc=!1,ui.forEach(r=>r.complete()),ui.clear()}function Vm(){ui.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(fc=!0)})}function GS(){Vm(),jm()}class su{constructor(i,s,c,_,x,S=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=s,this.name=c,this.motionValue=_,this.element=x,this.isAsync=S}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ui.add(this),dc||(dc=!0,Ae.read(Vm),Ae.resolveKeyframes(jm))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:s,element:c,motionValue:_}=this;for(let x=0;x<i.length;x++)if(i[x]===null)if(x===0){const S=_==null?void 0:_.get(),o=i[i.length-1];if(S!==void 0)i[0]=S;else if(c&&s){const a=c.readValue(s,o);a!=null&&(i[0]=a)}i[0]===void 0&&(i[0]=o),_&&S===void 0&&_.set(i[0])}else i[x]=i[x-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ui.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ui.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Um=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),XS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YS(r){const i=XS.exec(r);if(!i)return[,];const[,s,c,_]=i;return[`--${s??c}`,_]}function Wm(r,i,s=1){const[c,_]=YS(r);if(!c)return;const x=window.getComputedStyle(i).getPropertyValue(c);if(x){const S=x.trim();return Um(S)?parseFloat(S):S}return Nc(_)?Wm(_,i,s+1):_}const zm=r=>i=>i.test(r),JS={test:r=>r==="auto",parse:r=>r},$m=[Ji,we,Qt,Nr,Iy,Oy,JS],Pf=r=>$m.find(zm(r));class Km extends su{constructor(i,s,c,_,x){super(i,s,c,_,x,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:s,name:c}=this;if(!s||!s.current)return;super.readKeyframes();for(let a=0;a<i.length;a++){let d=i[a];if(typeof d=="string"&&(d=d.trim(),Nc(d))){const v=Wm(d,s.current);v!==void 0&&(i[a]=v),a===i.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Cm.has(c)||i.length!==2)return;const[_,x]=i,S=Pf(_),o=Pf(x);if(S!==o)if(Rf(S)&&Rf(o))for(let a=0;a<i.length;a++){const d=i[a];typeof d=="string"&&(i[a]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:s}=this,c=[];for(let _=0;_<i.length;_++)RS(i[_])&&c.push(_);c.length&&zS(i,c,s)}measureInitialState(){const{element:i,unresolvedKeyframes:s,name:c}=this;if(!i||!i.current)return;c==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gi[c](i.measureViewportBox(),window.getComputedStyle(i.current)),s[0]=this.measuredOrigin;const _=s[s.length-1];_!==void 0&&i.getValue(c,_).jump(_,!1)}measureEndState(){var i;const{element:s,name:c,unresolvedKeyframes:_}=this;if(!s||!s.current)return;const x=s.getValue(c);x&&x.jump(this.measuredOrigin,!1);const S=_.length-1,o=_[S];_[S]=Gi[c](s.measureViewportBox(),window.getComputedStyle(s.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((i=this.removedTransforms)===null||i===void 0)&&i.length&&this.removedTransforms.forEach(([a,d])=>{s.getValue(a).set(d)}),this.resolveNoneKeyframes()}}const Df=(r,i)=>i==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Vr.test(r)||r==="0")&&!r.startsWith("url("));function QS(r){const i=r[0];if(r.length===1)return!0;for(let s=0;s<r.length;s++)if(r[s]!==i)return!0}function ZS(r,i,s,c){const _=r[0];if(_===null)return!1;if(i==="display"||i==="visibility")return!0;const x=r[r.length-1],S=Df(_,i),o=Df(x,i);return!S||!o?!1:QS(r)||(s==="spring"||Gc(s))&&c}const e1=r=>r!==null;function Ko(r,{repeat:i,repeatType:s="loop"},c){const _=r.filter(e1),x=i&&s!=="loop"&&i%2===1?0:_.length-1;return!x||c===void 0?_[x]:c}const t1=40;class qm{constructor({autoplay:i=!0,delay:s=0,type:c="keyframes",repeat:_=0,repeatDelay:x=0,repeatType:S="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zt.now(),this.options={autoplay:i,delay:s,type:c,repeat:_,repeatDelay:x,repeatType:S,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>t1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&GS(),this._resolved}onKeyframesResolved(i,s){this.resolvedAt=Zt.now(),this.hasAttemptedResolve=!0;const{name:c,type:_,velocity:x,delay:S,onComplete:o,onUpdate:a,isGenerator:d}=this.options;if(!d&&!ZS(i,c,_,x))if(S)this.options.duration=0;else{a&&a(Ko(i,this.options,s)),o&&o(),this.resolveFinishedPromise();return}const v=this.initPlayback(i,s);v!==!1&&(this._resolved={keyframes:i,finalKeyframe:s,...v},this.onPostResolved())}onPostResolved(){}then(i,s){return this.currentFinishedPromise.then(i,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}const je=(r,i,s)=>r+(i-r)*s;function $l(r,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(i-r)*6*s:s<1/2?i:s<2/3?r+(i-r)*(2/3-s)*6:r}function r1({hue:r,saturation:i,lightness:s,alpha:c}){r/=360,i/=100,s/=100;let _=0,x=0,S=0;if(!i)_=x=S=s;else{const o=s<.5?s*(1+i):s+i-s*i,a=2*s-o;_=$l(a,o,r+1/3),x=$l(a,o,r),S=$l(a,o,r-1/3)}return{red:Math.round(_*255),green:Math.round(x*255),blue:Math.round(S*255),alpha:c}}function Oo(r,i){return s=>s>0?i:r}const Kl=(r,i,s)=>{const c=r*r,_=s*(i*i-c)+c;return _<0?0:Math.sqrt(_)},i1=[uc,ci,Vi],n1=r=>i1.find(i=>i.test(r));function Af(r){const i=n1(r);if(!i)return!1;let s=i.parse(r);return i===Vi&&(s=r1(s)),s}const Mf=(r,i)=>{const s=Af(r),c=Af(i);if(!s||!c)return Oo(r,i);const _={...s};return x=>(_.red=Kl(s.red,c.red,x),_.green=Kl(s.green,c.green,x),_.blue=Kl(s.blue,c.blue,x),_.alpha=je(s.alpha,c.alpha,x),ci.transform(_))},s1=(r,i)=>s=>i(r(s)),ns=(...r)=>r.reduce(s1),pc=new Set(["none","hidden"]);function o1(r,i){return pc.has(r)?s=>s<=0?r:i:s=>s>=1?i:r}function a1(r,i){return s=>je(r,i,s)}function ou(r){return typeof r=="number"?a1:typeof r=="string"?Nc(r)?Oo:at.test(r)?Mf:u1:Array.isArray(r)?Gm:typeof r=="object"?at.test(r)?Mf:l1:Oo}function Gm(r,i){const s=[...r],c=s.length,_=r.map((x,S)=>ou(x)(x,i[S]));return x=>{for(let S=0;S<c;S++)s[S]=_[S](x);return s}}function l1(r,i){const s={...r,...i},c={};for(const _ in s)r[_]!==void 0&&i[_]!==void 0&&(c[_]=ou(r[_])(r[_],i[_]));return _=>{for(const x in c)s[x]=c[x](_);return s}}function c1(r,i){var s;const c=[],_={color:0,var:0,number:0};for(let x=0;x<i.values.length;x++){const S=i.types[x],o=r.indexes[S][_[S]],a=(s=r.values[o])!==null&&s!==void 0?s:0;c[x]=a,_[S]++}return c}const u1=(r,i)=>{const s=Vr.createTransformer(i),c=Jn(r),_=Jn(i);return c.indexes.var.length===_.indexes.var.length&&c.indexes.color.length===_.indexes.color.length&&c.indexes.number.length>=_.indexes.number.length?pc.has(r)&&!_.values.length||pc.has(i)&&!c.values.length?o1(r,i):ns(Gm(c1(c,_),_.values),s):Oo(r,i)};function Xm(r,i,s){return typeof r=="number"&&typeof i=="number"&&typeof s=="number"?je(r,i,s):ou(r)(r,i)}const h1=5;function Ym(r,i,s){const c=Math.max(i-h1,0);return Em(s-r(c),i-c)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bf=.001;function d1({duration:r=We.duration,bounce:i=We.bounce,velocity:s=We.velocity,mass:c=We.mass}){let _,x,S=1-i;S=fr(We.minDamping,We.maxDamping,S),r=fr(We.minDuration,We.maxDuration,dr(r)),S<1?(_=d=>{const v=d*S,m=v*r,y=v-s,E=mc(d,S),R=Math.exp(-m);return Bf-y/E*R},x=d=>{const m=d*S*r,y=m*s+s,E=Math.pow(S,2)*Math.pow(d,2)*r,R=Math.exp(-m),w=mc(Math.pow(d,2),S);return(-_(d)+Bf>0?-1:1)*((y-E)*R)/w}):(_=d=>{const v=Math.exp(-d*r),m=(d-s)*r+1;return-.001+v*m},x=d=>{const v=Math.exp(-d*r),m=(s-d)*(r*r);return v*m});const o=5/r,a=p1(_,x,o);if(r=hr(r),isNaN(a))return{stiffness:We.stiffness,damping:We.damping,duration:r};{const d=Math.pow(a,2)*c;return{stiffness:d,damping:S*2*Math.sqrt(c*d),duration:r}}}const f1=12;function p1(r,i,s){let c=s;for(let _=1;_<f1;_++)c=c-r(c)/i(c);return c}function mc(r,i){return r*Math.sqrt(1-i*i)}const m1=["duration","bounce"],_1=["stiffness","damping","mass"];function Of(r,i){return i.some(s=>r[s]!==void 0)}function v1(r){let i={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...r};if(!Of(r,_1)&&Of(r,m1))if(r.visualDuration){const s=r.visualDuration,c=2*Math.PI/(s*1.2),_=c*c,x=2*fr(.05,1,1-(r.bounce||0))*Math.sqrt(_);i={...i,mass:We.mass,stiffness:_,damping:x}}else{const s=d1(r);i={...i,...s,mass:We.mass},i.isResolvedFromDuration=!0}return i}function Jm(r=We.visualDuration,i=We.bounce){const s=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:i}:r;let{restSpeed:c,restDelta:_}=s;const x=s.keyframes[0],S=s.keyframes[s.keyframes.length-1],o={done:!1,value:x},{stiffness:a,damping:d,mass:v,duration:m,velocity:y,isResolvedFromDuration:E}=v1({...s,velocity:-dr(s.velocity||0)}),R=y||0,w=d/(2*Math.sqrt(a*v)),h=S-x,p=dr(Math.sqrt(a/v)),u=Math.abs(h)<5;c||(c=u?We.restSpeed.granular:We.restSpeed.default),_||(_=u?We.restDelta.granular:We.restDelta.default);let f;if(w<1){const L=mc(p,w);f=T=>{const P=Math.exp(-w*p*T);return S-P*((R+w*p*h)/L*Math.sin(L*T)+h*Math.cos(L*T))}}else if(w===1)f=L=>S-Math.exp(-p*L)*(h+(R+p*h)*L);else{const L=p*Math.sqrt(w*w-1);f=T=>{const P=Math.exp(-w*p*T),k=Math.min(L*T,300);return S-P*((R+w*p*h)*Math.sinh(k)+L*h*Math.cosh(k))/L}}const C={calculatedDuration:E&&m||null,next:L=>{const T=f(L);if(E)o.done=L>=m;else{let P=0;w<1&&(P=L===0?hr(R):Ym(f,L,T));const k=Math.abs(P)<=c,A=Math.abs(S-T)<=_;o.done=k&&A}return o.value=o.done?S:T,o},toString:()=>{const L=Math.min(mm(C),ac),T=_m(P=>C.next(L*P).value,L,30);return L+"ms "+T}};return C}function If({keyframes:r,velocity:i=0,power:s=.8,timeConstant:c=325,bounceDamping:_=10,bounceStiffness:x=500,modifyTarget:S,min:o,max:a,restDelta:d=.5,restSpeed:v}){const m=r[0],y={done:!1,value:m},E=k=>o!==void 0&&k<o||a!==void 0&&k>a,R=k=>o===void 0?a:a===void 0||Math.abs(o-k)<Math.abs(a-k)?o:a;let w=s*i;const h=m+w,p=S===void 0?h:S(h);p!==h&&(w=p-m);const u=k=>-w*Math.exp(-k/c),f=k=>p+u(k),C=k=>{const A=u(k),H=f(k);y.done=Math.abs(A)<=d,y.value=y.done?p:H};let L,T;const P=k=>{E(y.value)&&(L=k,T=Jm({keyframes:[y.value,R(y.value)],velocity:Ym(f,k,y.value),damping:_,stiffness:x,restDelta:d,restSpeed:v}))};return P(0),{calculatedDuration:null,next:k=>{let A=!1;return!T&&L===void 0&&(A=!0,C(k),P(k)),L!==void 0&&k>=L?T.next(k-L):(!A&&C(k),y)}}}const g1=is(.42,0,1,1),y1=is(0,0,.58,1),Qm=is(.42,0,.58,1),S1=r=>Array.isArray(r)&&typeof r[0]!="number",w1={linear:kt,easeIn:g1,easeInOut:Qm,easeOut:y1,circIn:tu,circInOut:Am,circOut:Dm,backIn:eu,backInOut:Tm,backOut:Lm,anticipate:Pm},Ff=r=>{if(Xc(r)){Yp(r.length===4);const[i,s,c,_]=r;return is(i,s,c,_)}else if(typeof r=="string")return w1[r];return r};function C1(r,i,s){const c=[],_=s||Xm,x=r.length-1;for(let S=0;S<x;S++){let o=_(r[S],r[S+1]);if(i){const a=Array.isArray(i)?i[S]||kt:i;o=ns(a,o)}c.push(o)}return c}function E1(r,i,{clamp:s=!0,ease:c,mixer:_}={}){const x=r.length;if(Yp(x===i.length),x===1)return()=>i[0];if(x===2&&i[0]===i[1])return()=>i[1];const S=r[0]===r[1];r[0]>r[x-1]&&(r=[...r].reverse(),i=[...i].reverse());const o=C1(i,c,_),a=o.length,d=v=>{if(S&&v<r[0])return i[0];let m=0;if(a>1)for(;m<r.length-2&&!(v<r[m+1]);m++);const y=Ki(r[m],r[m+1],v);return o[m](y)};return s?v=>d(fr(r[0],r[x-1],v)):d}function x1(r,i){const s=r[r.length-1];for(let c=1;c<=i;c++){const _=Ki(0,i,c);r.push(je(s,1,_))}}function b1(r){const i=[0];return x1(i,r.length-1),i}function k1(r,i){return r.map(s=>s*i)}function R1(r,i){return r.map(()=>i||Qm).splice(0,r.length-1)}function Io({duration:r=300,keyframes:i,times:s,ease:c="easeInOut"}){const _=S1(c)?c.map(Ff):Ff(c),x={done:!1,value:i[0]},S=k1(s&&s.length===i.length?s:b1(i),r),o=E1(S,i,{ease:Array.isArray(_)?_:R1(i,_)});return{calculatedDuration:r,next:a=>(x.value=o(a),x.done=a>=r,x)}}const L1=r=>{const i=({timestamp:s})=>r(s);return{start:()=>Ae.update(i,!0),stop:()=>jr(i),now:()=>rt.isProcessing?rt.timestamp:Zt.now()}},T1={decay:If,inertia:If,tween:Io,keyframes:Io,spring:Jm},P1=r=>r/100;class au extends qm{constructor(i){super(i),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:s,motionValue:c,element:_,keyframes:x}=this.options,S=(_==null?void 0:_.KeyframeResolver)||su,o=(a,d)=>this.onKeyframesResolved(a,d);this.resolver=new S(x,o,s,c,_),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(i){const{type:s="keyframes",repeat:c=0,repeatDelay:_=0,repeatType:x,velocity:S=0}=this.options,o=Gc(s)?s:T1[s]||Io;let a,d;o!==Io&&typeof i[0]!="number"&&(a=ns(P1,Xm(i[0],i[1])),i=[0,100]);const v=o({...this.options,keyframes:i});x==="mirror"&&(d=o({...this.options,keyframes:[...i].reverse(),velocity:-S})),v.calculatedDuration===null&&(v.calculatedDuration=mm(v));const{calculatedDuration:m}=v,y=m+_,E=y*(c+1)-_;return{generator:v,mirroredGenerator:d,mapPercentToKeyframes:a,calculatedDuration:m,resolvedDuration:y,totalDuration:E}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,s=!1){const{resolved:c}=this;if(!c){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:_,generator:x,mirroredGenerator:S,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:d,totalDuration:v,resolvedDuration:m}=c;if(this.startTime===null)return x.next(0);const{delay:y,repeat:E,repeatType:R,repeatDelay:w,onUpdate:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-v/this.speed,this.startTime)),s?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const p=this.currentTime-y*(this.speed>=0?1:-1),u=this.speed>=0?p<0:p>v;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let f=this.currentTime,C=x;if(E){const k=Math.min(this.currentTime,v)/m;let A=Math.floor(k),H=k%1;!H&&k>=1&&(H=1),H===1&&A--,A=Math.min(A,E+1),!!(A%2)&&(R==="reverse"?(H=1-H,w&&(H-=w/m)):R==="mirror"&&(C=S)),f=fr(0,1,H)*m}const L=u?{done:!1,value:a[0]}:C.next(f);o&&(L.value=o(L.value));let{done:T}=L;!u&&d!==null&&(T=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return P&&_!==void 0&&(L.value=Ko(a,this.options,_)),h&&h(L.value),P&&this.finish(),L}get duration(){const{resolved:i}=this;return i?dr(i.calculatedDuration):0}get time(){return dr(this.currentTime)}set time(i){i=hr(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const s=this.playbackSpeed!==i;this.playbackSpeed=i,s&&(this.time=dr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=L1,onPlay:s,startTime:c}=this.options;this.driver||(this.driver=i(x=>this.tick(x))),s&&s();const _=this.driver.now();this.holdTime!==null?this.startTime=_-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=_):this.startTime=c??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var i;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(i=this.currentTime)!==null&&i!==void 0?i:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}}const D1=new Set(["opacity","clipPath","filter","transform"]);function A1(r,i,s,{delay:c=0,duration:_=300,repeat:x=0,repeatType:S="loop",ease:o="easeInOut",times:a}={}){const d={[i]:s};a&&(d.offset=a);const v=gm(o,_);return Array.isArray(v)&&(d.easing=v),r.animate(d,{delay:c,duration:_,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:x+1,direction:S==="reverse"?"alternate":"normal"})}const M1=Ac(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fo=10,B1=2e4;function O1(r){return Gc(r.type)||r.type==="spring"||!vm(r.ease)}function I1(r,i){const s=new au({...i,keyframes:r,repeat:0,delay:0,isGenerator:!0});let c={done:!1,value:r[0]};const _=[];let x=0;for(;!c.done&&x<B1;)c=s.sample(x),_.push(c.value),x+=Fo;return{times:void 0,keyframes:_,duration:x-Fo,ease:"linear"}}const Zm={anticipate:Pm,backInOut:Tm,circInOut:Am};function F1(r){return r in Zm}class Nf extends qm{constructor(i){super(i);const{name:s,motionValue:c,element:_,keyframes:x}=this.options;this.resolver=new Km(x,(S,o)=>this.onKeyframesResolved(S,o),s,c,_),this.resolver.scheduleResolve()}initPlayback(i,s){let{duration:c=300,times:_,ease:x,type:S,motionValue:o,name:a,startTime:d}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof x=="string"&&Mo()&&F1(x)&&(x=Zm[x]),O1(this.options)){const{onComplete:m,onUpdate:y,motionValue:E,element:R,...w}=this.options,h=I1(i,w);i=h.keyframes,i.length===1&&(i[1]=i[0]),c=h.duration,_=h.times,x=h.ease,S="keyframes"}const v=A1(o.owner.current,a,i,{...this.options,duration:c,times:_,ease:x});return v.startTime=d??this.calcStartTime(),this.pendingTimeline?(wf(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:m}=this.options;o.set(Ko(i,this.options,s)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:c,times:_,type:S,ease:x,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:s}=i;return dr(s)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:s}=i;return dr(s.currentTime||0)}set time(i){const{resolved:s}=this;if(!s)return;const{animation:c}=s;c.currentTime=hr(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:s}=i;return s.playbackRate}set speed(i){const{resolved:s}=this;if(!s)return;const{animation:c}=s;c.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:s}=i;return s.playState}get startTime(){const{resolved:i}=this;if(!i)return null;const{animation:s}=i;return s.startTime}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:s}=this;if(!s)return kt;const{animation:c}=s;wf(c,i)}return kt}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:i}=this;if(!i)return;const{animation:s,keyframes:c,duration:_,type:x,ease:S,times:o}=i;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:v,onComplete:m,element:y,...E}=this.options,R=new au({...E,keyframes:c,duration:_,type:x,ease:S,times:o,isGenerator:!0}),w=hr(this.time);d.setWithVelocity(R.sample(w-Fo).value,R.sample(w).value,Fo)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:s,name:c,repeatDelay:_,repeatType:x,damping:S,type:o}=i;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:d}=s.owner.getProps();return M1()&&c&&D1.has(c)&&!a&&!d&&!_&&x!=="mirror"&&S!==0&&o!=="inertia"}}const N1={type:"spring",stiffness:500,damping:25,restSpeed:10},H1=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),j1={type:"keyframes",duration:.8},V1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U1=(r,{keyframes:i})=>i.length>2?j1:fi.has(r)?r.startsWith("scale")?H1(i[1]):N1:V1;function W1({when:r,delay:i,delayChildren:s,staggerChildren:c,staggerDirection:_,repeat:x,repeatType:S,repeatDelay:o,from:a,elapsed:d,...v}){return!!Object.keys(v).length}const lu=(r,i,s,c={},_,x)=>S=>{const o=qc(c,r)||{},a=o.delay||c.delay||0;let{elapsed:d=0}=c;d=d-hr(a);let v={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:i.getVelocity(),...o,delay:-d,onUpdate:y=>{i.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{S(),o.onComplete&&o.onComplete()},name:r,motionValue:i,element:x?void 0:_};W1(o)||(v={...v,...U1(r,v)}),v.duration&&(v.duration=hr(v.duration)),v.repeatDelay&&(v.repeatDelay=hr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let m=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(m=!0)),m&&!x&&i.get()!==void 0){const y=Ko(v.keyframes,o);if(y!==void 0)return Ae.update(()=>{v.onUpdate(y),v.onComplete()}),new aS([])}return!x&&Nf.supports(v)?new Nf(v):new au(v)};function z1({protectedKeys:r,needsAnimating:i},s){const c=r.hasOwnProperty(s)&&i[s]!==!0;return i[s]=!1,c}function e_(r,i,{delay:s=0,transitionOverride:c,type:_}={}){var x;let{transition:S=r.getDefaultTransition(),transitionEnd:o,...a}=i;c&&(S=c);const d=[],v=_&&r.animationState&&r.animationState.getState()[_];for(const m in a){const y=r.getValue(m,(x=r.latestValues[m])!==null&&x!==void 0?x:null),E=a[m];if(E===void 0||v&&z1(v,m))continue;const R={delay:s,...qc(S||{},m)};let w=!1;if(window.MotionHandoffAnimation){const p=xm(r);if(p){const u=window.MotionHandoffAnimation(p,m,Ae);u!==null&&(R.startTime=u,w=!0)}}cc(r,m),y.start(lu(m,y,E,r.shouldReduceMotion&&Cm.has(m)?{type:!1}:R,r,w));const h=y.animation;h&&d.push(h)}return o&&Promise.all(d).then(()=>{Ae.update(()=>{o&&CS(r,o)})}),d}function _c(r,i,s={}){var c;const _=Xn(r,i,s.type==="exit"?(c=r.presenceContext)===null||c===void 0?void 0:c.custom:void 0);let{transition:x=r.getDefaultTransition()||{}}=_||{};s.transitionOverride&&(x=s.transitionOverride);const S=_?()=>Promise.all(e_(r,_,s)):()=>Promise.resolve(),o=r.variantChildren&&r.variantChildren.size?(d=0)=>{const{delayChildren:v=0,staggerChildren:m,staggerDirection:y}=x;return $1(r,i,v+d,m,y,s)}:()=>Promise.resolve(),{when:a}=x;if(a){const[d,v]=a==="beforeChildren"?[S,o]:[o,S];return d().then(()=>v())}else return Promise.all([S(),o(s.delay)])}function $1(r,i,s=0,c=0,_=1,x){const S=[],o=(r.variantChildren.size-1)*c,a=_===1?(d=0)=>d*c:(d=0)=>o-d*c;return Array.from(r.variantChildren).sort(K1).forEach((d,v)=>{d.notify("AnimationStart",i),S.push(_c(d,i,{...x,delay:s+a(v)}).then(()=>d.notify("AnimationComplete",i)))}),Promise.all(S)}function K1(r,i){return r.sortNodePosition(i)}function q1(r,i,s={}){r.notify("AnimationStart",i);let c;if(Array.isArray(i)){const _=i.map(x=>_c(r,x,s));c=Promise.all(_)}else if(typeof i=="string")c=_c(r,i,s);else{const _=typeof i=="function"?Xn(r,i,s.custom):i;c=Promise.all(e_(r,_,s))}return c.then(()=>{r.notify("AnimationComplete",i)})}function t_(r,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==r.length)return!1;for(let c=0;c<s;c++)if(i[c]!==r[c])return!1;return!0}const G1=Bc.length;function r_(r){if(!r)return;if(!r.isControllingVariants){const s=r.parent?r_(r.parent)||{}:{};return r.props.initial!==void 0&&(s.initial=r.props.initial),s}const i={};for(let s=0;s<G1;s++){const c=Bc[s],_=r.props[c];(Kn(_)||_===!1)&&(i[c]=_)}return i}const X1=[...Mc].reverse(),Y1=Mc.length;function J1(r){return i=>Promise.all(i.map(({animation:s,options:c})=>q1(r,s,c)))}function Q1(r){let i=J1(r),s=Hf(),c=!0;const _=a=>(d,v)=>{var m;const y=Xn(r,v,a==="exit"?(m=r.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(y){const{transition:E,transitionEnd:R,...w}=y;d={...d,...w,...R}}return d};function x(a){i=a(r)}function S(a){const{props:d}=r,v=r_(r.parent)||{},m=[],y=new Set;let E={},R=1/0;for(let h=0;h<Y1;h++){const p=X1[h],u=s[p],f=d[p]!==void 0?d[p]:v[p],C=Kn(f),L=p===a?u.isActive:null;L===!1&&(R=h);let T=f===v[p]&&f!==d[p]&&C;if(T&&c&&r.manuallyAnimateOnMount&&(T=!1),u.protectedKeys={...E},!u.isActive&&L===null||!f&&!u.prevProp||zo(f)||typeof f=="boolean")continue;const P=Z1(u.prevProp,f);let k=P||p===a&&u.isActive&&!T&&C||h>R&&C,A=!1;const H=Array.isArray(f)?f:[f];let V=H.reduce(_(p),{});L===!1&&(V={});const{prevResolvedValues:z={}}=u,N={...z,...V},Y=ie=>{k=!0,y.has(ie)&&(A=!0,y.delete(ie)),u.needsAnimating[ie]=!0;const q=r.getValue(ie);q&&(q.liveStyle=!1)};for(const ie in N){const q=V[ie],D=z[ie];if(E.hasOwnProperty(ie))continue;let I=!1;oc(q)&&oc(D)?I=!t_(q,D):I=q!==D,I?q!=null?Y(ie):y.add(ie):q!==void 0&&y.has(ie)?Y(ie):u.protectedKeys[ie]=!0}u.prevProp=f,u.prevResolvedValues=V,u.isActive&&(E={...E,...V}),c&&r.blockInitialAnimation&&(k=!1),k&&(!(T&&P)||A)&&m.push(...H.map(ie=>({animation:ie,options:{type:p}})))}if(y.size){const h={};if(typeof d.initial!="boolean"){const p=Xn(r,Array.isArray(d.initial)?d.initial[0]:d.initial);p&&p.transition&&(h.transition=p.transition)}y.forEach(p=>{const u=r.getBaseTarget(p),f=r.getValue(p);f&&(f.liveStyle=!0),h[p]=u??null}),m.push({animation:h})}let w=!!m.length;return c&&(d.initial===!1||d.initial===d.animate)&&!r.manuallyAnimateOnMount&&(w=!1),c=!1,w?i(m):Promise.resolve()}function o(a,d){var v;if(s[a].isActive===d)return Promise.resolve();(v=r.variantChildren)===null||v===void 0||v.forEach(y=>{var E;return(E=y.animationState)===null||E===void 0?void 0:E.setActive(a,d)}),s[a].isActive=d;const m=S(a);for(const y in s)s[y].protectedKeys={};return m}return{animateChanges:S,setActive:o,setAnimateFunction:x,getState:()=>s,reset:()=>{s=Hf(),c=!0}}}function Z1(r,i){return typeof i=="string"?i!==r:Array.isArray(i)?!t_(i,r):!1}function si(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hf(){return{animate:si(!0),whileInView:si(),whileHover:si(),whileTap:si(),whileDrag:si(),whileFocus:si(),exit:si()}}class Ur{constructor(i){this.isMounted=!1,this.node=i}update(){}}class ew extends Ur{constructor(i){super(i),i.animationState||(i.animationState=Q1(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();zo(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:s}=this.node.prevProps||{};i!==s&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)===null||i===void 0||i.call(this)}}let tw=0;class rw extends Ur{constructor(){super(...arguments),this.id=tw++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:s}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===c)return;const _=this.node.animationState.setActive("exit",!i);s&&!i&&_.then(()=>{s(this.id)})}mount(){const{register:i,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const iw={animation:{Feature:ew},exit:{Feature:rw}};function Qn(r,i,s,c={passive:!0}){return r.addEventListener(i,s,c),()=>r.removeEventListener(i,s)}function ss(r){return{point:{x:r.pageX,y:r.pageY}}}const nw=r=>i=>Yc(i)&&r(i,ss(i));function Ui(r,i,s,c){return Qn(r,i,nw(s),c)}function i_({top:r,left:i,right:s,bottom:c}){return{x:{min:i,max:s},y:{min:r,max:c}}}function sw({x:r,y:i}){return{top:i.min,right:r.max,bottom:i.max,left:r.min}}function ow(r,i){if(!i)return r;const s=i({x:r.left,y:r.top}),c=i({x:r.right,y:r.bottom});return{top:s.y,left:s.x,bottom:c.y,right:c.x}}const n_=1e-4,aw=1-n_,lw=1+n_,s_=.01,cw=0-s_,uw=0+s_;function dt(r){return r.max-r.min}function hw(r,i,s){return Math.abs(r-i)<=s}function jf(r,i,s,c=.5){r.origin=c,r.originPoint=je(i.min,i.max,r.origin),r.scale=dt(s)/dt(i),r.translate=je(s.min,s.max,r.origin)-r.originPoint,(r.scale>=aw&&r.scale<=lw||isNaN(r.scale))&&(r.scale=1),(r.translate>=cw&&r.translate<=uw||isNaN(r.translate))&&(r.translate=0)}function Un(r,i,s,c){jf(r.x,i.x,s.x,c?c.originX:void 0),jf(r.y,i.y,s.y,c?c.originY:void 0)}function Vf(r,i,s){r.min=s.min+i.min,r.max=r.min+dt(i)}function dw(r,i,s){Vf(r.x,i.x,s.x),Vf(r.y,i.y,s.y)}function Uf(r,i,s){r.min=i.min-s.min,r.max=r.min+dt(i)}function Wn(r,i,s){Uf(r.x,i.x,s.x),Uf(r.y,i.y,s.y)}const Wf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wi=()=>({x:Wf(),y:Wf()}),zf=()=>({min:0,max:0}),Ke=()=>({x:zf(),y:zf()});function Ot(r){return[r("x"),r("y")]}function ql(r){return r===void 0||r===1}function vc({scale:r,scaleX:i,scaleY:s}){return!ql(r)||!ql(i)||!ql(s)}function oi(r){return vc(r)||o_(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function o_(r){return $f(r.x)||$f(r.y)}function $f(r){return r&&r!=="0%"}function No(r,i,s){const c=r-s,_=i*c;return s+_}function Kf(r,i,s,c,_){return _!==void 0&&(r=No(r,_,c)),No(r,s,c)+i}function gc(r,i=0,s=1,c,_){r.min=Kf(r.min,i,s,c,_),r.max=Kf(r.max,i,s,c,_)}function a_(r,{x:i,y:s}){gc(r.x,i.translate,i.scale,i.originPoint),gc(r.y,s.translate,s.scale,s.originPoint)}const qf=.999999999999,Gf=1.0000000000001;function fw(r,i,s,c=!1){const _=s.length;if(!_)return;i.x=i.y=1;let x,S;for(let o=0;o<_;o++){x=s[o],S=x.projectionDelta;const{visualElement:a}=x.options;a&&a.props.style&&a.props.style.display==="contents"||(c&&x.options.layoutScroll&&x.scroll&&x!==x.root&&$i(r,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),S&&(i.x*=S.x.scale,i.y*=S.y.scale,a_(r,S)),c&&oi(x.latestValues)&&$i(r,x.latestValues))}i.x<Gf&&i.x>qf&&(i.x=1),i.y<Gf&&i.y>qf&&(i.y=1)}function zi(r,i){r.min=r.min+i,r.max=r.max+i}function Xf(r,i,s,c,_=.5){const x=je(r.min,r.max,_);gc(r,i,s,x,c)}function $i(r,i){Xf(r.x,i.x,i.scaleX,i.scale,i.originX),Xf(r.y,i.y,i.scaleY,i.scale,i.originY)}function l_(r,i){return i_(ow(r.getBoundingClientRect(),i))}function pw(r,i,s){const c=l_(r,s),{scroll:_}=i;return _&&(zi(c.x,_.offset.x),zi(c.y,_.offset.y)),c}const Yf=(r,i)=>Math.abs(r-i);function mw(r,i){const s=Yf(r.x,i.x),c=Yf(r.y,i.y);return Math.sqrt(s**2+c**2)}class c_{constructor(i,s,{transformPagePoint:c,dragSnapToOrigin:_=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Xl(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=mw(v.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:E}=v,{timestamp:R}=rt;this.history.push({...E,timestamp:R});const{onStart:w,onMove:h}=this.handlers;m||(w&&w(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),h&&h(this.lastMoveEvent,v)},this.handlePointerMove=(v,m)=>{if(v.target instanceof Element&&v.target.hasPointerCapture&&v.pointerId!==void 0)try{if(!v.target.hasPointerCapture(v.pointerId))return}catch{}this.lastMoveEvent=v,this.lastMoveEventInfo=Gl(m,this.transformPagePoint),Ae.update(this.updatePoint,!0)},this.handlePointerUp=(v,m)=>{Bo(v,"release"),this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Xl(v.type==="pointercancel"||v.type==="lostpointercapture"?this.lastMoveEventInfo:Gl(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(v,w),E&&E(v,w)},!Yc(i))return;this.dragSnapToOrigin=_,this.handlers=s,this.transformPagePoint=c;const x=ss(i),S=Gl(x,this.transformPagePoint),{point:o}=S,{timestamp:a}=rt;this.history=[{...o,timestamp:a}];const{onSessionStart:d}=s;d&&d(i,Xl(S,this.history)),Bo(i,"set"),this.removeListeners=ns(Ui(i.currentTarget,"pointermove",this.handlePointerMove),Ui(i.currentTarget,"pointerup",this.handlePointerUp),Ui(i.currentTarget,"pointercancel",this.handlePointerUp),Ui(i.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),jr(this.updatePoint)}}function Gl(r,i){return i?{point:i(r.point)}:r}function Jf(r,i){return{x:r.x-i.x,y:r.y-i.y}}function Xl({point:r},i){return{point:r,delta:Jf(r,u_(i)),offset:Jf(r,_w(i)),velocity:vw(i,.1)}}function _w(r){return r[0]}function u_(r){return r[r.length-1]}function vw(r,i){if(r.length<2)return{x:0,y:0};let s=r.length-1,c=null;const _=u_(r);for(;s>=0&&(c=r[s],!(_.timestamp-c.timestamp>hr(i)));)s--;if(!c)return{x:0,y:0};const x=dr(_.timestamp-c.timestamp);if(x===0)return{x:0,y:0};const S={x:(_.x-c.x)/x,y:(_.y-c.y)/x};return S.x===1/0&&(S.x=0),S.y===1/0&&(S.y=0),S}function gw(r,{min:i,max:s},c){return i!==void 0&&r<i?r=c?je(i,r,c.min):Math.max(r,i):s!==void 0&&r>s&&(r=c?je(s,r,c.max):Math.min(r,s)),r}function Qf(r,i,s){return{min:i!==void 0?r.min+i:void 0,max:s!==void 0?r.max+s-(r.max-r.min):void 0}}function yw(r,{top:i,left:s,bottom:c,right:_}){return{x:Qf(r.x,s,_),y:Qf(r.y,i,c)}}function Zf(r,i){let s=i.min-r.min,c=i.max-r.max;return i.max-i.min<r.max-r.min&&([s,c]=[c,s]),{min:s,max:c}}function Sw(r,i){return{x:Zf(r.x,i.x),y:Zf(r.y,i.y)}}function ww(r,i){let s=.5;const c=dt(r),_=dt(i);return _>c?s=Ki(i.min,i.max-c,r.min):c>_&&(s=Ki(r.min,r.max-_,i.min)),fr(0,1,s)}function Cw(r,i){const s={};return i.min!==void 0&&(s.min=i.min-r.min),i.max!==void 0&&(s.max=i.max-r.min),s}const yc=.35;function Ew(r=yc){return r===!1?r=0:r===!0&&(r=yc),{x:ep(r,"left","right"),y:ep(r,"top","bottom")}}function ep(r,i,s){return{min:tp(r,i),max:tp(r,s)}}function tp(r,i){return typeof r=="number"?r:r[i]||0}const xw=new WeakMap;class bw{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.visualElement=i}start(i,{snapToCursor:s=!1}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const _=v=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ss(v).point)},x=(v,m)=>{const{drag:y,dragPropagation:E,onDragStart:R}=this.getProps();if(y&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vS(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ot(h=>{let p=this.getAxisMotionValue(h).get()||0;if(Qt.test(p)){const{projection:u}=this.visualElement;if(u&&u.layout){const f=u.layout.layoutBox[h];f&&(p=dt(f)*(parseFloat(p)/100))}}this.originPoint[h]=p}),R&&Ae.postRender(()=>R(v,m)),cc(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},S=(v,m)=>{const{dragPropagation:y,dragDirectionLock:E,onDirectionLock:R,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:h}=m;if(E&&this.currentDirection===null){this.currentDirection=kw(h),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",m.point,h),this.updateAxis("y",m.point,h),this.visualElement.render(),w&&w(v,m)},o=(v,m)=>this.stop(v,m),a=()=>Ot(v=>{var m;return this.getAnimationState(v)==="paused"&&((m=this.getAxisMotionValue(v).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new c_(i,{onSessionStart:_,onStart:x,onMove:S,onSessionEnd:o,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(i,s){const c=this.isDragging;if(this.cancel(),!c)return;const{velocity:_}=s;this.startAnimation(_);const{onDragEnd:x}=this.getProps();x&&Ae.postRender(()=>x(i,s))}cancel(){this.isDragging=!1;const{projection:i,animationState:s}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(i,s,c){const{drag:_}=this.getProps();if(!c||!yo(i,_,this.currentDirection))return;const x=this.getAxisMotionValue(i);let S=this.originPoint[i]+c[i];this.constraints&&this.constraints[i]&&(S=gw(S,this.constraints[i],this.elastic[i])),x.set(S)}resolveConstraints(){var i;const{dragConstraints:s,dragElastic:c}=this.getProps(),_=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)===null||i===void 0?void 0:i.layout,x=this.constraints;s&&ji(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&_?this.constraints=yw(_.layoutBox,s):this.constraints=!1,this.elastic=Ew(c),x!==this.constraints&&_&&this.constraints&&!this.hasMutatedConstraints&&Ot(S=>{this.constraints!==!1&&this.getAxisMotionValue(S)&&(this.constraints[S]=Cw(_.layoutBox[S],this.constraints[S]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:s}=this.getProps();if(!i||!ji(i))return!1;const c=i.current,{projection:_}=this.visualElement;if(!_||!_.layout)return!1;const x=pw(c,_.root,this.visualElement.getTransformPagePoint());let S=Sw(_.layout.layoutBox,x);if(s){const o=s(sw(S));this.hasMutatedConstraints=!!o,o&&(S=i_(o))}return S}startAnimation(i){const{drag:s,dragMomentum:c,dragElastic:_,dragTransition:x,dragSnapToOrigin:S,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},d=Ot(v=>{if(!yo(v,s,this.currentDirection))return;let m=a&&a[v]||{};S&&(m={min:0,max:0});const y=_?200:1e6,E=_?40:1e7,R={type:"inertia",velocity:c?i[v]:0,bounceStiffness:y,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...x,...m};return this.startAxisValueAnimation(v,R)});return Promise.all(d).then(o)}startAxisValueAnimation(i,s){const c=this.getAxisMotionValue(i);return cc(this.visualElement,i),c.start(lu(i,c,0,s,this.visualElement,!1))}stopAnimation(){Ot(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){Ot(i=>{var s;return(s=this.getAxisMotionValue(i).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(i){var s;return(s=this.getAxisMotionValue(i).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(i){const s=`_drag${i.toUpperCase()}`,c=this.visualElement.getProps(),_=c[s];return _||this.visualElement.getValue(i,(c.initial?c.initial[i]:void 0)||0)}snapToCursor(i){Ot(s=>{const{drag:c}=this.getProps();if(!yo(s,c,this.currentDirection))return;const{projection:_}=this.visualElement,x=this.getAxisMotionValue(s);if(_&&_.layout){const{min:S,max:o}=_.layout.layoutBox[s];x.set(i[s]-je(S,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:s}=this.getProps(),{projection:c}=this.visualElement;if(!ji(s)||!c||!this.constraints)return;this.stopAnimation();const _={x:0,y:0};Ot(S=>{const o=this.getAxisMotionValue(S);if(o&&this.constraints!==!1){const a=o.get();_[S]=ww({min:a,max:a},this.constraints[S])}});const{transformTemplate:x}=this.visualElement.getProps();this.visualElement.current.style.transform=x?x({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),Ot(S=>{if(!yo(S,i,null))return;const o=this.getAxisMotionValue(S),{min:a,max:d}=this.constraints[S];o.set(je(a,d,_[S]))})}addListeners(){if(!this.visualElement.current)return;xw.set(this.visualElement,this);const i=this.visualElement.current,s=Ui(i,"pointerdown",a=>{const{drag:d,dragListener:v=!0}=this.getProps();d&&v&&this.start(a)}),c=()=>{const{dragConstraints:a}=this.getProps();ji(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:_}=this.visualElement,x=_.addEventListener("measure",c);_&&!_.layout&&(_.root&&_.root.updateScroll(),_.updateLayout()),Ae.read(c);const S=Qn(window,"resize",()=>this.scalePositionWithinConstraints()),o=_.addEventListener("didUpdate",({delta:a,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ot(v=>{const m=this.getAxisMotionValue(v);m&&(this.originPoint[v]+=a[v].translate,m.set(m.get()+a[v].translate))}),this.visualElement.render())});return()=>{S(),s(),x(),o&&o()}}getProps(){const i=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:c=!1,dragPropagation:_=!1,dragConstraints:x=!1,dragElastic:S=yc,dragMomentum:o=!0}=i;return{...i,drag:s,dragDirectionLock:c,dragPropagation:_,dragConstraints:x,dragElastic:S,dragMomentum:o}}}function yo(r,i,s){return(i===!0||i===r)&&(s===null||s===r)}function kw(r,i=10){let s=null;return Math.abs(r.y)>i?s="y":Math.abs(r.x)>i&&(s="x"),s}class Rw extends Ur{constructor(i){super(i),this.removeGroupControls=kt,this.removeListeners=kt,this.controls=new bw(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const rp=r=>(i,s)=>{r&&Ae.postRender(()=>r(i,s))};class Lw extends Ur{constructor(){super(...arguments),this.removePointerDownListener=kt}onPointerDown(i){this.session=new c_(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:s,onPan:c,onPanEnd:_}=this.node.getProps();return{onSessionStart:rp(i),onStart:rp(s),onMove:c,onEnd:(x,S)=>{delete this.session,_&&Ae.postRender(()=>_(x,S))}}}mount(){this.removePointerDownListener=Ui(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ip(r,i){return i.max===i.min?0:r/(i.max-i.min)*100}const Nn={correct:(r,i)=>{if(!i.target)return r;if(typeof r=="string")if(we.test(r))r=parseFloat(r);else return r;const s=ip(r,i.target.x),c=ip(r,i.target.y);return`${s}% ${c}%`}},Tw={correct:(r,{treeScale:i,projectionDelta:s})=>{const c=r,_=Vr.parse(r);if(_.length>5)return c;const x=Vr.createTransformer(r),S=typeof _[0]!="number"?1:0,o=s.x.scale*i.x,a=s.y.scale*i.y;_[0+S]/=o,_[1+S]/=a;const d=je(o,a,.5);return typeof _[2+S]=="number"&&(_[2+S]/=d),typeof _[3+S]=="number"&&(_[3+S]/=d),x(_)}};class Pw extends X.Component{componentDidMount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:c,layoutId:_}=this.props,{projection:x}=i;By(Dw),x&&(s.group&&s.group.add(x),c&&c.register&&_&&c.register(x),x.root.didUpdate(),x.addEventListener("animationComplete",()=>{this.safeToRemove()}),x.setOptions({...x.options,onExitComplete:()=>this.safeToRemove()})),Lo.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:s,visualElement:c,drag:_,isPresent:x}=this.props,S=c.projection;return S&&(S.isPresent=x,_||i.layoutDependency!==s||s===void 0?S.willUpdate():this.safeToRemove(),i.isPresent!==x&&(x?S.promote():S.relegate()||Ae.postRender(()=>{const o=S.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),Ic.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:c}=this.props,{projection:_}=i;_&&(_.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(_),c&&c.deregister&&c.deregister(_))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function h_(r){const[i,s]=hy(),c=X.useContext(Gp);return ge.jsx(Pw,{...r,layoutGroup:c,switchLayoutGroup:X.useContext(rm),isPresent:i,safeToRemove:s})}const Dw={borderRadius:{...Nn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nn,borderTopRightRadius:Nn,borderBottomLeftRadius:Nn,borderBottomRightRadius:Nn,boxShadow:Tw};function Aw(r,i,s){const c=lt(r)?r:Yn(r);return c.start(lu("",c,i,s)),c.animation}function Mw(r){return r instanceof SVGElement&&r.tagName!=="svg"}const Bw=(r,i)=>r.depth-i.depth;class Ow{constructor(){this.children=[],this.isDirty=!1}add(i){Jc(this.children,i),this.isDirty=!0}remove(i){Qc(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(Bw),this.isDirty=!1,this.children.forEach(i)}}function Iw(r,i){const s=Zt.now(),c=({timestamp:_})=>{const x=_-s;x>=i&&(jr(c),r(x-i))};return Ae.read(c,!0),()=>jr(c)}const d_=["TopLeft","TopRight","BottomLeft","BottomRight"],Fw=d_.length,np=r=>typeof r=="string"?parseFloat(r):r,sp=r=>typeof r=="number"||we.test(r);function Nw(r,i,s,c,_,x){_?(r.opacity=je(0,s.opacity!==void 0?s.opacity:1,Hw(c)),r.opacityExit=je(i.opacity!==void 0?i.opacity:1,0,jw(c))):x&&(r.opacity=je(i.opacity!==void 0?i.opacity:1,s.opacity!==void 0?s.opacity:1,c));for(let S=0;S<Fw;S++){const o=`border${d_[S]}Radius`;let a=op(i,o),d=op(s,o);if(a===void 0&&d===void 0)continue;a||(a=0),d||(d=0),a===0||d===0||sp(a)===sp(d)?(r[o]=Math.max(je(np(a),np(d),c),0),(Qt.test(d)||Qt.test(a))&&(r[o]+="%")):r[o]=d}(i.rotate||s.rotate)&&(r.rotate=je(i.rotate||0,s.rotate||0,c))}function op(r,i){return r[i]!==void 0?r[i]:r.borderRadius}const Hw=f_(0,.5,Dm),jw=f_(.5,.95,kt);function f_(r,i,s){return c=>c<r?0:c>i?1:s(Ki(r,i,c))}function ap(r,i){r.min=i.min,r.max=i.max}function Bt(r,i){ap(r.x,i.x),ap(r.y,i.y)}function lp(r,i){r.translate=i.translate,r.scale=i.scale,r.originPoint=i.originPoint,r.origin=i.origin}function cp(r,i,s,c,_){return r-=i,r=No(r,1/s,c),_!==void 0&&(r=No(r,1/_,c)),r}function Vw(r,i=0,s=1,c=.5,_,x=r,S=r){if(Qt.test(i)&&(i=parseFloat(i),i=je(S.min,S.max,i/100)-S.min),typeof i!="number")return;let o=je(x.min,x.max,c);r===x&&(o-=i),r.min=cp(r.min,i,s,o,_),r.max=cp(r.max,i,s,o,_)}function up(r,i,[s,c,_],x,S){Vw(r,i[s],i[c],i[_],i.scale,x,S)}const Uw=["x","scaleX","originX"],Ww=["y","scaleY","originY"];function hp(r,i,s,c){up(r.x,i,Uw,s?s.x:void 0,c?c.x:void 0),up(r.y,i,Ww,s?s.y:void 0,c?c.y:void 0)}function dp(r){return r.translate===0&&r.scale===1}function p_(r){return dp(r.x)&&dp(r.y)}function fp(r,i){return r.min===i.min&&r.max===i.max}function zw(r,i){return fp(r.x,i.x)&&fp(r.y,i.y)}function pp(r,i){return Math.round(r.min)===Math.round(i.min)&&Math.round(r.max)===Math.round(i.max)}function m_(r,i){return pp(r.x,i.x)&&pp(r.y,i.y)}function mp(r){return dt(r.x)/dt(r.y)}function _p(r,i){return r.translate===i.translate&&r.scale===i.scale&&r.originPoint===i.originPoint}class $w{constructor(){this.members=[]}add(i){Jc(this.members,i),i.scheduleRender()}remove(i){if(Qc(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(i){const s=this.members.findIndex(_=>i===_);if(s===0)return!1;let c;for(let _=s;_>=0;_--){const x=this.members[_];if(x.isPresent!==!1){c=x;break}}return c?(this.promote(c),!0):!1}promote(i,s){const c=this.lead;if(i!==c&&(this.prevLead=c,this.lead=i,i.show(),c)){c.instance&&c.scheduleRender(),i.scheduleRender(),i.resumeFrom=c,s&&(i.resumeFrom.preserveOpacity=!0),c.snapshot&&(i.snapshot=c.snapshot,i.snapshot.latestValues=c.animationValues||c.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:_}=i.options;_===!1&&c.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:s,resumingFrom:c}=i;s.onExitComplete&&s.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kw(r,i,s){let c="";const _=r.x.translate/i.x,x=r.y.translate/i.y,S=(s==null?void 0:s.z)||0;if((_||x||S)&&(c=`translate3d(${_}px, ${x}px, ${S}px) `),(i.x!==1||i.y!==1)&&(c+=`scale(${1/i.x}, ${1/i.y}) `),s){const{transformPerspective:d,rotate:v,rotateX:m,rotateY:y,skewX:E,skewY:R}=s;d&&(c=`perspective(${d}px) ${c}`),v&&(c+=`rotate(${v}deg) `),m&&(c+=`rotateX(${m}deg) `),y&&(c+=`rotateY(${y}deg) `),E&&(c+=`skewX(${E}deg) `),R&&(c+=`skewY(${R}deg) `)}const o=r.x.scale*i.x,a=r.y.scale*i.y;return(o!==1||a!==1)&&(c+=`scale(${o}, ${a})`),c||"none"}const Yl=["","X","Y","Z"],qw={visibility:"hidden"},vp=1e3;let Gw=0;function Jl(r,i,s,c){const{latestValues:_}=i;_[r]&&(s[r]=_[r],i.setStaticValue(r,0),c&&(c[r]=0))}function __(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:i}=r.options;if(!i)return;const s=xm(i);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:_,layoutId:x}=r.options;window.MotionCancelOptimisedAnimation(s,"transform",Ae,!(_||x))}const{parent:c}=r;c&&!c.hasCheckedOptimisedAppear&&__(c)}function v_({attachResizeListener:r,defaultParent:i,measureScroll:s,checkIsScrollRoot:c,resetTransform:_}){return class{constructor(S={},o=i==null?void 0:i()){this.id=Gw++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Jw),this.nodes.forEach(rC),this.nodes.forEach(iC),this.nodes.forEach(Qw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=S,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ow)}addEventListener(S,o){return this.eventHandlers.has(S)||this.eventHandlers.set(S,new Zc),this.eventHandlers.get(S).add(o)}notifyListeners(S,...o){const a=this.eventHandlers.get(S);a&&a.notify(...o)}hasListeners(S){return this.eventHandlers.has(S)}mount(S,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Mw(S),this.instance=S;const{layoutId:a,layout:d,visualElement:v}=this.options;if(v&&!v.current&&v.mount(S),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(d||a)&&(this.isLayoutDirty=!0),r){let m;const y=()=>this.root.updateBlockedByResize=!1;r(S,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=Iw(y,250),Lo.hasAnimatedSinceResize&&(Lo.hasAnimatedSinceResize=!1,this.nodes.forEach(yp))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&v&&(a||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:E,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||v.getDefaultTransition()||lC,{onLayoutAnimationStart:h,onLayoutAnimationComplete:p}=v.getProps(),u=!this.targetLayout||!m_(this.targetLayout,R),f=!y&&E;if(this.options.layoutRoot||this.resumeFrom||f||y&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,f);const C={...qc(w,"layout"),onPlay:h,onComplete:p};(v.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else y||yp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const S=this.getStack();S&&S.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nC),this.animationId++)}getTransformTemplate(){const{visualElement:S}=this.options;return S&&S.getProps().transformTemplate}willUpdate(S=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&__(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const m=this.path[v];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:a}=this.options;if(o===void 0&&!a)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),S&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gp);return}this.isUpdating||this.nodes.forEach(eC),this.isUpdating=!1,this.nodes.forEach(tC),this.nodes.forEach(Xw),this.nodes.forEach(Yw),this.clearAllSnapshots();const o=Zt.now();rt.delta=fr(0,1e3/60,o-rt.timestamp),rt.timestamp=o,rt.isProcessing=!0,Ul.update.process(rt),Ul.preRender.process(rt),Ul.render.process(rt),rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ic.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zw),this.sharedNodes.forEach(sC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dt(this.snapshot.measuredBox.x)&&!dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const S=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,S?S.layoutBox:void 0)}updateScroll(S="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===S&&(o=!1),o){const a=c(this.instance);this.scroll={animationId:this.root.animationId,phase:S,isRoot:a,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!_)return;const S=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!p_(this.projectionDelta),a=this.getTransformTemplate(),d=a?a(this.latestValues,""):void 0,v=d!==this.prevTransformTemplateValue;S&&(o||oi(this.latestValues)||v)&&(_(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(S=!0){const o=this.measurePageBox();let a=this.removeElementScroll(o);return S&&(a=this.removeTransform(a)),cC(a),{animationId:this.root.animationId,measuredBox:o,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){var S;const{visualElement:o}=this.options;if(!o)return Ke();const a=o.measureViewportBox();if(!(((S=this.scroll)===null||S===void 0?void 0:S.wasRoot)||this.path.some(uC))){const{scroll:v}=this.root;v&&(zi(a.x,v.offset.x),zi(a.y,v.offset.y))}return a}removeElementScroll(S){var o;const a=Ke();if(Bt(a,S),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return a;for(let d=0;d<this.path.length;d++){const v=this.path[d],{scroll:m,options:y}=v;v!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Bt(a,S),zi(a.x,m.offset.x),zi(a.y,m.offset.y))}return a}applyTransform(S,o=!1){const a=Ke();Bt(a,S);for(let d=0;d<this.path.length;d++){const v=this.path[d];!o&&v.options.layoutScroll&&v.scroll&&v!==v.root&&$i(a,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),oi(v.latestValues)&&$i(a,v.latestValues)}return oi(this.latestValues)&&$i(a,this.latestValues),a}removeTransform(S){const o=Ke();Bt(o,S);for(let a=0;a<this.path.length;a++){const d=this.path[a];if(!d.instance||!oi(d.latestValues))continue;vc(d.latestValues)&&d.updateSnapshot();const v=Ke(),m=d.measurePageBox();Bt(v,m),hp(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,v)}return oi(this.latestValues)&&hp(o,this.latestValues),o}setTargetDelta(S){this.targetDelta=S,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(S){this.options={...this.options,...S,crossfade:S.crossfade!==void 0?S.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(S=!1){var o;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==a;if(!(S||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=rt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Wn(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),a_(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Wn(this.relativeTargetOrigin,this.target,E.target),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vc(this.parent.latestValues)||o_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||!((S=this.parent)===null||S===void 0)&&S.isProjectionDirty)&&(d=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===rt.timestamp&&(d=!1),d)return;const{layout:v,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||m))return;Bt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,E=this.treeScale.y;fw(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ke());const{target:R}=o;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lp(this.prevProjectionDelta.x,this.projectionDelta.x),lp(this.prevProjectionDelta.y,this.projectionDelta.y)),Un(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==E||!_p(this.projectionDelta.x,this.prevProjectionDelta.x)||!_p(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(S=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),S){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wi(),this.projectionDelta=Wi(),this.projectionDeltaWithTransform=Wi()}setAnimationOrigin(S,o=!1){const a=this.snapshot,d=a?a.latestValues:{},v={...this.latestValues},m=Wi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const y=Ke(),E=a?a.source:void 0,R=this.layout?this.layout.source:void 0,w=E!==R,h=this.getStack(),p=!h||h.members.length<=1,u=!!(w&&!p&&this.options.crossfade===!0&&!this.path.some(aC));this.animationProgress=0;let f;this.mixTargetDelta=C=>{const L=C/1e3;Sp(m.x,S.x,L),Sp(m.y,S.y,L),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wn(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oC(this.relativeTarget,this.relativeTargetOrigin,y,L),f&&zw(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=Ke()),Bt(f,this.relativeTarget)),w&&(this.animationValues=v,Nw(v,d,this.latestValues,L,u,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(S){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ae.update(()=>{Lo.hasAnimatedSinceResize=!0,this.currentAnimation=Aw(0,vp,{...S,onUpdate:o=>{this.mixTargetDelta(o),S.onUpdate&&S.onUpdate(o)},onStop:()=>{},onComplete:()=>{S.onComplete&&S.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const S=this.getStack();S&&S.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const S=this.getLead();let{targetWithTransforms:o,target:a,layout:d,latestValues:v}=S;if(!(!o||!a||!d)){if(this!==S&&this.layout&&d&&g_(this.options.animationType,this.layout.layoutBox,d.layoutBox)){a=this.target||Ke();const m=dt(this.layout.layoutBox.x);a.x.min=S.target.x.min,a.x.max=a.x.min+m;const y=dt(this.layout.layoutBox.y);a.y.min=S.target.y.min,a.y.max=a.y.min+y}Bt(o,a),$i(o,v),Un(this.projectionDeltaWithTransform,this.layoutCorrected,o,v)}}registerSharedNode(S,o){this.sharedNodes.has(S)||this.sharedNodes.set(S,new $w),this.sharedNodes.get(S).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const S=this.getStack();return S?S.lead===this:!0}getLead(){var S;const{layoutId:o}=this.options;return o?((S=this.getStack())===null||S===void 0?void 0:S.lead)||this:this}getPrevLead(){var S;const{layoutId:o}=this.options;return o?(S=this.getStack())===null||S===void 0?void 0:S.prevLead:void 0}getStack(){const{layoutId:S}=this.options;if(S)return this.root.sharedNodes.get(S)}promote({needsReset:S,transition:o,preserveFollowOpacity:a}={}){const d=this.getStack();d&&d.promote(this,a),S&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const S=this.getStack();return S?S.relegate(this):!1}resetSkewAndRotation(){const{visualElement:S}=this.options;if(!S)return;let o=!1;const{latestValues:a}=S;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(o=!0),!o)return;const d={};a.z&&Jl("z",S,d,this.animationValues);for(let v=0;v<Yl.length;v++)Jl(`rotate${Yl[v]}`,S,d,this.animationValues),Jl(`skew${Yl[v]}`,S,d,this.animationValues);S.render();for(const v in d)S.setStaticValue(v,d[v]),this.animationValues&&(this.animationValues[v]=d[v]);S.scheduleRender()}getProjectionStyles(S){var o,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qw;const d={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=ko(S==null?void 0:S.pointerEvents)||"",d.transform=v?v(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ko(S==null?void 0:S.pointerEvents)||""),this.hasProjected&&!oi(this.latestValues)&&(w.transform=v?v({},""):"none",this.hasProjected=!1),w}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=Kw(this.projectionDeltaWithTransform,this.treeScale,y),v&&(d.transform=v(y,d.transform));const{x:E,y:R}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${R.origin*100}% 0`,m.animationValues?d.opacity=m===this?(a=(o=y.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in qn){if(y[w]===void 0)continue;const{correct:h,applyTo:p,isCSSVariable:u}=qn[w],f=d.transform==="none"?y[w]:h(y[w],m);if(p){const C=p.length;for(let L=0;L<C;L++)d[p[L]]=f}else u?this.options.visualElement.renderState.vars[w]=f:d[w]=f}return this.options.layoutId&&(d.pointerEvents=m===this?ko(S==null?void 0:S.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(S=>{var o;return(o=S.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(gp),this.root.sharedNodes.clear()}}}function Xw(r){r.updateLayout()}function Yw(r){var i;const s=((i=r.resumeFrom)===null||i===void 0?void 0:i.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&s&&r.hasListeners("didUpdate")){const{layoutBox:c,measuredBox:_}=r.layout,{animationType:x}=r.options,S=s.source!==r.layout.source;x==="size"?Ot(m=>{const y=S?s.measuredBox[m]:s.layoutBox[m],E=dt(y);y.min=c[m].min,y.max=y.min+E}):g_(x,s.layoutBox,c)&&Ot(m=>{const y=S?s.measuredBox[m]:s.layoutBox[m],E=dt(c[m]);y.max=y.min+E,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[m].max=r.relativeTarget[m].min+E)});const o=Wi();Un(o,c,s.layoutBox);const a=Wi();S?Un(a,r.applyTransform(_,!0),s.measuredBox):Un(a,c,s.layoutBox);const d=!p_(o);let v=!1;if(!r.resumeFrom){const m=r.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:E}=m;if(y&&E){const R=Ke();Wn(R,s.layoutBox,y.layoutBox);const w=Ke();Wn(w,c,E.layoutBox),m_(R,w)||(v=!0),m.options.layoutRoot&&(r.relativeTarget=w,r.relativeTargetOrigin=R,r.relativeParent=m)}}}r.notifyListeners("didUpdate",{layout:c,snapshot:s,delta:a,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:v})}else if(r.isLead()){const{onExitComplete:c}=r.options;c&&c()}r.options.transition=void 0}function Jw(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Qw(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function Zw(r){r.clearSnapshot()}function gp(r){r.clearMeasurements()}function eC(r){r.isLayoutDirty=!1}function tC(r){const{visualElement:i}=r.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),r.resetTransform()}function yp(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function rC(r){r.resolveTargetDelta()}function iC(r){r.calcProjection()}function nC(r){r.resetSkewAndRotation()}function sC(r){r.removeLeadSnapshot()}function Sp(r,i,s){r.translate=je(i.translate,0,s),r.scale=je(i.scale,1,s),r.origin=i.origin,r.originPoint=i.originPoint}function wp(r,i,s,c){r.min=je(i.min,s.min,c),r.max=je(i.max,s.max,c)}function oC(r,i,s,c){wp(r.x,i.x,s.x,c),wp(r.y,i.y,s.y,c)}function aC(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const lC={duration:.45,ease:[.4,0,.1,1]},Cp=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Ep=Cp("applewebkit/")&&!Cp("chrome/")?Math.round:kt;function xp(r){r.min=Ep(r.min),r.max=Ep(r.max)}function cC(r){xp(r.x),xp(r.y)}function g_(r,i,s){return r==="position"||r==="preserve-aspect"&&!hw(mp(i),mp(s),.2)}function uC(r){var i;return r!==r.root&&((i=r.scroll)===null||i===void 0?void 0:i.wasRoot)}const hC=v_({attachResizeListener:(r,i)=>Qn(r,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ql={current:void 0},y_=v_({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Ql.current){const r=new hC({});r.mount(window),r.setOptions({layoutScroll:!0}),Ql.current=r}return Ql.current},resetTransform:(r,i)=>{r.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),dC={pan:{Feature:Lw},drag:{Feature:Rw,ProjectionNode:y_,MeasureLayout:h_}};function bp(r,i,s){const{props:c}=r;r.animationState&&c.whileHover&&r.animationState.setActive("whileHover",s==="Start");const _="onHover"+s,x=c[_];x&&Ae.postRender(()=>x(i,ss(i)))}class fC extends Ur{mount(){const{current:i}=this.node;i&&(this.unmount=hS(i,(s,c)=>(bp(this.node,c,"Start"),_=>bp(this.node,_,"End"))))}unmount(){}}class pC extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ns(Qn(this.node.current,"focus",()=>this.onFocus()),Qn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kp(r,i,s){const{props:c}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&c.whileTap&&r.animationState.setActive("whileTap",s==="Start");const _="onTap"+(s==="End"?"":s),x=c[_];x&&Ae.postRender(()=>x(i,ss(i)))}class mC extends Ur{mount(){const{current:i}=this.node;i&&(this.unmount=mS(i,(s,c)=>(kp(this.node,c,"Start"),(_,{success:x})=>kp(this.node,_,x?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sc=new WeakMap,Zl=new WeakMap,_C=r=>{const i=Sc.get(r.target);i&&i(r)},vC=r=>{r.forEach(_C)};function gC({root:r,...i}){const s=r||document;Zl.has(s)||Zl.set(s,{});const c=Zl.get(s),_=JSON.stringify(i);return c[_]||(c[_]=new IntersectionObserver(vC,{root:r,...i})),c[_]}function yC(r,i,s){const c=gC(i);return Sc.set(r,s),c.observe(r),()=>{Sc.delete(r),c.unobserve(r)}}const SC={some:0,all:1};class wC extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:s,margin:c,amount:_="some",once:x}=i,S={root:s?s.current:void 0,rootMargin:c,threshold:typeof _=="number"?_:SC[_]},o=a=>{const{isIntersecting:d}=a;if(this.isInView===d||(this.isInView=d,x&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:v,onViewportLeave:m}=this.node.getProps(),y=d?v:m;y&&y(a)};return yC(this.node.current,S,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:s}=this.node;["amount","margin","root"].some(CC(i,s))&&this.startObserver()}unmount(){}}function CC({viewport:r={}},{viewport:i={}}={}){return s=>r[s]!==i[s]}const EC={inView:{Feature:wC},tap:{Feature:mC},focus:{Feature:pC},hover:{Feature:fC}},xC={layout:{ProjectionNode:y_,MeasureLayout:h_}},wc={current:null},S_={current:!1};function bC(){if(S_.current=!0,!!Dc)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),i=()=>wc.current=r.matches;r.addListener(i),i()}else wc.current=!1}const kC=[...$m,at,Vr],RC=r=>kC.find(zm(r)),LC=new WeakMap;function TC(r,i,s){for(const c in i){const _=i[c],x=s[c];if(lt(_))r.addValue(c,_);else if(lt(x))r.addValue(c,Yn(_,{owner:r}));else if(x!==_)if(r.hasValue(c)){const S=r.getValue(c);S.liveStyle===!0?S.jump(_):S.hasAnimated||S.set(_)}else{const S=r.getStaticValue(c);r.addValue(c,Yn(S!==void 0?S:_,{owner:r}))}}for(const c in s)i[c]===void 0&&r.removeValue(c);return i}const Rp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PC{scrapeMotionValuesFromProps(i,s,c){return{}}constructor({parent:i,props:s,presenceContext:c,reducedMotionConfig:_,blockInitialAnimation:x,visualState:S},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=su,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Zt.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ae.render(this.render,!1,!0))};const{latestValues:a,renderState:d,onUpdate:v}=S;this.onUpdate=v,this.latestValues=a,this.baseTarget={...a},this.initialValues=s.initial?{...a}:{},this.renderState=d,this.parent=i,this.props=s,this.presenceContext=c,this.depth=i?i.depth+1:0,this.reducedMotionConfig=_,this.options=o,this.blockInitialAnimation=!!x,this.isControllingVariants=$o(s),this.isVariantNode=em(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(s,{},this);for(const E in y){const R=y[E];a[E]!==void 0&&lt(R)&&R.set(a[E],!1)}}mount(i){this.current=i,LC.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,c)=>this.bindToMotionValue(c,s)),S_.current||bC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jr(this.notifyUpdate),jr(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(i,s){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const c=fi.has(i);c&&this.onBindTransform&&this.onBindTransform();const _=s.on("change",o=>{this.latestValues[i]=o,this.props.onUpdate&&Ae.preRender(this.notifyUpdate),c&&this.projection&&(this.projection.isTransformDirty=!0)}),x=s.on("renderRequest",this.scheduleRender);let S;window.MotionCheckAppearSync&&(S=window.MotionCheckAppearSync(this,i,s)),this.valueSubscriptions.set(i,()=>{_(),x(),S&&S(),s.owner&&s.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in qi){const s=qi[i];if(!s)continue;const{isEnabled:c,Feature:_}=s;if(!this.features[i]&&_&&c(this.props)&&(this.features[i]=new _(this)),this.features[i]){const x=this.features[i];x.isMounted?x.update():(x.mount(),x.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,s){this.latestValues[i]=s}update(i,s){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let c=0;c<Rp.length;c++){const _=Rp[c];this.propEventSubscriptions[_]&&(this.propEventSubscriptions[_](),delete this.propEventSubscriptions[_]);const x="on"+_,S=i[x];S&&(this.propEventSubscriptions[_]=this.on(_,S))}this.prevMotionValues=TC(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(i),()=>s.variantChildren.delete(i)}addValue(i,s){const c=this.values.get(i);s!==c&&(c&&this.removeValue(i),this.bindToMotionValue(i,s),this.values.set(i,s),this.latestValues[i]=s.get())}removeValue(i){this.values.delete(i);const s=this.valueSubscriptions.get(i);s&&(s(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,s){if(this.props.values&&this.props.values[i])return this.props.values[i];let c=this.values.get(i);return c===void 0&&s!==void 0&&(c=Yn(s===null?void 0:s,{owner:this}),this.addValue(i,c)),c}readValue(i,s){var c;let _=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:(c=this.getBaseTargetFromProps(this.props,i))!==null&&c!==void 0?c:this.readValueFromInstance(this.current,i,this.options);return _!=null&&(typeof _=="string"&&(Um(_)||Mm(_))?_=parseFloat(_):!RC(_)&&Vr.test(s)&&(_=Hm(i,s)),this.setBaseTarget(i,lt(_)?_.get():_)),lt(_)?_.get():_}setBaseTarget(i,s){this.baseTarget[i]=s}getBaseTarget(i){var s;const{initial:c}=this.props;let _;if(typeof c=="string"||typeof c=="object"){const S=$c(this.props,c,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);S&&(_=S[i])}if(c&&_!==void 0)return _;const x=this.getBaseTargetFromProps(this.props,i);return x!==void 0&&!lt(x)?x:this.initialValues[i]!==void 0&&_===void 0?void 0:this.baseTarget[i]}on(i,s){return this.events[i]||(this.events[i]=new Zc),this.events[i].add(s)}notify(i,...s){this.events[i]&&this.events[i].notify(...s)}}class w_ extends PC{constructor(){super(...arguments),this.KeyframeResolver=Km}sortInstanceNodePosition(i,s){return i.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(i,s){return i.style?i.style[s]:void 0}removeValueFromRenderState(i,{vars:s,style:c}){delete s[i],delete c[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;lt(i)&&(this.childSubscription=i.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function DC(r){return window.getComputedStyle(r)}class AC extends w_{constructor(){super(...arguments),this.type="html",this.renderInstance=hm}readValueFromInstance(i,s){if(fi.has(s)){const c=nu(s);return c&&c.default||0}else{const c=DC(i),_=(Fc(s)?c.getPropertyValue(s):c[s])||0;return typeof _=="string"?_.trim():_}}measureInstanceViewportBox(i,{transformPagePoint:s}){return l_(i,s)}build(i,s,c){jc(i,s,c.transformTemplate)}scrapeMotionValuesFromProps(i,s,c){return Kc(i,s,c)}}class MC extends w_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&um(this.current,this.renderState)}}getBaseTargetFromProps(i,s){return i[s]}readValueFromInstance(i,s){if(fi.has(s)){const c=nu(s);return c&&c.default||0}return s=dm.has(s)?s:Oc(s),i.getAttribute(s)}scrapeMotionValuesFromProps(i,s,c){return pm(i,s,c)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ae.postRender(this.updateDimensions)}build(i,s,c){Wc(i,s,this.isSVGTag,c.transformTemplate)}renderInstance(i,s,c,_){fm(i,s,c,_)}mount(i){this.isSVGTag=zc(i.tagName),super.mount(i)}}const BC=(r,i)=>Uc(r)?new MC(i):new AC(i,{allowProjection:r!==X.Fragment}),OC=nS({...iw,...EC,...dC,...xC},BC),Lp=Sy(OC),IC="https://stackblitz.com",FC=new Error;FC.stack="";const Tp={};let So=null;const NC={get editorOrigin(){return So==null&&(So=new URL(globalThis.WEBCONTAINER_API_IFRAME_URL??IC).origin),So},set editorOrigin(r){So=new URL(r).origin},get url(){const r=new URL(this.editorOrigin);r.pathname="/headless";for(const i in Tp)r.searchParams.set(i,Tp[i]);return r.searchParams.set("version","1.5.1-internal.9"),r}};function HC(){let r,i;function s(){i=new Promise(c=>r=c)}return s(),{get promise(){return i},resolve(c){return r(c)},reset:s}}HC();var zn;(function(r){r.UncaughtException="PREVIEW_UNCAUGHT_EXCEPTION",r.UnhandledRejection="PREVIEW_UNHANDLED_REJECTION",r.ConsoleError="PREVIEW_CONSOLE_ERROR"})(zn||(zn={}));var jC=Object.defineProperty,VC=(r,i)=>{for(var s in i)jC(r,s,{get:i[s],enumerable:!0})},Rt={};VC(Rt,{createEndpoint:()=>C_,expose:()=>hu,proxy:()=>T_,proxyMarker:()=>cu,releaseProxy:()=>E_,transfer:()=>L_,transferHandlers:()=>uu,windowEndpoint:()=>KC,wrap:()=>k_});var cu=Symbol("Comlink.proxy"),C_=Symbol("Comlink.endpoint"),E_=Symbol("Comlink.releaseProxy"),Cc=Symbol("Comlink.thrown"),x_=r=>typeof r=="object"&&r!==null||typeof r=="function",UC={canHandle:r=>x_(r)&&r[cu],serialize(r){const{port1:i,port2:s}=new MessageChannel;return hu(r,i),[s,[s]]},deserialize(r){return r.start(),k_(r)}},WC={canHandle:r=>x_(r)&&Cc in r,serialize({value:r}){let i;return r instanceof Error?i={isError:!0,value:{message:r.message,name:r.name,stack:r.stack}}:i={isError:!1,value:r},[i,[]]},deserialize(r){throw r.isError?Object.assign(new Error(r.value.message),r.value):r.value}},uu=new Map([["proxy",UC],["throw",WC]]);function hu(r,i=self){i.addEventListener("message",function s(c){if(!c||!c.data)return;const{id:_,type:x,path:S}=Object.assign({path:[]},c.data),o=(c.data.argumentList||[]).map(ai);let a;try{const d=S.slice(0,-1).reduce((m,y)=>m[y],r),v=S.reduce((m,y)=>m[y],r);switch(x){case 0:a=v;break;case 1:d[S.slice(-1)[0]]=ai(c.data.value),a=!0;break;case 2:a=v.apply(d,o);break;case 3:{const m=new v(...o);a=T_(m)}break;case 4:{const{port1:m,port2:y}=new MessageChannel;hu(r,y),a=L_(m,[m])}break;case 5:a=void 0;break}}catch(d){a={value:d,[Cc]:0}}Promise.resolve(a).catch(d=>({value:d,[Cc]:0})).then(d=>{const[v,m]=du(d);i.postMessage(Object.assign(Object.assign({},v),{id:_}),m),x===5&&(i.removeEventListener("message",s),b_(i))})}),i.start&&i.start()}function zC(r){return r.constructor.name==="MessagePort"}function b_(r){zC(r)&&r.close()}function k_(r,i){return Ec(r,[],i)}function wo(r){if(r)throw new Error("Proxy has been released and is not useable")}function Ec(r,i=[],s=function(){}){let c=!1;const _=new Proxy(s,{get(x,S){if(wo(c),S===E_)return()=>Ni(r,{type:5,path:i.map(o=>o.toString())}).then(()=>{b_(r),c=!0});if(S==="then"){if(i.length===0)return{then:()=>_};const o=Ni(r,{type:0,path:i.map(a=>a.toString())}).then(ai);return o.then.bind(o)}return Ec(r,[...i,S])},set(x,S,o){wo(c);const[a,d]=du(o);return Ni(r,{type:1,path:[...i,S].map(v=>v.toString()),value:a},d).then(ai)},apply(x,S,o){wo(c);const a=i[i.length-1];if(a===C_)return Ni(r,{type:4}).then(ai);if(a==="bind")return Ec(r,i.slice(0,-1));const[d,v]=Pp(o);return Ni(r,{type:2,path:i.map(m=>m.toString()),argumentList:d},v).then(ai)},construct(x,S){wo(c);const[o,a]=Pp(S);return Ni(r,{type:3,path:i.map(d=>d.toString()),argumentList:o},a).then(ai)}});return _}function $C(r){return Array.prototype.concat.apply([],r)}function Pp(r){const i=r.map(du);return[i.map(s=>s[0]),$C(i.map(s=>s[1]))]}var R_=new WeakMap;function L_(r,i){return R_.set(r,i),r}function T_(r){return Object.assign(r,{[cu]:!0})}function KC(r,i=self,s="*"){return{postMessage:(c,_)=>r.postMessage(c,s,_),addEventListener:i.addEventListener.bind(i),removeEventListener:i.removeEventListener.bind(i)}}function du(r){for(const[i,s]of uu)if(s.canHandle(r)){const[c,_]=s.serialize(r);return[{type:3,name:i,value:c},_]}return[{type:0,value:r},R_.get(r)||[]]}function ai(r){switch(r.type){case 3:return uu.get(r.name).deserialize(r.value);case 0:return r.value}}function Ni(r,i,s){return new Promise(c=>{const _=qC();r.addEventListener("message",function x(S){!S.data||!S.data.id||S.data.id!==_||(r.removeEventListener("message",x),c(S.data))}),r.start&&r.start(),r.postMessage(Object.assign({id:_},i),s)})}function qC(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const GC=[zn.ConsoleError,zn.UncaughtException,zn.UnhandledRejection];function XC(r){return!(r==null||typeof r!="object"||!("type"in r)||!GC.includes(r.type))}function Hi(r){const i=Object.create(null);return r?Object.assign(i,r):i}function P_(r){const i={d:{}};for(const s of Object.keys(r)){const c=r[s];if("file"in c){if("symlink"in c.file){i.d[s]={f:{l:c.file.symlink}};continue}const x=c.file.contents,S=typeof x=="string"?x:YC(x),o=typeof x=="string"?{}:{b:!0};i.d[s]={f:{c:S,...o}};continue}const _=P_(c.directory);i.d[s]=_}return i}function D_(r){const i=Hi();if("f"in r)throw new Error("It is not possible to export a single file in the JSON format.");if("d"in r)for(const s of Object.keys(r.d)){const c=r.d[s];"d"in c?i[s]=Hi({directory:D_(c)}):"f"in c&&("c"in c.f?i[s]=Hi({file:Hi({contents:c.f.c})}):"l"in c.f&&(i[s]=Hi({file:Hi({symlink:c.f.l})})))}return i}function YC(r){let i="";for(const s of r)i+=String.fromCharCode(s);return i}let Co=null,Eo=null,ec={};const A_=new TextDecoder,JC=new TextEncoder,li=class li{constructor(i,s,c,_){Le(this,"_instance");Le(this,"_runtimeInfo");Le(this,"fs");Le(this,"internal");Le(this,"_tornDown",!1);Le(this,"_unsubscribeFromTokenChangedListener",()=>{});this._instance=i,this._runtimeInfo=_,this.fs=new nE(s);const x=new sE(c);this.internal=new QC(x,i)}async spawn(i,s,c){let _=[];Array.isArray(s)?_=s:c=s;let x,S=new ReadableStream;if((c==null?void 0:c.output)!==!1){const w=rc();x=w.push,S=w.stream}let o,a,d,v;if(a=new ReadableStream,v=new ReadableStream,c!=null&&c.stdout){const w=rc();o=w.push,a=w.stream}if(c!=null&&c.stderr){const w=rc();d=w.push,v=w.stream}const m=To(tc(x)),y=To(tc(o)),E=To(tc(d)),R=await this._instance.run({command:i,args:_,cwd:c==null?void 0:c.cwd,env:c==null?void 0:c.env,terminal:c==null?void 0:c.terminal},y,E,m);return new iE(R,S,a,v)}async export(i,s){const c={format:(s==null?void 0:s.format)??"json",includes:s==null?void 0:s.includes,excludes:s==null?void 0:s.excludes,external:!0},_=await this._instance.serialize(i,c);if(c.format==="json"){const x=JSON.parse(A_.decode(_));return D_(x)}return _}on(i,s){if(i==="preview-message"){const x=s;s=S=>{XC(S)&&x(S)}}const{listener:c,subscribe:_}=jo(s);return _(this._instance.on(i,Rt.proxy(c)))}mount(i,s){const c=i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):JC.encode(JSON.stringify(P_(i)));return this._instance.loadFiles(Rt.transfer(c,[c.buffer]),{mountPoints:s==null?void 0:s.mountPoint})}setPreviewScript(i,s){return this._instance.setPreviewScript(i,s)}get path(){return this._runtimeInfo.path}get workdir(){return this._runtimeInfo.cwd}teardown(){if(this._tornDown)throw new Error("WebContainer already torn down");this._tornDown=!0,this._unsubscribeFromTokenChangedListener(),this.fs._teardown(),this._instance.teardown(),this._instance[Rt.releaseProxy](),li._instance===this&&(li._instance=null)}static async boot(i={}){const{workdirName:s}=i;if(window.crossOriginIsolated&&i.coep==="none"&&console.warn(`A Cross-Origin-Embedder-Policy header is required in cross origin isolated environments.
Set the 'coep' option to 'require-corp'.`),s!=null&&s.includes("/")||s===".."||s===".")throw new Error("workdirName should be a valid folder name");for(;Co;)await Co;if(li._instance)throw new Error("Only a single WebContainer instance can be booted");const c=oE(i);Co=c.catch(()=>{});try{const _=await c;return li._instance=_,_}finally{Co=null}}};Le(li,"_instance",null);let Ho=li;class QC{constructor(i,s){Le(this,"previewScript");Le(this,"_instance");this.previewScript=i,this._instance=s}watchPaths(i,s){const{listener:c,subscribe:_}=jo(s);return _(this._instance.watchPaths(i,Rt.proxy(c)))}getProcesses(){return this._instance.getProcesses()}onProcessesRemove(i){const{listener:s,subscribe:c}=jo(i);return c(this._instance.onProcessesRemove(Rt.proxy(s)))}serialize(i,s){return this._instance.serialize(i,s)}setCORSProxy(i){return this._instance.setCORSProxy(i)}setCORSAuthToken(i){return this._instance.setCORSAuthToken(i)}}const ZC=1,eE=2;class tE{constructor(i,s){Le(this,"name");Le(this,"_type");this.name=i,this._type=s}isFile(){return this._type===ZC}isDirectory(){return this._type===eE}}class rE{constructor(i,s,c,_){Le(this,"_apiClient");Le(this,"_path");Le(this,"_options");Le(this,"_listener");Le(this,"_wrappedListener");Le(this,"_watcher");Le(this,"_closed",!1);this._apiClient=i,this._path=s,this._options=c,this._listener=_,this._apiClient._watchers.add(this),this._wrappedListener=(x,S)=>{this._listener&&!this._closed&&this._listener(x,S)},this._apiClient._fs.watch(this._path,this._options,To(this._wrappedListener)).then(x=>{this._watcher=x,this._closed&&this._teardown()}).catch(console.error)}close(){this._closed||(this._closed=!0,this._apiClient._watchers.delete(this),this._teardown())}_teardown(){var i;(i=this._watcher)==null||i.close().finally(()=>{var s;(s=this._watcher)==null||s[Rt.releaseProxy]()})}}class iE{constructor(i,s,c,_){Le(this,"output");Le(this,"input");Le(this,"exit");Le(this,"_process");Le(this,"stdout");Le(this,"stderr");this.output=s,this._process=i,this.input=new WritableStream({write:x=>{var S;(S=this._getProcess())==null||S.write(x).catch(()=>{})}}),this.exit=this._onExit(),this.stdout=c,this.stderr=_}kill(){var i;(i=this._getProcess())==null||i.kill()}resize(i){var s;(s=this._getProcess())==null||s.resize(i)}async _onExit(){var i;try{return await this._process.onExit}finally{(i=this._process)==null||i[Rt.releaseProxy](),this._process=null}}_getProcess(){return this._process==null&&console.warn("This process already exited"),this._process}}class nE{constructor(i){Le(this,"_fs");Le(this,"_watchers",new Set([]));this._fs=i}rm(...i){return this._fs.rm(...i)}async readFile(i,s){return await this._fs.readFile(i,s)}async rename(i,s){return await this._fs.rename(i,s)}async writeFile(i,s,c){if(s instanceof Uint8Array){const _=s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength);s=Rt.transfer(new Uint8Array(_),[_])}await this._fs.writeFile(i,s,c)}async readdir(i,s){const c=await this._fs.readdir(i,s);return lE(c)||cE(c)?c:c.map(x=>new tE(x.name,x["Symbol(type)"]))}async mkdir(i,s){return await this._fs.mkdir(i,s)}watch(i,s,c){return typeof s=="function"&&(c=s,s=null),new rE(this,i,s,c)}_teardown(){this._fs[Rt.releaseProxy]();for(const i of this._watchers)i.close()}}class sE{constructor(i){Le(this,"_previewScript");Le(this,"_listeners",new Map);Le(this,"storage",{set:i=>{this._previewScript.storageSet(structuredClone(i))},get:()=>this._previewScript.storageGet(),on:(i,s)=>this._on("storage:change",s)});this._previewScript=i}broadcast(i){this._previewScript.broadcast(structuredClone(i))}on(i,s){return this._on(i,s)}_on(i,s){let c=this._listeners.get(i);if(!c){const _=new Set,{listener:x,subscribe:S}=jo(o=>{_.forEach(a=>a(o))});c={localListeners:_,remoteUnsubscribe:S(this._previewScript.on(i,Rt.proxy(x)))}}return c.localListeners.add(s),()=>{const{localListeners:_,remoteUnsubscribe:x}=c;_.delete(s),_.size===0&&(x(),this._listeners.delete(i))}}}async function oE(r){const{serverPromise:i}=aE(r),c=await(await i).build({host:window.location.host,version:"1.5.1-internal.9",workdirName:r.workdirName,forwardPreviewErrors:r.forwardPreviewErrors}),[_,x,S]=await Promise.all([c.fs(),c.previewScript(),c.runtimeInfo()]);return new Ho(c,_,x,S)}function tc(r){if(r!=null)return i=>{i instanceof Uint8Array?r(A_.decode(i)):i==null&&r(null)}}function To(r){if(r!=null)return Rt.proxy(r)}function aE(r){if(Eo!=null)return r.coep!==ec.coep&&(console.warn(`Attempting to boot WebContainer with 'coep: ${r.coep}'`),console.warn(`First boot had 'coep: ${ec.coep}', new settings will not take effect!`)),{serverPromise:Eo};const i=document.createElement("iframe");i.style.display="none",i.setAttribute("allow","cross-origin-isolated");const s=NC.url;r.coep&&s.searchParams.set("coep",r.coep),i.src=s.toString();const{origin:c}=s;return ec={...r},Eo=new Promise(_=>{const x=S=>{if(S.origin!==c)return;const{data:o}=S;if(o.type==="init"){_(Rt.wrap(S.ports[0]));return}if(o.type==="warning"){console[o.level].call(console,o.message);return}};window.addEventListener("message",x)}),document.body.insertBefore(i,null),{serverPromise:Eo}}function lE(r){return typeof r[0]=="string"}function cE(r){return r[0]instanceof Uint8Array}function rc(){let r=null;return{stream:new ReadableStream({start(c){r=c}}),push:c=>{c!=null?r==null||r.enqueue(c):(r==null||r.close(),r=null)}}}function jo(r){let i=!1,s=()=>{};return{subscribe(_){return _.then(x=>{s=x,i&&s()}),()=>{i=!0,s()}},listener:(..._)=>{i||r(..._)}}}var ic={exports:{}},Dp;function uE(){return Dp||(Dp=1,function(r,i){(function(s,c){r.exports=c()})(globalThis,()=>(()=>{var s={4567:function(S,o,a){var d=this&&this.__decorate||function(u,f,C,L){var T,P=arguments.length,k=P<3?f:L===null?L=Object.getOwnPropertyDescriptor(f,C):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(u,f,C,L);else for(var A=u.length-1;A>=0;A--)(T=u[A])&&(k=(P<3?T(k):P>3?T(f,C,k):T(f,C))||k);return P>3&&k&&Object.defineProperty(f,C,k),k},v=this&&this.__param||function(u,f){return function(C,L){f(C,L,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const m=a(9042),y=a(9924),E=a(844),R=a(4725),w=a(2585),h=a(3656);let p=o.AccessibilityManager=class extends E.Disposable{constructor(u,f,C,L){super(),this._terminal=u,this._coreBrowserService=C,this._renderService=L,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let T=0;T<this._terminal.rows;T++)this._rowElements[T]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[T]);if(this._topBoundaryFocusListener=T=>this._handleBoundaryFocus(T,0),this._bottomBoundaryFocusListener=T=>this._handleBoundaryFocus(T,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new y.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(T=>this._handleResize(T.rows))),this.register(this._terminal.onRender(T=>this._refreshRows(T.start,T.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(T=>this._handleChar(T))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(T=>this._handleTab(T))),this.register(this._terminal.onKey(T=>this._handleKey(T.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,h.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,E.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(u){for(let f=0;f<u;f++)this._handleChar(" ")}_handleChar(u){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==u&&(this._charsToAnnounce+=u):this._charsToAnnounce+=u,u===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=m.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(u){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(u)||this._charsToConsume.push(u)}_refreshRows(u,f){this._liveRegionDebouncer.refresh(u,f,this._terminal.rows)}_renderRows(u,f){const C=this._terminal.buffer,L=C.lines.length.toString();for(let T=u;T<=f;T++){const P=C.lines.get(C.ydisp+T),k=[],A=(P==null?void 0:P.translateToString(!0,void 0,void 0,k))||"",H=(C.ydisp+T+1).toString(),V=this._rowElements[T];V&&(A.length===0?(V.innerText="",this._rowColumns.set(V,[0,1])):(V.textContent=A,this._rowColumns.set(V,k)),V.setAttribute("aria-posinset",H),V.setAttribute("aria-setsize",L))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(u,f){const C=u.target,L=this._rowElements[f===0?1:this._rowElements.length-2];if(C.getAttribute("aria-posinset")===(f===0?"1":`${this._terminal.buffer.lines.length}`)||u.relatedTarget!==L)return;let T,P;if(f===0?(T=C,P=this._rowElements.pop(),this._rowContainer.removeChild(P)):(T=this._rowElements.shift(),P=C,this._rowContainer.removeChild(T)),T.removeEventListener("focus",this._topBoundaryFocusListener),P.removeEventListener("focus",this._bottomBoundaryFocusListener),f===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(f===0?-1:1),this._rowElements[f===0?1:this._rowElements.length-2].focus(),u.preventDefault(),u.stopImmediatePropagation()}_handleSelectionChange(){var A;if(this._rowElements.length===0)return;const u=document.getSelection();if(!u)return;if(u.isCollapsed)return void(this._rowContainer.contains(u.anchorNode)&&this._terminal.clearSelection());if(!u.anchorNode||!u.focusNode)return void console.error("anchorNode and/or focusNode are null");let f={node:u.anchorNode,offset:u.anchorOffset},C={node:u.focusNode,offset:u.focusOffset};if((f.node.compareDocumentPosition(C.node)&Node.DOCUMENT_POSITION_PRECEDING||f.node===C.node&&f.offset>C.offset)&&([f,C]=[C,f]),f.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(f={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(f.node))return;const L=this._rowElements.slice(-1)[0];if(C.node.compareDocumentPosition(L)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(C={node:L,offset:((A=L.textContent)==null?void 0:A.length)??0}),!this._rowContainer.contains(C.node))return;const T=({node:H,offset:V})=>{const z=H instanceof Text?H.parentNode:H;let N=parseInt(z==null?void 0:z.getAttribute("aria-posinset"),10)-1;if(isNaN(N))return console.warn("row is invalid. Race condition?"),null;const Y=this._rowColumns.get(z);if(!Y)return console.warn("columns is null. Race condition?"),null;let te=V<Y.length?Y[V]:Y.slice(-1)[0]+1;return te>=this._terminal.cols&&(++N,te=0),{row:N,column:te}},P=T(f),k=T(C);if(P&&k){if(P.row>k.row||P.row===k.row&&P.column>=k.column)throw new Error("invalid range");this._terminal.select(P.column,P.row,(k.row-P.row)*this._terminal.cols-P.column+k.column)}}_handleResize(u){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let f=this._rowContainer.children.length;f<this._terminal.rows;f++)this._rowElements[f]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[f]);for(;this._rowElements.length>u;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const u=this._coreBrowserService.mainDocument.createElement("div");return u.setAttribute("role","listitem"),u.tabIndex=-1,this._refreshRowDimensions(u),u}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let u=0;u<this._terminal.rows;u++)this._refreshRowDimensions(this._rowElements[u])}}_refreshRowDimensions(u){u.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=p=d([v(1,w.IInstantiationService),v(2,R.ICoreBrowserService),v(3,R.IRenderService)],p)},3614:(S,o)=>{function a(y){return y.replace(/\r?\n/g,"\r")}function d(y,E){return E?"\x1B[200~"+y+"\x1B[201~":y}function v(y,E,R,w){y=d(y=a(y),R.decPrivateModes.bracketedPasteMode&&w.rawOptions.ignoreBracketedPasteMode!==!0),R.triggerDataEvent(y,!0),E.value=""}function m(y,E,R){const w=R.getBoundingClientRect(),h=y.clientX-w.left-10,p=y.clientY-w.top-10;E.style.width="20px",E.style.height="20px",E.style.left=`${h}px`,E.style.top=`${p}px`,E.style.zIndex="1000",E.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=a,o.bracketTextForPaste=d,o.copyHandler=function(y,E){y.clipboardData&&y.clipboardData.setData("text/plain",E.selectionText),y.preventDefault()},o.handlePasteEvent=function(y,E,R,w){y.stopPropagation(),y.clipboardData&&v(y.clipboardData.getData("text/plain"),E,R,w)},o.paste=v,o.moveTextAreaUnderMouseCursor=m,o.rightClickHandler=function(y,E,R,w,h){m(y,E,R),h&&w.rightClickSelect(y),E.value=w.selectionText,E.select()}},7239:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const d=a(1505);o.ColorContrastCache=class{constructor(){this._color=new d.TwoKeyMap,this._css=new d.TwoKeyMap}setCss(v,m,y){this._css.set(v,m,y)}getCss(v,m){return this._css.get(v,m)}setColor(v,m,y){this._color.set(v,m,y)}getColor(v,m){return this._color.get(v,m)}clear(){this._color.clear(),this._css.clear()}}},3656:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(a,d,v,m){a.addEventListener(d,v,m);let y=!1;return{dispose:()=>{y||(y=!0,a.removeEventListener(d,v,m))}}}},3551:function(S,o,a){var d=this&&this.__decorate||function(p,u,f,C){var L,T=arguments.length,P=T<3?u:C===null?C=Object.getOwnPropertyDescriptor(u,f):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(p,u,f,C);else for(var k=p.length-1;k>=0;k--)(L=p[k])&&(P=(T<3?L(P):T>3?L(u,f,P):L(u,f))||P);return T>3&&P&&Object.defineProperty(u,f,P),P},v=this&&this.__param||function(p,u){return function(f,C){u(f,C,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier=void 0;const m=a(3656),y=a(8460),E=a(844),R=a(2585),w=a(4725);let h=o.Linkifier=class extends E.Disposable{get currentLink(){return this._currentLink}constructor(p,u,f,C,L){super(),this._element=p,this._mouseService=u,this._renderService=f,this._bufferService=C,this._linkProviderService=L,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new y.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new y.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,E.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,E.toDisposable)(()=>{var T;this._lastMouseEvent=void 0,(T=this._activeProviderReplies)==null||T.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,m.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,m.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(p){this._lastMouseEvent=p;const u=this._positionFromMouseEvent(p,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const f=p.composedPath();for(let C=0;C<f.length;C++){const L=f[C];if(L.classList.contains("xterm"))break;if(L.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(p){if(this._activeLine!==p.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(p,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,p)||(this._clearCurrentLink(),this._askForLink(p,!0))}_askForLink(p,u){var C,L;this._activeProviderReplies&&u||((C=this._activeProviderReplies)==null||C.forEach(T=>{T==null||T.forEach(P=>{P.link.dispose&&P.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=p.y);let f=!1;for(const[T,P]of this._linkProviderService.linkProviders.entries())u?(L=this._activeProviderReplies)!=null&&L.get(T)&&(f=this._checkLinkProviderResult(T,p,f)):P.provideLinks(p.y,k=>{var H,V;if(this._isMouseOut)return;const A=k==null?void 0:k.map(z=>({link:z}));(H=this._activeProviderReplies)==null||H.set(T,A),f=this._checkLinkProviderResult(T,p,f),((V=this._activeProviderReplies)==null?void 0:V.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(p.y,this._activeProviderReplies)})}_removeIntersectingLinks(p,u){const f=new Set;for(let C=0;C<u.size;C++){const L=u.get(C);if(L)for(let T=0;T<L.length;T++){const P=L[T],k=P.link.range.start.y<p?0:P.link.range.start.x,A=P.link.range.end.y>p?this._bufferService.cols:P.link.range.end.x;for(let H=k;H<=A;H++){if(f.has(H)){L.splice(T--,1);break}f.add(H)}}}}_checkLinkProviderResult(p,u,f){var T;if(!this._activeProviderReplies)return f;const C=this._activeProviderReplies.get(p);let L=!1;for(let P=0;P<p;P++)this._activeProviderReplies.has(P)&&!this._activeProviderReplies.get(P)||(L=!0);if(!L&&C){const P=C.find(k=>this._linkAtPosition(k.link,u));P&&(f=!0,this._handleNewLink(P))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!f)for(let P=0;P<this._activeProviderReplies.size;P++){const k=(T=this._activeProviderReplies.get(P))==null?void 0:T.find(A=>this._linkAtPosition(A.link,u));if(k){f=!0,this._handleNewLink(k);break}}return f}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(p){if(!this._currentLink)return;const u=this._positionFromMouseEvent(p,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(p,this._currentLink.link.text)}_clearCurrentLink(p,u){this._currentLink&&this._lastMouseEvent&&(!p||!u||this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,E.disposeArray)(this._linkCacheDisposables))}_handleNewLink(p){if(!this._lastMouseEvent)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(p.link,u)&&(this._currentLink=p,this._currentLink.state={decorations:{underline:p.link.decorations===void 0||p.link.decorations.underline,pointerCursor:p.link.decorations===void 0||p.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,p.link,this._lastMouseEvent),p.link.decorations={},Object.defineProperties(p.link.decorations,{pointerCursor:{get:()=>{var f,C;return(C=(f=this._currentLink)==null?void 0:f.state)==null?void 0:C.decorations.pointerCursor},set:f=>{var C;(C=this._currentLink)!=null&&C.state&&this._currentLink.state.decorations.pointerCursor!==f&&(this._currentLink.state.decorations.pointerCursor=f,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",f))}},underline:{get:()=>{var f,C;return(C=(f=this._currentLink)==null?void 0:f.state)==null?void 0:C.decorations.underline},set:f=>{var C,L,T;(C=this._currentLink)!=null&&C.state&&((T=(L=this._currentLink)==null?void 0:L.state)==null?void 0:T.decorations.underline)!==f&&(this._currentLink.state.decorations.underline=f,this._currentLink.state.isHovered&&this._fireUnderlineEvent(p.link,f))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(f=>{if(!this._currentLink)return;const C=f.start===0?0:f.start+1+this._bufferService.buffer.ydisp,L=this._bufferService.buffer.ydisp+1+f.end;if(this._currentLink.link.range.start.y>=C&&this._currentLink.link.range.end.y<=L&&(this._clearCurrentLink(C,L),this._lastMouseEvent)){const T=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);T&&this._askForLink(T,!1)}})))}_linkHover(p,u,f){var C;(C=this._currentLink)!=null&&C.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&p.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(f,u.text)}_fireUnderlineEvent(p,u){const f=p.range,C=this._bufferService.buffer.ydisp,L=this._createLinkUnderlineEvent(f.start.x-1,f.start.y-C-1,f.end.x,f.end.y-C-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(L)}_linkLeave(p,u,f){var C;(C=this._currentLink)!=null&&C.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&p.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(f,u.text)}_linkAtPosition(p,u){const f=p.range.start.y*this._bufferService.cols+p.range.start.x,C=p.range.end.y*this._bufferService.cols+p.range.end.x,L=u.y*this._bufferService.cols+u.x;return f<=L&&L<=C}_positionFromMouseEvent(p,u,f){const C=f.getCoords(p,u,this._bufferService.cols,this._bufferService.rows);if(C)return{x:C[0],y:C[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(p,u,f,C,L){return{x1:p,y1:u,x2:f,y2:C,cols:this._bufferService.cols,fg:L}}};o.Linkifier=h=d([v(1,w.IMouseService),v(2,w.IRenderService),v(3,R.IBufferService),v(4,w.ILinkProviderService)],h)},9042:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(S,o,a){var d=this&&this.__decorate||function(w,h,p,u){var f,C=arguments.length,L=C<3?h:u===null?u=Object.getOwnPropertyDescriptor(h,p):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(w,h,p,u);else for(var T=w.length-1;T>=0;T--)(f=w[T])&&(L=(C<3?f(L):C>3?f(h,p,L):f(h,p))||L);return C>3&&L&&Object.defineProperty(h,p,L),L},v=this&&this.__param||function(w,h){return function(p,u){h(p,u,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const m=a(511),y=a(2585);let E=o.OscLinkProvider=class{constructor(w,h,p){this._bufferService=w,this._optionsService=h,this._oscLinkService=p}provideLinks(w,h){var A;const p=this._bufferService.buffer.lines.get(w-1);if(!p)return void h(void 0);const u=[],f=this._optionsService.rawOptions.linkHandler,C=new m.CellData,L=p.getTrimmedLength();let T=-1,P=-1,k=!1;for(let H=0;H<L;H++)if(P!==-1||p.hasContent(H)){if(p.loadCell(H,C),C.hasExtendedAttrs()&&C.extended.urlId){if(P===-1){P=H,T=C.extended.urlId;continue}k=C.extended.urlId!==T}else P!==-1&&(k=!0);if(k||P!==-1&&H===L-1){const V=(A=this._oscLinkService.getLinkData(T))==null?void 0:A.uri;if(V){const z={start:{x:P+1,y:w},end:{x:H+(k||H!==L-1?0:1),y:w}};let N=!1;if(!(f!=null&&f.allowNonHttpProtocols))try{const Y=new URL(V);["http:","https:"].includes(Y.protocol)||(N=!0)}catch{N=!0}N||u.push({text:V,range:z,activate:(Y,te)=>f?f.activate(Y,te,z):R(0,te),hover:(Y,te)=>{var oe;return(oe=f==null?void 0:f.hover)==null?void 0:oe.call(f,Y,te,z)},leave:(Y,te)=>{var oe;return(oe=f==null?void 0:f.leave)==null?void 0:oe.call(f,Y,te,z)}})}k=!1,C.hasExtendedAttrs()&&C.extended.urlId?(P=H,T=C.extended.urlId):(P=-1,T=-1)}}h(u)}};function R(w,h){if(confirm(`Do you want to navigate to ${h}?

WARNING: This link could potentially be dangerous`)){const p=window.open();if(p){try{p.opener=null}catch{}p.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=E=d([v(0,y.IBufferService),v(1,y.IOptionsService),v(2,y.IOscLinkService)],E)},6193:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(a,d){this._renderCallback=a,this._coreBrowserService=d,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,d,v){this._rowCount=v,a=a!==void 0?a:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,d),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},3236:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const d=a(3614),v=a(3656),m=a(3551),y=a(9042),E=a(3730),R=a(1680),w=a(3107),h=a(5744),p=a(2950),u=a(1296),f=a(428),C=a(4269),L=a(5114),T=a(8934),P=a(3230),k=a(9312),A=a(4725),H=a(6731),V=a(8055),z=a(8969),N=a(8460),Y=a(844),te=a(6114),oe=a(8437),ie=a(2584),q=a(7399),D=a(5941),I=a(9074),B=a(2585),F=a(5435),Z=a(4567),re=a(779);class ce extends z.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(W={}){super(W),this.browser=te,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new Y.MutableDisposable),this._onCursorMove=this.register(new N.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new N.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new N.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new N.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new N.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new N.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new N.EventEmitter),this._onBlur=this.register(new N.EventEmitter),this._onA11yCharEmitter=this.register(new N.EventEmitter),this._onA11yTabEmitter=this.register(new N.EventEmitter),this._onWillOpen=this.register(new N.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(I.DecorationService),this._instantiationService.setService(B.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(re.LinkProviderService),this._instantiationService.setService(A.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(E.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((O,ee)=>this.refresh(O,ee))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(O=>this._reportWindowsOptions(O))),this.register(this._inputHandler.onColor(O=>this._handleColorEvent(O))),this.register((0,N.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,N.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,N.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,N.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(O=>this._afterResize(O.cols,O.rows))),this.register((0,Y.toDisposable)(()=>{var O,ee;this._customKeyEventHandler=void 0,(ee=(O=this.element)==null?void 0:O.parentNode)==null||ee.removeChild(this.element)}))}_handleColorEvent(W){if(this._themeService)for(const O of W){let ee,Q="";switch(O.index){case 256:ee="foreground",Q="10";break;case 257:ee="background",Q="11";break;case 258:ee="cursor",Q="12";break;default:ee="ansi",Q="4;"+O.index}switch(O.type){case 0:const de=V.color.toColorRGB(ee==="ansi"?this._themeService.colors.ansi[O.index]:this._themeService.colors[ee]);this.coreService.triggerDataEvent(`${ie.C0.ESC}]${Q};${(0,D.toRgbString)(de)}${ie.C1_ESCAPED.ST}`);break;case 1:if(ee==="ansi")this._themeService.modifyColors(he=>he.ansi[O.index]=V.channels.toColor(...O.color));else{const he=ee;this._themeService.modifyColors(xe=>xe[he]=V.channels.toColor(...O.color))}break;case 2:this._themeService.restoreColor(O.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(W){W?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(W){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ie.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var W;return(W=this.textarea)==null?void 0:W.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ie.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const W=this.buffer.ybase+this.buffer.y,O=this.buffer.lines.get(W);if(!O)return;const ee=Math.min(this.buffer.x,this.cols-1),Q=this._renderService.dimensions.css.cell.height,de=O.getWidth(ee),he=this._renderService.dimensions.css.cell.width*de,xe=this.buffer.y*this._renderService.dimensions.css.cell.height,Pe=ee*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Pe+"px",this.textarea.style.top=xe+"px",this.textarea.style.width=he+"px",this.textarea.style.height=Q+"px",this.textarea.style.lineHeight=Q+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",O=>{this.hasSelection()&&(0,d.copyHandler)(O,this._selectionService)}));const W=O=>(0,d.handlePasteEvent)(O,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",W)),this.register((0,v.addDisposableDomListener)(this.element,"paste",W)),te.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",O=>{O.button===2&&(0,d.rightClickHandler)(O,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",O=>{(0,d.rightClickHandler)(O,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),te.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",O=>{O.button===1&&(0,d.moveTextAreaUnderMouseCursor)(O,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",W=>this._keyUp(W),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",W=>this._keyDown(W),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",W=>this._keyPress(W),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",W=>this._compositionHelper.compositionupdate(W))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,v.addDisposableDomListener)(this.textarea,"input",W=>this._inputEvent(W),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(W){var ee;if(!W)throw new Error("Terminal requires a parent element.");if(W.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((ee=this.element)==null?void 0:ee.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=W.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),W.appendChild(this.element);const O=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),O.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,v.addDisposableDomListener)(this.screenElement,"mousemove",Q=>this.updateCursorStyle(Q))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),O.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",y.promptLabel),te.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(L.CoreBrowserService,this.textarea,W.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(A.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",Q=>this._handleTextAreaFocus(Q))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(A.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(H.ThemeService),this._instantiationService.setService(A.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(C.CharacterJoinerService),this._instantiationService.setService(A.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(P.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(A.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Q=>this._onRender.fire(Q))),this.onResize(Q=>this._renderService.resize(Q.cols,Q.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(T.MouseService),this._instantiationService.setService(A.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(m.Linkifier,this.screenElement)),this.element.appendChild(O);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(R.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(k.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(A.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Q=>this._renderService.handleSelectionChanged(Q.start,Q.end,Q.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Q=>{this.textarea.value=Q,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Q=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(w.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",Q=>this._selectionService.handleMouseDown(Q))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Q=>this._handleScreenReaderModeOptionChange(Q))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Q=>{!this._overviewRulerRenderer&&Q&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(u.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const W=this,O=this.element;function ee(he){const xe=W._mouseService.getMouseReportCoords(he,W.screenElement);if(!xe)return!1;let Pe,Me;switch(he.overrideType||he.type){case"mousemove":Me=32,he.buttons===void 0?(Pe=3,he.button!==void 0&&(Pe=he.button<3?he.button:3)):Pe=1&he.buttons?0:4&he.buttons?1:2&he.buttons?2:3;break;case"mouseup":Me=0,Pe=he.button<3?he.button:3;break;case"mousedown":Me=1,Pe=he.button<3?he.button:3;break;case"wheel":if(W._customWheelEventHandler&&W._customWheelEventHandler(he)===!1||W.viewport.getLinesScrolled(he)===0)return!1;Me=he.deltaY<0?0:1,Pe=4;break;default:return!1}return!(Me===void 0||Pe===void 0||Pe>4)&&W.coreMouseService.triggerMouseEvent({col:xe.col,row:xe.row,x:xe.x,y:xe.y,button:Pe,action:Me,ctrl:he.ctrlKey,alt:he.altKey,shift:he.shiftKey})}const Q={mouseup:null,wheel:null,mousedrag:null,mousemove:null},de={mouseup:he=>(ee(he),he.buttons||(this._document.removeEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.removeEventListener("mousemove",Q.mousedrag)),this.cancel(he)),wheel:he=>(ee(he),this.cancel(he,!0)),mousedrag:he=>{he.buttons&&ee(he)},mousemove:he=>{he.buttons||ee(he)}};this.register(this.coreMouseService.onProtocolChange(he=>{he?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(he)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&he?Q.mousemove||(O.addEventListener("mousemove",de.mousemove),Q.mousemove=de.mousemove):(O.removeEventListener("mousemove",Q.mousemove),Q.mousemove=null),16&he?Q.wheel||(O.addEventListener("wheel",de.wheel,{passive:!1}),Q.wheel=de.wheel):(O.removeEventListener("wheel",Q.wheel),Q.wheel=null),2&he?Q.mouseup||(Q.mouseup=de.mouseup):(this._document.removeEventListener("mouseup",Q.mouseup),Q.mouseup=null),4&he?Q.mousedrag||(Q.mousedrag=de.mousedrag):(this._document.removeEventListener("mousemove",Q.mousedrag),Q.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(O,"mousedown",he=>{if(he.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(he))return ee(he),Q.mouseup&&this._document.addEventListener("mouseup",Q.mouseup),Q.mousedrag&&this._document.addEventListener("mousemove",Q.mousedrag),this.cancel(he)})),this.register((0,v.addDisposableDomListener)(O,"wheel",he=>{if(!Q.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(he)===!1)return!1;if(!this.buffer.hasScrollback){const xe=this.viewport.getLinesScrolled(he);if(xe===0)return;const Pe=ie.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(he.deltaY<0?"A":"B");let Me="";for(let Ze=0;Ze<Math.abs(xe);Ze++)Me+=Pe;return this.coreService.triggerDataEvent(Me,!0),this.cancel(he,!0)}return this.viewport.handleWheel(he)?this.cancel(he):void 0}},{passive:!1})),this.register((0,v.addDisposableDomListener)(O,"touchstart",he=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(he),this.cancel(he)},{passive:!0})),this.register((0,v.addDisposableDomListener)(O,"touchmove",he=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(he)?void 0:this.cancel(he)},{passive:!1}))}refresh(W,O){var ee;(ee=this._renderService)==null||ee.refreshRows(W,O)}updateCursorStyle(W){var O;(O=this._selectionService)!=null&&O.shouldColumnSelect(W)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(W,O,ee=0){var Q;ee===1?(super.scrollLines(W,O,ee),this.refresh(0,this.rows-1)):(Q=this.viewport)==null||Q.scrollLines(W)}paste(W){(0,d.paste)(W,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(W){this._customKeyEventHandler=W}attachCustomWheelEventHandler(W){this._customWheelEventHandler=W}registerLinkProvider(W){return this._linkProviderService.registerLinkProvider(W)}registerCharacterJoiner(W){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const O=this._characterJoinerService.register(W);return this.refresh(0,this.rows-1),O}deregisterCharacterJoiner(W){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(W)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(W){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+W)}registerDecoration(W){return this._decorationService.registerDecoration(W)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(W,O,ee){this._selectionService.setSelection(W,O,ee)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var W;(W=this._selectionService)==null||W.clearSelection()}selectAll(){var W;(W=this._selectionService)==null||W.selectAll()}selectLines(W,O){var ee;(ee=this._selectionService)==null||ee.selectLines(W,O)}_keyDown(W){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1)return!1;const O=this.browser.isMac&&this.options.macOptionIsMeta&&W.altKey;if(!O&&!this._compositionHelper.keydown(W))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;O||W.key!=="Dead"&&W.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ee=(0,q.evaluateKeyboardEvent)(W,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(W),ee.type===3||ee.type===2){const Q=this.rows-1;return this.scrollLines(ee.type===2?-Q:Q),this.cancel(W,!0)}return ee.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,W)||(ee.cancel&&this.cancel(W,!0),!ee.key||!!(W.key&&!W.ctrlKey&&!W.altKey&&!W.metaKey&&W.key.length===1&&W.key.charCodeAt(0)>=65&&W.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ee.key!==ie.C0.ETX&&ee.key!==ie.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ee.key,domEvent:W}),this._showCursor(),this.coreService.triggerDataEvent(ee.key,!0),!this.optionsService.rawOptions.screenReaderMode||W.altKey||W.ctrlKey?this.cancel(W,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(W,O){const ee=W.isMac&&!this.options.macOptionIsMeta&&O.altKey&&!O.ctrlKey&&!O.metaKey||W.isWindows&&O.altKey&&O.ctrlKey&&!O.metaKey||W.isWindows&&O.getModifierState("AltGraph");return O.type==="keypress"?ee:ee&&(!O.keyCode||O.keyCode>47)}_keyUp(W){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1||(function(O){return O.keyCode===16||O.keyCode===17||O.keyCode===18}(W)||this.focus(),this.updateCursorStyle(W),this._keyPressHandled=!1)}_keyPress(W){let O;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1)return!1;if(this.cancel(W),W.charCode)O=W.charCode;else if(W.which===null||W.which===void 0)O=W.keyCode;else{if(W.which===0||W.charCode===0)return!1;O=W.which}return!(!O||(W.altKey||W.ctrlKey||W.metaKey)&&!this._isThirdLevelShift(this.browser,W)||(O=String.fromCharCode(O),this._onKey.fire({key:O,domEvent:W}),this._showCursor(),this.coreService.triggerDataEvent(O,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(W){if(W.data&&W.inputType==="insertText"&&(!W.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const O=W.data;return this.coreService.triggerDataEvent(O,!0),this.cancel(W),!0}return!1}resize(W,O){W!==this.cols||O!==this.rows?super.resize(W,O):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(W,O){var ee,Q;(ee=this._charSizeService)==null||ee.measure(),(Q=this.viewport)==null||Q.syncScrollArea(!0)}clear(){var W;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let O=1;O<this.rows;O++)this.buffer.lines.push(this.buffer.getBlankLine(oe.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(W=this.viewport)==null||W.reset(),this.refresh(0,this.rows-1)}}reset(){var O,ee;this.options.rows=this.rows,this.options.cols=this.cols;const W=this._customKeyEventHandler;this._setup(),super.reset(),(O=this._selectionService)==null||O.reset(),this._decorationService.reset(),(ee=this.viewport)==null||ee.reset(),this._customKeyEventHandler=W,this.refresh(0,this.rows-1)}clearTextureAtlas(){var W;(W=this._renderService)==null||W.clearTextureAtlas()}_reportFocus(){var W;(W=this.element)!=null&&W.classList.contains("focus")?this.coreService.triggerDataEvent(ie.C0.ESC+"[I"):this.coreService.triggerDataEvent(ie.C0.ESC+"[O")}_reportWindowsOptions(W){if(this._renderService)switch(W){case F.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const O=this._renderService.dimensions.css.canvas.width.toFixed(0),ee=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ie.C0.ESC}[4;${ee};${O}t`);break;case F.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Q=this._renderService.dimensions.css.cell.width.toFixed(0),de=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ie.C0.ESC}[6;${de};${Q}t`)}}cancel(W,O){if(this.options.cancelEvents||O)return W.preventDefault(),W.stopPropagation(),!1}}o.Terminal=ce},9924:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(a,d=1e3){this._renderCallback=a,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,d,v){this._rowCount=v,a=a!==void 0?a:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d;const m=Date.now();if(m-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=m,this._innerRefresh();else if(!this._additionalRefreshRequested){const y=m-this._lastRefreshMs,E=this._debounceThresholdMS-y;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},E)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,d)}}},1680:function(S,o,a){var d=this&&this.__decorate||function(p,u,f,C){var L,T=arguments.length,P=T<3?u:C===null?C=Object.getOwnPropertyDescriptor(u,f):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(p,u,f,C);else for(var k=p.length-1;k>=0;k--)(L=p[k])&&(P=(T<3?L(P):T>3?L(u,f,P):L(u,f))||P);return T>3&&P&&Object.defineProperty(u,f,P),P},v=this&&this.__param||function(p,u){return function(f,C){u(f,C,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const m=a(3656),y=a(4725),E=a(8460),R=a(844),w=a(2585);let h=o.Viewport=class extends R.Disposable{constructor(p,u,f,C,L,T,P,k){super(),this._viewportElement=p,this._scrollArea=u,this._bufferService=f,this._optionsService=C,this._charSizeService=L,this._renderService=T,this._coreBrowserService=P,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new E.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(A=>this._activeBuffer=A.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(A=>this._renderDimensions=A)),this._handleThemeChange(k.colors),this.register(k.onChangeColors(A=>this._handleThemeChange(A))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(p){this._viewportElement.style.backgroundColor=p.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(p){if(p)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const p=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==p&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=p),this._refreshAnimationFrame=null}syncScrollArea(p=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(p);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(p)}_handleScroll(p){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const p=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(p*(this._smoothScrollState.target-this._smoothScrollState.origin)),p<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(p,u){const f=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(u<0&&this._viewportElement.scrollTop!==0||u>0&&f<this._lastRecordedBufferHeight)||(p.cancelable&&p.preventDefault(),!1)}handleWheel(p){const u=this._getPixelsScrolled(p);return u!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+u:this._smoothScrollState.target+=u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=u,this._bubbleScroll(p,u))}scrollLines(p){if(p!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const u=p*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!1})}_getPixelsScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let u=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u}getBufferElements(p,u){var k;let f,C="";const L=[],T=u??this._bufferService.buffer.lines.length,P=this._bufferService.buffer.lines;for(let A=p;A<T;A++){const H=P.get(A);if(!H)continue;const V=(k=P.get(A+1))==null?void 0:k.isWrapped;if(C+=H.translateToString(!V),!V||A===P.length-1){const z=document.createElement("div");z.textContent=C,L.push(z),C.length>0&&(f=z),C=""}}return{bufferElements:L,cursorElement:f}}getLinesScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let u=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u}_applyScrollModifier(p,u){const f=this._optionsService.rawOptions.fastScrollModifier;return f==="alt"&&u.altKey||f==="ctrl"&&u.ctrlKey||f==="shift"&&u.shiftKey?p*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:p*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(p){this._lastTouchY=p.touches[0].pageY}handleTouchMove(p){const u=this._lastTouchY-p.touches[0].pageY;return this._lastTouchY=p.touches[0].pageY,u!==0&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(p,u))}};o.Viewport=h=d([v(2,w.IBufferService),v(3,w.IOptionsService),v(4,y.ICharSizeService),v(5,y.IRenderService),v(6,y.ICoreBrowserService),v(7,y.IThemeService)],h)},3107:function(S,o,a){var d=this&&this.__decorate||function(w,h,p,u){var f,C=arguments.length,L=C<3?h:u===null?u=Object.getOwnPropertyDescriptor(h,p):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(w,h,p,u);else for(var T=w.length-1;T>=0;T--)(f=w[T])&&(L=(C<3?f(L):C>3?f(h,p,L):f(h,p))||L);return C>3&&L&&Object.defineProperty(h,p,L),L},v=this&&this.__param||function(w,h){return function(p,u){h(p,u,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const m=a(4725),y=a(844),E=a(2585);let R=o.BufferDecorationRenderer=class extends y.Disposable{constructor(w,h,p,u,f){super(),this._screenElement=w,this._bufferService=h,this._coreBrowserService=p,this._decorationService=u,this._renderService=f,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(C=>this._removeDecoration(C))),this.register((0,y.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const w of this._decorationService.decorations)this._renderDecoration(w);this._dimensionsChanged=!1}_renderDecoration(w){this._refreshStyle(w),this._dimensionsChanged&&this._refreshXPosition(w)}_createElement(w){var u;const h=this._coreBrowserService.mainDocument.createElement("div");h.classList.add("xterm-decoration"),h.classList.toggle("xterm-decoration-top-layer",((u=w==null?void 0:w.options)==null?void 0:u.layer)==="top"),h.style.width=`${Math.round((w.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,h.style.height=(w.options.height||1)*this._renderService.dimensions.css.cell.height+"px",h.style.top=(w.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",h.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const p=w.options.x??0;return p&&p>this._bufferService.cols&&(h.style.display="none"),this._refreshXPosition(w,h),h}_refreshStyle(w){const h=w.marker.line-this._bufferService.buffers.active.ydisp;if(h<0||h>=this._bufferService.rows)w.element&&(w.element.style.display="none",w.onRenderEmitter.fire(w.element));else{let p=this._decorationElements.get(w);p||(p=this._createElement(w),w.element=p,this._decorationElements.set(w,p),this._container.appendChild(p),w.onDispose(()=>{this._decorationElements.delete(w),p.remove()})),p.style.top=h*this._renderService.dimensions.css.cell.height+"px",p.style.display=this._altBufferIsActive?"none":"block",w.onRenderEmitter.fire(p)}}_refreshXPosition(w,h=w.element){if(!h)return;const p=w.options.x??0;(w.options.anchor||"left")==="right"?h.style.right=p?p*this._renderService.dimensions.css.cell.width+"px":"":h.style.left=p?p*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(w){var h;(h=this._decorationElements.get(w))==null||h.remove(),this._decorationElements.delete(w),w.dispose()}};o.BufferDecorationRenderer=R=d([v(1,E.IBufferService),v(2,m.ICoreBrowserService),v(3,E.IDecorationService),v(4,m.IRenderService)],R)},5871:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const d of this._zones)if(d.color===a.options.overviewRulerOptions.color&&d.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(d,a.marker.line))return;if(this._lineAdjacentToZone(d,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(d,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,d){return d>=a.startBufferLine&&d<=a.endBufferLine}_lineAdjacentToZone(a,d,v){return d>=a.startBufferLine-this._linePadding[v||"full"]&&d<=a.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(a,d){a.startBufferLine=Math.min(a.startBufferLine,d),a.endBufferLine=Math.max(a.endBufferLine,d)}}},5744:function(S,o,a){var d=this&&this.__decorate||function(f,C,L,T){var P,k=arguments.length,A=k<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,L):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(f,C,L,T);else for(var H=f.length-1;H>=0;H--)(P=f[H])&&(A=(k<3?P(A):k>3?P(C,L,A):P(C,L))||A);return k>3&&A&&Object.defineProperty(C,L,A),A},v=this&&this.__param||function(f,C){return function(L,T){C(L,T,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const m=a(5871),y=a(4725),E=a(844),R=a(2585),w={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0};let u=o.OverviewRulerRenderer=class extends E.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(f,C,L,T,P,k,A){var V;super(),this._viewportElement=f,this._screenElement=C,this._bufferService=L,this._decorationService=T,this._renderService=P,this._optionsService=k,this._coreBrowserService=A,this._colorZoneStore=new m.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(V=this._viewportElement.parentElement)==null||V.insertBefore(this._canvas,this._viewportElement);const H=this._canvas.getContext("2d");if(!H)throw new Error("Ctx cannot be null");this._ctx=H,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,E.toDisposable)(()=>{var z;(z=this._canvas)==null||z.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const f=Math.floor(this._canvas.width/3),C=Math.ceil(this._canvas.width/3);h.full=this._canvas.width,h.left=f,h.center=C,h.right=f,this._refreshDrawHeightConstants(),p.full=0,p.left=0,p.center=h.left,p.right=h.left+h.center}_refreshDrawHeightConstants(){w.full=Math.round(2*this._coreBrowserService.dpr);const f=this._canvas.height/this._bufferService.buffer.lines.length,C=Math.round(Math.max(Math.min(f,12),6)*this._coreBrowserService.dpr);w.left=C,w.center=C,w.right=C}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const C of this._decorationService.decorations)this._colorZoneStore.addDecoration(C);this._ctx.lineWidth=1;const f=this._colorZoneStore.zones;for(const C of f)C.position!=="full"&&this._renderColorZone(C);for(const C of f)C.position==="full"&&this._renderColorZone(C);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(f){this._ctx.fillStyle=f.color,this._ctx.fillRect(p[f.position||"full"],Math.round((this._canvas.height-1)*(f.startBufferLine/this._bufferService.buffers.active.lines.length)-w[f.position||"full"]/2),h[f.position||"full"],Math.round((this._canvas.height-1)*((f.endBufferLine-f.startBufferLine)/this._bufferService.buffers.active.lines.length)+w[f.position||"full"]))}_queueRefresh(f,C){this._shouldUpdateDimensions=f||this._shouldUpdateDimensions,this._shouldUpdateAnchor=C||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=u=d([v(2,R.IBufferService),v(3,R.IDecorationService),v(4,y.IRenderService),v(5,R.IOptionsService),v(6,y.ICoreBrowserService)],u)},2950:function(S,o,a){var d=this&&this.__decorate||function(w,h,p,u){var f,C=arguments.length,L=C<3?h:u===null?u=Object.getOwnPropertyDescriptor(h,p):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(w,h,p,u);else for(var T=w.length-1;T>=0;T--)(f=w[T])&&(L=(C<3?f(L):C>3?f(h,p,L):f(h,p))||L);return C>3&&L&&Object.defineProperty(h,p,L),L},v=this&&this.__param||function(w,h){return function(p,u){h(p,u,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const m=a(4725),y=a(2585),E=a(2584);let R=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(w,h,p,u,f,C){this._textarea=w,this._compositionView=h,this._bufferService=p,this._optionsService=u,this._coreService=f,this._renderService=C,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(w){this._compositionView.textContent=w.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(w){if(this._isComposing||this._isSendingComposition){if(w.keyCode===229||w.keyCode===16||w.keyCode===17||w.keyCode===18)return!1;this._finalizeComposition(!1)}return w.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(w){if(this._compositionView.classList.remove("active"),this._isComposing=!1,w){const h={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let p;this._isSendingComposition=!1,h.start+=this._dataAlreadySent.length,p=this._isComposing?this._textarea.value.substring(h.start,h.end):this._textarea.value.substring(h.start),p.length>0&&this._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;const h=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(h,!0)}}_handleAnyTextareaChanges(){const w=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const h=this._textarea.value,p=h.replace(w,"");this._dataAlreadySent=p,h.length>w.length?this._coreService.triggerDataEvent(p,!0):h.length<w.length?this._coreService.triggerDataEvent(`${E.C0.DEL}`,!0):h.length===w.length&&h!==w&&this._coreService.triggerDataEvent(h,!0)}},0)}updateCompositionElements(w){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const h=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),p=this._renderService.dimensions.css.cell.height,u=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,f=h*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=f+"px",this._compositionView.style.top=u+"px",this._compositionView.style.height=p+"px",this._compositionView.style.lineHeight=p+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const C=this._compositionView.getBoundingClientRect();this._textarea.style.left=f+"px",this._textarea.style.top=u+"px",this._textarea.style.width=Math.max(C.width,1)+"px",this._textarea.style.height=Math.max(C.height,1)+"px",this._textarea.style.lineHeight=C.height+"px"}w||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=R=d([v(2,y.IBufferService),v(3,y.IOptionsService),v(4,y.ICoreService),v(5,m.IRenderService)],R)},9806:(S,o)=>{function a(d,v,m){const y=m.getBoundingClientRect(),E=d.getComputedStyle(m),R=parseInt(E.getPropertyValue("padding-left")),w=parseInt(E.getPropertyValue("padding-top"));return[v.clientX-y.left-R,v.clientY-y.top-w]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=a,o.getCoords=function(d,v,m,y,E,R,w,h,p){if(!R)return;const u=a(d,v,m);return u?(u[0]=Math.ceil((u[0]+(p?w/2:0))/w),u[1]=Math.ceil(u[1]/h),u[0]=Math.min(Math.max(u[0],1),y+(p?1:0)),u[1]=Math.min(Math.max(u[1],1),E),u):void 0}},9504:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const d=a(2584);function v(h,p,u,f){const C=h-m(h,u),L=p-m(p,u),T=Math.abs(C-L)-function(P,k,A){let H=0;const V=P-m(P,A),z=k-m(k,A);for(let N=0;N<Math.abs(V-z);N++){const Y=y(P,k)==="A"?-1:1,te=A.buffer.lines.get(V+Y*N);te!=null&&te.isWrapped&&H++}return H}(h,p,u);return w(T,R(y(h,p),f))}function m(h,p){let u=0,f=p.buffer.lines.get(h),C=f==null?void 0:f.isWrapped;for(;C&&h>=0&&h<p.rows;)u++,f=p.buffer.lines.get(--h),C=f==null?void 0:f.isWrapped;return u}function y(h,p){return h>p?"A":"B"}function E(h,p,u,f,C,L){let T=h,P=p,k="";for(;T!==u||P!==f;)T+=C?1:-1,C&&T>L.cols-1?(k+=L.buffer.translateBufferLineToString(P,!1,h,T),T=0,h=0,P++):!C&&T<0&&(k+=L.buffer.translateBufferLineToString(P,!1,0,h+1),T=L.cols-1,h=T,P--);return k+L.buffer.translateBufferLineToString(P,!1,h,T)}function R(h,p){const u=p?"O":"[";return d.C0.ESC+u+h}function w(h,p){h=Math.floor(h);let u="";for(let f=0;f<h;f++)u+=p;return u}o.moveToCellSequence=function(h,p,u,f){const C=u.buffer.x,L=u.buffer.y;if(!u.buffer.hasScrollback)return function(k,A,H,V,z,N){return v(A,V,z,N).length===0?"":w(E(k,A,k,A-m(A,z),!1,z).length,R("D",N))}(C,L,0,p,u,f)+v(L,p,u,f)+function(k,A,H,V,z,N){let Y;Y=v(A,V,z,N).length>0?V-m(V,z):A;const te=V,oe=function(ie,q,D,I,B,F){let Z;return Z=v(D,I,B,F).length>0?I-m(I,B):q,ie<D&&Z<=I||ie>=D&&Z<I?"C":"D"}(k,A,H,V,z,N);return w(E(k,Y,H,te,oe==="C",z).length,R(oe,N))}(C,L,h,p,u,f);let T;if(L===p)return T=C>h?"D":"C",w(Math.abs(C-h),R(T,f));T=L>p?"D":"C";const P=Math.abs(L-p);return w(function(k,A){return A.cols-k}(L>p?h:C,u)+(P-1)*u.cols+1+((L>p?C:h)-1),R(T,f))}},1296:function(S,o,a){var d=this&&this.__decorate||function(N,Y,te,oe){var ie,q=arguments.length,D=q<3?Y:oe===null?oe=Object.getOwnPropertyDescriptor(Y,te):oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(N,Y,te,oe);else for(var I=N.length-1;I>=0;I--)(ie=N[I])&&(D=(q<3?ie(D):q>3?ie(Y,te,D):ie(Y,te))||D);return q>3&&D&&Object.defineProperty(Y,te,D),D},v=this&&this.__param||function(N,Y){return function(te,oe){Y(te,oe,N)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const m=a(3787),y=a(2550),E=a(2223),R=a(6171),w=a(6052),h=a(4725),p=a(8055),u=a(8460),f=a(844),C=a(2585),L="xterm-dom-renderer-owner-",T="xterm-rows",P="xterm-fg-",k="xterm-bg-",A="xterm-focus",H="xterm-selection";let V=1,z=o.DomRenderer=class extends f.Disposable{constructor(N,Y,te,oe,ie,q,D,I,B,F,Z,re,ce){super(),this._terminal=N,this._document=Y,this._element=te,this._screenElement=oe,this._viewportElement=ie,this._helperContainer=q,this._linkifier2=D,this._charSizeService=B,this._optionsService=F,this._bufferService=Z,this._coreBrowserService=re,this._themeService=ce,this._terminalClass=V++,this._rowElements=[],this._selectionRenderModel=(0,w.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(T),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(H),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,R.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ue=>this._injectCss(ue))),this._injectCss(this._themeService.colors),this._rowFactory=I.createInstance(m.DomRendererRowFactory,document),this._element.classList.add(L+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ue=>this._handleLinkHover(ue))),this.register(this._linkifier2.onHideLinkUnderline(ue=>this._handleLinkLeave(ue))),this.register((0,f.toDisposable)(()=>{this._element.classList.remove(L+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new y.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const N=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*N,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*N),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/N),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/N),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const te of this._rowElements)te.style.width=`${this.dimensions.css.canvas.width}px`,te.style.height=`${this.dimensions.css.cell.height}px`,te.style.lineHeight=`${this.dimensions.css.cell.height}px`,te.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const Y=`${this._terminalSelector} .${T} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=Y,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(N){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let Y=`${this._terminalSelector} .${T} { color: ${N.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;Y+=`${this._terminalSelector} .${T} .xterm-dim { color: ${p.color.multiplyOpacity(N.foreground,.5).css};}`,Y+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const te=`blink_underline_${this._terminalClass}`,oe=`blink_bar_${this._terminalClass}`,ie=`blink_block_${this._terminalClass}`;Y+=`@keyframes ${te} { 50% {  border-bottom-style: hidden; }}`,Y+=`@keyframes ${oe} { 50% {  box-shadow: none; }}`,Y+=`@keyframes ${ie} { 0% {  background-color: ${N.cursor.css};  color: ${N.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${N.cursor.css}; }}`,Y+=`${this._terminalSelector} .${T}.${A} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${te} 1s step-end infinite;}${this._terminalSelector} .${T}.${A} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${oe} 1s step-end infinite;}${this._terminalSelector} .${T}.${A} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${ie} 1s step-end infinite;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-block { background-color: ${N.cursor.css}; color: ${N.cursorAccent.css};}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${N.cursor.css} !important; color: ${N.cursorAccent.css} !important;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${N.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${N.cursor.css} inset;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${N.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,Y+=`${this._terminalSelector} .${H} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${H} div { position: absolute; background-color: ${N.selectionBackgroundOpaque.css};}${this._terminalSelector} .${H} div { position: absolute; background-color: ${N.selectionInactiveBackgroundOpaque.css};}`;for(const[q,D]of N.ansi.entries())Y+=`${this._terminalSelector} .${P}${q} { color: ${D.css}; }${this._terminalSelector} .${P}${q}.xterm-dim { color: ${p.color.multiplyOpacity(D,.5).css}; }${this._terminalSelector} .${k}${q} { background-color: ${D.css}; }`;Y+=`${this._terminalSelector} .${P}${E.INVERTED_DEFAULT_COLOR} { color: ${p.color.opaque(N.background).css}; }${this._terminalSelector} .${P}${E.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${p.color.multiplyOpacity(p.color.opaque(N.background),.5).css}; }${this._terminalSelector} .${k}${E.INVERTED_DEFAULT_COLOR} { background-color: ${N.foreground.css}; }`,this._themeStyleElement.textContent=Y}_setDefaultSpacing(){const N=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${N}px`,this._rowFactory.defaultSpacing=N}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(N,Y){for(let te=this._rowElements.length;te<=Y;te++){const oe=this._document.createElement("div");this._rowContainer.appendChild(oe),this._rowElements.push(oe)}for(;this._rowElements.length>Y;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(N,Y){this._refreshRowElements(N,Y),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(A),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(A),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(N,Y,te){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(N,Y,te),this.renderRows(0,this._bufferService.rows-1),!N||!Y)return;this._selectionRenderModel.update(this._terminal,N,Y,te);const oe=this._selectionRenderModel.viewportStartRow,ie=this._selectionRenderModel.viewportEndRow,q=this._selectionRenderModel.viewportCappedStartRow,D=this._selectionRenderModel.viewportCappedEndRow;if(q>=this._bufferService.rows||D<0)return;const I=this._document.createDocumentFragment();if(te){const B=N[0]>Y[0];I.appendChild(this._createSelectionElement(q,B?Y[0]:N[0],B?N[0]:Y[0],D-q+1))}else{const B=oe===q?N[0]:0,F=q===ie?Y[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(q,B,F));const Z=D-q-1;if(I.appendChild(this._createSelectionElement(q+1,0,this._bufferService.cols,Z)),q!==D){const re=ie===D?Y[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(D,0,re))}}this._selectionContainer.appendChild(I)}_createSelectionElement(N,Y,te,oe=1){const ie=this._document.createElement("div"),q=Y*this.dimensions.css.cell.width;let D=this.dimensions.css.cell.width*(te-Y);return q+D>this.dimensions.css.canvas.width&&(D=this.dimensions.css.canvas.width-q),ie.style.height=oe*this.dimensions.css.cell.height+"px",ie.style.top=N*this.dimensions.css.cell.height+"px",ie.style.left=`${q}px`,ie.style.width=`${D}px`,ie}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const N of this._rowElements)N.replaceChildren()}renderRows(N,Y){const te=this._bufferService.buffer,oe=te.ybase+te.y,ie=Math.min(te.x,this._bufferService.cols-1),q=this._optionsService.rawOptions.cursorBlink,D=this._optionsService.rawOptions.cursorStyle,I=this._optionsService.rawOptions.cursorInactiveStyle;for(let B=N;B<=Y;B++){const F=B+te.ydisp,Z=this._rowElements[B],re=te.lines.get(F);if(!Z||!re)break;Z.replaceChildren(...this._rowFactory.createRow(re,F,F===oe,D,I,ie,q,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${L}${this._terminalClass}`}_handleLinkHover(N){this._setCellUnderline(N.x1,N.x2,N.y1,N.y2,N.cols,!0)}_handleLinkLeave(N){this._setCellUnderline(N.x1,N.x2,N.y1,N.y2,N.cols,!1)}_setCellUnderline(N,Y,te,oe,ie,q){te<0&&(N=0),oe<0&&(Y=0);const D=this._bufferService.rows-1;te=Math.max(Math.min(te,D),0),oe=Math.max(Math.min(oe,D),0),ie=Math.min(ie,this._bufferService.cols);const I=this._bufferService.buffer,B=I.ybase+I.y,F=Math.min(I.x,ie-1),Z=this._optionsService.rawOptions.cursorBlink,re=this._optionsService.rawOptions.cursorStyle,ce=this._optionsService.rawOptions.cursorInactiveStyle;for(let ue=te;ue<=oe;++ue){const W=ue+I.ydisp,O=this._rowElements[ue],ee=I.lines.get(W);if(!O||!ee)break;O.replaceChildren(...this._rowFactory.createRow(ee,W,W===B,re,ce,F,Z,this.dimensions.css.cell.width,this._widthCache,q?ue===te?N:0:-1,q?(ue===oe?Y:ie)-1:-1))}}};o.DomRenderer=z=d([v(7,C.IInstantiationService),v(8,h.ICharSizeService),v(9,C.IOptionsService),v(10,C.IBufferService),v(11,h.ICoreBrowserService),v(12,h.IThemeService)],z)},3787:function(S,o,a){var d=this&&this.__decorate||function(T,P,k,A){var H,V=arguments.length,z=V<3?P:A===null?A=Object.getOwnPropertyDescriptor(P,k):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(T,P,k,A);else for(var N=T.length-1;N>=0;N--)(H=T[N])&&(z=(V<3?H(z):V>3?H(P,k,z):H(P,k))||z);return V>3&&z&&Object.defineProperty(P,k,z),z},v=this&&this.__param||function(T,P){return function(k,A){P(k,A,T)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const m=a(2223),y=a(643),E=a(511),R=a(2585),w=a(8055),h=a(4725),p=a(4269),u=a(6171),f=a(3734);let C=o.DomRendererRowFactory=class{constructor(T,P,k,A,H,V,z){this._document=T,this._characterJoinerService=P,this._optionsService=k,this._coreBrowserService=A,this._coreService=H,this._decorationService=V,this._themeService=z,this._workCell=new E.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(T,P,k){this._selectionStart=T,this._selectionEnd=P,this._columnSelectMode=k}createRow(T,P,k,A,H,V,z,N,Y,te,oe){const ie=[],q=this._characterJoinerService.getJoinedCharacters(P),D=this._themeService.colors;let I,B=T.getNoBgTrimmedLength();k&&B<V+1&&(B=V+1);let F=0,Z="",re=0,ce=0,ue=0,W=!1,O=0,ee=!1,Q=0;const de=[],he=te!==-1&&oe!==-1;for(let xe=0;xe<B;xe++){T.loadCell(xe,this._workCell);let Pe=this._workCell.getWidth();if(Pe===0)continue;let Me=!1,Ze=xe,Ce=this._workCell;if(q.length>0&&xe===q[0][0]){Me=!0;const Be=q.shift();Ce=new p.JoinedCellData(this._workCell,T.translateToString(!0,Be[0],Be[1]),Be[1]-Be[0]),Ze=Be[1]-1,Pe=Ce.getWidth()}const mr=this._isCellInSelection(xe,P),Wr=k&&xe===V,tr=he&&xe>=te&&xe<=oe;let Kt=!1;this._decorationService.forEachDecorationAtCell(xe,P,void 0,Be=>{Kt=!0});let _r=Ce.getChars()||y.WHITESPACE_CELL_CHAR;if(_r===" "&&(Ce.isUnderline()||Ce.isOverline())&&(_r=""),Q=Pe*N-Y.get(_r,Ce.isBold(),Ce.isItalic()),I){if(F&&(mr&&ee||!mr&&!ee&&Ce.bg===re)&&(mr&&ee&&D.selectionForeground||Ce.fg===ce)&&Ce.extended.ext===ue&&tr===W&&Q===O&&!Wr&&!Me&&!Kt){Ce.isInvisible()?Z+=y.WHITESPACE_CELL_CHAR:Z+=_r,F++;continue}F&&(I.textContent=Z),I=this._document.createElement("span"),F=0,Z=""}else I=this._document.createElement("span");if(re=Ce.bg,ce=Ce.fg,ue=Ce.extended.ext,W=tr,O=Q,ee=mr,Me&&V>=xe&&V<=Ze&&(V=xe),!this._coreService.isCursorHidden&&Wr&&this._coreService.isCursorInitialized){if(de.push("xterm-cursor"),this._coreBrowserService.isFocused)z&&de.push("xterm-cursor-blink"),de.push(A==="bar"?"xterm-cursor-bar":A==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(H)switch(H){case"outline":de.push("xterm-cursor-outline");break;case"block":de.push("xterm-cursor-block");break;case"bar":de.push("xterm-cursor-bar");break;case"underline":de.push("xterm-cursor-underline")}}if(Ce.isBold()&&de.push("xterm-bold"),Ce.isItalic()&&de.push("xterm-italic"),Ce.isDim()&&de.push("xterm-dim"),Z=Ce.isInvisible()?y.WHITESPACE_CELL_CHAR:Ce.getChars()||y.WHITESPACE_CELL_CHAR,Ce.isUnderline()&&(de.push(`xterm-underline-${Ce.extended.underlineStyle}`),Z===" "&&(Z=""),!Ce.isUnderlineColorDefault()))if(Ce.isUnderlineColorRGB())I.style.textDecorationColor=`rgb(${f.AttributeData.toColorRGB(Ce.getUnderlineColor()).join(",")})`;else{let Be=Ce.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Ce.isBold()&&Be<8&&(Be+=8),I.style.textDecorationColor=D.ansi[Be].css}Ce.isOverline()&&(de.push("xterm-overline"),Z===" "&&(Z="")),Ce.isStrikethrough()&&de.push("xterm-strikethrough"),tr&&(I.style.textDecoration="underline");let ct=Ce.getFgColor(),vr=Ce.getFgColorMode(),St=Ce.getBgColor(),gr=Ce.getBgColorMode();const zr=!!Ce.isInverse();if(zr){const Be=ct;ct=St,St=Be;const os=vr;vr=gr,gr=os}let wt,$r,ft,It=!1;switch(this._decorationService.forEachDecorationAtCell(xe,P,void 0,Be=>{Be.options.layer!=="top"&&It||(Be.backgroundColorRGB&&(gr=50331648,St=Be.backgroundColorRGB.rgba>>8&16777215,wt=Be.backgroundColorRGB),Be.foregroundColorRGB&&(vr=50331648,ct=Be.foregroundColorRGB.rgba>>8&16777215,$r=Be.foregroundColorRGB),It=Be.options.layer==="top")}),!It&&mr&&(wt=this._coreBrowserService.isFocused?D.selectionBackgroundOpaque:D.selectionInactiveBackgroundOpaque,St=wt.rgba>>8&16777215,gr=50331648,It=!0,D.selectionForeground&&(vr=50331648,ct=D.selectionForeground.rgba>>8&16777215,$r=D.selectionForeground)),It&&de.push("xterm-decoration-top"),gr){case 16777216:case 33554432:ft=D.ansi[St],de.push(`xterm-bg-${St}`);break;case 50331648:ft=w.channels.toColor(St>>16,St>>8&255,255&St),this._addStyle(I,`background-color:#${L((St>>>0).toString(16),"0",6)}`);break;default:zr?(ft=D.foreground,de.push(`xterm-bg-${m.INVERTED_DEFAULT_COLOR}`)):ft=D.background}switch(wt||Ce.isDim()&&(wt=w.color.multiplyOpacity(ft,.5)),vr){case 16777216:case 33554432:Ce.isBold()&&ct<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ct+=8),this._applyMinimumContrast(I,ft,D.ansi[ct],Ce,wt,void 0)||de.push(`xterm-fg-${ct}`);break;case 50331648:const Be=w.channels.toColor(ct>>16&255,ct>>8&255,255&ct);this._applyMinimumContrast(I,ft,Be,Ce,wt,$r)||this._addStyle(I,`color:#${L(ct.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(I,ft,D.foreground,Ce,wt,$r)||zr&&de.push(`xterm-fg-${m.INVERTED_DEFAULT_COLOR}`)}de.length&&(I.className=de.join(" "),de.length=0),Wr||Me||Kt?I.textContent=Z:F++,Q!==this.defaultSpacing&&(I.style.letterSpacing=`${Q}px`),ie.push(I),xe=Ze}return I&&F&&(I.textContent=Z),ie}_applyMinimumContrast(T,P,k,A,H,V){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,u.treatGlyphAsBackgroundColor)(A.getCode()))return!1;const z=this._getContrastCache(A);let N;if(H||V||(N=z.getColor(P.rgba,k.rgba)),N===void 0){const Y=this._optionsService.rawOptions.minimumContrastRatio/(A.isDim()?2:1);N=w.color.ensureContrastRatio(H||P,V||k,Y),z.setColor((H||P).rgba,(V||k).rgba,N??null)}return!!N&&(this._addStyle(T,`color:${N.css}`),!0)}_getContrastCache(T){return T.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(T,P){T.setAttribute("style",`${T.getAttribute("style")||""}${P};`)}_isCellInSelection(T,P){const k=this._selectionStart,A=this._selectionEnd;return!(!k||!A)&&(this._columnSelectMode?k[0]<=A[0]?T>=k[0]&&P>=k[1]&&T<A[0]&&P<=A[1]:T<k[0]&&P>=k[1]&&T>=A[0]&&P<=A[1]:P>k[1]&&P<A[1]||k[1]===A[1]&&P===k[1]&&T>=k[0]&&T<A[0]||k[1]<A[1]&&P===A[1]&&T<A[0]||k[1]<A[1]&&P===k[1]&&T>=k[0])}};function L(T,P,k){for(;T.length<k;)T=P+T;return T}o.DomRendererRowFactory=C=d([v(1,h.ICharacterJoinerService),v(2,R.IOptionsService),v(3,h.ICoreBrowserService),v(4,R.ICoreService),v(5,R.IDecorationService),v(6,h.IThemeService)],C)},2550:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(a,d){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const v=a.createElement("span");v.classList.add("xterm-char-measure-element");const m=a.createElement("span");m.classList.add("xterm-char-measure-element"),m.style.fontWeight="bold";const y=a.createElement("span");y.classList.add("xterm-char-measure-element"),y.style.fontStyle="italic";const E=a.createElement("span");E.classList.add("xterm-char-measure-element"),E.style.fontWeight="bold",E.style.fontStyle="italic",this._measureElements=[v,m,y,E],this._container.appendChild(v),this._container.appendChild(m),this._container.appendChild(y),this._container.appendChild(E),d.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,d,v,m){a===this._font&&d===this._fontSize&&v===this._weight&&m===this._weightBold||(this._font=a,this._fontSize=d,this._weight=v,this._weightBold=m,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${m}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${m}`,this.clear())}get(a,d,v){let m=0;if(!d&&!v&&a.length===1&&(m=a.charCodeAt(0))<256){if(this._flat[m]!==-9999)return this._flat[m];const R=this._measure(a,0);return R>0&&(this._flat[m]=R),R}let y=a;d&&(y+="B"),v&&(y+="I");let E=this._holey.get(y);if(E===void 0){let R=0;d&&(R|=1),v&&(R|=2),E=this._measure(a,R),E>0&&this._holey.set(y,E)}return E}_measure(a,d){const v=this._measureElements[d];return v.textContent=a.repeat(32),v.offsetWidth/32}}},2223:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const d=a(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=d.isFirefox||d.isLegacyEdge?"bottom":"ideographic"},6171:(S,o)=>{function a(v){return 57508<=v&&v<=57558}function d(v){return v>=128512&&v<=128591||v>=127744&&v<=128511||v>=128640&&v<=128767||v>=9728&&v<=9983||v>=9984&&v<=10175||v>=65024&&v<=65039||v>=129280&&v<=129535||v>=127462&&v<=127487}Object.defineProperty(o,"__esModule",{value:!0}),o.computeNextVariantOffset=o.createRenderDimensions=o.treatGlyphAsBackgroundColor=o.allowRescaling=o.isEmoji=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},o.isPowerlineGlyph=a,o.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},o.isEmoji=d,o.allowRescaling=function(v,m,y,E){return m===1&&y>Math.ceil(1.5*E)&&v!==void 0&&v>255&&!d(v)&&!a(v)&&!function(R){return 57344<=R&&R<=63743}(v)},o.treatGlyphAsBackgroundColor=function(v){return a(v)||function(m){return 9472<=m&&m<=9631}(v)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},o.computeNextVariantOffset=function(v,m,y=0){return(v-(2*Math.round(m)-y))%(2*Math.round(m))}},6052:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createSelectionRenderModel=void 0;class a{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(v,m,y,E=!1){if(this.selectionStart=m,this.selectionEnd=y,!m||!y||m[0]===y[0]&&m[1]===y[1])return void this.clear();const R=v.buffers.active.ydisp,w=m[1]-R,h=y[1]-R,p=Math.max(w,0),u=Math.min(h,v.rows-1);p>=v.rows||u<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=E,this.viewportStartRow=w,this.viewportEndRow=h,this.viewportCappedStartRow=p,this.viewportCappedEndRow=u,this.startCol=m[0],this.endCol=y[0])}isCellSelected(v,m,y){return!!this.hasSelection&&(y-=v.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?m>=this.startCol&&y>=this.viewportCappedStartRow&&m<this.endCol&&y<=this.viewportCappedEndRow:m<this.startCol&&y>=this.viewportCappedStartRow&&m>=this.endCol&&y<=this.viewportCappedEndRow:y>this.viewportStartRow&&y<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&y===this.viewportStartRow&&m>=this.startCol&&m<this.endCol||this.viewportStartRow<this.viewportEndRow&&y===this.viewportEndRow&&m<this.endCol||this.viewportStartRow<this.viewportEndRow&&y===this.viewportStartRow&&m>=this.startCol)}}o.createSelectionRenderModel=function(){return new a}},456:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,d=this.selectionEnd;return!(!a||!d)&&(a[1]>d[1]||a[1]===d[1]&&a[0]>d[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(S,o,a){var d=this&&this.__decorate||function(u,f,C,L){var T,P=arguments.length,k=P<3?f:L===null?L=Object.getOwnPropertyDescriptor(f,C):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(u,f,C,L);else for(var A=u.length-1;A>=0;A--)(T=u[A])&&(k=(P<3?T(k):P>3?T(f,C,k):T(f,C))||k);return P>3&&k&&Object.defineProperty(f,C,k),k},v=this&&this.__param||function(u,f){return function(C,L){f(C,L,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const m=a(2585),y=a(8460),E=a(844);let R=o.CharSizeService=class extends E.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,f,C){super(),this._optionsService=C,this.width=0,this.height=0,this._onCharSizeChange=this.register(new y.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new p(this._optionsService))}catch{this._measureStrategy=this.register(new h(u,f,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};o.CharSizeService=R=d([v(2,m.IOptionsService)],R);class w extends E.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(f,C){f!==void 0&&f>0&&C!==void 0&&C>0&&(this._result.width=f,this._result.height=C)}}class h extends w{constructor(f,C,L){super(),this._document=f,this._parentElement=C,this._optionsService=L,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class p extends w{constructor(f){super(),this._optionsService=f,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const C=this._ctx.measureText("W");if(!("width"in C&&"fontBoundingBoxAscent"in C&&"fontBoundingBoxDescent"in C))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const f=this._ctx.measureText("W");return this._validateAndSet(f.width,f.fontBoundingBoxAscent+f.fontBoundingBoxDescent),this._result}}},4269:function(S,o,a){var d=this&&this.__decorate||function(p,u,f,C){var L,T=arguments.length,P=T<3?u:C===null?C=Object.getOwnPropertyDescriptor(u,f):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(p,u,f,C);else for(var k=p.length-1;k>=0;k--)(L=p[k])&&(P=(T<3?L(P):T>3?L(u,f,P):L(u,f))||P);return T>3&&P&&Object.defineProperty(u,f,P),P},v=this&&this.__param||function(p,u){return function(f,C){u(f,C,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const m=a(3734),y=a(643),E=a(511),R=a(2585);class w extends m.AttributeData{constructor(u,f,C){super(),this.content=0,this.combinedData="",this.fg=u.fg,this.bg=u.bg,this.combinedData=f,this._width=C}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(u){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=w;let h=o.CharacterJoinerService=class M_{constructor(u){this._bufferService=u,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new E.CellData}register(u){const f={id:this._nextCharacterJoinerId++,handler:u};return this._characterJoiners.push(f),f.id}deregister(u){for(let f=0;f<this._characterJoiners.length;f++)if(this._characterJoiners[f].id===u)return this._characterJoiners.splice(f,1),!0;return!1}getJoinedCharacters(u){if(this._characterJoiners.length===0)return[];const f=this._bufferService.buffer.lines.get(u);if(!f||f.length===0)return[];const C=[],L=f.translateToString(!0);let T=0,P=0,k=0,A=f.getFg(0),H=f.getBg(0);for(let V=0;V<f.getTrimmedLength();V++)if(f.loadCell(V,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==A||this._workCell.bg!==H){if(V-T>1){const z=this._getJoinedRanges(L,k,P,f,T);for(let N=0;N<z.length;N++)C.push(z[N])}T=V,k=P,A=this._workCell.fg,H=this._workCell.bg}P+=this._workCell.getChars().length||y.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-T>1){const V=this._getJoinedRanges(L,k,P,f,T);for(let z=0;z<V.length;z++)C.push(V[z])}return C}_getJoinedRanges(u,f,C,L,T){const P=u.substring(f,C);let k=[];try{k=this._characterJoiners[0].handler(P)}catch(A){console.error(A)}for(let A=1;A<this._characterJoiners.length;A++)try{const H=this._characterJoiners[A].handler(P);for(let V=0;V<H.length;V++)M_._mergeRanges(k,H[V])}catch(H){console.error(H)}return this._stringRangesToCellRanges(k,L,T),k}_stringRangesToCellRanges(u,f,C){let L=0,T=!1,P=0,k=u[L];if(k){for(let A=C;A<this._bufferService.cols;A++){const H=f.getWidth(A),V=f.getString(A).length||y.WHITESPACE_CELL_CHAR.length;if(H!==0){if(!T&&k[0]<=P&&(k[0]=A,T=!0),k[1]<=P){if(k[1]=A,k=u[++L],!k)break;k[0]<=P?(k[0]=A,T=!0):T=!1}P+=V}}k&&(k[1]=this._bufferService.cols)}}static _mergeRanges(u,f){let C=!1;for(let L=0;L<u.length;L++){const T=u[L];if(C){if(f[1]<=T[0])return u[L-1][1]=f[1],u;if(f[1]<=T[1])return u[L-1][1]=Math.max(f[1],T[1]),u.splice(L,1),u;u.splice(L,1),L--}else{if(f[1]<=T[0])return u.splice(L,0,f),u;if(f[1]<=T[1])return T[0]=Math.min(f[0],T[0]),u;f[0]<T[1]&&(T[0]=Math.min(f[0],T[0]),C=!0)}}return C?u[u.length-1][1]=f[1]:u.push(f),u}};o.CharacterJoinerService=h=d([v(0,R.IBufferService)],h)},5114:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0;const d=a(844),v=a(8460),m=a(3656);class y extends d.Disposable{constructor(w,h,p){super(),this._textarea=w,this._window=h,this.mainDocument=p,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new E(this._window),this._onDprChange=this.register(new v.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new v.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(u=>this._screenDprMonitor.setWindow(u))),this.register((0,v.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(w){this._window!==w&&(this._window=w,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}o.CoreBrowserService=y;class E extends d.Disposable{constructor(w){super(),this._parentWindow=w,this._windowResizeListener=this.register(new d.MutableDisposable),this._onDprChange=this.register(new v.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,d.toDisposable)(()=>this.clearListener()))}setWindow(w){this._parentWindow=w,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,m.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var w;this._outerListener&&((w=this._resolutionMediaMatchList)==null||w.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkProviderService=void 0;const d=a(844);class v extends d.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,d.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(y){return this.linkProviders.push(y),{dispose:()=>{const E=this.linkProviders.indexOf(y);E!==-1&&this.linkProviders.splice(E,1)}}}}o.LinkProviderService=v},8934:function(S,o,a){var d=this&&this.__decorate||function(R,w,h,p){var u,f=arguments.length,C=f<3?w:p===null?p=Object.getOwnPropertyDescriptor(w,h):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(R,w,h,p);else for(var L=R.length-1;L>=0;L--)(u=R[L])&&(C=(f<3?u(C):f>3?u(w,h,C):u(w,h))||C);return f>3&&C&&Object.defineProperty(w,h,C),C},v=this&&this.__param||function(R,w){return function(h,p){w(h,p,R)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const m=a(4725),y=a(9806);let E=o.MouseService=class{constructor(R,w){this._renderService=R,this._charSizeService=w}getCoords(R,w,h,p,u){return(0,y.getCoords)(window,R,w,h,p,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,u)}getMouseReportCoords(R,w){const h=(0,y.getCoordsRelativeToElement)(window,R,w);if(this._charSizeService.hasValidSize)return h[0]=Math.min(Math.max(h[0],0),this._renderService.dimensions.css.canvas.width-1),h[1]=Math.min(Math.max(h[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(h[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(h[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(h[0]),y:Math.floor(h[1])}}};o.MouseService=E=d([v(0,m.IRenderService),v(1,m.ICharSizeService)],E)},3230:function(S,o,a){var d=this&&this.__decorate||function(u,f,C,L){var T,P=arguments.length,k=P<3?f:L===null?L=Object.getOwnPropertyDescriptor(f,C):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(u,f,C,L);else for(var A=u.length-1;A>=0;A--)(T=u[A])&&(k=(P<3?T(k):P>3?T(f,C,k):T(f,C))||k);return P>3&&k&&Object.defineProperty(f,C,k),k},v=this&&this.__param||function(u,f){return function(C,L){f(C,L,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const m=a(6193),y=a(4725),E=a(8460),R=a(844),w=a(7226),h=a(2585);let p=o.RenderService=class extends R.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(u,f,C,L,T,P,k,A){super(),this._rowCount=u,this._charSizeService=L,this._renderer=this.register(new R.MutableDisposable),this._pausedResizeTask=new w.DebouncedIdleTask,this._observerDisposable=this.register(new R.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new E.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new E.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new E.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new E.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new m.RenderDebouncer((H,V)=>this._renderRows(H,V),k),this.register(this._renderDebouncer),this.register(k.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(P.onResize(()=>this._fullRefresh())),this.register(P.buffers.onBufferActivate(()=>{var H;return(H=this._renderer.value)==null?void 0:H.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(T.onDecorationRegistered(()=>this._fullRefresh())),this.register(T.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(P.cols,P.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(P.buffer.y,P.buffer.y,!0))),this.register(A.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(k.window,f),this.register(k.onWindowChange(H=>this._registerIntersectionObserver(H,f)))}_registerIntersectionObserver(u,f){if("IntersectionObserver"in u){const C=new u.IntersectionObserver(L=>this._handleIntersectionChange(L[L.length-1]),{threshold:0});C.observe(f),this._observerDisposable.value=(0,R.toDisposable)(()=>C.disconnect())}}_handleIntersectionChange(u){this._isPaused=u.isIntersecting===void 0?u.intersectionRatio===0:!u.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(u,f,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(u,f,this._rowCount))}_renderRows(u,f){this._renderer.value&&(u=Math.min(u,this._rowCount-1),f=Math.min(f,this._rowCount-1),this._renderer.value.renderRows(u,f),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:u,end:f}),this._onRender.fire({start:u,end:f}),this._isNextRenderRedrawOnly=!0)}resize(u,f){this._rowCount=f,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(u){this._renderer.value=u,this._renderer.value&&(this._renderer.value.onRequestRedraw(f=>this.refreshRows(f.start,f.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(u){return this._renderDebouncer.addRefreshCallback(u)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var u,f;this._renderer.value&&((f=(u=this._renderer.value).clearTextureAtlas)==null||f.call(u),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(u,f){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var C;return(C=this._renderer.value)==null?void 0:C.handleResize(u,f)}):this._renderer.value.handleResize(u,f),this._fullRefresh())}handleCharSizeChanged(){var u;(u=this._renderer.value)==null||u.handleCharSizeChanged()}handleBlur(){var u;(u=this._renderer.value)==null||u.handleBlur()}handleFocus(){var u;(u=this._renderer.value)==null||u.handleFocus()}handleSelectionChanged(u,f,C){var L;this._selectionState.start=u,this._selectionState.end=f,this._selectionState.columnSelectMode=C,(L=this._renderer.value)==null||L.handleSelectionChanged(u,f,C)}handleCursorMove(){var u;(u=this._renderer.value)==null||u.handleCursorMove()}clear(){var u;(u=this._renderer.value)==null||u.clear()}};o.RenderService=p=d([v(2,h.IOptionsService),v(3,y.ICharSizeService),v(4,h.IDecorationService),v(5,h.IBufferService),v(6,y.ICoreBrowserService),v(7,y.IThemeService)],p)},9312:function(S,o,a){var d=this&&this.__decorate||function(k,A,H,V){var z,N=arguments.length,Y=N<3?A:V===null?V=Object.getOwnPropertyDescriptor(A,H):V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(k,A,H,V);else for(var te=k.length-1;te>=0;te--)(z=k[te])&&(Y=(N<3?z(Y):N>3?z(A,H,Y):z(A,H))||Y);return N>3&&Y&&Object.defineProperty(A,H,Y),Y},v=this&&this.__param||function(k,A){return function(H,V){A(H,V,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const m=a(9806),y=a(9504),E=a(456),R=a(4725),w=a(8460),h=a(844),p=a(6114),u=a(4841),f=a(511),C=a(2585),L="",T=new RegExp(L,"g");let P=o.SelectionService=class extends h.Disposable{constructor(k,A,H,V,z,N,Y,te,oe){super(),this._element=k,this._screenElement=A,this._linkifier=H,this._bufferService=V,this._coreService=z,this._mouseService=N,this._optionsService=Y,this._renderService=te,this._coreBrowserService=oe,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ie=>this._handleMouseMove(ie),this._mouseUpListener=ie=>this._handleMouseUp(ie),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(ie=>this._handleTrim(ie)),this.register(this._bufferService.buffers.onBufferActivate(ie=>this._handleBufferActivate(ie))),this.enable(),this._model=new E.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,h.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const k=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!k||!A||k[0]===A[0]&&k[1]===A[1])}get selectionText(){const k=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;if(!k||!A)return"";const H=this._bufferService.buffer,V=[];if(this._activeSelectionMode===3){if(k[0]===A[0])return"";const z=k[0]<A[0]?k[0]:A[0],N=k[0]<A[0]?A[0]:k[0];for(let Y=k[1];Y<=A[1];Y++){const te=H.translateBufferLineToString(Y,!0,z,N);V.push(te)}}else{const z=k[1]===A[1]?A[0]:void 0;V.push(H.translateBufferLineToString(k[1],!0,k[0],z));for(let N=k[1]+1;N<=A[1]-1;N++){const Y=H.lines.get(N),te=H.translateBufferLineToString(N,!0);Y!=null&&Y.isWrapped?V[V.length-1]+=te:V.push(te)}if(k[1]!==A[1]){const N=H.lines.get(A[1]),Y=H.translateBufferLineToString(A[1],!0,0,A[0]);N&&N.isWrapped?V[V.length-1]+=Y:V.push(Y)}}return V.map(z=>z.replace(T," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(k){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&k&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(k){const A=this._getMouseBufferCoords(k),H=this._model.finalSelectionStart,V=this._model.finalSelectionEnd;return!!(H&&V&&A)&&this._areCoordsInSelection(A,H,V)}isCellInSelection(k,A){const H=this._model.finalSelectionStart,V=this._model.finalSelectionEnd;return!(!H||!V)&&this._areCoordsInSelection([k,A],H,V)}_areCoordsInSelection(k,A,H){return k[1]>A[1]&&k[1]<H[1]||A[1]===H[1]&&k[1]===A[1]&&k[0]>=A[0]&&k[0]<H[0]||A[1]<H[1]&&k[1]===H[1]&&k[0]<H[0]||A[1]<H[1]&&k[1]===A[1]&&k[0]>=A[0]}_selectWordAtCursor(k,A){var z,N;const H=(N=(z=this._linkifier.currentLink)==null?void 0:z.link)==null?void 0:N.range;if(H)return this._model.selectionStart=[H.start.x-1,H.start.y-1],this._model.selectionStartLength=(0,u.getRangeLength)(H,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const V=this._getMouseBufferCoords(k);return!!V&&(this._selectWordAt(V,A),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(k,A){this._model.clearSelection(),k=Math.max(k,0),A=Math.min(A,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,k],this._model.selectionEnd=[this._bufferService.cols,A],this.refresh(),this._onSelectionChange.fire()}_handleTrim(k){this._model.handleTrim(k)&&this.refresh()}_getMouseBufferCoords(k){const A=this._mouseService.getCoords(k,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(A)return A[0]--,A[1]--,A[1]+=this._bufferService.buffer.ydisp,A}_getMouseEventScrollAmount(k){let A=(0,m.getCoordsRelativeToElement)(this._coreBrowserService.window,k,this._screenElement)[1];const H=this._renderService.dimensions.css.canvas.height;return A>=0&&A<=H?0:(A>H&&(A-=H),A=Math.min(Math.max(A,-50),50),A/=50,A/Math.abs(A)+Math.round(14*A))}shouldForceSelection(k){return p.isMac?k.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:k.shiftKey}handleMouseDown(k){if(this._mouseDownTimeStamp=k.timeStamp,(k.button!==2||!this.hasSelection)&&k.button===0){if(!this._enabled){if(!this.shouldForceSelection(k))return;k.stopPropagation()}k.preventDefault(),this._dragScrollAmount=0,this._enabled&&k.shiftKey?this._handleIncrementalClick(k):k.detail===1?this._handleSingleClick(k):k.detail===2?this._handleDoubleClick(k):k.detail===3&&this._handleTripleClick(k),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(k){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(k))}_handleSingleClick(k){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(k)?3:0,this._model.selectionStart=this._getMouseBufferCoords(k),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const A=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);A&&A.length!==this._model.selectionStart[0]&&A.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(k){this._selectWordAtCursor(k,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(k){const A=this._getMouseBufferCoords(k);A&&(this._activeSelectionMode=2,this._selectLineAt(A[1]))}shouldColumnSelect(k){return k.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(k){if(k.stopImmediatePropagation(),!this._model.selectionStart)return;const A=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(k),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(k),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const H=this._bufferService.buffer;if(this._model.selectionEnd[1]<H.lines.length){const V=H.lines.get(this._model.selectionEnd[1]);V&&V.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}A&&A[0]===this._model.selectionEnd[0]&&A[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const k=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(k.ydisp+this._bufferService.rows,k.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=k.ydisp),this.refresh()}}_handleMouseUp(k){const A=k.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&A<500&&k.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const H=this._mouseService.getCoords(k,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(H&&H[0]!==void 0&&H[1]!==void 0){const V=(0,y.moveToCellSequence)(H[0]-1,H[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(V,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const k=this._model.finalSelectionStart,A=this._model.finalSelectionEnd,H=!(!k||!A||k[0]===A[0]&&k[1]===A[1]);H?k&&A&&(this._oldSelectionStart&&this._oldSelectionEnd&&k[0]===this._oldSelectionStart[0]&&k[1]===this._oldSelectionStart[1]&&A[0]===this._oldSelectionEnd[0]&&A[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(k,A,H)):this._oldHasSelection&&this._fireOnSelectionChange(k,A,H)}_fireOnSelectionChange(k,A,H){this._oldSelectionStart=k,this._oldSelectionEnd=A,this._oldHasSelection=H,this._onSelectionChange.fire()}_handleBufferActivate(k){this.clearSelection(),this._trimListener.dispose(),this._trimListener=k.activeBuffer.lines.onTrim(A=>this._handleTrim(A))}_convertViewportColToCharacterIndex(k,A){let H=A;for(let V=0;A>=V;V++){const z=k.loadCell(V,this._workCell).getChars().length;this._workCell.getWidth()===0?H--:z>1&&A!==V&&(H+=z-1)}return H}setSelection(k,A,H){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[k,A],this._model.selectionStartLength=H,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(k){this._isClickInSelection(k)||(this._selectWordAtCursor(k,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(k,A,H=!0,V=!0){if(k[0]>=this._bufferService.cols)return;const z=this._bufferService.buffer,N=z.lines.get(k[1]);if(!N)return;const Y=z.translateBufferLineToString(k[1],!1);let te=this._convertViewportColToCharacterIndex(N,k[0]),oe=te;const ie=k[0]-te;let q=0,D=0,I=0,B=0;if(Y.charAt(te)===" "){for(;te>0&&Y.charAt(te-1)===" ";)te--;for(;oe<Y.length&&Y.charAt(oe+1)===" ";)oe++}else{let re=k[0],ce=k[0];N.getWidth(re)===0&&(q++,re--),N.getWidth(ce)===2&&(D++,ce++);const ue=N.getString(ce).length;for(ue>1&&(B+=ue-1,oe+=ue-1);re>0&&te>0&&!this._isCharWordSeparator(N.loadCell(re-1,this._workCell));){N.loadCell(re-1,this._workCell);const W=this._workCell.getChars().length;this._workCell.getWidth()===0?(q++,re--):W>1&&(I+=W-1,te-=W-1),te--,re--}for(;ce<N.length&&oe+1<Y.length&&!this._isCharWordSeparator(N.loadCell(ce+1,this._workCell));){N.loadCell(ce+1,this._workCell);const W=this._workCell.getChars().length;this._workCell.getWidth()===2?(D++,ce++):W>1&&(B+=W-1,oe+=W-1),oe++,ce++}}oe++;let F=te+ie-q+I,Z=Math.min(this._bufferService.cols,oe-te+q+D-I-B);if(A||Y.slice(te,oe).trim()!==""){if(H&&F===0&&N.getCodePoint(0)!==32){const re=z.lines.get(k[1]-1);if(re&&N.isWrapped&&re.getCodePoint(this._bufferService.cols-1)!==32){const ce=this._getWordAt([this._bufferService.cols-1,k[1]-1],!1,!0,!1);if(ce){const ue=this._bufferService.cols-ce.start;F-=ue,Z+=ue}}}if(V&&F+Z===this._bufferService.cols&&N.getCodePoint(this._bufferService.cols-1)!==32){const re=z.lines.get(k[1]+1);if(re!=null&&re.isWrapped&&re.getCodePoint(0)!==32){const ce=this._getWordAt([0,k[1]+1],!1,!1,!0);ce&&(Z+=ce.length)}}return{start:F,length:Z}}}_selectWordAt(k,A){const H=this._getWordAt(k,A);if(H){for(;H.start<0;)H.start+=this._bufferService.cols,k[1]--;this._model.selectionStart=[H.start,k[1]],this._model.selectionStartLength=H.length}}_selectToWordAt(k){const A=this._getWordAt(k,!0);if(A){let H=k[1];for(;A.start<0;)A.start+=this._bufferService.cols,H--;if(!this._model.areSelectionValuesReversed())for(;A.start+A.length>this._bufferService.cols;)A.length-=this._bufferService.cols,H++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?A.start:A.start+A.length,H]}}_isCharWordSeparator(k){return k.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(k.getChars())>=0}_selectLineAt(k){const A=this._bufferService.buffer.getWrappedRangeForLine(k),H={start:{x:0,y:A.first},end:{x:this._bufferService.cols-1,y:A.last}};this._model.selectionStart=[0,A.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,u.getRangeLength)(H,this._bufferService.cols)}};o.SelectionService=P=d([v(3,C.IBufferService),v(4,C.ICoreService),v(5,R.IMouseService),v(6,C.IOptionsService),v(7,R.IRenderService),v(8,R.ICoreBrowserService)],P)},4725:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ILinkProviderService=o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const d=a(8343);o.ICharSizeService=(0,d.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,d.createDecorator)("CoreBrowserService"),o.IMouseService=(0,d.createDecorator)("MouseService"),o.IRenderService=(0,d.createDecorator)("RenderService"),o.ISelectionService=(0,d.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,d.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,d.createDecorator)("ThemeService"),o.ILinkProviderService=(0,d.createDecorator)("LinkProviderService")},6731:function(S,o,a){var d=this&&this.__decorate||function(P,k,A,H){var V,z=arguments.length,N=z<3?k:H===null?H=Object.getOwnPropertyDescriptor(k,A):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(P,k,A,H);else for(var Y=P.length-1;Y>=0;Y--)(V=P[Y])&&(N=(z<3?V(N):z>3?V(k,A,N):V(k,A))||N);return z>3&&N&&Object.defineProperty(k,A,N),N},v=this&&this.__param||function(P,k){return function(A,H){k(A,H,P)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const m=a(7239),y=a(8055),E=a(8460),R=a(844),w=a(2585),h=y.css.toColor("#ffffff"),p=y.css.toColor("#000000"),u=y.css.toColor("#ffffff"),f=y.css.toColor("#000000"),C={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const P=[y.css.toColor("#2e3436"),y.css.toColor("#cc0000"),y.css.toColor("#4e9a06"),y.css.toColor("#c4a000"),y.css.toColor("#3465a4"),y.css.toColor("#75507b"),y.css.toColor("#06989a"),y.css.toColor("#d3d7cf"),y.css.toColor("#555753"),y.css.toColor("#ef2929"),y.css.toColor("#8ae234"),y.css.toColor("#fce94f"),y.css.toColor("#729fcf"),y.css.toColor("#ad7fa8"),y.css.toColor("#34e2e2"),y.css.toColor("#eeeeec")],k=[0,95,135,175,215,255];for(let A=0;A<216;A++){const H=k[A/36%6|0],V=k[A/6%6|0],z=k[A%6];P.push({css:y.channels.toCss(H,V,z),rgba:y.channels.toRgba(H,V,z)})}for(let A=0;A<24;A++){const H=8+10*A;P.push({css:y.channels.toCss(H,H,H),rgba:y.channels.toRgba(H,H,H)})}return P})());let L=o.ThemeService=class extends R.Disposable{get colors(){return this._colors}constructor(P){super(),this._optionsService=P,this._contrastCache=new m.ColorContrastCache,this._halfContrastCache=new m.ColorContrastCache,this._onChangeColors=this.register(new E.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:h,background:p,cursor:u,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:C,selectionBackgroundOpaque:y.color.blend(p,C),selectionInactiveBackgroundTransparent:C,selectionInactiveBackgroundOpaque:y.color.blend(p,C),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(P={}){const k=this._colors;if(k.foreground=T(P.foreground,h),k.background=T(P.background,p),k.cursor=T(P.cursor,u),k.cursorAccent=T(P.cursorAccent,f),k.selectionBackgroundTransparent=T(P.selectionBackground,C),k.selectionBackgroundOpaque=y.color.blend(k.background,k.selectionBackgroundTransparent),k.selectionInactiveBackgroundTransparent=T(P.selectionInactiveBackground,k.selectionBackgroundTransparent),k.selectionInactiveBackgroundOpaque=y.color.blend(k.background,k.selectionInactiveBackgroundTransparent),k.selectionForeground=P.selectionForeground?T(P.selectionForeground,y.NULL_COLOR):void 0,k.selectionForeground===y.NULL_COLOR&&(k.selectionForeground=void 0),y.color.isOpaque(k.selectionBackgroundTransparent)&&(k.selectionBackgroundTransparent=y.color.opacity(k.selectionBackgroundTransparent,.3)),y.color.isOpaque(k.selectionInactiveBackgroundTransparent)&&(k.selectionInactiveBackgroundTransparent=y.color.opacity(k.selectionInactiveBackgroundTransparent,.3)),k.ansi=o.DEFAULT_ANSI_COLORS.slice(),k.ansi[0]=T(P.black,o.DEFAULT_ANSI_COLORS[0]),k.ansi[1]=T(P.red,o.DEFAULT_ANSI_COLORS[1]),k.ansi[2]=T(P.green,o.DEFAULT_ANSI_COLORS[2]),k.ansi[3]=T(P.yellow,o.DEFAULT_ANSI_COLORS[3]),k.ansi[4]=T(P.blue,o.DEFAULT_ANSI_COLORS[4]),k.ansi[5]=T(P.magenta,o.DEFAULT_ANSI_COLORS[5]),k.ansi[6]=T(P.cyan,o.DEFAULT_ANSI_COLORS[6]),k.ansi[7]=T(P.white,o.DEFAULT_ANSI_COLORS[7]),k.ansi[8]=T(P.brightBlack,o.DEFAULT_ANSI_COLORS[8]),k.ansi[9]=T(P.brightRed,o.DEFAULT_ANSI_COLORS[9]),k.ansi[10]=T(P.brightGreen,o.DEFAULT_ANSI_COLORS[10]),k.ansi[11]=T(P.brightYellow,o.DEFAULT_ANSI_COLORS[11]),k.ansi[12]=T(P.brightBlue,o.DEFAULT_ANSI_COLORS[12]),k.ansi[13]=T(P.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),k.ansi[14]=T(P.brightCyan,o.DEFAULT_ANSI_COLORS[14]),k.ansi[15]=T(P.brightWhite,o.DEFAULT_ANSI_COLORS[15]),P.extendedAnsi){const A=Math.min(k.ansi.length-16,P.extendedAnsi.length);for(let H=0;H<A;H++)k.ansi[H+16]=T(P.extendedAnsi[H],o.DEFAULT_ANSI_COLORS[H+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(P){this._restoreColor(P),this._onChangeColors.fire(this.colors)}_restoreColor(P){if(P!==void 0)switch(P){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[P]=this._restoreColors.ansi[P]}else for(let k=0;k<this._restoreColors.ansi.length;++k)this._colors.ansi[k]=this._restoreColors.ansi[k]}modifyColors(P){P(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function T(P,k){if(P!==void 0)try{return y.css.toColor(P)}catch{}return k}o.ThemeService=L=d([v(0,w.IOptionsService)],L)},6349:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const d=a(8460),v=a(844);class m extends v.Disposable{constructor(E){super(),this._maxLength=E,this.onDeleteEmitter=this.register(new d.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new d.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new d.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(E){if(this._maxLength===E)return;const R=new Array(E);for(let w=0;w<Math.min(E,this.length);w++)R[w]=this._array[this._getCyclicIndex(w)];this._array=R,this._maxLength=E,this._startIndex=0}get length(){return this._length}set length(E){if(E>this._length)for(let R=this._length;R<E;R++)this._array[R]=void 0;this._length=E}get(E){return this._array[this._getCyclicIndex(E)]}set(E,R){this._array[this._getCyclicIndex(E)]=R}push(E){this._array[this._getCyclicIndex(this._length)]=E,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(E,R,...w){if(R){for(let h=E;h<this._length-R;h++)this._array[this._getCyclicIndex(h)]=this._array[this._getCyclicIndex(h+R)];this._length-=R,this.onDeleteEmitter.fire({index:E,amount:R})}for(let h=this._length-1;h>=E;h--)this._array[this._getCyclicIndex(h+w.length)]=this._array[this._getCyclicIndex(h)];for(let h=0;h<w.length;h++)this._array[this._getCyclicIndex(E+h)]=w[h];if(w.length&&this.onInsertEmitter.fire({index:E,amount:w.length}),this._length+w.length>this._maxLength){const h=this._length+w.length-this._maxLength;this._startIndex+=h,this._length=this._maxLength,this.onTrimEmitter.fire(h)}else this._length+=w.length}trimStart(E){E>this._length&&(E=this._length),this._startIndex+=E,this._length-=E,this.onTrimEmitter.fire(E)}shiftElements(E,R,w){if(!(R<=0)){if(E<0||E>=this._length)throw new Error("start argument out of range");if(E+w<0)throw new Error("Cannot shift elements in list beyond index 0");if(w>0){for(let p=R-1;p>=0;p--)this.set(E+p+w,this.get(E+p));const h=E+R+w-this._length;if(h>0)for(this._length+=h;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let h=0;h<R;h++)this.set(E+h+w,this.get(E+h))}}_getCyclicIndex(E){return(this._startIndex+E)%this._maxLength}}o.CircularList=m},1439:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function a(d,v=5){if(typeof d!="object")return d;const m=Array.isArray(d)?[]:{};for(const y in d)m[y]=v<=1?d[y]:d[y]&&a(d[y],v-1);return m}},8055:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;let a=0,d=0,v=0,m=0;var y,E,R,w,h;function p(f){const C=f.toString(16);return C.length<2?"0"+C:C}function u(f,C){return f<C?(C+.05)/(f+.05):(f+.05)/(C+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(f){f.toCss=function(C,L,T,P){return P!==void 0?`#${p(C)}${p(L)}${p(T)}${p(P)}`:`#${p(C)}${p(L)}${p(T)}`},f.toRgba=function(C,L,T,P=255){return(C<<24|L<<16|T<<8|P)>>>0},f.toColor=function(C,L,T,P){return{css:f.toCss(C,L,T,P),rgba:f.toRgba(C,L,T,P)}}}(y||(o.channels=y={})),function(f){function C(L,T){return m=Math.round(255*T),[a,d,v]=h.toChannels(L.rgba),{css:y.toCss(a,d,v,m),rgba:y.toRgba(a,d,v,m)}}f.blend=function(L,T){if(m=(255&T.rgba)/255,m===1)return{css:T.css,rgba:T.rgba};const P=T.rgba>>24&255,k=T.rgba>>16&255,A=T.rgba>>8&255,H=L.rgba>>24&255,V=L.rgba>>16&255,z=L.rgba>>8&255;return a=H+Math.round((P-H)*m),d=V+Math.round((k-V)*m),v=z+Math.round((A-z)*m),{css:y.toCss(a,d,v),rgba:y.toRgba(a,d,v)}},f.isOpaque=function(L){return(255&L.rgba)==255},f.ensureContrastRatio=function(L,T,P){const k=h.ensureContrastRatio(L.rgba,T.rgba,P);if(k)return y.toColor(k>>24&255,k>>16&255,k>>8&255)},f.opaque=function(L){const T=(255|L.rgba)>>>0;return[a,d,v]=h.toChannels(T),{css:y.toCss(a,d,v),rgba:T}},f.opacity=C,f.multiplyOpacity=function(L,T){return m=255&L.rgba,C(L,m*T/255)},f.toColorRGB=function(L){return[L.rgba>>24&255,L.rgba>>16&255,L.rgba>>8&255]}}(E||(o.color=E={})),function(f){let C,L;try{const T=document.createElement("canvas");T.width=1,T.height=1;const P=T.getContext("2d",{willReadFrequently:!0});P&&(C=P,C.globalCompositeOperation="copy",L=C.createLinearGradient(0,0,1,1))}catch{}f.toColor=function(T){if(T.match(/#[\da-f]{3,8}/i))switch(T.length){case 4:return a=parseInt(T.slice(1,2).repeat(2),16),d=parseInt(T.slice(2,3).repeat(2),16),v=parseInt(T.slice(3,4).repeat(2),16),y.toColor(a,d,v);case 5:return a=parseInt(T.slice(1,2).repeat(2),16),d=parseInt(T.slice(2,3).repeat(2),16),v=parseInt(T.slice(3,4).repeat(2),16),m=parseInt(T.slice(4,5).repeat(2),16),y.toColor(a,d,v,m);case 7:return{css:T,rgba:(parseInt(T.slice(1),16)<<8|255)>>>0};case 9:return{css:T,rgba:parseInt(T.slice(1),16)>>>0}}const P=T.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(P)return a=parseInt(P[1]),d=parseInt(P[2]),v=parseInt(P[3]),m=Math.round(255*(P[5]===void 0?1:parseFloat(P[5]))),y.toColor(a,d,v,m);if(!C||!L)throw new Error("css.toColor: Unsupported css format");if(C.fillStyle=L,C.fillStyle=T,typeof C.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(C.fillRect(0,0,1,1),[a,d,v,m]=C.getImageData(0,0,1,1).data,m!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:y.toRgba(a,d,v,m),css:T}}}(R||(o.css=R={})),function(f){function C(L,T,P){const k=L/255,A=T/255,H=P/255;return .2126*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.7152*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))+.0722*(H<=.03928?H/12.92:Math.pow((H+.055)/1.055,2.4))}f.relativeLuminance=function(L){return C(L>>16&255,L>>8&255,255&L)},f.relativeLuminance2=C}(w||(o.rgb=w={})),function(f){function C(T,P,k){const A=T>>24&255,H=T>>16&255,V=T>>8&255;let z=P>>24&255,N=P>>16&255,Y=P>>8&255,te=u(w.relativeLuminance2(z,N,Y),w.relativeLuminance2(A,H,V));for(;te<k&&(z>0||N>0||Y>0);)z-=Math.max(0,Math.ceil(.1*z)),N-=Math.max(0,Math.ceil(.1*N)),Y-=Math.max(0,Math.ceil(.1*Y)),te=u(w.relativeLuminance2(z,N,Y),w.relativeLuminance2(A,H,V));return(z<<24|N<<16|Y<<8|255)>>>0}function L(T,P,k){const A=T>>24&255,H=T>>16&255,V=T>>8&255;let z=P>>24&255,N=P>>16&255,Y=P>>8&255,te=u(w.relativeLuminance2(z,N,Y),w.relativeLuminance2(A,H,V));for(;te<k&&(z<255||N<255||Y<255);)z=Math.min(255,z+Math.ceil(.1*(255-z))),N=Math.min(255,N+Math.ceil(.1*(255-N))),Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),te=u(w.relativeLuminance2(z,N,Y),w.relativeLuminance2(A,H,V));return(z<<24|N<<16|Y<<8|255)>>>0}f.blend=function(T,P){if(m=(255&P)/255,m===1)return P;const k=P>>24&255,A=P>>16&255,H=P>>8&255,V=T>>24&255,z=T>>16&255,N=T>>8&255;return a=V+Math.round((k-V)*m),d=z+Math.round((A-z)*m),v=N+Math.round((H-N)*m),y.toRgba(a,d,v)},f.ensureContrastRatio=function(T,P,k){const A=w.relativeLuminance(T>>8),H=w.relativeLuminance(P>>8);if(u(A,H)<k){if(H<A){const N=C(T,P,k),Y=u(A,w.relativeLuminance(N>>8));if(Y<k){const te=L(T,P,k);return Y>u(A,w.relativeLuminance(te>>8))?N:te}return N}const V=L(T,P,k),z=u(A,w.relativeLuminance(V>>8));if(z<k){const N=C(T,P,k);return z>u(A,w.relativeLuminance(N>>8))?V:N}return V}},f.reduceLuminance=C,f.increaseLuminance=L,f.toChannels=function(T){return[T>>24&255,T>>16&255,T>>8&255,255&T]}}(h||(o.rgba=h={})),o.toPaddedHex=p,o.contrastRatio=u},8969:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const d=a(844),v=a(2585),m=a(4348),y=a(7866),E=a(744),R=a(7302),w=a(6975),h=a(8460),p=a(1753),u=a(1480),f=a(7994),C=a(9282),L=a(5435),T=a(5981),P=a(2660);let k=!1;class A extends d.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new h.EventEmitter),this._onScroll.event(V=>{var z;(z=this._onScrollApi)==null||z.fire(V.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(V){for(const z in V)this.optionsService.options[z]=V[z]}constructor(V){super(),this._windowsWrappingHeuristics=this.register(new d.MutableDisposable),this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new h.EventEmitter),this._instantiationService=new m.InstantiationService,this.optionsService=this.register(new R.OptionsService(V)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(E.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(y.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(w.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(u.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(P.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new L.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,h.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,h.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,h.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,h.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(z=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(z=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new T.WriteBuffer((z,N)=>this._inputHandler.parse(z,N))),this.register((0,h.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(V,z){this._writeBuffer.write(V,z)}writeSync(V,z){this._logService.logLevel<=v.LogLevelEnum.WARN&&!k&&(this._logService.warn("writeSync is unreliable and will be removed soon."),k=!0),this._writeBuffer.writeSync(V,z)}input(V,z=!0){this.coreService.triggerDataEvent(V,z)}resize(V,z){isNaN(V)||isNaN(z)||(V=Math.max(V,E.MINIMUM_COLS),z=Math.max(z,E.MINIMUM_ROWS),this._bufferService.resize(V,z))}scroll(V,z=!1){this._bufferService.scroll(V,z)}scrollLines(V,z,N){this._bufferService.scrollLines(V,z,N)}scrollPages(V){this.scrollLines(V*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(V){const z=V-this._bufferService.buffer.ydisp;z!==0&&this.scrollLines(z)}registerEscHandler(V,z){return this._inputHandler.registerEscHandler(V,z)}registerDcsHandler(V,z){return this._inputHandler.registerDcsHandler(V,z)}registerCsiHandler(V,z){return this._inputHandler.registerCsiHandler(V,z)}registerOscHandler(V,z){return this._inputHandler.registerOscHandler(V,z)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let V=!1;const z=this.optionsService.rawOptions.windowsPty;z&&z.buildNumber!==void 0&&z.buildNumber!==void 0?V=z.backend==="conpty"&&z.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(V=!0),V?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const V=[];V.push(this.onLineFeed(C.updateWindowsModeWrappedState.bind(null,this._bufferService))),V.push(this.registerCsiHandler({final:"H"},()=>((0,C.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,d.toDisposable)(()=>{for(const z of V)z.dispose()})}}}o.CoreTerminal=A},8460:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.runAndSubscribe=o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===a)return void this._listeners.splice(d,1)}}})),this._event}fire(a,d){const v=[];for(let m=0;m<this._listeners.length;m++)v.push(this._listeners[m]);for(let m=0;m<v.length;m++)v[m].call(void 0,a,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(a,d){return a(v=>d.fire(v))},o.runAndSubscribe=function(a,d){return d(void 0),a(v=>d(v))}},5435:function(S,o,a){var d=this&&this.__decorate||function(q,D,I,B){var F,Z=arguments.length,re=Z<3?D:B===null?B=Object.getOwnPropertyDescriptor(D,I):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(q,D,I,B);else for(var ce=q.length-1;ce>=0;ce--)(F=q[ce])&&(re=(Z<3?F(re):Z>3?F(D,I,re):F(D,I))||re);return Z>3&&re&&Object.defineProperty(D,I,re),re},v=this&&this.__param||function(q,D){return function(I,B){D(I,B,q)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const m=a(2584),y=a(7116),E=a(2015),R=a(844),w=a(482),h=a(8437),p=a(8460),u=a(643),f=a(511),C=a(3734),L=a(2585),T=a(1480),P=a(6242),k=a(6351),A=a(5941),H={"(":0,")":1,"*":2,"+":3,"-":1,".":2},V=131072;function z(q,D){if(q>24)return D.setWinLines||!1;switch(q){case 1:return!!D.restoreWin;case 2:return!!D.minimizeWin;case 3:return!!D.setWinPosition;case 4:return!!D.setWinSizePixels;case 5:return!!D.raiseWin;case 6:return!!D.lowerWin;case 7:return!!D.refreshWin;case 8:return!!D.setWinSizeChars;case 9:return!!D.maximizeWin;case 10:return!!D.fullscreenWin;case 11:return!!D.getWinState;case 13:return!!D.getWinPosition;case 14:return!!D.getWinSizePixels;case 15:return!!D.getScreenSizePixels;case 16:return!!D.getCellSizePixels;case 18:return!!D.getWinSizeChars;case 19:return!!D.getScreenSizeChars;case 20:return!!D.getIconTitle;case 21:return!!D.getWinTitle;case 22:return!!D.pushTitle;case 23:return!!D.popTitle;case 24:return!!D.setWinLines}return!1}var N;(function(q){q[q.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",q[q.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(N||(o.WindowsOptionsReportType=N={}));let Y=0;class te extends R.Disposable{getAttrData(){return this._curAttrData}constructor(D,I,B,F,Z,re,ce,ue,W=new E.EscapeSequenceParser){super(),this._bufferService=D,this._charsetService=I,this._coreService=B,this._logService=F,this._optionsService=Z,this._oscLinkService=re,this._coreMouseService=ce,this._unicodeService=ue,this._parser=W,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new w.StringToUtf32,this._utf8Decoder=new w.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new p.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new p.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new p.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new p.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new p.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new p.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new p.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new p.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new p.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new p.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new p.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new oe(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(O=>this._activeBuffer=O.activeBuffer)),this._parser.setCsiHandlerFallback((O,ee)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(O),params:ee.toArray()})}),this._parser.setEscHandlerFallback(O=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(O)})}),this._parser.setExecuteHandlerFallback(O=>{this._logService.debug("Unknown EXECUTE code: ",{code:O})}),this._parser.setOscHandlerFallback((O,ee,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:O,action:ee,data:Q})}),this._parser.setDcsHandlerFallback((O,ee,Q)=>{ee==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(O),action:ee,payload:Q})}),this._parser.setPrintHandler((O,ee,Q)=>this.print(O,ee,Q)),this._parser.registerCsiHandler({final:"@"},O=>this.insertChars(O)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},O=>this.scrollLeft(O)),this._parser.registerCsiHandler({final:"A"},O=>this.cursorUp(O)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},O=>this.scrollRight(O)),this._parser.registerCsiHandler({final:"B"},O=>this.cursorDown(O)),this._parser.registerCsiHandler({final:"C"},O=>this.cursorForward(O)),this._parser.registerCsiHandler({final:"D"},O=>this.cursorBackward(O)),this._parser.registerCsiHandler({final:"E"},O=>this.cursorNextLine(O)),this._parser.registerCsiHandler({final:"F"},O=>this.cursorPrecedingLine(O)),this._parser.registerCsiHandler({final:"G"},O=>this.cursorCharAbsolute(O)),this._parser.registerCsiHandler({final:"H"},O=>this.cursorPosition(O)),this._parser.registerCsiHandler({final:"I"},O=>this.cursorForwardTab(O)),this._parser.registerCsiHandler({final:"J"},O=>this.eraseInDisplay(O,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},O=>this.eraseInDisplay(O,!0)),this._parser.registerCsiHandler({final:"K"},O=>this.eraseInLine(O,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},O=>this.eraseInLine(O,!0)),this._parser.registerCsiHandler({final:"L"},O=>this.insertLines(O)),this._parser.registerCsiHandler({final:"M"},O=>this.deleteLines(O)),this._parser.registerCsiHandler({final:"P"},O=>this.deleteChars(O)),this._parser.registerCsiHandler({final:"S"},O=>this.scrollUp(O)),this._parser.registerCsiHandler({final:"T"},O=>this.scrollDown(O)),this._parser.registerCsiHandler({final:"X"},O=>this.eraseChars(O)),this._parser.registerCsiHandler({final:"Z"},O=>this.cursorBackwardTab(O)),this._parser.registerCsiHandler({final:"`"},O=>this.charPosAbsolute(O)),this._parser.registerCsiHandler({final:"a"},O=>this.hPositionRelative(O)),this._parser.registerCsiHandler({final:"b"},O=>this.repeatPrecedingCharacter(O)),this._parser.registerCsiHandler({final:"c"},O=>this.sendDeviceAttributesPrimary(O)),this._parser.registerCsiHandler({prefix:">",final:"c"},O=>this.sendDeviceAttributesSecondary(O)),this._parser.registerCsiHandler({final:"d"},O=>this.linePosAbsolute(O)),this._parser.registerCsiHandler({final:"e"},O=>this.vPositionRelative(O)),this._parser.registerCsiHandler({final:"f"},O=>this.hVPosition(O)),this._parser.registerCsiHandler({final:"g"},O=>this.tabClear(O)),this._parser.registerCsiHandler({final:"h"},O=>this.setMode(O)),this._parser.registerCsiHandler({prefix:"?",final:"h"},O=>this.setModePrivate(O)),this._parser.registerCsiHandler({final:"l"},O=>this.resetMode(O)),this._parser.registerCsiHandler({prefix:"?",final:"l"},O=>this.resetModePrivate(O)),this._parser.registerCsiHandler({final:"m"},O=>this.charAttributes(O)),this._parser.registerCsiHandler({final:"n"},O=>this.deviceStatus(O)),this._parser.registerCsiHandler({prefix:"?",final:"n"},O=>this.deviceStatusPrivate(O)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},O=>this.softReset(O)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},O=>this.setCursorStyle(O)),this._parser.registerCsiHandler({final:"r"},O=>this.setScrollRegion(O)),this._parser.registerCsiHandler({final:"s"},O=>this.saveCursor(O)),this._parser.registerCsiHandler({final:"t"},O=>this.windowOptions(O)),this._parser.registerCsiHandler({final:"u"},O=>this.restoreCursor(O)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},O=>this.insertColumns(O)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},O=>this.deleteColumns(O)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},O=>this.selectProtected(O)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},O=>this.requestMode(O,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},O=>this.requestMode(O,!1)),this._parser.setExecuteHandler(m.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(m.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(m.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(m.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(m.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(m.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(m.C1.IND,()=>this.index()),this._parser.setExecuteHandler(m.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(m.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new P.OscHandler(O=>(this.setTitle(O),this.setIconName(O),!0))),this._parser.registerOscHandler(1,new P.OscHandler(O=>this.setIconName(O))),this._parser.registerOscHandler(2,new P.OscHandler(O=>this.setTitle(O))),this._parser.registerOscHandler(4,new P.OscHandler(O=>this.setOrReportIndexedColor(O))),this._parser.registerOscHandler(8,new P.OscHandler(O=>this.setHyperlink(O))),this._parser.registerOscHandler(10,new P.OscHandler(O=>this.setOrReportFgColor(O))),this._parser.registerOscHandler(11,new P.OscHandler(O=>this.setOrReportBgColor(O))),this._parser.registerOscHandler(12,new P.OscHandler(O=>this.setOrReportCursorColor(O))),this._parser.registerOscHandler(104,new P.OscHandler(O=>this.restoreIndexedColor(O))),this._parser.registerOscHandler(110,new P.OscHandler(O=>this.restoreFgColor(O))),this._parser.registerOscHandler(111,new P.OscHandler(O=>this.restoreBgColor(O))),this._parser.registerOscHandler(112,new P.OscHandler(O=>this.restoreCursorColor(O))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const O in y.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:O},()=>this.selectCharset("("+O)),this._parser.registerEscHandler({intermediates:")",final:O},()=>this.selectCharset(")"+O)),this._parser.registerEscHandler({intermediates:"*",final:O},()=>this.selectCharset("*"+O)),this._parser.registerEscHandler({intermediates:"+",final:O},()=>this.selectCharset("+"+O)),this._parser.registerEscHandler({intermediates:"-",final:O},()=>this.selectCharset("-"+O)),this._parser.registerEscHandler({intermediates:".",final:O},()=>this.selectCharset("."+O)),this._parser.registerEscHandler({intermediates:"/",final:O},()=>this.selectCharset("/"+O));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(O=>(this._logService.error("Parsing error: ",O),O)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler((O,ee)=>this.requestStatusString(O,ee)))}_preserveStack(D,I,B,F){this._parseStack.paused=!0,this._parseStack.cursorStartX=D,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=B,this._parseStack.position=F}_logSlowResolvingAsync(D){this._logService.logLevel<=L.LogLevelEnum.WARN&&Promise.race([D,new Promise((I,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(I=>{if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(D,I){let B,F=this._activeBuffer.x,Z=this._activeBuffer.y,re=0;const ce=this._parseStack.paused;if(ce){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(B),B;F=this._parseStack.cursorStartX,Z=this._parseStack.cursorStartY,this._parseStack.paused=!1,D.length>V&&(re=this._parseStack.position+V)}if(this._logService.logLevel<=L.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof D=="string"?` "${D}"`:` "${Array.prototype.map.call(D,O=>String.fromCharCode(O)).join("")}"`),typeof D=="string"?D.split("").map(O=>O.charCodeAt(0)):D),this._parseBuffer.length<D.length&&this._parseBuffer.length<V&&(this._parseBuffer=new Uint32Array(Math.min(D.length,V))),ce||this._dirtyRowTracker.clearRange(),D.length>V)for(let O=re;O<D.length;O+=V){const ee=O+V<D.length?O+V:D.length,Q=typeof D=="string"?this._stringDecoder.decode(D.substring(O,ee),this._parseBuffer):this._utf8Decoder.decode(D.subarray(O,ee),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,Q))return this._preserveStack(F,Z,Q,O),this._logSlowResolvingAsync(B),B}else if(!ce){const O=typeof D=="string"?this._stringDecoder.decode(D,this._parseBuffer):this._utf8Decoder.decode(D,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,O))return this._preserveStack(F,Z,O,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===F&&this._activeBuffer.y===Z||this._onCursorMove.fire();const ue=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),W=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);W<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(W,this._bufferService.rows-1),Math.min(ue,this._bufferService.rows-1))}print(D,I,B){let F,Z;const re=this._charsetService.charset,ce=this._optionsService.rawOptions.screenReaderMode,ue=this._bufferService.cols,W=this._coreService.decPrivateModes.wraparound,O=this._coreService.modes.insertMode,ee=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-I>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodepoint(this._activeBuffer.x-1,0,1,ee);let de=this._parser.precedingJoinState;for(let he=I;he<B;++he){if(F=D[he],F<127&&re){const Ze=re[String.fromCharCode(F)];Ze&&(F=Ze.charCodeAt(0))}const xe=this._unicodeService.charProperties(F,de);Z=T.UnicodeService.extractWidth(xe);const Pe=T.UnicodeService.extractShouldJoin(xe),Me=Pe?T.UnicodeService.extractWidth(de):0;if(de=xe,ce&&this._onA11yChar.fire((0,w.stringFromCodePoint)(F)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+Z-Me>ue){if(W){const Ze=Q;let Ce=this._activeBuffer.x-Me;for(this._activeBuffer.x=Me,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Me>0&&Q instanceof h.BufferLine&&Q.copyCellsFrom(Ze,Ce,0,Me,!1);Ce<ue;)Ze.setCellFromCodepoint(Ce++,0,1,ee)}else if(this._activeBuffer.x=ue-1,Z===2)continue}if(Pe&&this._activeBuffer.x){const Ze=Q.getWidth(this._activeBuffer.x-1)?1:2;Q.addCodepointToCell(this._activeBuffer.x-Ze,F,Z);for(let Ce=Z-Me;--Ce>=0;)Q.setCellFromCodepoint(this._activeBuffer.x++,0,0,ee)}else if(O&&(Q.insertCells(this._activeBuffer.x,Z-Me,this._activeBuffer.getNullCell(ee)),Q.getWidth(ue-1)===2&&Q.setCellFromCodepoint(ue-1,u.NULL_CELL_CODE,u.NULL_CELL_WIDTH,ee)),Q.setCellFromCodepoint(this._activeBuffer.x++,F,Z,ee),Z>0)for(;--Z;)Q.setCellFromCodepoint(this._activeBuffer.x++,0,0,ee)}this._parser.precedingJoinState=de,this._activeBuffer.x<ue&&B-I>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodepoint(this._activeBuffer.x,0,1,ee),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(D,I){return D.final!=="t"||D.prefix||D.intermediates?this._parser.registerCsiHandler(D,I):this._parser.registerCsiHandler(D,B=>!z(B.params[0],this._optionsService.rawOptions.windowOptions)||I(B))}registerDcsHandler(D,I){return this._parser.registerDcsHandler(D,new k.DcsHandler(I))}registerEscHandler(D,I){return this._parser.registerEscHandler(D,I)}registerOscHandler(D,I){return this._parser.registerOscHandler(D,new P.OscHandler(I))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var D;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&D.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const D=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-D),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(D=this._bufferService.cols-1){this._activeBuffer.x=Math.min(D,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(D,I){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=D,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=D,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(D,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+D,this._activeBuffer.y+I)}cursorUp(D){const I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,D.params[0]||1)):this._moveCursor(0,-(D.params[0]||1)),!0}cursorDown(D){const I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,D.params[0]||1)):this._moveCursor(0,D.params[0]||1),!0}cursorForward(D){return this._moveCursor(D.params[0]||1,0),!0}cursorBackward(D){return this._moveCursor(-(D.params[0]||1),0),!0}cursorNextLine(D){return this.cursorDown(D),this._activeBuffer.x=0,!0}cursorPrecedingLine(D){return this.cursorUp(D),this._activeBuffer.x=0,!0}cursorCharAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(D){return this._setCursor(D.length>=2?(D.params[1]||1)-1:0,(D.params[0]||1)-1),!0}charPosAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(D){return this._moveCursor(D.params[0]||1,0),!0}linePosAbsolute(D){return this._setCursor(this._activeBuffer.x,(D.params[0]||1)-1),!0}vPositionRelative(D){return this._moveCursor(0,D.params[0]||1),!0}hVPosition(D){return this.cursorPosition(D),!0}tabClear(D){const I=D.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=D.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=D.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(D){const I=D.params[0];return I===1&&(this._curAttrData.bg|=536870912),I!==2&&I!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(D,I,B,F=!1,Z=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);re.replaceCells(I,B,this._activeBuffer.getNullCell(this._eraseAttrData()),Z),F&&(re.isWrapped=!1)}_resetBufferLine(D,I=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),I),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+D),B.isWrapped=!1)}eraseInDisplay(D,I=!1){let B;switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);B<this._bufferService.rows;B++)this._resetBufferLine(B,I);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,I),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,I);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,I);this._dirtyRowTracker.markDirty(0);break;case 3:const F=this._activeBuffer.lines.length-this._bufferService.rows;F>0&&(this._activeBuffer.lines.trimStart(F),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-F,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-F,0),this._onScroll.fire(0))}return!0}eraseInLine(D,I=!1){switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,I);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,I)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(D){this._restrictCursor();let I=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Z=this._bufferService.rows-1+this._activeBuffer.ybase-F+1;for(;I--;)this._activeBuffer.lines.splice(Z-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(D){this._restrictCursor();let I=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let F;for(F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-F;I--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(F,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(D){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(D){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(D){let I=D.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(D){let I=D.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=D.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);F.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=D.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);F.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=D.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);F.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=D.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);F.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData())),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(D){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(D.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(D){const I=this._parser.precedingJoinState;if(!I)return!0;const B=D.params[0]||1,F=T.UnicodeService.extractWidth(I),Z=this._activeBuffer.x-F,re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(Z),ce=new Uint32Array(re.length*B);let ue=0;for(let O=0;O<re.length;){const ee=re.codePointAt(O)||0;ce[ue++]=ee,O+=ee>65535?2:1}let W=ue;for(let O=1;O<B;++O)ce.copyWithin(W,0,ue),W+=ue;return this.print(ce,0,W),!0}sendDeviceAttributesPrimary(D){return D.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(m.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(m.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(D){return D.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(m.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(m.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(D.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(m.C0.ESC+"[>83;40003;0c")),!0}_is(D){return(this._optionsService.rawOptions.termName+"").indexOf(D)===0}setMode(D){for(let I=0;I<D.length;I++)switch(D.params[I]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(D){for(let I=0;I<D.length;I++)switch(D.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),this._charsetService.setgCharset(1,y.DEFAULT_CHARSET),this._charsetService.setgCharset(2,y.DEFAULT_CHARSET),this._charsetService.setgCharset(3,y.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(D){for(let I=0;I<D.length;I++)switch(D.params[I]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(D){for(let I=0;I<D.length;I++)switch(D.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),D.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(D,I){const B=this._coreService.decPrivateModes,{activeProtocol:F,activeEncoding:Z}=this._coreMouseService,re=this._coreService,{buffers:ce,cols:ue}=this._bufferService,{active:W,alt:O}=ce,ee=this._optionsService.rawOptions,Q=Pe=>Pe?1:2,de=D.params[0];return he=de,xe=I?de===2?4:de===4?Q(re.modes.insertMode):de===12?3:de===20?Q(ee.convertEol):0:de===1?Q(B.applicationCursorKeys):de===3?ee.windowOptions.setWinLines?ue===80?2:ue===132?1:0:0:de===6?Q(B.origin):de===7?Q(B.wraparound):de===8?3:de===9?Q(F==="X10"):de===12?Q(ee.cursorBlink):de===25?Q(!re.isCursorHidden):de===45?Q(B.reverseWraparound):de===66?Q(B.applicationKeypad):de===67?4:de===1e3?Q(F==="VT200"):de===1002?Q(F==="DRAG"):de===1003?Q(F==="ANY"):de===1004?Q(B.sendFocus):de===1005?4:de===1006?Q(Z==="SGR"):de===1015?4:de===1016?Q(Z==="SGR_PIXELS"):de===1048?1:de===47||de===1047||de===1049?Q(W===O):de===2004?Q(B.bracketedPasteMode):0,re.triggerDataEvent(`${m.C0.ESC}[${I?"":"?"}${he};${xe}$y`),!0;var he,xe}_updateAttrColor(D,I,B,F,Z){return I===2?(D|=50331648,D&=-16777216,D|=C.AttributeData.fromColorRGB([B,F,Z])):I===5&&(D&=-50331904,D|=33554432|255&B),D}_extractColor(D,I,B){const F=[0,0,-1,0,0,0];let Z=0,re=0;do{if(F[re+Z]=D.params[I+re],D.hasSubParams(I+re)){const ce=D.getSubParams(I+re);let ue=0;do F[1]===5&&(Z=1),F[re+ue+1+Z]=ce[ue];while(++ue<ce.length&&ue+re+1+Z<F.length);break}if(F[1]===5&&re+Z>=2||F[1]===2&&re+Z>=5)break;F[1]&&(Z=1)}while(++re+I<D.length&&re+Z<F.length);for(let ce=2;ce<F.length;++ce)F[ce]===-1&&(F[ce]=0);switch(F[0]){case 38:B.fg=this._updateAttrColor(B.fg,F[1],F[3],F[4],F[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,F[1],F[3],F[4],F[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,F[1],F[3],F[4],F[5])}return re}_processUnderline(D,I){I.extended=I.extended.clone(),(!~D||D>5)&&(D=1),I.extended.underlineStyle=D,I.fg|=268435456,D===0&&(I.fg&=-268435457),I.updateExtended()}_processSGR0(D){D.fg=h.DEFAULT_ATTR_DATA.fg,D.bg=h.DEFAULT_ATTR_DATA.bg,D.extended=D.extended.clone(),D.extended.underlineStyle=0,D.extended.underlineColor&=-67108864,D.updateExtended()}charAttributes(D){if(D.length===1&&D.params[0]===0)return this._processSGR0(this._curAttrData),!0;const I=D.length;let B;const F=this._curAttrData;for(let Z=0;Z<I;Z++)B=D.params[Z],B>=30&&B<=37?(F.fg&=-50331904,F.fg|=16777216|B-30):B>=40&&B<=47?(F.bg&=-50331904,F.bg|=16777216|B-40):B>=90&&B<=97?(F.fg&=-50331904,F.fg|=16777224|B-90):B>=100&&B<=107?(F.bg&=-50331904,F.bg|=16777224|B-100):B===0?this._processSGR0(F):B===1?F.fg|=134217728:B===3?F.bg|=67108864:B===4?(F.fg|=268435456,this._processUnderline(D.hasSubParams(Z)?D.getSubParams(Z)[0]:1,F)):B===5?F.fg|=536870912:B===7?F.fg|=67108864:B===8?F.fg|=1073741824:B===9?F.fg|=2147483648:B===2?F.bg|=134217728:B===21?this._processUnderline(2,F):B===22?(F.fg&=-134217729,F.bg&=-134217729):B===23?F.bg&=-67108865:B===24?(F.fg&=-268435457,this._processUnderline(0,F)):B===25?F.fg&=-536870913:B===27?F.fg&=-67108865:B===28?F.fg&=-1073741825:B===29?F.fg&=2147483647:B===39?(F.fg&=-67108864,F.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):B===49?(F.bg&=-67108864,F.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?Z+=this._extractColor(D,Z,F):B===53?F.bg|=1073741824:B===55?F.bg&=-1073741825:B===59?(F.extended=F.extended.clone(),F.extended.underlineColor=-1,F.updateExtended()):B===100?(F.fg&=-67108864,F.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,F.bg&=-67108864,F.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(D){switch(D.params[0]){case 5:this._coreService.triggerDataEvent(`${m.C0.ESC}[0n`);break;case 6:const I=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[${I};${B}R`)}return!0}deviceStatusPrivate(D){if(D.params[0]===6){const I=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[?${I};${B}R`)}return!0}softReset(D){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(D){const I=D.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=I%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(D){const I=D.params[0]||1;let B;return(D.length<2||(B=D.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>I&&(this._activeBuffer.scrollTop=I-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(D){if(!z(D.params[0],this._optionsService.rawOptions.windowOptions))return!0;const I=D.length>1?D.params[1]:0;switch(D.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(N.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(N.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${m.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(D){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(D){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(D){return this._windowTitle=D,this._onTitleChange.fire(D),!0}setIconName(D){return this._iconName=D,!0}setOrReportIndexedColor(D){const I=[],B=D.split(";");for(;B.length>1;){const F=B.shift(),Z=B.shift();if(/^\d+$/.exec(F)){const re=parseInt(F);if(ie(re))if(Z==="?")I.push({type:0,index:re});else{const ce=(0,A.parseColor)(Z);ce&&I.push({type:1,index:re,color:ce})}}}return I.length&&this._onColor.fire(I),!0}setHyperlink(D){const I=D.split(";");return!(I.length<2)&&(I[1]?this._createHyperlink(I[0],I[1]):!I[0]&&this._finishHyperlink())}_createHyperlink(D,I){this._getCurrentLinkId()&&this._finishHyperlink();const B=D.split(":");let F;const Z=B.findIndex(re=>re.startsWith("id="));return Z!==-1&&(F=B[Z].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:F,uri:I}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(D,I){const B=D.split(";");for(let F=0;F<B.length&&!(I>=this._specialColors.length);++F,++I)if(B[F]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{const Z=(0,A.parseColor)(B[F]);Z&&this._onColor.fire([{type:1,index:this._specialColors[I],color:Z}])}return!0}setOrReportFgColor(D){return this._setOrReportSpecialColor(D,0)}setOrReportBgColor(D){return this._setOrReportSpecialColor(D,1)}setOrReportCursorColor(D){return this._setOrReportSpecialColor(D,2)}restoreIndexedColor(D){if(!D)return this._onColor.fire([{type:2}]),!0;const I=[],B=D.split(";");for(let F=0;F<B.length;++F)if(/^\d+$/.exec(B[F])){const Z=parseInt(B[F]);ie(Z)&&I.push({type:2,index:Z})}return I.length&&this._onColor.fire(I),!0}restoreFgColor(D){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(D){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(D){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),!0}selectCharset(D){return D.length!==2?(this.selectDefaultCharset(),!0):(D[0]==="/"||this._charsetService.setgCharset(H[D[0]],y.CHARSETS[D[1]]||y.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const D=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,D,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(D){return this._charsetService.setgLevel(D),!0}screenAlignmentPattern(){const D=new f.CellData;D.content=4194373,D.fg=this._curAttrData.fg,D.bg=this._curAttrData.bg,this._setCursor(0,0);for(let I=0;I<this._bufferService.rows;++I){const B=this._activeBuffer.ybase+this._activeBuffer.y+I,F=this._activeBuffer.lines.get(B);F&&(F.fill(D),F.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(D,I){const B=this._bufferService.buffer,F=this._optionsService.rawOptions;return(Z=>(this._coreService.triggerDataEvent(`${m.C0.ESC}${Z}${m.C0.ESC}\\`),!0))(D==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:D==='"p'?'P1$r61;1"p':D==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:D==="m"?"P1$r0m":D===" q"?`P1$r${{block:2,underline:4,bar:6}[F.cursorStyle]-(F.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(D,I){this._dirtyRowTracker.markRangeDirty(D,I)}}o.InputHandler=te;let oe=class{constructor(q){this._bufferService=q,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(q){q<this.start?this.start=q:q>this.end&&(this.end=q)}markRangeDirty(q,D){q>D&&(Y=q,q=D,D=Y),q<this.start&&(this.start=q),D>this.end&&(this.end=D)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function ie(q){return 0<=q&&q<256}oe=d([v(0,L.IBufferService)],oe)},844:(S,o)=>{function a(d){for(const v of d)v.dispose();d.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const v=this._disposables.indexOf(d);v!==-1&&this._disposables.splice(v,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var v;this._isDisposed||d===this._value||((v=this._value)==null||v.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)==null||d.dispose(),this._value=void 0}},o.toDisposable=function(d){return{dispose:d}},o.disposeArray=a,o.getDisposeArrayDisposable=function(d){return{dispose:()=>a(d)}}},1505:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(v,m,y){this._data[v]||(this._data[v]={}),this._data[v][m]=y}get(v,m){return this._data[v]?this._data[v][m]:void 0}clear(){this._data={}}}o.TwoKeyMap=a,o.FourKeyMap=class{constructor(){this._data=new a}set(d,v,m,y,E){this._data.get(d,v)||this._data.set(d,v,new a),this._data.get(d,v).set(m,y,E)}get(d,v,m,y){var E;return(E=this._data.get(d,v))==null?void 0:E.get(m,y)}clear(){this._data.clear()}}},6114:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof process<"u"&&"title"in process;const a=o.isNode?"node":navigator.userAgent,d=o.isNode?"node":navigator.platform;o.isFirefox=a.includes("Firefox"),o.isLegacyEdge=a.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(a),o.getSafariVersion=function(){if(!o.isSafari)return 0;const v=a.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(d),o.isIpad=d==="iPad",o.isIphone=d==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(d),o.isLinux=d.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(a)},6106:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let a=0;o.SortedList=class{constructor(d){this._getKey=d,this._array=[]}clear(){this._array.length=0}insert(d){this._array.length!==0?(a=this._search(this._getKey(d)),this._array.splice(a,0,d)):this._array.push(d)}delete(d){if(this._array.length===0)return!1;const v=this._getKey(d);if(v===void 0||(a=this._search(v),a===-1)||this._getKey(this._array[a])!==v)return!1;do if(this._array[a]===d)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===v);return!1}*getKeyIterator(d){if(this._array.length!==0&&(a=this._search(d),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===d))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===d)}forEachByKey(d,v){if(this._array.length!==0&&(a=this._search(d),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===d))do v(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===d)}values(){return[...this._array].values()}_search(d){let v=0,m=this._array.length-1;for(;m>=v;){let y=v+m>>1;const E=this._getKey(this._array[y]);if(E>d)m=y-1;else{if(!(E<d)){for(;y>0&&this._getKey(this._array[y-1])===d;)y--;return y}v=y+1}}return v}}},7226:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const d=a(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(E){this._tasks.push(E),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(E){this._idleCallback=void 0;let R=0,w=0,h=E.timeRemaining(),p=0;for(;this._i<this._tasks.length;){if(R=Date.now(),this._tasks[this._i]()||this._i++,R=Math.max(1,Date.now()-R),w=Math.max(R,w),p=E.timeRemaining(),1.5*w>p)return h-R<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(h-R))}ms`),void this._start();h=p}this.clear()}}class m extends v{_requestCallback(E){return setTimeout(()=>E(this._createDeadline(16)))}_cancelCallback(E){clearTimeout(E)}_createDeadline(E){const R=Date.now()+E;return{timeRemaining:()=>Math.max(0,R-Date.now())}}}o.PriorityTaskQueue=m,o.IdleTaskQueue=!d.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(y){return requestIdleCallback(y)}_cancelCallback(y){cancelIdleCallback(y)}}:m,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(y){this._queue.clear(),this._queue.enqueue(y)}flush(){this._queue.flush()}}},9282:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const d=a(643);o.updateWindowsModeWrappedState=function(v){const m=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),y=m==null?void 0:m.get(v.cols-1),E=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);E&&y&&(E.isWrapped=y[d.CHAR_DATA_CODE_INDEX]!==d.NULL_CELL_CODE&&y[d.CHAR_DATA_CODE_INDEX]!==d.WHITESPACE_CELL_CODE)}},3734:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new d}static toColorRGB(m){return[m>>>16&255,m>>>8&255,255&m]}static fromColorRGB(m){return(255&m[0])<<16|(255&m[1])<<8|255&m[2]}clone(){const m=new a;return m.fg=this.fg,m.bg=this.bg,m.extended=this.extended.clone(),m}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}o.AttributeData=a;class d{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(m){this._ext=m}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(m){this._ext&=-469762049,this._ext|=m<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(m){this._ext&=-67108864,this._ext|=67108863&m}get urlId(){return this._urlId}set urlId(m){this._urlId=m}get underlineVariantOffset(){const m=(3758096384&this._ext)>>29;return m<0?4294967288^m:m}set underlineVariantOffset(m){this._ext&=536870911,this._ext|=m<<29&3758096384}constructor(m=0,y=0){this._ext=0,this._urlId=0,this._ext=m,this._urlId=y}clone(){return new d(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=d},9092:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const d=a(6349),v=a(7226),m=a(3734),y=a(8437),E=a(4634),R=a(511),w=a(643),h=a(4863),p=a(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(u,f,C){this._hasScrollback=u,this._optionsService=f,this._bufferService=C,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=y.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=R.CellData.fromCharData([0,w.NULL_CELL_CHAR,w.NULL_CELL_WIDTH,w.NULL_CELL_CODE]),this._whitespaceCell=R.CellData.fromCharData([0,w.WHITESPACE_CELL_CHAR,w.WHITESPACE_CELL_WIDTH,w.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(u){return u?(this._nullCell.fg=u.fg,this._nullCell.bg=u.bg,this._nullCell.extended=u.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new m.ExtendedAttrs),this._nullCell}getWhitespaceCell(u){return u?(this._whitespaceCell.fg=u.fg,this._whitespaceCell.bg=u.bg,this._whitespaceCell.extended=u.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new m.ExtendedAttrs),this._whitespaceCell}getBlankLine(u,f){return new y.BufferLine(this._bufferService.cols,this.getNullCell(u),f)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const u=this.ybase+this.y-this.ydisp;return u>=0&&u<this._rows}_getCorrectBufferLength(u){if(!this._hasScrollback)return u;const f=u+this._optionsService.rawOptions.scrollback;return f>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:f}fillViewportRows(u){if(this.lines.length===0){u===void 0&&(u=y.DEFAULT_ATTR_DATA);let f=this._rows;for(;f--;)this.lines.push(this.getBlankLine(u))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(u,f){const C=this.getNullCell(y.DEFAULT_ATTR_DATA);let L=0;const T=this._getCorrectBufferLength(f);if(T>this.lines.maxLength&&(this.lines.maxLength=T),this.lines.length>0){if(this._cols<u)for(let k=0;k<this.lines.length;k++)L+=+this.lines.get(k).resize(u,C);let P=0;if(this._rows<f)for(let k=this._rows;k<f;k++)this.lines.length<f+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new y.BufferLine(u,C)):this.ybase>0&&this.lines.length<=this.ybase+this.y+P+1?(this.ybase--,P++,this.ydisp>0&&this.ydisp--):this.lines.push(new y.BufferLine(u,C)));else for(let k=this._rows;k>f;k--)this.lines.length>f+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(T<this.lines.maxLength){const k=this.lines.length-T;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=T}this.x=Math.min(this.x,u-1),this.y=Math.min(this.y,f-1),P&&(this.y+=P),this.savedX=Math.min(this.savedX,u-1),this.scrollTop=0}if(this.scrollBottom=f-1,this._isReflowEnabled&&(this._reflow(u,f),this._cols>u))for(let P=0;P<this.lines.length;P++)L+=+this.lines.get(P).resize(u,C);this._cols=u,this._rows=f,this._memoryCleanupQueue.clear(),L>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let u=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,u=!1);let f=0;for(;this._memoryCleanupPosition<this.lines.length;)if(f+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),f>100)return!0;return u}get _isReflowEnabled(){const u=this._optionsService.rawOptions.windowsPty;return u&&u.buildNumber?this._hasScrollback&&u.backend==="conpty"&&u.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(u,f){this._cols!==u&&(u>this._cols?this._reflowLarger(u,f):this._reflowSmaller(u,f))}_reflowLarger(u,f){const C=(0,E.reflowLargerGetLinesToRemove)(this.lines,this._cols,u,this.ybase+this.y,this.getNullCell(y.DEFAULT_ATTR_DATA));if(C.length>0){const L=(0,E.reflowLargerCreateNewLayout)(this.lines,C);(0,E.reflowLargerApplyNewLayout)(this.lines,L.layout),this._reflowLargerAdjustViewport(u,f,L.countRemoved)}}_reflowLargerAdjustViewport(u,f,C){const L=this.getNullCell(y.DEFAULT_ATTR_DATA);let T=C;for(;T-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<f&&this.lines.push(new y.BufferLine(u,L))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-C,0)}_reflowSmaller(u,f){const C=this.getNullCell(y.DEFAULT_ATTR_DATA),L=[];let T=0;for(let P=this.lines.length-1;P>=0;P--){let k=this.lines.get(P);if(!k||!k.isWrapped&&k.getTrimmedLength()<=u)continue;const A=[k];for(;k.isWrapped&&P>0;)k=this.lines.get(--P),A.unshift(k);const H=this.ybase+this.y;if(H>=P&&H<P+A.length)continue;const V=A[A.length-1].getTrimmedLength(),z=(0,E.reflowSmallerGetNewLineLengths)(A,this._cols,u),N=z.length-A.length;let Y;Y=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+N):Math.max(0,this.lines.length-this.lines.maxLength+N);const te=[];for(let B=0;B<N;B++){const F=this.getBlankLine(y.DEFAULT_ATTR_DATA,!0);te.push(F)}te.length>0&&(L.push({start:P+A.length+T,newLines:te}),T+=te.length),A.push(...te);let oe=z.length-1,ie=z[oe];ie===0&&(oe--,ie=z[oe]);let q=A.length-N-1,D=V;for(;q>=0;){const B=Math.min(D,ie);if(A[oe]===void 0)break;if(A[oe].copyCellsFrom(A[q],D-B,ie-B,B,!0),ie-=B,ie===0&&(oe--,ie=z[oe]),D-=B,D===0){q--;const F=Math.max(q,0);D=(0,E.getWrappedLineTrimmedLength)(A,F,this._cols)}}for(let B=0;B<A.length;B++)z[B]<u&&A[B].setCell(z[B],C);let I=N-Y;for(;I-- >0;)this.ybase===0?this.y<f-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+T)-f&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+N,this.ybase+f-1)}if(L.length>0){const P=[],k=[];for(let oe=0;oe<this.lines.length;oe++)k.push(this.lines.get(oe));const A=this.lines.length;let H=A-1,V=0,z=L[V];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+T);let N=0;for(let oe=Math.min(this.lines.maxLength-1,A+T-1);oe>=0;oe--)if(z&&z.start>H+N){for(let ie=z.newLines.length-1;ie>=0;ie--)this.lines.set(oe--,z.newLines[ie]);oe++,P.push({index:H+1,amount:z.newLines.length}),N+=z.newLines.length,z=L[++V]}else this.lines.set(oe,k[H--]);let Y=0;for(let oe=P.length-1;oe>=0;oe--)P[oe].index+=Y,this.lines.onInsertEmitter.fire(P[oe]),Y+=P[oe].amount;const te=Math.max(0,A+T-this.lines.maxLength);te>0&&this.lines.onTrimEmitter.fire(te)}}translateBufferLineToString(u,f,C=0,L){const T=this.lines.get(u);return T?T.translateToString(f,C,L):""}getWrappedRangeForLine(u){let f=u,C=u;for(;f>0&&this.lines.get(f).isWrapped;)f--;for(;C+1<this.lines.length&&this.lines.get(C+1).isWrapped;)C++;return{first:f,last:C}}setupTabStops(u){for(u!=null?this.tabs[u]||(u=this.prevStop(u)):(this.tabs={},u=0);u<this._cols;u+=this._optionsService.rawOptions.tabStopWidth)this.tabs[u]=!0}prevStop(u){for(u==null&&(u=this.x);!this.tabs[--u]&&u>0;);return u>=this._cols?this._cols-1:u<0?0:u}nextStop(u){for(u==null&&(u=this.x);!this.tabs[++u]&&u<this._cols;);return u>=this._cols?this._cols-1:u<0?0:u}clearMarkers(u){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].line===u&&(this.markers[f].dispose(),this.markers.splice(f--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].dispose(),this.markers.splice(u--,1);this._isClearing=!1}addMarker(u){const f=new h.Marker(u);return this.markers.push(f),f.register(this.lines.onTrim(C=>{f.line-=C,f.line<0&&f.dispose()})),f.register(this.lines.onInsert(C=>{f.line>=C.index&&(f.line+=C.amount)})),f.register(this.lines.onDelete(C=>{f.line>=C.index&&f.line<C.index+C.amount&&f.dispose(),f.line>C.index&&(f.line-=C.amount)})),f.register(f.onDispose(()=>this._removeMarker(f))),f}_removeMarker(u){this._isClearing||this.markers.splice(this.markers.indexOf(u),1)}}},8437:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const d=a(3734),v=a(511),m=a(643),y=a(482);o.DEFAULT_ATTR_DATA=Object.freeze(new d.AttributeData);let E=0;class R{constructor(h,p,u=!1){this.isWrapped=u,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*h);const f=p||v.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]);for(let C=0;C<h;++C)this.setCell(C,f);this.length=h}get(h){const p=this._data[3*h+0],u=2097151&p;return[this._data[3*h+1],2097152&p?this._combined[h]:u?(0,y.stringFromCodePoint)(u):"",p>>22,2097152&p?this._combined[h].charCodeAt(this._combined[h].length-1):u]}set(h,p){this._data[3*h+1]=p[m.CHAR_DATA_ATTR_INDEX],p[m.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[h]=p[1],this._data[3*h+0]=2097152|h|p[m.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*h+0]=p[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[m.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(h){return this._data[3*h+0]>>22}hasWidth(h){return 12582912&this._data[3*h+0]}getFg(h){return this._data[3*h+1]}getBg(h){return this._data[3*h+2]}hasContent(h){return 4194303&this._data[3*h+0]}getCodePoint(h){const p=this._data[3*h+0];return 2097152&p?this._combined[h].charCodeAt(this._combined[h].length-1):2097151&p}isCombined(h){return 2097152&this._data[3*h+0]}getString(h){const p=this._data[3*h+0];return 2097152&p?this._combined[h]:2097151&p?(0,y.stringFromCodePoint)(2097151&p):""}isProtected(h){return 536870912&this._data[3*h+2]}loadCell(h,p){return E=3*h,p.content=this._data[E+0],p.fg=this._data[E+1],p.bg=this._data[E+2],2097152&p.content&&(p.combinedData=this._combined[h]),268435456&p.bg&&(p.extended=this._extendedAttrs[h]),p}setCell(h,p){2097152&p.content&&(this._combined[h]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[h]=p.extended),this._data[3*h+0]=p.content,this._data[3*h+1]=p.fg,this._data[3*h+2]=p.bg}setCellFromCodepoint(h,p,u,f){268435456&f.bg&&(this._extendedAttrs[h]=f.extended),this._data[3*h+0]=p|u<<22,this._data[3*h+1]=f.fg,this._data[3*h+2]=f.bg}addCodepointToCell(h,p,u){let f=this._data[3*h+0];2097152&f?this._combined[h]+=(0,y.stringFromCodePoint)(p):2097151&f?(this._combined[h]=(0,y.stringFromCodePoint)(2097151&f)+(0,y.stringFromCodePoint)(p),f&=-2097152,f|=2097152):f=p|4194304,u&&(f&=-12582913,f|=u<<22),this._data[3*h+0]=f}insertCells(h,p,u){if((h%=this.length)&&this.getWidth(h-1)===2&&this.setCellFromCodepoint(h-1,0,1,u),p<this.length-h){const f=new v.CellData;for(let C=this.length-h-p-1;C>=0;--C)this.setCell(h+p+C,this.loadCell(h+C,f));for(let C=0;C<p;++C)this.setCell(h+C,u)}else for(let f=h;f<this.length;++f)this.setCell(f,u);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,u)}deleteCells(h,p,u){if(h%=this.length,p<this.length-h){const f=new v.CellData;for(let C=0;C<this.length-h-p;++C)this.setCell(h+C,this.loadCell(h+p+C,f));for(let C=this.length-p;C<this.length;++C)this.setCell(C,u)}else for(let f=h;f<this.length;++f)this.setCell(f,u);h&&this.getWidth(h-1)===2&&this.setCellFromCodepoint(h-1,0,1,u),this.getWidth(h)!==0||this.hasContent(h)||this.setCellFromCodepoint(h,0,1,u)}replaceCells(h,p,u,f=!1){if(f)for(h&&this.getWidth(h-1)===2&&!this.isProtected(h-1)&&this.setCellFromCodepoint(h-1,0,1,u),p<this.length&&this.getWidth(p-1)===2&&!this.isProtected(p)&&this.setCellFromCodepoint(p,0,1,u);h<p&&h<this.length;)this.isProtected(h)||this.setCell(h,u),h++;else for(h&&this.getWidth(h-1)===2&&this.setCellFromCodepoint(h-1,0,1,u),p<this.length&&this.getWidth(p-1)===2&&this.setCellFromCodepoint(p,0,1,u);h<p&&h<this.length;)this.setCell(h++,u)}resize(h,p){if(h===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const u=3*h;if(h>this.length){if(this._data.buffer.byteLength>=4*u)this._data=new Uint32Array(this._data.buffer,0,u);else{const f=new Uint32Array(u);f.set(this._data),this._data=f}for(let f=this.length;f<h;++f)this.setCell(f,p)}else{this._data=this._data.subarray(0,u);const f=Object.keys(this._combined);for(let L=0;L<f.length;L++){const T=parseInt(f[L],10);T>=h&&delete this._combined[T]}const C=Object.keys(this._extendedAttrs);for(let L=0;L<C.length;L++){const T=parseInt(C[L],10);T>=h&&delete this._extendedAttrs[T]}}return this.length=h,4*u*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const h=new Uint32Array(this._data.length);return h.set(this._data),this._data=h,1}return 0}fill(h,p=!1){if(p)for(let u=0;u<this.length;++u)this.isProtected(u)||this.setCell(u,h);else{this._combined={},this._extendedAttrs={};for(let u=0;u<this.length;++u)this.setCell(u,h)}}copyFrom(h){this.length!==h.length?this._data=new Uint32Array(h._data):this._data.set(h._data),this.length=h.length,this._combined={};for(const p in h._combined)this._combined[p]=h._combined[p];this._extendedAttrs={};for(const p in h._extendedAttrs)this._extendedAttrs[p]=h._extendedAttrs[p];this.isWrapped=h.isWrapped}clone(){const h=new R(0);h._data=new Uint32Array(this._data),h.length=this.length;for(const p in this._combined)h._combined[p]=this._combined[p];for(const p in this._extendedAttrs)h._extendedAttrs[p]=this._extendedAttrs[p];return h.isWrapped=this.isWrapped,h}getTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0])return h+(this._data[3*h+0]>>22);return 0}getNoBgTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0]||50331648&this._data[3*h+2])return h+(this._data[3*h+0]>>22);return 0}copyCellsFrom(h,p,u,f,C){const L=h._data;if(C)for(let P=f-1;P>=0;P--){for(let k=0;k<3;k++)this._data[3*(u+P)+k]=L[3*(p+P)+k];268435456&L[3*(p+P)+2]&&(this._extendedAttrs[u+P]=h._extendedAttrs[p+P])}else for(let P=0;P<f;P++){for(let k=0;k<3;k++)this._data[3*(u+P)+k]=L[3*(p+P)+k];268435456&L[3*(p+P)+2]&&(this._extendedAttrs[u+P]=h._extendedAttrs[p+P])}const T=Object.keys(h._combined);for(let P=0;P<T.length;P++){const k=parseInt(T[P],10);k>=p&&(this._combined[k-p+u]=h._combined[k])}}translateToString(h,p,u,f){p=p??0,u=u??this.length,h&&(u=Math.min(u,this.getTrimmedLength())),f&&(f.length=0);let C="";for(;p<u;){const L=this._data[3*p+0],T=2097151&L,P=2097152&L?this._combined[p]:T?(0,y.stringFromCodePoint)(T):m.WHITESPACE_CELL_CHAR;if(C+=P,f)for(let k=0;k<P.length;++k)f.push(p);p+=L>>22||1}return f&&f.push(p),C}}o.BufferLine=R},4841:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(a,d){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return d*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(S,o)=>{function a(d,v,m){if(v===d.length-1)return d[v].getTrimmedLength();const y=!d[v].hasContent(m-1)&&d[v].getWidth(m-1)===1,E=d[v+1].getWidth(0)===2;return y&&E?m-1:m}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(d,v,m,y,E){const R=[];for(let w=0;w<d.length-1;w++){let h=w,p=d.get(++h);if(!p.isWrapped)continue;const u=[d.get(w)];for(;h<d.length&&p.isWrapped;)u.push(p),p=d.get(++h);if(y>=w&&y<h){w+=u.length-1;continue}let f=0,C=a(u,f,v),L=1,T=0;for(;L<u.length;){const k=a(u,L,v),A=k-T,H=m-C,V=Math.min(A,H);u[f].copyCellsFrom(u[L],T,C,V,!1),C+=V,C===m&&(f++,C=0),T+=V,T===k&&(L++,T=0),C===0&&f!==0&&u[f-1].getWidth(m-1)===2&&(u[f].copyCellsFrom(u[f-1],m-1,C++,1,!1),u[f-1].setCell(m-1,E))}u[f].replaceCells(C,m,E);let P=0;for(let k=u.length-1;k>0&&(k>f||u[k].getTrimmedLength()===0);k--)P++;P>0&&(R.push(w+u.length-P),R.push(P)),w+=u.length-1}return R},o.reflowLargerCreateNewLayout=function(d,v){const m=[];let y=0,E=v[y],R=0;for(let w=0;w<d.length;w++)if(E===w){const h=v[++y];d.onDeleteEmitter.fire({index:w-R,amount:h}),w+=h-1,R+=h,E=v[++y]}else m.push(w);return{layout:m,countRemoved:R}},o.reflowLargerApplyNewLayout=function(d,v){const m=[];for(let y=0;y<v.length;y++)m.push(d.get(v[y]));for(let y=0;y<m.length;y++)d.set(y,m[y]);d.length=v.length},o.reflowSmallerGetNewLineLengths=function(d,v,m){const y=[],E=d.map((p,u)=>a(d,u,v)).reduce((p,u)=>p+u);let R=0,w=0,h=0;for(;h<E;){if(E-h<m){y.push(E-h);break}R+=m;const p=a(d,w,v);R>p&&(R-=p,w++);const u=d[w].getWidth(R-1)===2;u&&R--;const f=u?m-1:m;y.push(f),h+=f}return y},o.getWrappedLineTrimmedLength=a},5295:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const d=a(8460),v=a(844),m=a(9092);class y extends v.Disposable{constructor(R,w){super(),this._optionsService=R,this._bufferService=w,this._onBufferActivate=this.register(new d.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new m.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new m.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(R){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(R),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(R,w){this._normal.resize(R,w),this._alt.resize(R,w),this.setupTabStops(R)}setupTabStops(R){this._normal.setupTabStops(R),this._alt.setupTabStops(R)}}o.BufferSet=y},511:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const d=a(482),v=a(643),m=a(3734);class y extends m.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new m.ExtendedAttrs,this.combinedData=""}static fromCharData(R){const w=new y;return w.setFromCharData(R),w}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(R){this.fg=R[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let w=!1;if(R[v.CHAR_DATA_CHAR_INDEX].length>2)w=!0;else if(R[v.CHAR_DATA_CHAR_INDEX].length===2){const h=R[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=h&&h<=56319){const p=R[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(h-55296)+p-56320+65536|R[v.CHAR_DATA_WIDTH_INDEX]<<22:w=!0}else w=!0}else this.content=R[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|R[v.CHAR_DATA_WIDTH_INDEX]<<22;w&&(this.combinedData=R[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|R[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=y},643:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const d=a(8460),v=a(844);class m{get id(){return this._id}constructor(E){this.line=E,this.isDisposed=!1,this._disposables=[],this._id=m._nextId++,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(E){return this._disposables.push(E),E}}o.Marker=m,m._nextId=1},7116:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(S,o)=>{var a,d,v;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(m){m.NUL="\0",m.SOH="",m.STX="",m.ETX="",m.EOT="",m.ENQ="",m.ACK="",m.BEL="\x07",m.BS="\b",m.HT="	",m.LF=`
`,m.VT="\v",m.FF="\f",m.CR="\r",m.SO="",m.SI="",m.DLE="",m.DC1="",m.DC2="",m.DC3="",m.DC4="",m.NAK="",m.SYN="",m.ETB="",m.CAN="",m.EM="",m.SUB="",m.ESC="\x1B",m.FS="",m.GS="",m.RS="",m.US="",m.SP=" ",m.DEL=""}(a||(o.C0=a={})),function(m){m.PAD="",m.HOP="",m.BPH="",m.NBH="",m.IND="",m.NEL="",m.SSA="",m.ESA="",m.HTS="",m.HTJ="",m.VTS="",m.PLD="",m.PLU="",m.RI="",m.SS2="",m.SS3="",m.DCS="",m.PU1="",m.PU2="",m.STS="",m.CCH="",m.MW="",m.SPA="",m.EPA="",m.SOS="",m.SGCI="",m.SCI="",m.CSI="",m.ST="",m.OSC="",m.PM="",m.APC=""}(d||(o.C1=d={})),function(m){m.ST=`${a.ESC}\\`}(v||(o.C1_ESCAPED=v={}))},7399:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const d=a(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(m,y,E,R){const w={type:0,cancel:!1,key:void 0},h=(m.shiftKey?1:0)|(m.altKey?2:0)|(m.ctrlKey?4:0)|(m.metaKey?8:0);switch(m.keyCode){case 0:m.key==="UIKeyInputUpArrow"?w.key=y?d.C0.ESC+"OA":d.C0.ESC+"[A":m.key==="UIKeyInputLeftArrow"?w.key=y?d.C0.ESC+"OD":d.C0.ESC+"[D":m.key==="UIKeyInputRightArrow"?w.key=y?d.C0.ESC+"OC":d.C0.ESC+"[C":m.key==="UIKeyInputDownArrow"&&(w.key=y?d.C0.ESC+"OB":d.C0.ESC+"[B");break;case 8:w.key=m.ctrlKey?"\b":d.C0.DEL,m.altKey&&(w.key=d.C0.ESC+w.key);break;case 9:if(m.shiftKey){w.key=d.C0.ESC+"[Z";break}w.key=d.C0.HT,w.cancel=!0;break;case 13:w.key=m.altKey?d.C0.ESC+d.C0.CR:d.C0.CR,w.cancel=!0;break;case 27:w.key=d.C0.ESC,m.altKey&&(w.key=d.C0.ESC+d.C0.ESC),w.cancel=!0;break;case 37:if(m.metaKey)break;h?(w.key=d.C0.ESC+"[1;"+(h+1)+"D",w.key===d.C0.ESC+"[1;3D"&&(w.key=d.C0.ESC+(E?"b":"[1;5D"))):w.key=y?d.C0.ESC+"OD":d.C0.ESC+"[D";break;case 39:if(m.metaKey)break;h?(w.key=d.C0.ESC+"[1;"+(h+1)+"C",w.key===d.C0.ESC+"[1;3C"&&(w.key=d.C0.ESC+(E?"f":"[1;5C"))):w.key=y?d.C0.ESC+"OC":d.C0.ESC+"[C";break;case 38:if(m.metaKey)break;h?(w.key=d.C0.ESC+"[1;"+(h+1)+"A",E||w.key!==d.C0.ESC+"[1;3A"||(w.key=d.C0.ESC+"[1;5A")):w.key=y?d.C0.ESC+"OA":d.C0.ESC+"[A";break;case 40:if(m.metaKey)break;h?(w.key=d.C0.ESC+"[1;"+(h+1)+"B",E||w.key!==d.C0.ESC+"[1;3B"||(w.key=d.C0.ESC+"[1;5B")):w.key=y?d.C0.ESC+"OB":d.C0.ESC+"[B";break;case 45:m.shiftKey||m.ctrlKey||(w.key=d.C0.ESC+"[2~");break;case 46:w.key=h?d.C0.ESC+"[3;"+(h+1)+"~":d.C0.ESC+"[3~";break;case 36:w.key=h?d.C0.ESC+"[1;"+(h+1)+"H":y?d.C0.ESC+"OH":d.C0.ESC+"[H";break;case 35:w.key=h?d.C0.ESC+"[1;"+(h+1)+"F":y?d.C0.ESC+"OF":d.C0.ESC+"[F";break;case 33:m.shiftKey?w.type=2:m.ctrlKey?w.key=d.C0.ESC+"[5;"+(h+1)+"~":w.key=d.C0.ESC+"[5~";break;case 34:m.shiftKey?w.type=3:m.ctrlKey?w.key=d.C0.ESC+"[6;"+(h+1)+"~":w.key=d.C0.ESC+"[6~";break;case 112:w.key=h?d.C0.ESC+"[1;"+(h+1)+"P":d.C0.ESC+"OP";break;case 113:w.key=h?d.C0.ESC+"[1;"+(h+1)+"Q":d.C0.ESC+"OQ";break;case 114:w.key=h?d.C0.ESC+"[1;"+(h+1)+"R":d.C0.ESC+"OR";break;case 115:w.key=h?d.C0.ESC+"[1;"+(h+1)+"S":d.C0.ESC+"OS";break;case 116:w.key=h?d.C0.ESC+"[15;"+(h+1)+"~":d.C0.ESC+"[15~";break;case 117:w.key=h?d.C0.ESC+"[17;"+(h+1)+"~":d.C0.ESC+"[17~";break;case 118:w.key=h?d.C0.ESC+"[18;"+(h+1)+"~":d.C0.ESC+"[18~";break;case 119:w.key=h?d.C0.ESC+"[19;"+(h+1)+"~":d.C0.ESC+"[19~";break;case 120:w.key=h?d.C0.ESC+"[20;"+(h+1)+"~":d.C0.ESC+"[20~";break;case 121:w.key=h?d.C0.ESC+"[21;"+(h+1)+"~":d.C0.ESC+"[21~";break;case 122:w.key=h?d.C0.ESC+"[23;"+(h+1)+"~":d.C0.ESC+"[23~";break;case 123:w.key=h?d.C0.ESC+"[24;"+(h+1)+"~":d.C0.ESC+"[24~";break;default:if(!m.ctrlKey||m.shiftKey||m.altKey||m.metaKey)if(E&&!R||!m.altKey||m.metaKey)!E||m.altKey||m.ctrlKey||m.shiftKey||!m.metaKey?m.key&&!m.ctrlKey&&!m.altKey&&!m.metaKey&&m.keyCode>=48&&m.key.length===1?w.key=m.key:m.key&&m.ctrlKey&&(m.key==="_"&&(w.key=d.C0.US),m.key==="@"&&(w.key=d.C0.NUL)):m.keyCode===65&&(w.type=1);else{const p=v[m.keyCode],u=p==null?void 0:p[m.shiftKey?1:0];if(u)w.key=d.C0.ESC+u;else if(m.keyCode>=65&&m.keyCode<=90){const f=m.ctrlKey?m.keyCode-64:m.keyCode+32;let C=String.fromCharCode(f);m.shiftKey&&(C=C.toUpperCase()),w.key=d.C0.ESC+C}else if(m.keyCode===32)w.key=d.C0.ESC+(m.ctrlKey?d.C0.NUL:" ");else if(m.key==="Dead"&&m.code.startsWith("Key")){let f=m.code.slice(3,4);m.shiftKey||(f=f.toLowerCase()),w.key=d.C0.ESC+f,w.cancel=!0}}else m.keyCode>=65&&m.keyCode<=90?w.key=String.fromCharCode(m.keyCode-64):m.keyCode===32?w.key=d.C0.NUL:m.keyCode>=51&&m.keyCode<=55?w.key=String.fromCharCode(m.keyCode-51+27):m.keyCode===56?w.key=d.C0.DEL:m.keyCode===219?w.key=d.C0.ESC:m.keyCode===220?w.key=d.C0.FS:m.keyCode===221&&(w.key=d.C0.GS)}return w}},482:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},o.utf32ToString=function(a,d=0,v=a.length){let m="";for(let y=d;y<v;++y){let E=a[y];E>65535?(E-=65536,m+=String.fromCharCode(55296+(E>>10))+String.fromCharCode(E%1024+56320)):m+=String.fromCharCode(E)}return m},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,d){const v=a.length;if(!v)return 0;let m=0,y=0;if(this._interim){const E=a.charCodeAt(y++);56320<=E&&E<=57343?d[m++]=1024*(this._interim-55296)+E-56320+65536:(d[m++]=this._interim,d[m++]=E),this._interim=0}for(let E=y;E<v;++E){const R=a.charCodeAt(E);if(55296<=R&&R<=56319){if(++E>=v)return this._interim=R,m;const w=a.charCodeAt(E);56320<=w&&w<=57343?d[m++]=1024*(R-55296)+w-56320+65536:(d[m++]=R,d[m++]=w)}else R!==65279&&(d[m++]=R)}return m}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,d){const v=a.length;if(!v)return 0;let m,y,E,R,w=0,h=0,p=0;if(this.interim[0]){let C=!1,L=this.interim[0];L&=(224&L)==192?31:(240&L)==224?15:7;let T,P=0;for(;(T=63&this.interim[++P])&&P<4;)L<<=6,L|=T;const k=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,A=k-P;for(;p<A;){if(p>=v)return 0;if(T=a[p++],(192&T)!=128){p--,C=!0;break}this.interim[P++]=T,L<<=6,L|=63&T}C||(k===2?L<128?p--:d[w++]=L:k===3?L<2048||L>=55296&&L<=57343||L===65279||(d[w++]=L):L<65536||L>1114111||(d[w++]=L)),this.interim.fill(0)}const u=v-4;let f=p;for(;f<v;){for(;!(!(f<u)||128&(m=a[f])||128&(y=a[f+1])||128&(E=a[f+2])||128&(R=a[f+3]));)d[w++]=m,d[w++]=y,d[w++]=E,d[w++]=R,f+=4;if(m=a[f++],m<128)d[w++]=m;else if((224&m)==192){if(f>=v)return this.interim[0]=m,w;if(y=a[f++],(192&y)!=128){f--;continue}if(h=(31&m)<<6|63&y,h<128){f--;continue}d[w++]=h}else if((240&m)==224){if(f>=v)return this.interim[0]=m,w;if(y=a[f++],(192&y)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=y,w;if(E=a[f++],(192&E)!=128){f--;continue}if(h=(15&m)<<12|(63&y)<<6|63&E,h<2048||h>=55296&&h<=57343||h===65279)continue;d[w++]=h}else if((248&m)==240){if(f>=v)return this.interim[0]=m,w;if(y=a[f++],(192&y)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=y,w;if(E=a[f++],(192&E)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=y,this.interim[2]=E,w;if(R=a[f++],(192&R)!=128){f--;continue}if(h=(7&m)<<18|(63&y)<<12|(63&E)<<6|63&R,h<65536||h>1114111)continue;d[w++]=h}}return w}}},225:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const d=a(1480),v=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],m=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let y;o.UnicodeV6=class{constructor(){if(this.version="6",!y){y=new Uint8Array(65536),y.fill(1),y[0]=0,y.fill(0,1,32),y.fill(0,127,160),y.fill(2,4352,4448),y[9001]=2,y[9002]=2,y.fill(2,11904,42192),y[12351]=1,y.fill(2,44032,55204),y.fill(2,63744,64256),y.fill(2,65040,65050),y.fill(2,65072,65136),y.fill(2,65280,65377),y.fill(2,65504,65511);for(let E=0;E<v.length;++E)y.fill(0,v[E][0],v[E][1]+1)}}wcwidth(E){return E<32?0:E<127?1:E<65536?y[E]:function(R,w){let h,p=0,u=w.length-1;if(R<w[0][0]||R>w[u][1])return!1;for(;u>=p;)if(h=p+u>>1,R>w[h][1])p=h+1;else{if(!(R<w[h][0]))return!0;u=h-1}return!1}(E,m)?0:E>=131072&&E<=196605||E>=196608&&E<=262141?2:1}charProperties(E,R){let w=this.wcwidth(E),h=w===0&&R!==0;if(h){const p=d.UnicodeService.extractWidth(R);p===0?h=!1:p>w&&(w=p)}return d.UnicodeService.createPropertyValue(0,w,h)}}},5981:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const d=a(8460),v=a(844);class m extends v.Disposable{constructor(E){super(),this._action=E,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(E,R){if(R!==void 0&&this._syncCalls>R)return void(this._syncCalls=0);if(this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let w;for(this._isSyncWriting=!0;w=this._writeBuffer.shift();){this._action(w);const h=this._callbacks.shift();h&&h()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(E,R){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(R),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(R)}_innerWrite(E=0,R=!0){const w=E||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const h=this._writeBuffer[this._bufferOffset],p=this._action(h,R);if(p){const f=C=>Date.now()-w>=12?setTimeout(()=>this._innerWrite(0,C)):this._innerWrite(w,C);return void p.catch(C=>(queueMicrotask(()=>{throw C}),Promise.resolve(!1))).then(f)}const u=this._callbacks[this._bufferOffset];if(u&&u(),this._bufferOffset++,this._pendingData-=h.length,Date.now()-w>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=m},5941:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,d=/^[\da-f]+$/;function v(m,y){const E=m.toString(16),R=E.length<2?"0"+E:E;switch(y){case 4:return E[0];case 8:return R;case 12:return(R+R).slice(0,3);default:return R+R}}o.parseColor=function(m){if(!m)return;let y=m.toLowerCase();if(y.indexOf("rgb:")===0){y=y.slice(4);const E=a.exec(y);if(E){const R=E[1]?15:E[4]?255:E[7]?4095:65535;return[Math.round(parseInt(E[1]||E[4]||E[7]||E[10],16)/R*255),Math.round(parseInt(E[2]||E[5]||E[8]||E[11],16)/R*255),Math.round(parseInt(E[3]||E[6]||E[9]||E[12],16)/R*255)]}}else if(y.indexOf("#")===0&&(y=y.slice(1),d.exec(y)&&[3,6,9,12].includes(y.length))){const E=y.length/3,R=[0,0,0];for(let w=0;w<3;++w){const h=parseInt(y.slice(E*w,E*w+E),16);R[w]=E===1?h<<4:E===2?h:E===3?h>>4:h>>8}return R}},o.toRgbString=function(m,y=16){const[E,R,w]=m;return`rgb:${v(E,y)}/${v(R,y)}/${v(w,y)}`}},5770:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const d=a(482),v=a(8742),m=a(5770),y=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=y,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=y}registerHandler(R,w){this._handlers[R]===void 0&&(this._handlers[R]=[]);const h=this._handlers[R];return h.push(w),{dispose:()=>{const p=h.indexOf(w);p!==-1&&h.splice(p,1)}}}clearHandler(R){this._handlers[R]&&delete this._handlers[R]}setHandlerFallback(R){this._handlerFb=R}reset(){if(this._active.length)for(let R=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;R>=0;--R)this._active[R].unhook(!1);this._stack.paused=!1,this._active=y,this._ident=0}hook(R,w){if(this.reset(),this._ident=R,this._active=this._handlers[R]||y,this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].hook(w);else this._handlerFb(this._ident,"HOOK",w)}put(R,w,h){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(R,w,h);else this._handlerFb(this._ident,"PUT",(0,d.utf32ToString)(R,w,h))}unhook(R,w=!0){if(this._active.length){let h=!1,p=this._active.length-1,u=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,h=w,u=this._stack.fallThrough,this._stack.paused=!1),!u&&h===!1){for(;p>=0&&(h=this._active[p].unhook(R),h!==!0);p--)if(h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,h;p--}for(;p>=0;p--)if(h=this._active[p].unhook(!1),h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,h}else this._handlerFb(this._ident,"UNHOOK",R);this._active=y,this._ident=0}};const E=new v.Params;E.addParam(0),o.DcsHandler=class{constructor(R){this._handler=R,this._data="",this._params=E,this._hitLimit=!1}hook(R){this._params=R.length>1||R.params[0]?R.clone():E,this._data="",this._hitLimit=!1}put(R,w,h){this._hitLimit||(this._data+=(0,d.utf32ToString)(R,w,h),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(R){let w=!1;if(this._hitLimit)w=!1;else if(R&&(w=this._handler(this._data,this._params),w instanceof Promise))return w.then(h=>(this._params=E,this._data="",this._hitLimit=!1,h));return this._params=E,this._data="",this._hitLimit=!1,w}}},2015:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const d=a(844),v=a(8742),m=a(6242),y=a(6351);class E{constructor(p){this.table=new Uint8Array(p)}setDefault(p,u){this.table.fill(p<<4|u)}add(p,u,f,C){this.table[u<<8|p]=f<<4|C}addMany(p,u,f,C){for(let L=0;L<p.length;L++)this.table[u<<8|p[L]]=f<<4|C}}o.TransitionTable=E;const R=160;o.VT500_TRANSITION_TABLE=function(){const h=new E(4095),p=Array.apply(null,Array(256)).map((P,k)=>k),u=(P,k)=>p.slice(P,k),f=u(32,127),C=u(0,24);C.push(25),C.push.apply(C,u(28,32));const L=u(0,14);let T;for(T in h.setDefault(1,0),h.addMany(f,0,2,0),L)h.addMany([24,26,153,154],T,3,0),h.addMany(u(128,144),T,3,0),h.addMany(u(144,152),T,3,0),h.add(156,T,0,0),h.add(27,T,11,1),h.add(157,T,4,8),h.addMany([152,158,159],T,0,7),h.add(155,T,11,3),h.add(144,T,11,9);return h.addMany(C,0,3,0),h.addMany(C,1,3,1),h.add(127,1,0,1),h.addMany(C,8,0,8),h.addMany(C,3,3,3),h.add(127,3,0,3),h.addMany(C,4,3,4),h.add(127,4,0,4),h.addMany(C,6,3,6),h.addMany(C,5,3,5),h.add(127,5,0,5),h.addMany(C,2,3,2),h.add(127,2,0,2),h.add(93,1,4,8),h.addMany(f,8,5,8),h.add(127,8,5,8),h.addMany([156,27,24,26,7],8,6,0),h.addMany(u(28,32),8,0,8),h.addMany([88,94,95],1,0,7),h.addMany(f,7,0,7),h.addMany(C,7,0,7),h.add(156,7,0,0),h.add(127,7,0,7),h.add(91,1,11,3),h.addMany(u(64,127),3,7,0),h.addMany(u(48,60),3,8,4),h.addMany([60,61,62,63],3,9,4),h.addMany(u(48,60),4,8,4),h.addMany(u(64,127),4,7,0),h.addMany([60,61,62,63],4,0,6),h.addMany(u(32,64),6,0,6),h.add(127,6,0,6),h.addMany(u(64,127),6,0,0),h.addMany(u(32,48),3,9,5),h.addMany(u(32,48),5,9,5),h.addMany(u(48,64),5,0,6),h.addMany(u(64,127),5,7,0),h.addMany(u(32,48),4,9,5),h.addMany(u(32,48),1,9,2),h.addMany(u(32,48),2,9,2),h.addMany(u(48,127),2,10,0),h.addMany(u(48,80),1,10,0),h.addMany(u(81,88),1,10,0),h.addMany([89,90,92],1,10,0),h.addMany(u(96,127),1,10,0),h.add(80,1,11,9),h.addMany(C,9,0,9),h.add(127,9,0,9),h.addMany(u(28,32),9,0,9),h.addMany(u(32,48),9,9,12),h.addMany(u(48,60),9,8,10),h.addMany([60,61,62,63],9,9,10),h.addMany(C,11,0,11),h.addMany(u(32,128),11,0,11),h.addMany(u(28,32),11,0,11),h.addMany(C,10,0,10),h.add(127,10,0,10),h.addMany(u(28,32),10,0,10),h.addMany(u(48,60),10,8,10),h.addMany([60,61,62,63],10,0,11),h.addMany(u(32,48),10,9,12),h.addMany(C,12,0,12),h.add(127,12,0,12),h.addMany(u(28,32),12,0,12),h.addMany(u(32,48),12,9,12),h.addMany(u(48,64),12,0,11),h.addMany(u(64,127),12,12,13),h.addMany(u(64,127),10,12,13),h.addMany(u(64,127),9,12,13),h.addMany(C,13,13,13),h.addMany(f,13,13,13),h.add(127,13,0,13),h.addMany([27,156,24,26],13,14,0),h.add(R,0,2,0),h.add(R,8,5,8),h.add(R,6,0,6),h.add(R,11,0,11),h.add(R,13,13,13),h}();class w extends d.Disposable{constructor(p=o.VT500_TRANSITION_TABLE){super(),this._transitions=p,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(u,f,C)=>{},this._executeHandlerFb=u=>{},this._csiHandlerFb=(u,f)=>{},this._escHandlerFb=u=>{},this._errorHandlerFb=u=>u,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,d.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new m.OscParser),this._dcsParser=this.register(new y.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(p,u=[64,126]){let f=0;if(p.prefix){if(p.prefix.length>1)throw new Error("only one byte as prefix supported");if(f=p.prefix.charCodeAt(0),f&&60>f||f>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(p.intermediates){if(p.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let L=0;L<p.intermediates.length;++L){const T=p.intermediates.charCodeAt(L);if(32>T||T>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");f<<=8,f|=T}}if(p.final.length!==1)throw new Error("final must be a single byte");const C=p.final.charCodeAt(0);if(u[0]>C||C>u[1])throw new Error(`final must be in range ${u[0]} .. ${u[1]}`);return f<<=8,f|=C,f}identToString(p){const u=[];for(;p;)u.push(String.fromCharCode(255&p)),p>>=8;return u.reverse().join("")}setPrintHandler(p){this._printHandler=p}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(p,u){const f=this._identifier(p,[48,126]);this._escHandlers[f]===void 0&&(this._escHandlers[f]=[]);const C=this._escHandlers[f];return C.push(u),{dispose:()=>{const L=C.indexOf(u);L!==-1&&C.splice(L,1)}}}clearEscHandler(p){this._escHandlers[this._identifier(p,[48,126])]&&delete this._escHandlers[this._identifier(p,[48,126])]}setEscHandlerFallback(p){this._escHandlerFb=p}setExecuteHandler(p,u){this._executeHandlers[p.charCodeAt(0)]=u}clearExecuteHandler(p){this._executeHandlers[p.charCodeAt(0)]&&delete this._executeHandlers[p.charCodeAt(0)]}setExecuteHandlerFallback(p){this._executeHandlerFb=p}registerCsiHandler(p,u){const f=this._identifier(p);this._csiHandlers[f]===void 0&&(this._csiHandlers[f]=[]);const C=this._csiHandlers[f];return C.push(u),{dispose:()=>{const L=C.indexOf(u);L!==-1&&C.splice(L,1)}}}clearCsiHandler(p){this._csiHandlers[this._identifier(p)]&&delete this._csiHandlers[this._identifier(p)]}setCsiHandlerFallback(p){this._csiHandlerFb=p}registerDcsHandler(p,u){return this._dcsParser.registerHandler(this._identifier(p),u)}clearDcsHandler(p){this._dcsParser.clearHandler(this._identifier(p))}setDcsHandlerFallback(p){this._dcsParser.setHandlerFallback(p)}registerOscHandler(p,u){return this._oscParser.registerHandler(p,u)}clearOscHandler(p){this._oscParser.clearHandler(p)}setOscHandlerFallback(p){this._oscParser.setHandlerFallback(p)}setErrorHandler(p){this._errorHandler=p}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(p,u,f,C,L){this._parseStack.state=p,this._parseStack.handlers=u,this._parseStack.handlerPos=f,this._parseStack.transition=C,this._parseStack.chunkPos=L}parse(p,u,f){let C,L=0,T=0,P=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,P=this._parseStack.chunkPos+1;else{if(f===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const k=this._parseStack.handlers;let A=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(f===!1&&A>-1){for(;A>=0&&(C=k[A](this._params),C!==!0);A--)if(C instanceof Promise)return this._parseStack.handlerPos=A,C}this._parseStack.handlers=[];break;case 4:if(f===!1&&A>-1){for(;A>=0&&(C=k[A](),C!==!0);A--)if(C instanceof Promise)return this._parseStack.handlerPos=A,C}this._parseStack.handlers=[];break;case 6:if(L=p[this._parseStack.chunkPos],C=this._dcsParser.unhook(L!==24&&L!==26,f),C)return C;L===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(L=p[this._parseStack.chunkPos],C=this._oscParser.end(L!==24&&L!==26,f),C)return C;L===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,P=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let k=P;k<u;++k){switch(L=p[k],T=this._transitions.table[this.currentState<<8|(L<160?L:R)],T>>4){case 2:for(let N=k+1;;++N){if(N>=u||(L=p[N])<32||L>126&&L<R){this._printHandler(p,k,N),k=N-1;break}if(++N>=u||(L=p[N])<32||L>126&&L<R){this._printHandler(p,k,N),k=N-1;break}if(++N>=u||(L=p[N])<32||L>126&&L<R){this._printHandler(p,k,N),k=N-1;break}if(++N>=u||(L=p[N])<32||L>126&&L<R){this._printHandler(p,k,N),k=N-1;break}}break;case 3:this._executeHandlers[L]?this._executeHandlers[L]():this._executeHandlerFb(L),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:k,code:L,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const A=this._csiHandlers[this._collect<<8|L];let H=A?A.length-1:-1;for(;H>=0&&(C=A[H](this._params),C!==!0);H--)if(C instanceof Promise)return this._preserveStack(3,A,H,T,k),C;H<0&&this._csiHandlerFb(this._collect<<8|L,this._params),this.precedingJoinState=0;break;case 8:do switch(L){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(L-48)}while(++k<u&&(L=p[k])>47&&L<60);k--;break;case 9:this._collect<<=8,this._collect|=L;break;case 10:const V=this._escHandlers[this._collect<<8|L];let z=V?V.length-1:-1;for(;z>=0&&(C=V[z](),C!==!0);z--)if(C instanceof Promise)return this._preserveStack(4,V,z,T,k),C;z<0&&this._escHandlerFb(this._collect<<8|L),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|L,this._params);break;case 13:for(let N=k+1;;++N)if(N>=u||(L=p[N])===24||L===26||L===27||L>127&&L<R){this._dcsParser.put(p,k,N),k=N-1;break}break;case 14:if(C=this._dcsParser.unhook(L!==24&&L!==26),C)return this._preserveStack(6,[],0,T,k),C;L===27&&(T|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let N=k+1;;N++)if(N>=u||(L=p[N])<32||L>127&&L<R){this._oscParser.put(p,k,N),k=N-1;break}break;case 6:if(C=this._oscParser.end(L!==24&&L!==26),C)return this._preserveStack(5,[],0,T,k),C;L===27&&(T|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&T}}}o.EscapeSequenceParser=w},6242:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const d=a(5770),v=a(482),m=[];o.OscParser=class{constructor(){this._state=0,this._active=m,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(y,E){this._handlers[y]===void 0&&(this._handlers[y]=[]);const R=this._handlers[y];return R.push(E),{dispose:()=>{const w=R.indexOf(E);w!==-1&&R.splice(w,1)}}}clearHandler(y){this._handlers[y]&&delete this._handlers[y]}setHandlerFallback(y){this._handlerFb=y}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}reset(){if(this._state===2)for(let y=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;y>=0;--y)this._active[y].end(!1);this._stack.paused=!1,this._active=m,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||m,this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].start();else this._handlerFb(this._id,"START")}_put(y,E,R){if(this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].put(y,E,R);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(y,E,R))}start(){this.reset(),this._state=1}put(y,E,R){if(this._state!==3){if(this._state===1)for(;E<R;){const w=y[E++];if(w===59){this._state=2,this._start();break}if(w<48||57<w)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+w-48}this._state===2&&R-E>0&&this._put(y,E,R)}}end(y,E=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let R=!1,w=this._active.length-1,h=!1;if(this._stack.paused&&(w=this._stack.loopPosition-1,R=E,h=this._stack.fallThrough,this._stack.paused=!1),!h&&R===!1){for(;w>=0&&(R=this._active[w].end(y),R!==!0);w--)if(R instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!1,R;w--}for(;w>=0;w--)if(R=this._active[w].end(!1),R instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!0,R}else this._handlerFb(this._id,"END",y);this._active=m,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(y){this._handler=y,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(y,E,R){this._hitLimit||(this._data+=(0,v.utf32ToString)(y,E,R),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(y){let E=!1;if(this._hitLimit)E=!1;else if(y&&(E=this._handler(this._data),E instanceof Promise))return E.then(R=>(this._data="",this._hitLimit=!1,R));return this._data="",this._hitLimit=!1,E}}},8742:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const a=2147483647;class d{static fromArray(m){const y=new d;if(!m.length)return y;for(let E=Array.isArray(m[0])?1:0;E<m.length;++E){const R=m[E];if(Array.isArray(R))for(let w=0;w<R.length;++w)y.addSubParam(R[w]);else y.addParam(R)}return y}constructor(m=32,y=32){if(this.maxLength=m,this.maxSubParamsLength=y,y>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(m),this.length=0,this._subParams=new Int32Array(y),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(m),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const m=new d(this.maxLength,this.maxSubParamsLength);return m.params.set(this.params),m.length=this.length,m._subParams.set(this._subParams),m._subParamsLength=this._subParamsLength,m._subParamsIdx.set(this._subParamsIdx),m._rejectDigits=this._rejectDigits,m._rejectSubDigits=this._rejectSubDigits,m._digitIsSub=this._digitIsSub,m}toArray(){const m=[];for(let y=0;y<this.length;++y){m.push(this.params[y]);const E=this._subParamsIdx[y]>>8,R=255&this._subParamsIdx[y];R-E>0&&m.push(Array.prototype.slice.call(this._subParams,E,R))}return m}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(m){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=m>a?a:m}}addSubParam(m){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=m>a?a:m,this._subParamsIdx[this.length-1]++}}hasSubParams(m){return(255&this._subParamsIdx[m])-(this._subParamsIdx[m]>>8)>0}getSubParams(m){const y=this._subParamsIdx[m]>>8,E=255&this._subParamsIdx[m];return E-y>0?this._subParams.subarray(y,E):null}getSubParamsAll(){const m={};for(let y=0;y<this.length;++y){const E=this._subParamsIdx[y]>>8,R=255&this._subParamsIdx[y];R-E>0&&(m[y]=this._subParams.slice(E,R))}return m}addDigit(m){let y;if(this._rejectDigits||!(y=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const E=this._digitIsSub?this._subParams:this.params,R=E[y-1];E[y-1]=~R?Math.min(10*R+m,a):m}}o.Params=d},5741:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,d){const v={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(v),d.dispose=()=>this._wrappedAddonDispose(v),d.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let d=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===a){d=v;break}if(d===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(d,1)}}},8771:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const d=a(3785),v=a(511);o.BufferApiView=class{constructor(m,y){this._buffer=m,this.type=y}init(m){return this._buffer=m,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(m){const y=this._buffer.lines.get(m);if(y)return new d.BufferLineApiView(y)}getNullCell(){return new v.CellData}}},3785:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const d=a(511);o.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,m){if(!(v<0||v>=this._line.length))return m?(this._line.loadCell(v,m),m):this._line.loadCell(v,new d.CellData)}translateToString(v,m,y){return this._line.translateToString(v,m,y)}}},8285:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const d=a(8771),v=a(8460),m=a(844);class y extends m.Disposable{constructor(R){super(),this._core=R,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new d.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new d.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=y},7975:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,d){return this._core.registerCsiHandler(a,v=>d(v.toArray()))}addCsiHandler(a,d){return this.registerCsiHandler(a,d)}registerDcsHandler(a,d){return this._core.registerDcsHandler(a,(v,m)=>d(v,m.toArray()))}addDcsHandler(a,d){return this.registerDcsHandler(a,d)}registerEscHandler(a,d){return this._core.registerEscHandler(a,d)}addEscHandler(a,d){return this.registerEscHandler(a,d)}registerOscHandler(a,d){return this._core.registerOscHandler(a,d)}addOscHandler(a,d){return this.registerOscHandler(a,d)}}},7090:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(S,o,a){var d=this&&this.__decorate||function(h,p,u,f){var C,L=arguments.length,T=L<3?p:f===null?f=Object.getOwnPropertyDescriptor(p,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(h,p,u,f);else for(var P=h.length-1;P>=0;P--)(C=h[P])&&(T=(L<3?C(T):L>3?C(p,u,T):C(p,u))||T);return L>3&&T&&Object.defineProperty(p,u,T),T},v=this&&this.__param||function(h,p){return function(u,f){p(u,f,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const m=a(8460),y=a(844),E=a(5295),R=a(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let w=o.BufferService=class extends y.Disposable{get buffer(){return this.buffers.active}constructor(h){super(),this.isUserScrolling=!1,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new m.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(h.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(h.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new E.BufferSet(h,this))}resize(h,p){this.cols=h,this.rows=p,this.buffers.resize(h,p),this._onResize.fire({cols:h,rows:p})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(h,p=!1){const u=this.buffer;let f;f=this._cachedBlankLine,f&&f.length===this.cols&&f.getFg(0)===h.fg&&f.getBg(0)===h.bg||(f=u.getBlankLine(h,p),this._cachedBlankLine=f),f.isWrapped=p;const C=u.ybase+u.scrollTop,L=u.ybase+u.scrollBottom;if(u.scrollTop===0){const T=u.lines.isFull;L===u.lines.length-1?T?u.lines.recycle().copyFrom(f):u.lines.push(f.clone()):u.lines.splice(L+1,0,f.clone()),T?this.isUserScrolling&&(u.ydisp=Math.max(u.ydisp-1,0)):(u.ybase++,this.isUserScrolling||u.ydisp++)}else{const T=L-C+1;u.lines.shiftElements(C+1,T-1,-1),u.lines.set(L,f.clone())}this.isUserScrolling||(u.ydisp=u.ybase),this._onScroll.fire(u.ydisp)}scrollLines(h,p,u){const f=this.buffer;if(h<0){if(f.ydisp===0)return;this.isUserScrolling=!0}else h+f.ydisp>=f.ybase&&(this.isUserScrolling=!1);const C=f.ydisp;f.ydisp=Math.max(Math.min(f.ydisp+h,f.ybase),0),C!==f.ydisp&&(p||this._onScroll.fire(f.ydisp))}};o.BufferService=w=d([v(0,R.IOptionsService)],w)},7994:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,d){this._charsets[a]=d,this.glevel===a&&(this.charset=d)}}},1753:function(S,o,a){var d=this&&this.__decorate||function(f,C,L,T){var P,k=arguments.length,A=k<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,L):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(f,C,L,T);else for(var H=f.length-1;H>=0;H--)(P=f[H])&&(A=(k<3?P(A):k>3?P(C,L,A):P(C,L))||A);return k>3&&A&&Object.defineProperty(C,L,A),A},v=this&&this.__param||function(f,C){return function(L,T){C(L,T,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const m=a(2585),y=a(8460),E=a(844),R={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:f=>f.button!==4&&f.action===1&&(f.ctrl=!1,f.alt=!1,f.shift=!1,!0)},VT200:{events:19,restrict:f=>f.action!==32},DRAG:{events:23,restrict:f=>f.action!==32||f.button!==3},ANY:{events:31,restrict:f=>!0}};function w(f,C){let L=(f.ctrl?16:0)|(f.shift?4:0)|(f.alt?8:0);return f.button===4?(L|=64,L|=f.action):(L|=3&f.button,4&f.button&&(L|=64),8&f.button&&(L|=128),f.action===32?L|=32:f.action!==0||C||(L|=3)),L}const h=String.fromCharCode,p={DEFAULT:f=>{const C=[w(f,!1)+32,f.col+32,f.row+32];return C[0]>255||C[1]>255||C[2]>255?"":`\x1B[M${h(C[0])}${h(C[1])}${h(C[2])}`},SGR:f=>{const C=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${w(f,!0)};${f.col};${f.row}${C}`},SGR_PIXELS:f=>{const C=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${w(f,!0)};${f.x};${f.y}${C}`}};let u=o.CoreMouseService=class extends E.Disposable{constructor(f,C){super(),this._bufferService=f,this._coreService=C,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new y.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const L of Object.keys(R))this.addProtocol(L,R[L]);for(const L of Object.keys(p))this.addEncoding(L,p[L]);this.reset()}addProtocol(f,C){this._protocols[f]=C}addEncoding(f,C){this._encodings[f]=C}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(f){if(!this._protocols[f])throw new Error(`unknown protocol "${f}"`);this._activeProtocol=f,this._onProtocolChange.fire(this._protocols[f].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(f){if(!this._encodings[f])throw new Error(`unknown encoding "${f}"`);this._activeEncoding=f}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(f){if(f.col<0||f.col>=this._bufferService.cols||f.row<0||f.row>=this._bufferService.rows||f.button===4&&f.action===32||f.button===3&&f.action!==32||f.button!==4&&(f.action===2||f.action===3)||(f.col++,f.row++,f.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,f,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(f))return!1;const C=this._encodings[this._activeEncoding](f);return C&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(C):this._coreService.triggerDataEvent(C,!0)),this._lastEvent=f,!0}explainEvents(f){return{down:!!(1&f),up:!!(2&f),drag:!!(4&f),move:!!(8&f),wheel:!!(16&f)}}_equalEvents(f,C,L){if(L){if(f.x!==C.x||f.y!==C.y)return!1}else if(f.col!==C.col||f.row!==C.row)return!1;return f.button===C.button&&f.action===C.action&&f.ctrl===C.ctrl&&f.alt===C.alt&&f.shift===C.shift}};o.CoreMouseService=u=d([v(0,m.IBufferService),v(1,m.ICoreService)],u)},6975:function(S,o,a){var d=this&&this.__decorate||function(u,f,C,L){var T,P=arguments.length,k=P<3?f:L===null?L=Object.getOwnPropertyDescriptor(f,C):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(u,f,C,L);else for(var A=u.length-1;A>=0;A--)(T=u[A])&&(k=(P<3?T(k):P>3?T(f,C,k):T(f,C))||k);return P>3&&k&&Object.defineProperty(f,C,k),k},v=this&&this.__param||function(u,f){return function(C,L){f(C,L,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const m=a(1439),y=a(8460),E=a(844),R=a(2585),w=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let p=o.CoreService=class extends E.Disposable{constructor(u,f,C){super(),this._bufferService=u,this._logService=f,this._optionsService=C,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new y.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new y.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new y.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new y.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,m.clone)(w),this.decPrivateModes=(0,m.clone)(h)}reset(){this.modes=(0,m.clone)(w),this.decPrivateModes=(0,m.clone)(h)}triggerDataEvent(u,f=!1){if(this._optionsService.rawOptions.disableStdin)return;const C=this._bufferService.buffer;f&&this._optionsService.rawOptions.scrollOnUserInput&&C.ybase!==C.ydisp&&this._onRequestScrollToBottom.fire(),f&&this._onUserInput.fire(),this._logService.debug(`sending data "${u}"`,()=>u.split("").map(L=>L.charCodeAt(0))),this._onData.fire(u)}triggerBinaryEvent(u){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${u}"`,()=>u.split("").map(f=>f.charCodeAt(0))),this._onBinary.fire(u))}};o.CoreService=p=d([v(0,R.IBufferService),v(1,R.ILogService),v(2,R.IOptionsService)],p)},9074:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const d=a(8055),v=a(8460),m=a(844),y=a(6106);let E=0,R=0;class w extends m.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new y.SortedList(u=>u==null?void 0:u.marker.line),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,m.toDisposable)(()=>this.reset()))}registerDecoration(u){if(u.marker.isDisposed)return;const f=new h(u);if(f){const C=f.marker.onDispose(()=>f.dispose());f.onDispose(()=>{f&&(this._decorations.delete(f)&&this._onDecorationRemoved.fire(f),C.dispose())}),this._decorations.insert(f),this._onDecorationRegistered.fire(f)}return f}reset(){for(const u of this._decorations.values())u.dispose();this._decorations.clear()}*getDecorationsAtCell(u,f,C){let L=0,T=0;for(const P of this._decorations.getKeyIterator(f))L=P.options.x??0,T=L+(P.options.width??1),u>=L&&u<T&&(!C||(P.options.layer??"bottom")===C)&&(yield P)}forEachDecorationAtCell(u,f,C,L){this._decorations.forEachByKey(f,T=>{E=T.options.x??0,R=E+(T.options.width??1),u>=E&&u<R&&(!C||(T.options.layer??"bottom")===C)&&L(T)})}}o.DecorationService=w;class h extends m.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=d.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=d.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(u){super(),this.options=u,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=u.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const d=a(2585),v=a(8343);class m{constructor(...E){this._entries=new Map;for(const[R,w]of E)this.set(R,w)}set(E,R){const w=this._entries.get(E);return this._entries.set(E,R),w}forEach(E){for(const[R,w]of this._entries.entries())E(R,w)}has(E){return this._entries.has(E)}get(E){return this._entries.get(E)}}o.ServiceCollection=m,o.InstantiationService=class{constructor(){this._services=new m,this._services.set(d.IInstantiationService,this)}setService(y,E){this._services.set(y,E)}getService(y){return this._services.get(y)}createInstance(y,...E){const R=(0,v.getServiceDependencies)(y).sort((p,u)=>p.index-u.index),w=[];for(const p of R){const u=this._services.get(p.id);if(!u)throw new Error(`[createInstance] ${y.name} depends on UNKNOWN service ${p.id}.`);w.push(u)}const h=R.length>0?R[0].index:E.length;if(E.length!==h)throw new Error(`[createInstance] First service dependency of ${y.name} at position ${h+1} conflicts with ${E.length} static arguments`);return new y(...E,...w)}}},7866:function(S,o,a){var d=this&&this.__decorate||function(h,p,u,f){var C,L=arguments.length,T=L<3?p:f===null?f=Object.getOwnPropertyDescriptor(p,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(h,p,u,f);else for(var P=h.length-1;P>=0;P--)(C=h[P])&&(T=(L<3?C(T):L>3?C(p,u,T):C(p,u))||T);return L>3&&T&&Object.defineProperty(p,u,T),T},v=this&&this.__param||function(h,p){return function(u,f){p(u,f,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const m=a(844),y=a(2585),E={trace:y.LogLevelEnum.TRACE,debug:y.LogLevelEnum.DEBUG,info:y.LogLevelEnum.INFO,warn:y.LogLevelEnum.WARN,error:y.LogLevelEnum.ERROR,off:y.LogLevelEnum.OFF};let R,w=o.LogService=class extends m.Disposable{get logLevel(){return this._logLevel}constructor(h){super(),this._optionsService=h,this._logLevel=y.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),R=this}_updateLogLevel(){this._logLevel=E[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(h){for(let p=0;p<h.length;p++)typeof h[p]=="function"&&(h[p]=h[p]())}_log(h,p,u){this._evalLazyOptionalParams(u),h.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+p,...u)}trace(h,...p){var u;this._logLevel<=y.LogLevelEnum.TRACE&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.trace.bind(this._optionsService.options.logger))??console.log,h,p)}debug(h,...p){var u;this._logLevel<=y.LogLevelEnum.DEBUG&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.debug.bind(this._optionsService.options.logger))??console.log,h,p)}info(h,...p){var u;this._logLevel<=y.LogLevelEnum.INFO&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.info.bind(this._optionsService.options.logger))??console.info,h,p)}warn(h,...p){var u;this._logLevel<=y.LogLevelEnum.WARN&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.warn.bind(this._optionsService.options.logger))??console.warn,h,p)}error(h,...p){var u;this._logLevel<=y.LogLevelEnum.ERROR&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.error.bind(this._optionsService.options.logger))??console.error,h,p)}};o.LogService=w=d([v(0,y.IOptionsService)],w),o.setTraceLogger=function(h){R=h},o.traceCall=function(h,p,u){if(typeof u.value!="function")throw new Error("not supported");const f=u.value;u.value=function(...C){if(R.logLevel!==y.LogLevelEnum.TRACE)return f.apply(this,C);R.trace(`GlyphRenderer#${f.name}(${C.map(T=>JSON.stringify(T)).join(", ")})`);const L=f.apply(this,C);return R.trace(`GlyphRenderer#${f.name} return`,L),L}}},7302:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const d=a(8460),v=a(844),m=a(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:m.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const y=["normal","bold","100","200","300","400","500","600","700","800","900"];class E extends v.Disposable{constructor(w){super(),this._onOptionChange=this.register(new d.EventEmitter),this.onOptionChange=this._onOptionChange.event;const h={...o.DEFAULT_OPTIONS};for(const p in w)if(p in h)try{const u=w[p];h[p]=this._sanitizeAndValidateOption(p,u)}catch(u){console.error(u)}this.rawOptions=h,this.options={...h},this._setupOptions(),this.register((0,v.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(w,h){return this.onOptionChange(p=>{p===w&&h(this.rawOptions[w])})}onMultipleOptionChange(w,h){return this.onOptionChange(p=>{w.indexOf(p)!==-1&&h()})}_setupOptions(){const w=p=>{if(!(p in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);return this.rawOptions[p]},h=(p,u)=>{if(!(p in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);u=this._sanitizeAndValidateOption(p,u),this.rawOptions[p]!==u&&(this.rawOptions[p]=u,this._onOptionChange.fire(p))};for(const p in this.rawOptions){const u={get:w.bind(this,p),set:h.bind(this,p)};Object.defineProperty(this.options,p,u)}}_sanitizeAndValidateOption(w,h){switch(w){case"cursorStyle":if(h||(h=o.DEFAULT_OPTIONS[w]),!function(p){return p==="block"||p==="underline"||p==="bar"}(h))throw new Error(`"${h}" is not a valid value for ${w}`);break;case"wordSeparator":h||(h=o.DEFAULT_OPTIONS[w]);break;case"fontWeight":case"fontWeightBold":if(typeof h=="number"&&1<=h&&h<=1e3)break;h=y.includes(h)?h:o.DEFAULT_OPTIONS[w];break;case"cursorWidth":h=Math.floor(h);case"lineHeight":case"tabStopWidth":if(h<1)throw new Error(`${w} cannot be less than 1, value: ${h}`);break;case"minimumContrastRatio":h=Math.max(1,Math.min(21,Math.round(10*h)/10));break;case"scrollback":if((h=Math.min(h,4294967295))<0)throw new Error(`${w} cannot be less than 0, value: ${h}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(h<=0)throw new Error(`${w} cannot be less than or equal to 0, value: ${h}`);break;case"rows":case"cols":if(!h&&h!==0)throw new Error(`${w} must be numeric, value: ${h}`);break;case"windowsPty":h=h??{}}return h}}o.OptionsService=E},2660:function(S,o,a){var d=this&&this.__decorate||function(E,R,w,h){var p,u=arguments.length,f=u<3?R:h===null?h=Object.getOwnPropertyDescriptor(R,w):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(E,R,w,h);else for(var C=E.length-1;C>=0;C--)(p=E[C])&&(f=(u<3?p(f):u>3?p(R,w,f):p(R,w))||f);return u>3&&f&&Object.defineProperty(R,w,f),f},v=this&&this.__param||function(E,R){return function(w,h){R(w,h,E)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const m=a(2585);let y=o.OscLinkService=class{constructor(E){this._bufferService=E,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(E){const R=this._bufferService.buffer;if(E.id===void 0){const C=R.addMarker(R.ybase+R.y),L={data:E,id:this._nextId++,lines:[C]};return C.onDispose(()=>this._removeMarkerFromLink(L,C)),this._dataByLinkId.set(L.id,L),L.id}const w=E,h=this._getEntryIdKey(w),p=this._entriesWithId.get(h);if(p)return this.addLineToLink(p.id,R.ybase+R.y),p.id;const u=R.addMarker(R.ybase+R.y),f={id:this._nextId++,key:this._getEntryIdKey(w),data:w,lines:[u]};return u.onDispose(()=>this._removeMarkerFromLink(f,u)),this._entriesWithId.set(f.key,f),this._dataByLinkId.set(f.id,f),f.id}addLineToLink(E,R){const w=this._dataByLinkId.get(E);if(w&&w.lines.every(h=>h.line!==R)){const h=this._bufferService.buffer.addMarker(R);w.lines.push(h),h.onDispose(()=>this._removeMarkerFromLink(w,h))}}getLinkData(E){var R;return(R=this._dataByLinkId.get(E))==null?void 0:R.data}_getEntryIdKey(E){return`${E.id};;${E.uri}`}_removeMarkerFromLink(E,R){const w=E.lines.indexOf(R);w!==-1&&(E.lines.splice(w,1),E.lines.length===0&&(E.data.id!==void 0&&this._entriesWithId.delete(E.key),this._dataByLinkId.delete(E.id)))}};o.OscLinkService=y=d([v(0,m.IBufferService)],y)},8343:(S,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const a="di$target",d="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(v){return v[d]||[]},o.createDecorator=function(v){if(o.serviceRegistry.has(v))return o.serviceRegistry.get(v);const m=function(y,E,R){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(w,h,p){h[a]===h?h[d].push({id:w,index:p}):(h[d]=[{id:w,index:p}],h[a]=h)})(m,y,R)};return m.toString=()=>v,o.serviceRegistry.set(v,m),m}},2585:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const d=a(8343);var v;o.IBufferService=(0,d.createDecorator)("BufferService"),o.ICoreMouseService=(0,d.createDecorator)("CoreMouseService"),o.ICoreService=(0,d.createDecorator)("CoreService"),o.ICharsetService=(0,d.createDecorator)("CharsetService"),o.IInstantiationService=(0,d.createDecorator)("InstantiationService"),function(m){m[m.TRACE=0]="TRACE",m[m.DEBUG=1]="DEBUG",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.OFF=5]="OFF"}(v||(o.LogLevelEnum=v={})),o.ILogService=(0,d.createDecorator)("LogService"),o.IOptionsService=(0,d.createDecorator)("OptionsService"),o.IOscLinkService=(0,d.createDecorator)("OscLinkService"),o.IUnicodeService=(0,d.createDecorator)("UnicodeService"),o.IDecorationService=(0,d.createDecorator)("DecorationService")},1480:(S,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const d=a(8460),v=a(225);class m{static extractShouldJoin(E){return(1&E)!=0}static extractWidth(E){return E>>1&3}static extractCharKind(E){return E>>3}static createPropertyValue(E,R,w=!1){return(16777215&E)<<3|(3&R)<<1|(w?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new d.EventEmitter,this.onChange=this._onChange.event;const E=new v.UnicodeV6;this.register(E),this._active=E.version,this._activeProvider=E}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(E){if(!this._providers[E])throw new Error(`unknown Unicode version "${E}"`);this._active=E,this._activeProvider=this._providers[E],this._onChange.fire(E)}register(E){this._providers[E.version]=E}wcwidth(E){return this._activeProvider.wcwidth(E)}getStringCellWidth(E){let R=0,w=0;const h=E.length;for(let p=0;p<h;++p){let u=E.charCodeAt(p);if(55296<=u&&u<=56319){if(++p>=h)return R+this.wcwidth(u);const L=E.charCodeAt(p);56320<=L&&L<=57343?u=1024*(u-55296)+L-56320+65536:R+=this.wcwidth(L)}const f=this.charProperties(u,w);let C=m.extractWidth(f);m.extractShouldJoin(f)&&(C-=m.extractWidth(w)),R+=C,w=f}return R}charProperties(E,R){return this._activeProvider.charProperties(E,R)}}o.UnicodeService=m}},c={};function _(S){var o=c[S];if(o!==void 0)return o.exports;var a=c[S]={exports:{}};return s[S].call(a.exports,a,a.exports,_),a.exports}var x={};return(()=>{var S=x;Object.defineProperty(S,"__esModule",{value:!0}),S.Terminal=void 0;const o=_(9042),a=_(3236),d=_(844),v=_(5741),m=_(8285),y=_(7975),E=_(7090),R=["cols","rows"];class w extends d.Disposable{constructor(p){super(),this._core=this.register(new a.Terminal(p)),this._addonManager=this.register(new v.AddonManager),this._publicOptions={...this._core.options};const u=C=>this._core.options[C],f=(C,L)=>{this._checkReadonlyOptions(C),this._core.options[C]=L};for(const C in this._core.options){const L={get:u.bind(this,C),set:f.bind(this,C)};Object.defineProperty(this._publicOptions,C,L)}}_checkReadonlyOptions(p){if(R.includes(p))throw new Error(`Option "${p}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new y.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new E.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new m.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const p=this._core.coreService.decPrivateModes;let u="none";switch(this._core.coreMouseService.activeProtocol){case"X10":u="x10";break;case"VT200":u="vt200";break;case"DRAG":u="drag";break;case"ANY":u="any"}return{applicationCursorKeysMode:p.applicationCursorKeys,applicationKeypadMode:p.applicationKeypad,bracketedPasteMode:p.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:u,originMode:p.origin,reverseWraparoundMode:p.reverseWraparound,sendFocusMode:p.sendFocus,wraparoundMode:p.wraparound}}get options(){return this._publicOptions}set options(p){for(const u in p)this._publicOptions[u]=p[u]}blur(){this._core.blur()}focus(){this._core.focus()}input(p,u=!0){this._core.input(p,u)}resize(p,u){this._verifyIntegers(p,u),this._core.resize(p,u)}open(p){this._core.open(p)}attachCustomKeyEventHandler(p){this._core.attachCustomKeyEventHandler(p)}attachCustomWheelEventHandler(p){this._core.attachCustomWheelEventHandler(p)}registerLinkProvider(p){return this._core.registerLinkProvider(p)}registerCharacterJoiner(p){return this._checkProposedApi(),this._core.registerCharacterJoiner(p)}deregisterCharacterJoiner(p){this._checkProposedApi(),this._core.deregisterCharacterJoiner(p)}registerMarker(p=0){return this._verifyIntegers(p),this._core.registerMarker(p)}registerDecoration(p){return this._checkProposedApi(),this._verifyPositiveIntegers(p.x??0,p.width??0,p.height??0),this._core.registerDecoration(p)}hasSelection(){return this._core.hasSelection()}select(p,u,f){this._verifyIntegers(p,u,f),this._core.select(p,u,f)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(p,u){this._verifyIntegers(p,u),this._core.selectLines(p,u)}dispose(){super.dispose()}scrollLines(p){this._verifyIntegers(p),this._core.scrollLines(p)}scrollPages(p){this._verifyIntegers(p),this._core.scrollPages(p)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(p){this._verifyIntegers(p),this._core.scrollToLine(p)}clear(){this._core.clear()}write(p,u){this._core.write(p,u)}writeln(p,u){this._core.write(p),this._core.write(`\r
`,u)}paste(p){this._core.paste(p)}refresh(p,u){this._verifyIntegers(p,u),this._core.refresh(p,u)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(p){this._addonManager.loadAddon(this,p)}static get strings(){return o}_verifyIntegers(...p){for(const u of p)if(u===1/0||isNaN(u)||u%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...p){for(const u of p)if(u&&(u===1/0||isNaN(u)||u%1!=0||u<0))throw new Error("This API only accepts positive integers")}}S.Terminal=w})(),x})())}(ic)),ic.exports}var hE=uE();function dE(){const r=X.useRef(null),i=X.useRef(null),s=X.useRef(null),c=X.useRef(null);X.useEffect(()=>{async function S(){if(r.current)return;i.current||(i.current=new hE.Terminal({cursorBlink:!0,fontSize:14,theme:{background:"#1e1e1e",foreground:"#ffffff"}}),s.current&&i.current.open(s.current)),r.current=await Ho.boot();const o=await r.current.spawn("bash",{terminal:{cols:80,rows:25}});o.output.pipeTo(new WritableStream({write(a){i.current.write(a)}})),c.current=o.input.getWriter(),i.current.onData(a=>{c.current&&c.current.write(a)})}S()},[]);async function _(){r.current&&(await r.current.fs.writeFile("script.sh",`#!/bin/bash
echo "Hello from Web Bash!"
ls
`),i.current.writeln(`
 Created script.sh. Type 'cat script.sh' to view it.`))}async function x(){if(!r.current)return;await r.current.spawn("chmod",["+x","/home/user/script.sh"]),(await r.current.spawn("bash",["script.sh"])).output.pipeTo(new WritableStream({write(o){i.current.write(o)}}))}return ge.jsx("section",{children:ge.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-xl shadow-xl p-6",children:[ge.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-4",children:[ge.jsx("h2",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Bash Terminal"}),ge.jsxs("div",{className:"mt-2 md:mt-0 flex space-x-4",children:[ge.jsx("button",{onClick:_,className:"px-4 py-2 rounded-md bg-blue-500 hover:bg-blue-600 text-white font-semibold transition-colors duration-300",children:"Create Script"}),ge.jsx("button",{onClick:x,className:"px-4 py-2 rounded-md bg-green-500 hover:bg-green-600 text-white font-semibold transition-colors duration-300",children:"Run Script"})]})]}),ge.jsx("div",{ref:s,className:"w-fullborder border-gray-700 bg-black rounded-md shadow-inner"})]})})}const fE="/bitjourney/assets/image-CeNrqzaN.png",pE="/bitjourney/assets/bash-CfLfYOU1.png",mE="/bitjourney/assets/python-CXy__4tc.png",_E="/bitjourney/assets/javascript-_wTVfFQA.png",vE="/bitjourney/assets/java-yItU80K6.png",gE="/bitjourney/assets/c__-CaTChve7.png",yE="/bitjourney/assets/rust-RIHjc2rH.png";function SE(){return ge.jsxs("main",{className:"min-h-screen w-full bg-gradient-to-br from-white via-blue-50 to-blue-100 flex flex-col items-center",children:[ge.jsxs("header",{className:"relative w-full flex flex-col items-center justify-center text-center py-12 md:py-16",children:[ge.jsxs("div",{className:"flex flex-col items-center",children:[ge.jsx("img",{src:fE,alt:"BitJourney logo",className:"w-32 h-32 md:w-40 md:h-40 mb-4 drop-shadow-lg rounded-full"}),ge.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold text-gray-800 tracking-tight mb-2",children:"BitJourney"}),ge.jsxs("h3",{className:"text-xl md:text-2xl text-gray-600 font-medium",children:["The top ",ge.jsx("span",{className:"text-blue-500",children:"1"})," coding learning app"]})]}),ge.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-blue-100 rounded-full blur-xl opacity-50 animate-pulse"}),ge.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-blue-200 rounded-full blur-xl opacity-50 animate-pulse"})]}),ge.jsx("nav",{className:"mb-8",children:ge.jsx("ul",{className:"flex gap-8 text-lg font-medium",children:["Home","About","Courses"].map(r=>ge.jsx("li",{children:ge.jsx(Do,{to:`/${r.toLowerCase()==="home"?"":r.toLowerCase()}`,className:"text-gray-700 hover:text-blue-600 transition-colors duration-300",children:r})},r))})}),ge.jsx("section",{className:"w-full max-w-3xl px-4 mb-12 text-center",children:ge.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8 md:p-12",children:[ge.jsx("h4",{className:"text-2xl md:text-3xl font-semibold text-gray-800",children:"Start your journey today"}),ge.jsxs("p",{className:"text-gray-600 mt-3 leading-relaxed",children:["Learn to code and become a master in programming. Start your journey today with"," ",ge.jsx("span",{className:"font-bold text-blue-500",children:"BitJourney"}),"."]}),ge.jsx(Do,{to:"/courses",className:"inline-block bg-blue-500 text-white px-8 py-3 mt-6 rounded-full text-lg font-semibold hover:bg-blue-600 hover:shadow-lg transition-all duration-300",children:"Start now"})]})}),ge.jsxs("section",{className:"w-full max-w-5xl px-4 mb-12",children:[ge.jsx("h4",{className:"text-2xl md:text-3xl font-semibold text-gray-800 text-center mb-6",children:"Learn any language you want"}),ge.jsx("p",{className:"text-center text-gray-600 max-w-xl mx-auto mb-8",children:"Choose from a variety of languages and start learning today."}),ge.jsx("ul",{className:"flex flex-wrap justify-center gap-6",children:["Bash","Python","JavaScript","Java","C++","Rust"].map(r=>ge.jsx(Lp.li,{whileHover:{scale:1.05},className:"flex flex-col items-center bg-white shadow rounded-xl p-4 transition-transform",children:ge.jsxs("li",{className:"group relative flex flex-col items-center bg-white shadow-md rounded-xl p-4 transition-transform transform hover:-translate-y-1 hover:shadow-lg",children:[ge.jsx("img",{src:r==="Bash"?pE:r==="Python"?mE:r==="JavaScript"?_E:r==="Java"?vE:r==="C++"?gE:yE,alt:`${r} logo`,className:"w-12 h-12 mb-2"}),ge.jsx("h2",{className:"text-lg font-medium text-gray-800",children:r}),ge.jsx("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-blue-50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity blur-xl"})]},r)},r))})]}),ge.jsxs("section",{className:"w-full max-w-5xl px-4 mb-16",children:[ge.jsx("h4",{className:"text-2xl md:text-3xl font-semibold text-gray-800 text-center mb-6",children:"Learn from the best"}),ge.jsx("p",{className:"text-center text-gray-600 max-w-xl mx-auto mb-8",children:"Our courses are taught by the best instructors who will guide you through your journey."}),ge.jsx("ul",{className:"flex flex-wrap justify-center gap-8",children:[{name:"Noam Favier",image:"/teachers/noam.png"},{name:"Mathieu Kircher",image:"/teachers/mathieu.png"}].map(r=>ge.jsx(Lp.li,{whileHover:{scale:1.05},className:"flex flex-col items-center",children:ge.jsxs("li",{className:"flex flex-col items-center bg-white shadow-md rounded-xl p-6 transition-transform transform hover:-translate-y-1 hover:shadow-lg",children:[ge.jsx("img",{src:r.image,alt:r.name,className:"w-20 h-20 rounded-full mb-4"}),ge.jsx("h2",{className:"text-lg font-medium text-gray-800",children:r.name})]},r.name)},r.name))})]}),ge.jsx(dE,{}),ge.jsx("footer",{className:"w-full py-6 text-center bg-white shadow-inner",children:ge.jsxs("p",{className:"text-gray-500",children:[" ",new Date().getFullYear()," BitJourney. All rights reserved."]})})]})}function wE(){return ge.jsx(ey,{children:ge.jsx("div",{children:ge.jsx("main",{children:ge.jsx(P0,{children:ge.jsx(Wp,{path:"/",element:ge.jsx(SE,{})})})})})})}Hg.createRoot(document.getElementById("root")).render(ge.jsx(X.StrictMode,{children:ge.jsx(wE,{})}));
